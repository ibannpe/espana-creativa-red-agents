var M2=Object.defineProperty;var Cw=e=>{throw TypeError(e)};var D2=(e,t,r)=>t in e?M2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var jn=(e,t,r)=>D2(e,typeof t!="symbol"?t+"":t,r),Om=(e,t,r)=>t.has(e)||Cw("Cannot "+r);var E=(e,t,r)=>(Om(e,t,"read from private field"),r?r.call(e):t.get(e)),pe=(e,t,r)=>t.has(e)?Cw("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ne=(e,t,r,n)=>(Om(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Ae=(e,t,r)=>(Om(e,t,"access private method"),r);var rd=(e,t,r,n)=>({set _(s){ne(e,t,s,r)},get _(){return E(e,t,n)}});function L2(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();function S_(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function N_(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var C_={exports:{}},mf={},E_={exports:{}},Me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eu=Symbol.for("react.element"),$2=Symbol.for("react.portal"),F2=Symbol.for("react.fragment"),U2=Symbol.for("react.strict_mode"),z2=Symbol.for("react.profiler"),B2=Symbol.for("react.provider"),V2=Symbol.for("react.context"),q2=Symbol.for("react.forward_ref"),W2=Symbol.for("react.suspense"),H2=Symbol.for("react.memo"),K2=Symbol.for("react.lazy"),Ew=Symbol.iterator;function Q2(e){return e===null||typeof e!="object"?null:(e=Ew&&e[Ew]||e["@@iterator"],typeof e=="function"?e:null)}var k_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P_=Object.assign,R_={};function Dl(e,t,r){this.props=e,this.context=t,this.refs=R_,this.updater=r||k_}Dl.prototype.isReactComponent={};Dl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Dl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function T_(){}T_.prototype=Dl.prototype;function qv(e,t,r){this.props=e,this.context=t,this.refs=R_,this.updater=r||k_}var Wv=qv.prototype=new T_;Wv.constructor=qv;P_(Wv,Dl.prototype);Wv.isPureReactComponent=!0;var kw=Array.isArray,A_=Object.prototype.hasOwnProperty,Hv={current:null},O_={key:!0,ref:!0,__self:!0,__source:!0};function I_(e,t,r){var n,s={},a=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)A_.call(t,n)&&!O_.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Eu,type:e,key:a,ref:o,props:s,_owner:Hv.current}}function G2(e,t){return{$$typeof:Eu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Kv(e){return typeof e=="object"&&e!==null&&e.$$typeof===Eu}function Y2(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Pw=/\/+/g;function Im(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Y2(""+e.key):t.toString(36)}function Bd(e,t,r,n,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Eu:case $2:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+Im(o,0):n,kw(s)?(r="",e!=null&&(r=e.replace(Pw,"$&/")+"/"),Bd(s,t,r,"",function(u){return u})):s!=null&&(Kv(s)&&(s=G2(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Pw,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",kw(e))for(var l=0;l<e.length;l++){a=e[l];var c=n+Im(a,l);o+=Bd(a,t,r,c,s)}else if(c=Q2(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=n+Im(a,l++),o+=Bd(a,t,r,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function nd(e,t,r){if(e==null)return e;var n=[],s=0;return Bd(e,n,"","",function(a){return t.call(r,a,s++)}),n}function J2(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var gr={current:null},Vd={transition:null},X2={ReactCurrentDispatcher:gr,ReactCurrentBatchConfig:Vd,ReactCurrentOwner:Hv};function M_(){throw Error("act(...) is not supported in production builds of React.")}Me.Children={map:nd,forEach:function(e,t,r){nd(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return nd(e,function(){t++}),t},toArray:function(e){return nd(e,function(t){return t})||[]},only:function(e){if(!Kv(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Me.Component=Dl;Me.Fragment=F2;Me.Profiler=z2;Me.PureComponent=qv;Me.StrictMode=U2;Me.Suspense=W2;Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X2;Me.act=M_;Me.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=P_({},e.props),s=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=Hv.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)A_.call(t,c)&&!O_.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Eu,type:e.type,key:s,ref:a,props:n,_owner:o}};Me.createContext=function(e){return e={$$typeof:V2,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:B2,_context:e},e.Consumer=e};Me.createElement=I_;Me.createFactory=function(e){var t=I_.bind(null,e);return t.type=e,t};Me.createRef=function(){return{current:null}};Me.forwardRef=function(e){return{$$typeof:q2,render:e}};Me.isValidElement=Kv;Me.lazy=function(e){return{$$typeof:K2,_payload:{_status:-1,_result:e},_init:J2}};Me.memo=function(e,t){return{$$typeof:H2,type:e,compare:t===void 0?null:t}};Me.startTransition=function(e){var t=Vd.transition;Vd.transition={};try{e()}finally{Vd.transition=t}};Me.unstable_act=M_;Me.useCallback=function(e,t){return gr.current.useCallback(e,t)};Me.useContext=function(e){return gr.current.useContext(e)};Me.useDebugValue=function(){};Me.useDeferredValue=function(e){return gr.current.useDeferredValue(e)};Me.useEffect=function(e,t){return gr.current.useEffect(e,t)};Me.useId=function(){return gr.current.useId()};Me.useImperativeHandle=function(e,t,r){return gr.current.useImperativeHandle(e,t,r)};Me.useInsertionEffect=function(e,t){return gr.current.useInsertionEffect(e,t)};Me.useLayoutEffect=function(e,t){return gr.current.useLayoutEffect(e,t)};Me.useMemo=function(e,t){return gr.current.useMemo(e,t)};Me.useReducer=function(e,t,r){return gr.current.useReducer(e,t,r)};Me.useRef=function(e){return gr.current.useRef(e)};Me.useState=function(e){return gr.current.useState(e)};Me.useSyncExternalStore=function(e,t,r){return gr.current.useSyncExternalStore(e,t,r)};Me.useTransition=function(){return gr.current.useTransition()};Me.version="18.3.1";E_.exports=Me;var p=E_.exports;const U=S_(p),Qv=L2({__proto__:null,default:U},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z2=p,eA=Symbol.for("react.element"),tA=Symbol.for("react.fragment"),rA=Object.prototype.hasOwnProperty,nA=Z2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,sA={key:!0,ref:!0,__self:!0,__source:!0};function D_(e,t,r){var n,s={},a=null,o=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)rA.call(t,n)&&!sA.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:eA,type:e,key:a,ref:o,props:s,_owner:nA.current}}mf.Fragment=tA;mf.jsx=D_;mf.jsxs=D_;C_.exports=mf;var i=C_.exports,L_={exports:{}},Jr={},$_={exports:{}},F_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,A){var K=I.length;I.push(A);e:for(;0<K;){var ae=K-1>>>1,re=I[ae];if(0<s(re,A))I[ae]=A,I[K]=re,K=ae;else break e}}function r(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var A=I[0],K=I.pop();if(K!==A){I[0]=K;e:for(var ae=0,re=I.length,xe=re>>>1;ae<xe;){var ye=2*(ae+1)-1,qe=I[ye],Qe=ye+1,Y=I[Qe];if(0>s(qe,K))Qe<re&&0>s(Y,qe)?(I[ae]=Y,I[Qe]=K,ae=Qe):(I[ae]=qe,I[ye]=K,ae=ye);else if(Qe<re&&0>s(Y,K))I[ae]=Y,I[Qe]=K,ae=Qe;else break e}}return A}function s(I,A){var K=I.sortIndex-A.sortIndex;return K!==0?K:I.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,m=!1,w=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(I){for(var A=r(u);A!==null;){if(A.callback===null)n(u);else if(A.startTime<=I)n(u),A.sortIndex=A.expirationTime,t(c,A);else break;A=r(u)}}function j(I){if(g=!1,x(I),!w)if(r(c)!==null)w=!0,B(_);else{var A=r(u);A!==null&&ie(j,A.startTime-I)}}function _(I,A){w=!1,g&&(g=!1,b(C),C=-1),m=!0;var K=f;try{for(x(A),h=r(c);h!==null&&(!(h.expirationTime>A)||I&&!z());){var ae=h.callback;if(typeof ae=="function"){h.callback=null,f=h.priorityLevel;var re=ae(h.expirationTime<=A);A=e.unstable_now(),typeof re=="function"?h.callback=re:h===r(c)&&n(c),x(A)}else n(c);h=r(c)}if(h!==null)var xe=!0;else{var ye=r(u);ye!==null&&ie(j,ye.startTime-A),xe=!1}return xe}finally{h=null,f=K,m=!1}}var S=!1,N=null,C=-1,R=5,T=-1;function z(){return!(e.unstable_now()-T<R)}function D(){if(N!==null){var I=e.unstable_now();T=I;var A=!0;try{A=N(!0,I)}finally{A?V():(S=!1,N=null)}}else S=!1}var V;if(typeof y=="function")V=function(){y(D)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,q=F.port2;F.port1.onmessage=D,V=function(){q.postMessage(null)}}else V=function(){v(D,0)};function B(I){N=I,S||(S=!0,V())}function ie(I,A){C=v(function(){I(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){w||m||(w=!0,B(_))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(I){switch(f){case 1:case 2:case 3:var A=3;break;default:A=f}var K=f;f=A;try{return I()}finally{f=K}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,A){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var K=f;f=I;try{return A()}finally{f=K}},e.unstable_scheduleCallback=function(I,A,K){var ae=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ae+K:ae):K=ae,I){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=K+re,I={id:d++,callback:A,priorityLevel:I,startTime:K,expirationTime:re,sortIndex:-1},K>ae?(I.sortIndex=K,t(u,I),r(c)===null&&I===r(u)&&(g?(b(C),C=-1):g=!0,ie(j,K-ae))):(I.sortIndex=re,t(c,I),w||m||(w=!0,B(_))),I},e.unstable_shouldYield=z,e.unstable_wrapCallback=function(I){var A=f;return function(){var K=f;f=A;try{return I.apply(this,arguments)}finally{f=K}}}})(F_);$_.exports=F_;var aA=$_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iA=p,Gr=aA;function H(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var U_=new Set,qc={};function ao(e,t){gl(e,t),gl(e+"Capture",t)}function gl(e,t){for(qc[e]=t,e=0;e<t.length;e++)U_.add(t[e])}var Zs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fp=Object.prototype.hasOwnProperty,oA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Rw={},Tw={};function lA(e){return Fp.call(Tw,e)?!0:Fp.call(Rw,e)?!1:oA.test(e)?Tw[e]=!0:(Rw[e]=!0,!1)}function cA(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function uA(e,t,r,n){if(t===null||typeof t>"u"||cA(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function vr(e,t,r,n,s,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Zt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Zt[e]=new vr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Zt[t]=new vr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Zt[e]=new vr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Zt[e]=new vr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Zt[e]=new vr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Zt[e]=new vr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Zt[e]=new vr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Zt[e]=new vr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Zt[e]=new vr(e,5,!1,e.toLowerCase(),null,!1,!1)});var Gv=/[\-:]([a-z])/g;function Yv(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Gv,Yv);Zt[t]=new vr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Gv,Yv);Zt[t]=new vr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Gv,Yv);Zt[t]=new vr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Zt[e]=new vr(e,1,!1,e.toLowerCase(),null,!1,!1)});Zt.xlinkHref=new vr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Zt[e]=new vr(e,1,!1,e.toLowerCase(),null,!0,!0)});function Jv(e,t,r,n){var s=Zt.hasOwnProperty(t)?Zt[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(uA(t,r,s,n)&&(r=null),n||s===null?lA(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var ca=iA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sd=Symbol.for("react.element"),Io=Symbol.for("react.portal"),Mo=Symbol.for("react.fragment"),Xv=Symbol.for("react.strict_mode"),Up=Symbol.for("react.profiler"),z_=Symbol.for("react.provider"),B_=Symbol.for("react.context"),Zv=Symbol.for("react.forward_ref"),zp=Symbol.for("react.suspense"),Bp=Symbol.for("react.suspense_list"),ey=Symbol.for("react.memo"),_a=Symbol.for("react.lazy"),V_=Symbol.for("react.offscreen"),Aw=Symbol.iterator;function rc(e){return e===null||typeof e!="object"?null:(e=Aw&&e[Aw]||e["@@iterator"],typeof e=="function"?e:null)}var pt=Object.assign,Mm;function yc(e){if(Mm===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Mm=t&&t[1]||""}return`
`+Mm+e}var Dm=!1;function Lm(e,t){if(!e||Dm)return"";Dm=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=n.stack.split(`
`),o=s.length-1,l=a.length-1;1<=o&&0<=l&&s[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==a[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Dm=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?yc(e):""}function dA(e){switch(e.tag){case 5:return yc(e.type);case 16:return yc("Lazy");case 13:return yc("Suspense");case 19:return yc("SuspenseList");case 0:case 2:case 15:return e=Lm(e.type,!1),e;case 11:return e=Lm(e.type.render,!1),e;case 1:return e=Lm(e.type,!0),e;default:return""}}function Vp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Mo:return"Fragment";case Io:return"Portal";case Up:return"Profiler";case Xv:return"StrictMode";case zp:return"Suspense";case Bp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case B_:return(e.displayName||"Context")+".Consumer";case z_:return(e._context.displayName||"Context")+".Provider";case Zv:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ey:return t=e.displayName||null,t!==null?t:Vp(e.type)||"Memo";case _a:t=e._payload,e=e._init;try{return Vp(e(t))}catch{}}return null}function hA(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Vp(t);case 8:return t===Xv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ti(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function q_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function fA(e){var t=q_(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ad(e){e._valueTracker||(e._valueTracker=fA(e))}function W_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=q_(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function mh(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function qp(e,t){var r=t.checked;return pt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Ow(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ti(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function H_(e,t){t=t.checked,t!=null&&Jv(e,"checked",t,!1)}function Wp(e,t){H_(e,t);var r=ti(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Hp(e,t.type,r):t.hasOwnProperty("defaultValue")&&Hp(e,t.type,ti(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Iw(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Hp(e,t,r){(t!=="number"||mh(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var xc=Array.isArray;function Ho(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ti(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Kp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(H(91));return pt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Mw(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(H(92));if(xc(r)){if(1<r.length)throw Error(H(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ti(r)}}function K_(e,t){var r=ti(t.value),n=ti(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Dw(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Q_(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Q_(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var id,G_=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(id=id||document.createElement("div"),id.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=id.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Wc(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ec={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mA=["Webkit","ms","Moz","O"];Object.keys(Ec).forEach(function(e){mA.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ec[t]=Ec[e]})});function Y_(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ec.hasOwnProperty(e)&&Ec[e]?(""+t).trim():t+"px"}function J_(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Y_(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var pA=pt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gp(e,t){if(t){if(pA[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(H(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(H(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(H(61))}if(t.style!=null&&typeof t.style!="object")throw Error(H(62))}}function Yp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jp=null;function ty(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xp=null,Ko=null,Qo=null;function Lw(e){if(e=Ru(e)){if(typeof Xp!="function")throw Error(H(280));var t=e.stateNode;t&&(t=xf(t),Xp(e.stateNode,e.type,t))}}function X_(e){Ko?Qo?Qo.push(e):Qo=[e]:Ko=e}function Z_(){if(Ko){var e=Ko,t=Qo;if(Qo=Ko=null,Lw(e),t)for(e=0;e<t.length;e++)Lw(t[e])}}function eS(e,t){return e(t)}function tS(){}var $m=!1;function rS(e,t,r){if($m)return e(t,r);$m=!0;try{return eS(e,t,r)}finally{$m=!1,(Ko!==null||Qo!==null)&&(tS(),Z_())}}function Hc(e,t){var r=e.stateNode;if(r===null)return null;var n=xf(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(H(231,t,typeof r));return r}var Zp=!1;if(Zs)try{var nc={};Object.defineProperty(nc,"passive",{get:function(){Zp=!0}}),window.addEventListener("test",nc,nc),window.removeEventListener("test",nc,nc)}catch{Zp=!1}function gA(e,t,r,n,s,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var kc=!1,ph=null,gh=!1,eg=null,vA={onError:function(e){kc=!0,ph=e}};function yA(e,t,r,n,s,a,o,l,c){kc=!1,ph=null,gA.apply(vA,arguments)}function xA(e,t,r,n,s,a,o,l,c){if(yA.apply(this,arguments),kc){if(kc){var u=ph;kc=!1,ph=null}else throw Error(H(198));gh||(gh=!0,eg=u)}}function io(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function nS(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function $w(e){if(io(e)!==e)throw Error(H(188))}function wA(e){var t=e.alternate;if(!t){if(t=io(e),t===null)throw Error(H(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return $w(s),e;if(a===n)return $w(s),t;a=a.sibling}throw Error(H(188))}if(r.return!==n.return)r=s,n=a;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=a;break}if(l===n){o=!0,n=s,r=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===r){o=!0,r=a,n=s;break}if(l===n){o=!0,n=a,r=s;break}l=l.sibling}if(!o)throw Error(H(189))}}if(r.alternate!==n)throw Error(H(190))}if(r.tag!==3)throw Error(H(188));return r.stateNode.current===r?e:t}function sS(e){return e=wA(e),e!==null?aS(e):null}function aS(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=aS(e);if(t!==null)return t;e=e.sibling}return null}var iS=Gr.unstable_scheduleCallback,Fw=Gr.unstable_cancelCallback,bA=Gr.unstable_shouldYield,jA=Gr.unstable_requestPaint,Et=Gr.unstable_now,_A=Gr.unstable_getCurrentPriorityLevel,ry=Gr.unstable_ImmediatePriority,oS=Gr.unstable_UserBlockingPriority,vh=Gr.unstable_NormalPriority,SA=Gr.unstable_LowPriority,lS=Gr.unstable_IdlePriority,pf=null,ms=null;function NA(e){if(ms&&typeof ms.onCommitFiberRoot=="function")try{ms.onCommitFiberRoot(pf,e,void 0,(e.current.flags&128)===128)}catch{}}var Fn=Math.clz32?Math.clz32:kA,CA=Math.log,EA=Math.LN2;function kA(e){return e>>>=0,e===0?32:31-(CA(e)/EA|0)|0}var od=64,ld=4194304;function wc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function yh(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,a=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=wc(l):(a&=o,a!==0&&(n=wc(a)))}else o=r&~s,o!==0?n=wc(o):a!==0&&(n=wc(a));if(n===0)return 0;if(t!==0&&t!==n&&(t&s)===0&&(s=n&-n,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if((n&4)!==0&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Fn(t),s=1<<r,n|=e[r],t&=~s;return n}function PA(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function RA(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Fn(a),l=1<<o,c=s[o];c===-1?((l&r)===0||(l&n)!==0)&&(s[o]=PA(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function tg(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function cS(){var e=od;return od<<=1,(od&4194240)===0&&(od=64),e}function Fm(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ku(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Fn(t),e[t]=r}function TA(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Fn(r),a=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~a}}function ny(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Fn(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Xe=0;function uS(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var dS,sy,hS,fS,mS,rg=!1,cd=[],za=null,Ba=null,Va=null,Kc=new Map,Qc=new Map,Ca=[],AA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Uw(e,t){switch(e){case"focusin":case"focusout":za=null;break;case"dragenter":case"dragleave":Ba=null;break;case"mouseover":case"mouseout":Va=null;break;case"pointerover":case"pointerout":Kc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qc.delete(t.pointerId)}}function sc(e,t,r,n,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},t!==null&&(t=Ru(t),t!==null&&sy(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function OA(e,t,r,n,s){switch(t){case"focusin":return za=sc(za,e,t,r,n,s),!0;case"dragenter":return Ba=sc(Ba,e,t,r,n,s),!0;case"mouseover":return Va=sc(Va,e,t,r,n,s),!0;case"pointerover":var a=s.pointerId;return Kc.set(a,sc(Kc.get(a)||null,e,t,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,Qc.set(a,sc(Qc.get(a)||null,e,t,r,n,s)),!0}return!1}function pS(e){var t=Ni(e.target);if(t!==null){var r=io(t);if(r!==null){if(t=r.tag,t===13){if(t=nS(r),t!==null){e.blockedOn=t,mS(e.priority,function(){hS(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function qd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=ng(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Jp=n,r.target.dispatchEvent(n),Jp=null}else return t=Ru(r),t!==null&&sy(t),e.blockedOn=r,!1;t.shift()}return!0}function zw(e,t,r){qd(e)&&r.delete(t)}function IA(){rg=!1,za!==null&&qd(za)&&(za=null),Ba!==null&&qd(Ba)&&(Ba=null),Va!==null&&qd(Va)&&(Va=null),Kc.forEach(zw),Qc.forEach(zw)}function ac(e,t){e.blockedOn===t&&(e.blockedOn=null,rg||(rg=!0,Gr.unstable_scheduleCallback(Gr.unstable_NormalPriority,IA)))}function Gc(e){function t(s){return ac(s,e)}if(0<cd.length){ac(cd[0],e);for(var r=1;r<cd.length;r++){var n=cd[r];n.blockedOn===e&&(n.blockedOn=null)}}for(za!==null&&ac(za,e),Ba!==null&&ac(Ba,e),Va!==null&&ac(Va,e),Kc.forEach(t),Qc.forEach(t),r=0;r<Ca.length;r++)n=Ca[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ca.length&&(r=Ca[0],r.blockedOn===null);)pS(r),r.blockedOn===null&&Ca.shift()}var Go=ca.ReactCurrentBatchConfig,xh=!0;function MA(e,t,r,n){var s=Xe,a=Go.transition;Go.transition=null;try{Xe=1,ay(e,t,r,n)}finally{Xe=s,Go.transition=a}}function DA(e,t,r,n){var s=Xe,a=Go.transition;Go.transition=null;try{Xe=4,ay(e,t,r,n)}finally{Xe=s,Go.transition=a}}function ay(e,t,r,n){if(xh){var s=ng(e,t,r,n);if(s===null)Gm(e,t,n,wh,r),Uw(e,n);else if(OA(s,e,t,r,n))n.stopPropagation();else if(Uw(e,n),t&4&&-1<AA.indexOf(e)){for(;s!==null;){var a=Ru(s);if(a!==null&&dS(a),a=ng(e,t,r,n),a===null&&Gm(e,t,n,wh,r),a===s)break;s=a}s!==null&&n.stopPropagation()}else Gm(e,t,n,null,r)}}var wh=null;function ng(e,t,r,n){if(wh=null,e=ty(n),e=Ni(e),e!==null)if(t=io(e),t===null)e=null;else if(r=t.tag,r===13){if(e=nS(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return wh=e,null}function gS(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_A()){case ry:return 1;case oS:return 4;case vh:case SA:return 16;case lS:return 536870912;default:return 16}default:return 16}}var $a=null,iy=null,Wd=null;function vS(){if(Wd)return Wd;var e,t=iy,r=t.length,n,s="value"in $a?$a.value:$a.textContent,a=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[a-n];n++);return Wd=s.slice(e,1<n?1-n:void 0)}function Hd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ud(){return!0}function Bw(){return!1}function Xr(e){function t(r,n,s,a,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?ud:Bw,this.isPropagationStopped=Bw,this}return pt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ud)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ud)},persist:function(){},isPersistent:ud}),t}var Ll={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oy=Xr(Ll),Pu=pt({},Ll,{view:0,detail:0}),LA=Xr(Pu),Um,zm,ic,gf=pt({},Pu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ly,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ic&&(ic&&e.type==="mousemove"?(Um=e.screenX-ic.screenX,zm=e.screenY-ic.screenY):zm=Um=0,ic=e),Um)},movementY:function(e){return"movementY"in e?e.movementY:zm}}),Vw=Xr(gf),$A=pt({},gf,{dataTransfer:0}),FA=Xr($A),UA=pt({},Pu,{relatedTarget:0}),Bm=Xr(UA),zA=pt({},Ll,{animationName:0,elapsedTime:0,pseudoElement:0}),BA=Xr(zA),VA=pt({},Ll,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),qA=Xr(VA),WA=pt({},Ll,{data:0}),qw=Xr(WA),HA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},KA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},QA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function GA(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=QA[e])?!!t[e]:!1}function ly(){return GA}var YA=pt({},Pu,{key:function(e){if(e.key){var t=HA[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Hd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?KA[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ly,charCode:function(e){return e.type==="keypress"?Hd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Hd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),JA=Xr(YA),XA=pt({},gf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ww=Xr(XA),ZA=pt({},Pu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ly}),eO=Xr(ZA),tO=pt({},Ll,{propertyName:0,elapsedTime:0,pseudoElement:0}),rO=Xr(tO),nO=pt({},gf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),sO=Xr(nO),aO=[9,13,27,32],cy=Zs&&"CompositionEvent"in window,Pc=null;Zs&&"documentMode"in document&&(Pc=document.documentMode);var iO=Zs&&"TextEvent"in window&&!Pc,yS=Zs&&(!cy||Pc&&8<Pc&&11>=Pc),Hw=" ",Kw=!1;function xS(e,t){switch(e){case"keyup":return aO.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wS(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Do=!1;function oO(e,t){switch(e){case"compositionend":return wS(t);case"keypress":return t.which!==32?null:(Kw=!0,Hw);case"textInput":return e=t.data,e===Hw&&Kw?null:e;default:return null}}function lO(e,t){if(Do)return e==="compositionend"||!cy&&xS(e,t)?(e=vS(),Wd=iy=$a=null,Do=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return yS&&t.locale!=="ko"?null:t.data;default:return null}}var cO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!cO[e.type]:t==="textarea"}function bS(e,t,r,n){X_(n),t=bh(t,"onChange"),0<t.length&&(r=new oy("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Rc=null,Yc=null;function uO(e){AS(e,0)}function vf(e){var t=Fo(e);if(W_(t))return e}function dO(e,t){if(e==="change")return t}var jS=!1;if(Zs){var Vm;if(Zs){var qm="oninput"in document;if(!qm){var Gw=document.createElement("div");Gw.setAttribute("oninput","return;"),qm=typeof Gw.oninput=="function"}Vm=qm}else Vm=!1;jS=Vm&&(!document.documentMode||9<document.documentMode)}function Yw(){Rc&&(Rc.detachEvent("onpropertychange",_S),Yc=Rc=null)}function _S(e){if(e.propertyName==="value"&&vf(Yc)){var t=[];bS(t,Yc,e,ty(e)),rS(uO,t)}}function hO(e,t,r){e==="focusin"?(Yw(),Rc=t,Yc=r,Rc.attachEvent("onpropertychange",_S)):e==="focusout"&&Yw()}function fO(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return vf(Yc)}function mO(e,t){if(e==="click")return vf(t)}function pO(e,t){if(e==="input"||e==="change")return vf(t)}function gO(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Vn=typeof Object.is=="function"?Object.is:gO;function Jc(e,t){if(Vn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Fp.call(t,s)||!Vn(e[s],t[s]))return!1}return!0}function Jw(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xw(e,t){var r=Jw(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Jw(r)}}function SS(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?SS(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function NS(){for(var e=window,t=mh();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=mh(e.document)}return t}function uy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function vO(e){var t=NS(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&SS(r.ownerDocument.documentElement,r)){if(n!==null&&uy(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=n.end===void 0?a:Math.min(n.end,s),!e.extend&&a>n&&(s=n,n=a,a=s),s=Xw(r,a);var o=Xw(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var yO=Zs&&"documentMode"in document&&11>=document.documentMode,Lo=null,sg=null,Tc=null,ag=!1;function Zw(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ag||Lo==null||Lo!==mh(n)||(n=Lo,"selectionStart"in n&&uy(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Tc&&Jc(Tc,n)||(Tc=n,n=bh(sg,"onSelect"),0<n.length&&(t=new oy("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Lo)))}function dd(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var $o={animationend:dd("Animation","AnimationEnd"),animationiteration:dd("Animation","AnimationIteration"),animationstart:dd("Animation","AnimationStart"),transitionend:dd("Transition","TransitionEnd")},Wm={},CS={};Zs&&(CS=document.createElement("div").style,"AnimationEvent"in window||(delete $o.animationend.animation,delete $o.animationiteration.animation,delete $o.animationstart.animation),"TransitionEvent"in window||delete $o.transitionend.transition);function yf(e){if(Wm[e])return Wm[e];if(!$o[e])return e;var t=$o[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in CS)return Wm[e]=t[r];return e}var ES=yf("animationend"),kS=yf("animationiteration"),PS=yf("animationstart"),RS=yf("transitionend"),TS=new Map,e0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function oi(e,t){TS.set(e,t),ao(t,[e])}for(var Hm=0;Hm<e0.length;Hm++){var Km=e0[Hm],xO=Km.toLowerCase(),wO=Km[0].toUpperCase()+Km.slice(1);oi(xO,"on"+wO)}oi(ES,"onAnimationEnd");oi(kS,"onAnimationIteration");oi(PS,"onAnimationStart");oi("dblclick","onDoubleClick");oi("focusin","onFocus");oi("focusout","onBlur");oi(RS,"onTransitionEnd");gl("onMouseEnter",["mouseout","mouseover"]);gl("onMouseLeave",["mouseout","mouseover"]);gl("onPointerEnter",["pointerout","pointerover"]);gl("onPointerLeave",["pointerout","pointerover"]);ao("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ao("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ao("onBeforeInput",["compositionend","keypress","textInput","paste"]);ao("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ao("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ao("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bO=new Set("cancel close invalid load scroll toggle".split(" ").concat(bc));function t0(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,xA(n,t,void 0,e),e.currentTarget=null}function AS(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;t0(s,l,u),a=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;t0(s,l,u),a=c}}}if(gh)throw e=eg,gh=!1,eg=null,e}function ot(e,t){var r=t[ug];r===void 0&&(r=t[ug]=new Set);var n=e+"__bubble";r.has(n)||(OS(t,e,2,!1),r.add(n))}function Qm(e,t,r){var n=0;t&&(n|=4),OS(r,e,n,t)}var hd="_reactListening"+Math.random().toString(36).slice(2);function Xc(e){if(!e[hd]){e[hd]=!0,U_.forEach(function(r){r!=="selectionchange"&&(bO.has(r)||Qm(r,!1,e),Qm(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[hd]||(t[hd]=!0,Qm("selectionchange",!1,t))}}function OS(e,t,r,n){switch(gS(t)){case 1:var s=MA;break;case 4:s=DA;break;default:s=ay}r=s.bind(null,t,r,e),s=void 0,!Zp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Gm(e,t,r,n,s){var a=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Ni(l),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}l=l.parentNode}}n=n.return}rS(function(){var u=a,d=ty(r),h=[];e:{var f=TS.get(e);if(f!==void 0){var m=oy,w=e;switch(e){case"keypress":if(Hd(r)===0)break e;case"keydown":case"keyup":m=JA;break;case"focusin":w="focus",m=Bm;break;case"focusout":w="blur",m=Bm;break;case"beforeblur":case"afterblur":m=Bm;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Vw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=FA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=eO;break;case ES:case kS:case PS:m=BA;break;case RS:m=rO;break;case"scroll":m=LA;break;case"wheel":m=sO;break;case"copy":case"cut":case"paste":m=qA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Ww}var g=(t&4)!==0,v=!g&&e==="scroll",b=g?f!==null?f+"Capture":null:f;g=[];for(var y=u,x;y!==null;){x=y;var j=x.stateNode;if(x.tag===5&&j!==null&&(x=j,b!==null&&(j=Hc(y,b),j!=null&&g.push(Zc(y,j,x)))),v)break;y=y.return}0<g.length&&(f=new m(f,w,null,r,d),h.push({event:f,listeners:g}))}}if((t&7)===0){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&r!==Jp&&(w=r.relatedTarget||r.fromElement)&&(Ni(w)||w[ea]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(w=r.relatedTarget||r.toElement,m=u,w=w?Ni(w):null,w!==null&&(v=io(w),w!==v||w.tag!==5&&w.tag!==6)&&(w=null)):(m=null,w=u),m!==w)){if(g=Vw,j="onMouseLeave",b="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(g=Ww,j="onPointerLeave",b="onPointerEnter",y="pointer"),v=m==null?f:Fo(m),x=w==null?f:Fo(w),f=new g(j,y+"leave",m,r,d),f.target=v,f.relatedTarget=x,j=null,Ni(d)===u&&(g=new g(b,y+"enter",w,r,d),g.target=x,g.relatedTarget=v,j=g),v=j,m&&w)t:{for(g=m,b=w,y=0,x=g;x;x=yo(x))y++;for(x=0,j=b;j;j=yo(j))x++;for(;0<y-x;)g=yo(g),y--;for(;0<x-y;)b=yo(b),x--;for(;y--;){if(g===b||b!==null&&g===b.alternate)break t;g=yo(g),b=yo(b)}g=null}else g=null;m!==null&&r0(h,f,m,g,!1),w!==null&&v!==null&&r0(h,v,w,g,!0)}}e:{if(f=u?Fo(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var _=dO;else if(Qw(f))if(jS)_=pO;else{_=fO;var S=hO}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(_=mO);if(_&&(_=_(e,u))){bS(h,_,r,d);break e}S&&S(e,f,u),e==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&Hp(f,"number",f.value)}switch(S=u?Fo(u):window,e){case"focusin":(Qw(S)||S.contentEditable==="true")&&(Lo=S,sg=u,Tc=null);break;case"focusout":Tc=sg=Lo=null;break;case"mousedown":ag=!0;break;case"contextmenu":case"mouseup":case"dragend":ag=!1,Zw(h,r,d);break;case"selectionchange":if(yO)break;case"keydown":case"keyup":Zw(h,r,d)}var N;if(cy)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Do?xS(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(yS&&r.locale!=="ko"&&(Do||C!=="onCompositionStart"?C==="onCompositionEnd"&&Do&&(N=vS()):($a=d,iy="value"in $a?$a.value:$a.textContent,Do=!0)),S=bh(u,C),0<S.length&&(C=new qw(C,e,null,r,d),h.push({event:C,listeners:S}),N?C.data=N:(N=wS(r),N!==null&&(C.data=N)))),(N=iO?oO(e,r):lO(e,r))&&(u=bh(u,"onBeforeInput"),0<u.length&&(d=new qw("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=N))}AS(h,t)})}function Zc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function bh(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=Hc(e,r),a!=null&&n.unshift(Zc(e,a,s)),a=Hc(e,t),a!=null&&n.push(Zc(e,a,s))),e=e.return}return n}function yo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function r0(e,t,r,n,s){for(var a=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=Hc(r,a),c!=null&&o.unshift(Zc(r,c,l))):s||(c=Hc(r,a),c!=null&&o.push(Zc(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var jO=/\r\n?/g,_O=/\u0000|\uFFFD/g;function n0(e){return(typeof e=="string"?e:""+e).replace(jO,`
`).replace(_O,"")}function fd(e,t,r){if(t=n0(t),n0(e)!==t&&r)throw Error(H(425))}function jh(){}var ig=null,og=null;function lg(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var cg=typeof setTimeout=="function"?setTimeout:void 0,SO=typeof clearTimeout=="function"?clearTimeout:void 0,s0=typeof Promise=="function"?Promise:void 0,NO=typeof queueMicrotask=="function"?queueMicrotask:typeof s0<"u"?function(e){return s0.resolve(null).then(e).catch(CO)}:cg;function CO(e){setTimeout(function(){throw e})}function Ym(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Gc(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Gc(t)}function qa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function a0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var $l=Math.random().toString(36).slice(2),us="__reactFiber$"+$l,eu="__reactProps$"+$l,ea="__reactContainer$"+$l,ug="__reactEvents$"+$l,EO="__reactListeners$"+$l,kO="__reactHandles$"+$l;function Ni(e){var t=e[us];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ea]||r[us]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=a0(e);e!==null;){if(r=e[us])return r;e=a0(e)}return t}e=r,r=e.parentNode}return null}function Ru(e){return e=e[us]||e[ea],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Fo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(H(33))}function xf(e){return e[eu]||null}var dg=[],Uo=-1;function li(e){return{current:e}}function lt(e){0>Uo||(e.current=dg[Uo],dg[Uo]=null,Uo--)}function at(e,t){Uo++,dg[Uo]=e.current,e.current=t}var ri={},ir=li(ri),Rr=li(!1),qi=ri;function vl(e,t){var r=e.type.contextTypes;if(!r)return ri;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Tr(e){return e=e.childContextTypes,e!=null}function _h(){lt(Rr),lt(ir)}function i0(e,t,r){if(ir.current!==ri)throw Error(H(168));at(ir,t),at(Rr,r)}function IS(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(H(108,hA(e)||"Unknown",s));return pt({},r,n)}function Sh(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ri,qi=ir.current,at(ir,e),at(Rr,Rr.current),!0}function o0(e,t,r){var n=e.stateNode;if(!n)throw Error(H(169));r?(e=IS(e,t,qi),n.__reactInternalMemoizedMergedChildContext=e,lt(Rr),lt(ir),at(ir,e)):lt(Rr),at(Rr,r)}var Ls=null,wf=!1,Jm=!1;function MS(e){Ls===null?Ls=[e]:Ls.push(e)}function PO(e){wf=!0,MS(e)}function ci(){if(!Jm&&Ls!==null){Jm=!0;var e=0,t=Xe;try{var r=Ls;for(Xe=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ls=null,wf=!1}catch(s){throw Ls!==null&&(Ls=Ls.slice(e+1)),iS(ry,ci),s}finally{Xe=t,Jm=!1}}return null}var zo=[],Bo=0,Nh=null,Ch=0,tn=[],rn=0,Wi=null,Vs=1,qs="";function wi(e,t){zo[Bo++]=Ch,zo[Bo++]=Nh,Nh=e,Ch=t}function DS(e,t,r){tn[rn++]=Vs,tn[rn++]=qs,tn[rn++]=Wi,Wi=e;var n=Vs;e=qs;var s=32-Fn(n)-1;n&=~(1<<s),r+=1;var a=32-Fn(t)+s;if(30<a){var o=s-s%5;a=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Vs=1<<32-Fn(t)+s|r<<s|n,qs=a+e}else Vs=1<<a|r<<s|n,qs=e}function dy(e){e.return!==null&&(wi(e,1),DS(e,1,0))}function hy(e){for(;e===Nh;)Nh=zo[--Bo],zo[Bo]=null,Ch=zo[--Bo],zo[Bo]=null;for(;e===Wi;)Wi=tn[--rn],tn[rn]=null,qs=tn[--rn],tn[rn]=null,Vs=tn[--rn],tn[rn]=null}var Kr=null,Hr=null,ut=!1,Dn=null;function LS(e,t){var r=an(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function l0(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Kr=e,Hr=qa(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Kr=e,Hr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Wi!==null?{id:Vs,overflow:qs}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=an(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Kr=e,Hr=null,!0):!1;default:return!1}}function hg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function fg(e){if(ut){var t=Hr;if(t){var r=t;if(!l0(e,t)){if(hg(e))throw Error(H(418));t=qa(r.nextSibling);var n=Kr;t&&l0(e,t)?LS(n,r):(e.flags=e.flags&-4097|2,ut=!1,Kr=e)}}else{if(hg(e))throw Error(H(418));e.flags=e.flags&-4097|2,ut=!1,Kr=e}}}function c0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Kr=e}function md(e){if(e!==Kr)return!1;if(!ut)return c0(e),ut=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!lg(e.type,e.memoizedProps)),t&&(t=Hr)){if(hg(e))throw $S(),Error(H(418));for(;t;)LS(e,t),t=qa(t.nextSibling)}if(c0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(H(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Hr=qa(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Hr=null}}else Hr=Kr?qa(e.stateNode.nextSibling):null;return!0}function $S(){for(var e=Hr;e;)e=qa(e.nextSibling)}function yl(){Hr=Kr=null,ut=!1}function fy(e){Dn===null?Dn=[e]:Dn.push(e)}var RO=ca.ReactCurrentBatchConfig;function oc(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(H(309));var n=r.stateNode}if(!n)throw Error(H(147,e));var s=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=s.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(H(284));if(!r._owner)throw Error(H(290,e))}return e}function pd(e,t){throw e=Object.prototype.toString.call(t),Error(H(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function u0(e){var t=e._init;return t(e._payload)}function FS(e){function t(b,y){if(e){var x=b.deletions;x===null?(b.deletions=[y],b.flags|=16):x.push(y)}}function r(b,y){if(!e)return null;for(;y!==null;)t(b,y),y=y.sibling;return null}function n(b,y){for(b=new Map;y!==null;)y.key!==null?b.set(y.key,y):b.set(y.index,y),y=y.sibling;return b}function s(b,y){return b=Qa(b,y),b.index=0,b.sibling=null,b}function a(b,y,x){return b.index=x,e?(x=b.alternate,x!==null?(x=x.index,x<y?(b.flags|=2,y):x):(b.flags|=2,y)):(b.flags|=1048576,y)}function o(b){return e&&b.alternate===null&&(b.flags|=2),b}function l(b,y,x,j){return y===null||y.tag!==6?(y=sp(x,b.mode,j),y.return=b,y):(y=s(y,x),y.return=b,y)}function c(b,y,x,j){var _=x.type;return _===Mo?d(b,y,x.props.children,j,x.key):y!==null&&(y.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===_a&&u0(_)===y.type)?(j=s(y,x.props),j.ref=oc(b,y,x),j.return=b,j):(j=Zd(x.type,x.key,x.props,null,b.mode,j),j.ref=oc(b,y,x),j.return=b,j)}function u(b,y,x,j){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=ap(x,b.mode,j),y.return=b,y):(y=s(y,x.children||[]),y.return=b,y)}function d(b,y,x,j,_){return y===null||y.tag!==7?(y=Bi(x,b.mode,j,_),y.return=b,y):(y=s(y,x),y.return=b,y)}function h(b,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=sp(""+y,b.mode,x),y.return=b,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case sd:return x=Zd(y.type,y.key,y.props,null,b.mode,x),x.ref=oc(b,null,y),x.return=b,x;case Io:return y=ap(y,b.mode,x),y.return=b,y;case _a:var j=y._init;return h(b,j(y._payload),x)}if(xc(y)||rc(y))return y=Bi(y,b.mode,x,null),y.return=b,y;pd(b,y)}return null}function f(b,y,x,j){var _=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return _!==null?null:l(b,y,""+x,j);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case sd:return x.key===_?c(b,y,x,j):null;case Io:return x.key===_?u(b,y,x,j):null;case _a:return _=x._init,f(b,y,_(x._payload),j)}if(xc(x)||rc(x))return _!==null?null:d(b,y,x,j,null);pd(b,x)}return null}function m(b,y,x,j,_){if(typeof j=="string"&&j!==""||typeof j=="number")return b=b.get(x)||null,l(y,b,""+j,_);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case sd:return b=b.get(j.key===null?x:j.key)||null,c(y,b,j,_);case Io:return b=b.get(j.key===null?x:j.key)||null,u(y,b,j,_);case _a:var S=j._init;return m(b,y,x,S(j._payload),_)}if(xc(j)||rc(j))return b=b.get(x)||null,d(y,b,j,_,null);pd(y,j)}return null}function w(b,y,x,j){for(var _=null,S=null,N=y,C=y=0,R=null;N!==null&&C<x.length;C++){N.index>C?(R=N,N=null):R=N.sibling;var T=f(b,N,x[C],j);if(T===null){N===null&&(N=R);break}e&&N&&T.alternate===null&&t(b,N),y=a(T,y,C),S===null?_=T:S.sibling=T,S=T,N=R}if(C===x.length)return r(b,N),ut&&wi(b,C),_;if(N===null){for(;C<x.length;C++)N=h(b,x[C],j),N!==null&&(y=a(N,y,C),S===null?_=N:S.sibling=N,S=N);return ut&&wi(b,C),_}for(N=n(b,N);C<x.length;C++)R=m(N,b,C,x[C],j),R!==null&&(e&&R.alternate!==null&&N.delete(R.key===null?C:R.key),y=a(R,y,C),S===null?_=R:S.sibling=R,S=R);return e&&N.forEach(function(z){return t(b,z)}),ut&&wi(b,C),_}function g(b,y,x,j){var _=rc(x);if(typeof _!="function")throw Error(H(150));if(x=_.call(x),x==null)throw Error(H(151));for(var S=_=null,N=y,C=y=0,R=null,T=x.next();N!==null&&!T.done;C++,T=x.next()){N.index>C?(R=N,N=null):R=N.sibling;var z=f(b,N,T.value,j);if(z===null){N===null&&(N=R);break}e&&N&&z.alternate===null&&t(b,N),y=a(z,y,C),S===null?_=z:S.sibling=z,S=z,N=R}if(T.done)return r(b,N),ut&&wi(b,C),_;if(N===null){for(;!T.done;C++,T=x.next())T=h(b,T.value,j),T!==null&&(y=a(T,y,C),S===null?_=T:S.sibling=T,S=T);return ut&&wi(b,C),_}for(N=n(b,N);!T.done;C++,T=x.next())T=m(N,b,C,T.value,j),T!==null&&(e&&T.alternate!==null&&N.delete(T.key===null?C:T.key),y=a(T,y,C),S===null?_=T:S.sibling=T,S=T);return e&&N.forEach(function(D){return t(b,D)}),ut&&wi(b,C),_}function v(b,y,x,j){if(typeof x=="object"&&x!==null&&x.type===Mo&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case sd:e:{for(var _=x.key,S=y;S!==null;){if(S.key===_){if(_=x.type,_===Mo){if(S.tag===7){r(b,S.sibling),y=s(S,x.props.children),y.return=b,b=y;break e}}else if(S.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===_a&&u0(_)===S.type){r(b,S.sibling),y=s(S,x.props),y.ref=oc(b,S,x),y.return=b,b=y;break e}r(b,S);break}else t(b,S);S=S.sibling}x.type===Mo?(y=Bi(x.props.children,b.mode,j,x.key),y.return=b,b=y):(j=Zd(x.type,x.key,x.props,null,b.mode,j),j.ref=oc(b,y,x),j.return=b,b=j)}return o(b);case Io:e:{for(S=x.key;y!==null;){if(y.key===S)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){r(b,y.sibling),y=s(y,x.children||[]),y.return=b,b=y;break e}else{r(b,y);break}else t(b,y);y=y.sibling}y=ap(x,b.mode,j),y.return=b,b=y}return o(b);case _a:return S=x._init,v(b,y,S(x._payload),j)}if(xc(x))return w(b,y,x,j);if(rc(x))return g(b,y,x,j);pd(b,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(r(b,y.sibling),y=s(y,x),y.return=b,b=y):(r(b,y),y=sp(x,b.mode,j),y.return=b,b=y),o(b)):r(b,y)}return v}var xl=FS(!0),US=FS(!1),Eh=li(null),kh=null,Vo=null,my=null;function py(){my=Vo=kh=null}function gy(e){var t=Eh.current;lt(Eh),e._currentValue=t}function mg(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Yo(e,t){kh=e,my=Vo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Pr=!0),e.firstContext=null)}function cn(e){var t=e._currentValue;if(my!==e)if(e={context:e,memoizedValue:t,next:null},Vo===null){if(kh===null)throw Error(H(308));Vo=e,kh.dependencies={lanes:0,firstContext:e}}else Vo=Vo.next=e;return t}var Ci=null;function vy(e){Ci===null?Ci=[e]:Ci.push(e)}function zS(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,vy(t)):(r.next=s.next,s.next=r),t.interleaved=r,ta(e,n)}function ta(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Sa=!1;function yy(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function BS(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ks(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Wa(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,(We&2)!==0){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,ta(e,r)}return s=n.interleaved,s===null?(t.next=t,vy(n)):(t.next=s.next,s.next=t),n.interleaved=t,ta(e,r)}function Kd(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,ny(e,r)}}function d0(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?s=a=t:a=a.next=t}else s=a=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ph(e,t,r,n){var s=e.updateQueue;Sa=!1;var a=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var h=s.baseState;o=0,d=u=c=null,l=a;do{var f=l.lane,m=l.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,g=l;switch(f=t,m=r,g.tag){case 1:if(w=g.payload,typeof w=="function"){h=w.call(m,h,f);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=g.payload,f=typeof w=="function"?w.call(m,h,f):w,f==null)break e;h=pt({},h,f);break e;case 2:Sa=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else m={eventTime:m,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=h):d=d.next=m,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);Ki|=o,e.lanes=o,e.memoizedState=h}}function h0(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(H(191,s));s.call(n)}}}var Tu={},ps=li(Tu),tu=li(Tu),ru=li(Tu);function Ei(e){if(e===Tu)throw Error(H(174));return e}function xy(e,t){switch(at(ru,t),at(tu,e),at(ps,Tu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Qp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Qp(t,e)}lt(ps),at(ps,t)}function wl(){lt(ps),lt(tu),lt(ru)}function VS(e){Ei(ru.current);var t=Ei(ps.current),r=Qp(t,e.type);t!==r&&(at(tu,e),at(ps,r))}function wy(e){tu.current===e&&(lt(ps),lt(tu))}var ht=li(0);function Rh(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Xm=[];function by(){for(var e=0;e<Xm.length;e++)Xm[e]._workInProgressVersionPrimary=null;Xm.length=0}var Qd=ca.ReactCurrentDispatcher,Zm=ca.ReactCurrentBatchConfig,Hi=0,mt=null,Ft=null,Wt=null,Th=!1,Ac=!1,nu=0,TO=0;function er(){throw Error(H(321))}function jy(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Vn(e[r],t[r]))return!1;return!0}function _y(e,t,r,n,s,a){if(Hi=a,mt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Qd.current=e===null||e.memoizedState===null?MO:DO,e=r(n,s),Ac){a=0;do{if(Ac=!1,nu=0,25<=a)throw Error(H(301));a+=1,Wt=Ft=null,t.updateQueue=null,Qd.current=LO,e=r(n,s)}while(Ac)}if(Qd.current=Ah,t=Ft!==null&&Ft.next!==null,Hi=0,Wt=Ft=mt=null,Th=!1,t)throw Error(H(300));return e}function Sy(){var e=nu!==0;return nu=0,e}function as(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?mt.memoizedState=Wt=e:Wt=Wt.next=e,Wt}function un(){if(Ft===null){var e=mt.alternate;e=e!==null?e.memoizedState:null}else e=Ft.next;var t=Wt===null?mt.memoizedState:Wt.next;if(t!==null)Wt=t,Ft=e;else{if(e===null)throw Error(H(310));Ft=e,e={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},Wt===null?mt.memoizedState=Wt=e:Wt=Wt.next=e}return Wt}function su(e,t){return typeof t=="function"?t(e):t}function ep(e){var t=un(),r=t.queue;if(r===null)throw Error(H(311));r.lastRenderedReducer=e;var n=Ft,s=n.baseQueue,a=r.pending;if(a!==null){if(s!==null){var o=s.next;s.next=a.next,a.next=o}n.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,n=n.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((Hi&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=n):c=c.next=h,mt.lanes|=d,Ki|=d}u=u.next}while(u!==null&&u!==a);c===null?o=n:c.next=l,Vn(n,t.memoizedState)||(Pr=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do a=s.lane,mt.lanes|=a,Ki|=a,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function tp(e){var t=un(),r=t.queue;if(r===null)throw Error(H(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,a=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do a=e(a,o.action),o=o.next;while(o!==s);Vn(a,t.memoizedState)||(Pr=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function qS(){}function WS(e,t){var r=mt,n=un(),s=t(),a=!Vn(n.memoizedState,s);if(a&&(n.memoizedState=s,Pr=!0),n=n.queue,Ny(QS.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||Wt!==null&&Wt.memoizedState.tag&1){if(r.flags|=2048,au(9,KS.bind(null,r,n,s,t),void 0,null),Ht===null)throw Error(H(349));(Hi&30)!==0||HS(r,t,s)}return s}function HS(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=mt.updateQueue,t===null?(t={lastEffect:null,stores:null},mt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function KS(e,t,r,n){t.value=r,t.getSnapshot=n,GS(t)&&YS(e)}function QS(e,t,r){return r(function(){GS(t)&&YS(e)})}function GS(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Vn(e,r)}catch{return!0}}function YS(e){var t=ta(e,1);t!==null&&Un(t,e,1,-1)}function f0(e){var t=as();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:su,lastRenderedState:e},t.queue=e,e=e.dispatch=IO.bind(null,mt,e),[t.memoizedState,e]}function au(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=mt.updateQueue,t===null?(t={lastEffect:null,stores:null},mt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function JS(){return un().memoizedState}function Gd(e,t,r,n){var s=as();mt.flags|=e,s.memoizedState=au(1|t,r,void 0,n===void 0?null:n)}function bf(e,t,r,n){var s=un();n=n===void 0?null:n;var a=void 0;if(Ft!==null){var o=Ft.memoizedState;if(a=o.destroy,n!==null&&jy(n,o.deps)){s.memoizedState=au(t,r,a,n);return}}mt.flags|=e,s.memoizedState=au(1|t,r,a,n)}function m0(e,t){return Gd(8390656,8,e,t)}function Ny(e,t){return bf(2048,8,e,t)}function XS(e,t){return bf(4,2,e,t)}function ZS(e,t){return bf(4,4,e,t)}function eN(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function tN(e,t,r){return r=r!=null?r.concat([e]):null,bf(4,4,eN.bind(null,t,e),r)}function Cy(){}function rN(e,t){var r=un();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&jy(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function nN(e,t){var r=un();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&jy(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function sN(e,t,r){return(Hi&21)===0?(e.baseState&&(e.baseState=!1,Pr=!0),e.memoizedState=r):(Vn(r,t)||(r=cS(),mt.lanes|=r,Ki|=r,e.baseState=!0),t)}function AO(e,t){var r=Xe;Xe=r!==0&&4>r?r:4,e(!0);var n=Zm.transition;Zm.transition={};try{e(!1),t()}finally{Xe=r,Zm.transition=n}}function aN(){return un().memoizedState}function OO(e,t,r){var n=Ka(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},iN(e))oN(t,r);else if(r=zS(e,t,r,n),r!==null){var s=fr();Un(r,e,n,s),lN(r,t,n)}}function IO(e,t,r){var n=Ka(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(iN(e))oN(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,r);if(s.hasEagerState=!0,s.eagerState=l,Vn(l,o)){var c=t.interleaved;c===null?(s.next=s,vy(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=zS(e,t,s,n),r!==null&&(s=fr(),Un(r,e,n,s),lN(r,t,n))}}function iN(e){var t=e.alternate;return e===mt||t!==null&&t===mt}function oN(e,t){Ac=Th=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function lN(e,t,r){if((r&4194240)!==0){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,ny(e,r)}}var Ah={readContext:cn,useCallback:er,useContext:er,useEffect:er,useImperativeHandle:er,useInsertionEffect:er,useLayoutEffect:er,useMemo:er,useReducer:er,useRef:er,useState:er,useDebugValue:er,useDeferredValue:er,useTransition:er,useMutableSource:er,useSyncExternalStore:er,useId:er,unstable_isNewReconciler:!1},MO={readContext:cn,useCallback:function(e,t){return as().memoizedState=[e,t===void 0?null:t],e},useContext:cn,useEffect:m0,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Gd(4194308,4,eN.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Gd(4194308,4,e,t)},useInsertionEffect:function(e,t){return Gd(4,2,e,t)},useMemo:function(e,t){var r=as();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=as();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=OO.bind(null,mt,e),[n.memoizedState,e]},useRef:function(e){var t=as();return e={current:e},t.memoizedState=e},useState:f0,useDebugValue:Cy,useDeferredValue:function(e){return as().memoizedState=e},useTransition:function(){var e=f0(!1),t=e[0];return e=AO.bind(null,e[1]),as().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=mt,s=as();if(ut){if(r===void 0)throw Error(H(407));r=r()}else{if(r=t(),Ht===null)throw Error(H(349));(Hi&30)!==0||HS(n,t,r)}s.memoizedState=r;var a={value:r,getSnapshot:t};return s.queue=a,m0(QS.bind(null,n,a,e),[e]),n.flags|=2048,au(9,KS.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=as(),t=Ht.identifierPrefix;if(ut){var r=qs,n=Vs;r=(n&~(1<<32-Fn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=nu++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=TO++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},DO={readContext:cn,useCallback:rN,useContext:cn,useEffect:Ny,useImperativeHandle:tN,useInsertionEffect:XS,useLayoutEffect:ZS,useMemo:nN,useReducer:ep,useRef:JS,useState:function(){return ep(su)},useDebugValue:Cy,useDeferredValue:function(e){var t=un();return sN(t,Ft.memoizedState,e)},useTransition:function(){var e=ep(su)[0],t=un().memoizedState;return[e,t]},useMutableSource:qS,useSyncExternalStore:WS,useId:aN,unstable_isNewReconciler:!1},LO={readContext:cn,useCallback:rN,useContext:cn,useEffect:Ny,useImperativeHandle:tN,useInsertionEffect:XS,useLayoutEffect:ZS,useMemo:nN,useReducer:tp,useRef:JS,useState:function(){return tp(su)},useDebugValue:Cy,useDeferredValue:function(e){var t=un();return Ft===null?t.memoizedState=e:sN(t,Ft.memoizedState,e)},useTransition:function(){var e=tp(su)[0],t=un().memoizedState;return[e,t]},useMutableSource:qS,useSyncExternalStore:WS,useId:aN,unstable_isNewReconciler:!1};function Rn(e,t){if(e&&e.defaultProps){t=pt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function pg(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:pt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var jf={isMounted:function(e){return(e=e._reactInternals)?io(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=fr(),s=Ka(e),a=Ks(n,s);a.payload=t,r!=null&&(a.callback=r),t=Wa(e,a,s),t!==null&&(Un(t,e,s,n),Kd(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=fr(),s=Ka(e),a=Ks(n,s);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Wa(e,a,s),t!==null&&(Un(t,e,s,n),Kd(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=fr(),n=Ka(e),s=Ks(r,n);s.tag=2,t!=null&&(s.callback=t),t=Wa(e,s,n),t!==null&&(Un(t,e,n,r),Kd(t,e,n))}};function p0(e,t,r,n,s,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,o):t.prototype&&t.prototype.isPureReactComponent?!Jc(r,n)||!Jc(s,a):!0}function cN(e,t,r){var n=!1,s=ri,a=t.contextType;return typeof a=="object"&&a!==null?a=cn(a):(s=Tr(t)?qi:ir.current,n=t.contextTypes,a=(n=n!=null)?vl(e,s):ri),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=jf,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function g0(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&jf.enqueueReplaceState(t,t.state,null)}function gg(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},yy(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=cn(a):(a=Tr(t)?qi:ir.current,s.context=vl(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(pg(e,t,a,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&jf.enqueueReplaceState(s,s.state,null),Ph(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function bl(e,t){try{var r="",n=t;do r+=dA(n),n=n.return;while(n);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function rp(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function vg(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var $O=typeof WeakMap=="function"?WeakMap:Map;function uN(e,t,r){r=Ks(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Ih||(Ih=!0,Eg=n),vg(e,t)},r}function dN(e,t,r){r=Ks(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){vg(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){vg(e,t),typeof n!="function"&&(Ha===null?Ha=new Set([this]):Ha.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function v0(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new $O;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=XO.bind(null,e,t,r),t.then(e,e))}function y0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function x0(e,t,r,n,s){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ks(-1,1),t.tag=2,Wa(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=s,e)}var FO=ca.ReactCurrentOwner,Pr=!1;function ur(e,t,r,n){t.child=e===null?US(t,null,r,n):xl(t,e.child,r,n)}function w0(e,t,r,n,s){r=r.render;var a=t.ref;return Yo(t,s),n=_y(e,t,r,n,a,s),r=Sy(),e!==null&&!Pr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ra(e,t,s)):(ut&&r&&dy(t),t.flags|=1,ur(e,t,n,s),t.child)}function b0(e,t,r,n,s){if(e===null){var a=r.type;return typeof a=="function"&&!Iy(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,hN(e,t,a,n,s)):(e=Zd(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,(e.lanes&s)===0){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:Jc,r(o,n)&&e.ref===t.ref)return ra(e,t,s)}return t.flags|=1,e=Qa(a,n),e.ref=t.ref,e.return=t,t.child=e}function hN(e,t,r,n,s){if(e!==null){var a=e.memoizedProps;if(Jc(a,n)&&e.ref===t.ref)if(Pr=!1,t.pendingProps=n=a,(e.lanes&s)!==0)(e.flags&131072)!==0&&(Pr=!0);else return t.lanes=e.lanes,ra(e,t,s)}return yg(e,t,r,n,s)}function fN(e,t,r){var n=t.pendingProps,s=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},at(Wo,Ur),Ur|=r;else{if((r&1073741824)===0)return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,at(Wo,Ur),Ur|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,at(Wo,Ur),Ur|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,at(Wo,Ur),Ur|=n;return ur(e,t,s,r),t.child}function mN(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function yg(e,t,r,n,s){var a=Tr(r)?qi:ir.current;return a=vl(t,a),Yo(t,s),r=_y(e,t,r,n,a,s),n=Sy(),e!==null&&!Pr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ra(e,t,s)):(ut&&n&&dy(t),t.flags|=1,ur(e,t,r,s),t.child)}function j0(e,t,r,n,s){if(Tr(r)){var a=!0;Sh(t)}else a=!1;if(Yo(t,s),t.stateNode===null)Yd(e,t),cN(t,r,n),gg(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=cn(u):(u=Tr(r)?qi:ir.current,u=vl(t,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&g0(t,o,n,u),Sa=!1;var f=t.memoizedState;o.state=f,Ph(t,n,o,s),c=t.memoizedState,l!==n||f!==c||Rr.current||Sa?(typeof d=="function"&&(pg(t,r,d,n),c=t.memoizedState),(l=Sa||p0(t,r,l,n,f,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,BS(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Rn(t.type,l),o.props=u,h=t.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=cn(c):(c=Tr(r)?qi:ir.current,c=vl(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&g0(t,o,n,c),Sa=!1,f=t.memoizedState,o.state=f,Ph(t,n,o,s);var w=t.memoizedState;l!==h||f!==w||Rr.current||Sa?(typeof m=="function"&&(pg(t,r,m,n),w=t.memoizedState),(u=Sa||p0(t,r,u,n,f,w,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,w,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,w,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=w),o.props=n,o.state=w,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return xg(e,t,r,n,a,s)}function xg(e,t,r,n,s,a){mN(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&o0(t,r,!1),ra(e,t,a);n=t.stateNode,FO.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=xl(t,e.child,null,a),t.child=xl(t,null,l,a)):ur(e,t,l,a),t.memoizedState=n.state,s&&o0(t,r,!0),t.child}function pN(e){var t=e.stateNode;t.pendingContext?i0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&i0(e,t.context,!1),xy(e,t.containerInfo)}function _0(e,t,r,n,s){return yl(),fy(s),t.flags|=256,ur(e,t,r,n),t.child}var wg={dehydrated:null,treeContext:null,retryLane:0};function bg(e){return{baseLanes:e,cachePool:null,transitions:null}}function gN(e,t,r){var n=t.pendingProps,s=ht.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),at(ht,s&1),e===null)return fg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(o=n.children,e=n.fallback,a?(n=t.mode,a=t.child,o={mode:"hidden",children:o},(n&1)===0&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Nf(o,n,0,null),e=Bi(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=bg(r),t.memoizedState=wg,e):Ey(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return UO(e,t,o,n,l,s,r);if(a){a=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return(o&1)===0&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Qa(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=Qa(l,a):(a=Bi(a,o,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,o=e.child.memoizedState,o=o===null?bg(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~r,t.memoizedState=wg,n}return a=e.child,e=a.sibling,n=Qa(a,{mode:"visible",children:n.children}),(t.mode&1)===0&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Ey(e,t){return t=Nf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function gd(e,t,r,n){return n!==null&&fy(n),xl(t,e.child,null,r),e=Ey(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function UO(e,t,r,n,s,a,o){if(r)return t.flags&256?(t.flags&=-257,n=rp(Error(H(422))),gd(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,s=t.mode,n=Nf({mode:"visible",children:n.children},s,0,null),a=Bi(a,s,o,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,(t.mode&1)!==0&&xl(t,e.child,null,o),t.child.memoizedState=bg(o),t.memoizedState=wg,a);if((t.mode&1)===0)return gd(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(H(419)),n=rp(a,n,void 0),gd(e,t,o,n)}if(l=(o&e.childLanes)!==0,Pr||l){if(n=Ht,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=(s&(n.suspendedLanes|o))!==0?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,ta(e,s),Un(n,e,s,-1))}return Oy(),n=rp(Error(H(421))),gd(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=ZO.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,Hr=qa(s.nextSibling),Kr=t,ut=!0,Dn=null,e!==null&&(tn[rn++]=Vs,tn[rn++]=qs,tn[rn++]=Wi,Vs=e.id,qs=e.overflow,Wi=t),t=Ey(t,n.children),t.flags|=4096,t)}function S0(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),mg(e.return,t,r)}function np(e,t,r,n,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function vN(e,t,r){var n=t.pendingProps,s=n.revealOrder,a=n.tail;if(ur(e,t,n.children,r),n=ht.current,(n&2)!==0)n=n&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&S0(e,r,t);else if(e.tag===19)S0(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(at(ht,n),(t.mode&1)===0)t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Rh(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),np(t,!1,s,r,a);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Rh(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}np(t,!0,r,null,a);break;case"together":np(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Yd(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ra(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ki|=t.lanes,(r&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(H(153));if(t.child!==null){for(e=t.child,r=Qa(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Qa(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function zO(e,t,r){switch(t.tag){case 3:pN(t),yl();break;case 5:VS(t);break;case 1:Tr(t.type)&&Sh(t);break;case 4:xy(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;at(Eh,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(at(ht,ht.current&1),t.flags|=128,null):(r&t.child.childLanes)!==0?gN(e,t,r):(at(ht,ht.current&1),e=ra(e,t,r),e!==null?e.sibling:null);at(ht,ht.current&1);break;case 19:if(n=(r&t.childLanes)!==0,(e.flags&128)!==0){if(n)return vN(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),at(ht,ht.current),n)break;return null;case 22:case 23:return t.lanes=0,fN(e,t,r)}return ra(e,t,r)}var yN,jg,xN,wN;yN=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};jg=function(){};xN=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Ei(ps.current);var a=null;switch(r){case"input":s=qp(e,s),n=qp(e,n),a=[];break;case"select":s=pt({},s,{value:void 0}),n=pt({},n,{value:void 0}),a=[];break;case"textarea":s=Kp(e,s),n=Kp(e,n),a=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=jh)}Gp(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(qc.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(qc.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ot("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};wN=function(e,t,r,n){r!==n&&(t.flags|=4)};function lc(e,t){if(!ut)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function tr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function BO(e,t,r){var n=t.pendingProps;switch(hy(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tr(t),null;case 1:return Tr(t.type)&&_h(),tr(t),null;case 3:return n=t.stateNode,wl(),lt(Rr),lt(ir),by(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(md(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Dn!==null&&(Rg(Dn),Dn=null))),jg(e,t),tr(t),null;case 5:wy(t);var s=Ei(ru.current);if(r=t.type,e!==null&&t.stateNode!=null)xN(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(H(166));return tr(t),null}if(e=Ei(ps.current),md(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[us]=t,n[eu]=a,e=(t.mode&1)!==0,r){case"dialog":ot("cancel",n),ot("close",n);break;case"iframe":case"object":case"embed":ot("load",n);break;case"video":case"audio":for(s=0;s<bc.length;s++)ot(bc[s],n);break;case"source":ot("error",n);break;case"img":case"image":case"link":ot("error",n),ot("load",n);break;case"details":ot("toggle",n);break;case"input":Ow(n,a),ot("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},ot("invalid",n);break;case"textarea":Mw(n,a),ot("invalid",n)}Gp(r,a),s=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&fd(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&fd(n.textContent,l,e),s=["children",""+l]):qc.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ot("scroll",n)}switch(r){case"input":ad(n),Iw(n,a,!0);break;case"textarea":ad(n),Dw(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=jh)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Q_(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[us]=t,e[eu]=n,yN(e,t,!1,!1),t.stateNode=e;e:{switch(o=Yp(r,n),r){case"dialog":ot("cancel",e),ot("close",e),s=n;break;case"iframe":case"object":case"embed":ot("load",e),s=n;break;case"video":case"audio":for(s=0;s<bc.length;s++)ot(bc[s],e);s=n;break;case"source":ot("error",e),s=n;break;case"img":case"image":case"link":ot("error",e),ot("load",e),s=n;break;case"details":ot("toggle",e),s=n;break;case"input":Ow(e,n),s=qp(e,n),ot("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=pt({},n,{value:void 0}),ot("invalid",e);break;case"textarea":Mw(e,n),s=Kp(e,n),ot("invalid",e);break;default:s=n}Gp(r,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?J_(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&G_(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Wc(e,c):typeof c=="number"&&Wc(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(qc.hasOwnProperty(a)?c!=null&&a==="onScroll"&&ot("scroll",e):c!=null&&Jv(e,a,c,o))}switch(r){case"input":ad(e),Iw(e,n,!1);break;case"textarea":ad(e),Dw(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ti(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Ho(e,!!n.multiple,a,!1):n.defaultValue!=null&&Ho(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=jh)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return tr(t),null;case 6:if(e&&t.stateNode!=null)wN(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(H(166));if(r=Ei(ru.current),Ei(ps.current),md(t)){if(n=t.stateNode,r=t.memoizedProps,n[us]=t,(a=n.nodeValue!==r)&&(e=Kr,e!==null))switch(e.tag){case 3:fd(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&fd(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[us]=t,t.stateNode=n}return tr(t),null;case 13:if(lt(ht),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ut&&Hr!==null&&(t.mode&1)!==0&&(t.flags&128)===0)$S(),yl(),t.flags|=98560,a=!1;else if(a=md(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(H(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(H(317));a[us]=t}else yl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;tr(t),a=!1}else Dn!==null&&(Rg(Dn),Dn=null),a=!0;if(!a)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(ht.current&1)!==0?zt===0&&(zt=3):Oy())),t.updateQueue!==null&&(t.flags|=4),tr(t),null);case 4:return wl(),jg(e,t),e===null&&Xc(t.stateNode.containerInfo),tr(t),null;case 10:return gy(t.type._context),tr(t),null;case 17:return Tr(t.type)&&_h(),tr(t),null;case 19:if(lt(ht),a=t.memoizedState,a===null)return tr(t),null;if(n=(t.flags&128)!==0,o=a.rendering,o===null)if(n)lc(a,!1);else{if(zt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(o=Rh(e),o!==null){for(t.flags|=128,lc(a,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return at(ht,ht.current&1|2),t.child}e=e.sibling}a.tail!==null&&Et()>jl&&(t.flags|=128,n=!0,lc(a,!1),t.lanes=4194304)}else{if(!n)if(e=Rh(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),lc(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!ut)return tr(t),null}else 2*Et()-a.renderingStartTime>jl&&r!==1073741824&&(t.flags|=128,n=!0,lc(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(r=a.last,r!==null?r.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Et(),t.sibling=null,r=ht.current,at(ht,n?r&1|2:r&1),t):(tr(t),null);case 22:case 23:return Ay(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&(t.mode&1)!==0?(Ur&1073741824)!==0&&(tr(t),t.subtreeFlags&6&&(t.flags|=8192)):tr(t),null;case 24:return null;case 25:return null}throw Error(H(156,t.tag))}function VO(e,t){switch(hy(t),t.tag){case 1:return Tr(t.type)&&_h(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return wl(),lt(Rr),lt(ir),by(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return wy(t),null;case 13:if(lt(ht),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(H(340));yl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return lt(ht),null;case 4:return wl(),null;case 10:return gy(t.type._context),null;case 22:case 23:return Ay(),null;case 24:return null;default:return null}}var vd=!1,rr=!1,qO=typeof WeakSet=="function"?WeakSet:Set,le=null;function qo(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){xt(e,t,n)}else r.current=null}function _g(e,t,r){try{r()}catch(n){xt(e,t,n)}}var N0=!1;function WO(e,t){if(ig=xh,e=NS(),uy(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var m;h!==r||s!==0&&h.nodeType!==3||(l=o+s),h!==a||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===e)break t;if(f===r&&++u===s&&(l=o),f===a&&++d===n&&(c=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(og={focusedElem:e,selectionRange:r},xh=!1,le=t;le!==null;)if(t=le,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,le=e;else for(;le!==null;){t=le;try{var w=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var g=w.memoizedProps,v=w.memoizedState,b=t.stateNode,y=b.getSnapshotBeforeUpdate(t.elementType===t.type?g:Rn(t.type,g),v);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(j){xt(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,le=e;break}le=t.return}return w=N0,N0=!1,w}function Oc(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&_g(t,r,a)}s=s.next}while(s!==n)}}function _f(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Sg(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function bN(e){var t=e.alternate;t!==null&&(e.alternate=null,bN(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[us],delete t[eu],delete t[ug],delete t[EO],delete t[kO])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function jN(e){return e.tag===5||e.tag===3||e.tag===4}function C0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||jN(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ng(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=jh));else if(n!==4&&(e=e.child,e!==null))for(Ng(e,t,r),e=e.sibling;e!==null;)Ng(e,t,r),e=e.sibling}function Cg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Cg(e,t,r),e=e.sibling;e!==null;)Cg(e,t,r),e=e.sibling}var Kt=null,In=!1;function ga(e,t,r){for(r=r.child;r!==null;)_N(e,t,r),r=r.sibling}function _N(e,t,r){if(ms&&typeof ms.onCommitFiberUnmount=="function")try{ms.onCommitFiberUnmount(pf,r)}catch{}switch(r.tag){case 5:rr||qo(r,t);case 6:var n=Kt,s=In;Kt=null,ga(e,t,r),Kt=n,In=s,Kt!==null&&(In?(e=Kt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Kt.removeChild(r.stateNode));break;case 18:Kt!==null&&(In?(e=Kt,r=r.stateNode,e.nodeType===8?Ym(e.parentNode,r):e.nodeType===1&&Ym(e,r),Gc(e)):Ym(Kt,r.stateNode));break;case 4:n=Kt,s=In,Kt=r.stateNode.containerInfo,In=!0,ga(e,t,r),Kt=n,In=s;break;case 0:case 11:case 14:case 15:if(!rr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var a=s,o=a.destroy;a=a.tag,o!==void 0&&((a&2)!==0||(a&4)!==0)&&_g(r,t,o),s=s.next}while(s!==n)}ga(e,t,r);break;case 1:if(!rr&&(qo(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){xt(r,t,l)}ga(e,t,r);break;case 21:ga(e,t,r);break;case 22:r.mode&1?(rr=(n=rr)||r.memoizedState!==null,ga(e,t,r),rr=n):ga(e,t,r);break;default:ga(e,t,r)}}function E0(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new qO),t.forEach(function(n){var s=eI.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function _n(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Kt=l.stateNode,In=!1;break e;case 3:Kt=l.stateNode.containerInfo,In=!0;break e;case 4:Kt=l.stateNode.containerInfo,In=!0;break e}l=l.return}if(Kt===null)throw Error(H(160));_N(a,o,s),Kt=null,In=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){xt(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)SN(t,e),t=t.sibling}function SN(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(_n(t,e),Zn(e),n&4){try{Oc(3,e,e.return),_f(3,e)}catch(g){xt(e,e.return,g)}try{Oc(5,e,e.return)}catch(g){xt(e,e.return,g)}}break;case 1:_n(t,e),Zn(e),n&512&&r!==null&&qo(r,r.return);break;case 5:if(_n(t,e),Zn(e),n&512&&r!==null&&qo(r,r.return),e.flags&32){var s=e.stateNode;try{Wc(s,"")}catch(g){xt(e,e.return,g)}}if(n&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,o=r!==null?r.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&H_(s,a),Yp(l,o);var u=Yp(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?J_(s,h):d==="dangerouslySetInnerHTML"?G_(s,h):d==="children"?Wc(s,h):Jv(s,d,h,u)}switch(l){case"input":Wp(s,a);break;case"textarea":K_(s,a);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?Ho(s,!!a.multiple,m,!1):f!==!!a.multiple&&(a.defaultValue!=null?Ho(s,!!a.multiple,a.defaultValue,!0):Ho(s,!!a.multiple,a.multiple?[]:"",!1))}s[eu]=a}catch(g){xt(e,e.return,g)}}break;case 6:if(_n(t,e),Zn(e),n&4){if(e.stateNode===null)throw Error(H(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(g){xt(e,e.return,g)}}break;case 3:if(_n(t,e),Zn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Gc(t.containerInfo)}catch(g){xt(e,e.return,g)}break;case 4:_n(t,e),Zn(e);break;case 13:_n(t,e),Zn(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(Ry=Et())),n&4&&E0(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(rr=(u=rr)||d,_n(t,e),rr=u):_n(t,e),Zn(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&(e.mode&1)!==0)for(le=e,d=e.child;d!==null;){for(h=le=d;le!==null;){switch(f=le,m=f.child,f.tag){case 0:case 11:case 14:case 15:Oc(4,f,f.return);break;case 1:qo(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(g){xt(n,r,g)}}break;case 5:qo(f,f.return);break;case 22:if(f.memoizedState!==null){P0(h);continue}}m!==null?(m.return=f,le=m):P0(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Y_("display",o))}catch(g){xt(e,e.return,g)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){xt(e,e.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:_n(t,e),Zn(e),n&4&&E0(e);break;case 21:break;default:_n(t,e),Zn(e)}}function Zn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(jN(r)){var n=r;break e}r=r.return}throw Error(H(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Wc(s,""),n.flags&=-33);var a=C0(e);Cg(e,a,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=C0(e);Ng(e,l,o);break;default:throw Error(H(161))}}catch(c){xt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function HO(e,t,r){le=e,NN(e)}function NN(e,t,r){for(var n=(e.mode&1)!==0;le!==null;){var s=le,a=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||vd;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||rr;l=vd;var u=rr;if(vd=o,(rr=c)&&!u)for(le=s;le!==null;)o=le,c=o.child,o.tag===22&&o.memoizedState!==null?R0(s):c!==null?(c.return=o,le=c):R0(s);for(;a!==null;)le=a,NN(a),a=a.sibling;le=s,vd=l,rr=u}k0(e)}else(s.subtreeFlags&8772)!==0&&a!==null?(a.return=s,le=a):k0(e)}}function k0(e){for(;le!==null;){var t=le;if((t.flags&8772)!==0){var r=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:rr||_f(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!rr)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Rn(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&h0(t,a,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}h0(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Gc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}rr||t.flags&512&&Sg(t)}catch(f){xt(t,t.return,f)}}if(t===e){le=null;break}if(r=t.sibling,r!==null){r.return=t.return,le=r;break}le=t.return}}function P0(e){for(;le!==null;){var t=le;if(t===e){le=null;break}var r=t.sibling;if(r!==null){r.return=t.return,le=r;break}le=t.return}}function R0(e){for(;le!==null;){var t=le;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{_f(4,t)}catch(c){xt(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){xt(t,s,c)}}var a=t.return;try{Sg(t)}catch(c){xt(t,a,c)}break;case 5:var o=t.return;try{Sg(t)}catch(c){xt(t,o,c)}}}catch(c){xt(t,t.return,c)}if(t===e){le=null;break}var l=t.sibling;if(l!==null){l.return=t.return,le=l;break}le=t.return}}var KO=Math.ceil,Oh=ca.ReactCurrentDispatcher,ky=ca.ReactCurrentOwner,on=ca.ReactCurrentBatchConfig,We=0,Ht=null,Ot=null,Xt=0,Ur=0,Wo=li(0),zt=0,iu=null,Ki=0,Sf=0,Py=0,Ic=null,Er=null,Ry=0,jl=1/0,Ms=null,Ih=!1,Eg=null,Ha=null,yd=!1,Fa=null,Mh=0,Mc=0,kg=null,Jd=-1,Xd=0;function fr(){return(We&6)!==0?Et():Jd!==-1?Jd:Jd=Et()}function Ka(e){return(e.mode&1)===0?1:(We&2)!==0&&Xt!==0?Xt&-Xt:RO.transition!==null?(Xd===0&&(Xd=cS()),Xd):(e=Xe,e!==0||(e=window.event,e=e===void 0?16:gS(e.type)),e)}function Un(e,t,r,n){if(50<Mc)throw Mc=0,kg=null,Error(H(185));ku(e,r,n),((We&2)===0||e!==Ht)&&(e===Ht&&((We&2)===0&&(Sf|=r),zt===4&&Ea(e,Xt)),Ar(e,n),r===1&&We===0&&(t.mode&1)===0&&(jl=Et()+500,wf&&ci()))}function Ar(e,t){var r=e.callbackNode;RA(e,t);var n=yh(e,e===Ht?Xt:0);if(n===0)r!==null&&Fw(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Fw(r),t===1)e.tag===0?PO(T0.bind(null,e)):MS(T0.bind(null,e)),NO(function(){(We&6)===0&&ci()}),r=null;else{switch(uS(n)){case 1:r=ry;break;case 4:r=oS;break;case 16:r=vh;break;case 536870912:r=lS;break;default:r=vh}r=ON(r,CN.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function CN(e,t){if(Jd=-1,Xd=0,(We&6)!==0)throw Error(H(327));var r=e.callbackNode;if(Jo()&&e.callbackNode!==r)return null;var n=yh(e,e===Ht?Xt:0);if(n===0)return null;if((n&30)!==0||(n&e.expiredLanes)!==0||t)t=Dh(e,n);else{t=n;var s=We;We|=2;var a=kN();(Ht!==e||Xt!==t)&&(Ms=null,jl=Et()+500,zi(e,t));do try{YO();break}catch(l){EN(e,l)}while(!0);py(),Oh.current=a,We=s,Ot!==null?t=0:(Ht=null,Xt=0,t=zt)}if(t!==0){if(t===2&&(s=tg(e),s!==0&&(n=s,t=Pg(e,s))),t===1)throw r=iu,zi(e,0),Ea(e,n),Ar(e,Et()),r;if(t===6)Ea(e,n);else{if(s=e.current.alternate,(n&30)===0&&!QO(s)&&(t=Dh(e,n),t===2&&(a=tg(e),a!==0&&(n=a,t=Pg(e,a))),t===1))throw r=iu,zi(e,0),Ea(e,n),Ar(e,Et()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(H(345));case 2:bi(e,Er,Ms);break;case 3:if(Ea(e,n),(n&130023424)===n&&(t=Ry+500-Et(),10<t)){if(yh(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){fr(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=cg(bi.bind(null,e,Er,Ms),t);break}bi(e,Er,Ms);break;case 4:if(Ea(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-Fn(n);a=1<<o,o=t[o],o>s&&(s=o),n&=~a}if(n=s,n=Et()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*KO(n/1960))-n,10<n){e.timeoutHandle=cg(bi.bind(null,e,Er,Ms),n);break}bi(e,Er,Ms);break;case 5:bi(e,Er,Ms);break;default:throw Error(H(329))}}}return Ar(e,Et()),e.callbackNode===r?CN.bind(null,e):null}function Pg(e,t){var r=Ic;return e.current.memoizedState.isDehydrated&&(zi(e,t).flags|=256),e=Dh(e,t),e!==2&&(t=Er,Er=r,t!==null&&Rg(t)),e}function Rg(e){Er===null?Er=e:Er.push.apply(Er,e)}function QO(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!Vn(a(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ea(e,t){for(t&=~Py,t&=~Sf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Fn(t),n=1<<r;e[r]=-1,t&=~n}}function T0(e){if((We&6)!==0)throw Error(H(327));Jo();var t=yh(e,0);if((t&1)===0)return Ar(e,Et()),null;var r=Dh(e,t);if(e.tag!==0&&r===2){var n=tg(e);n!==0&&(t=n,r=Pg(e,n))}if(r===1)throw r=iu,zi(e,0),Ea(e,t),Ar(e,Et()),r;if(r===6)throw Error(H(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bi(e,Er,Ms),Ar(e,Et()),null}function Ty(e,t){var r=We;We|=1;try{return e(t)}finally{We=r,We===0&&(jl=Et()+500,wf&&ci())}}function Qi(e){Fa!==null&&Fa.tag===0&&(We&6)===0&&Jo();var t=We;We|=1;var r=on.transition,n=Xe;try{if(on.transition=null,Xe=1,e)return e()}finally{Xe=n,on.transition=r,We=t,(We&6)===0&&ci()}}function Ay(){Ur=Wo.current,lt(Wo)}function zi(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,SO(r)),Ot!==null)for(r=Ot.return;r!==null;){var n=r;switch(hy(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&_h();break;case 3:wl(),lt(Rr),lt(ir),by();break;case 5:wy(n);break;case 4:wl();break;case 13:lt(ht);break;case 19:lt(ht);break;case 10:gy(n.type._context);break;case 22:case 23:Ay()}r=r.return}if(Ht=e,Ot=e=Qa(e.current,null),Xt=Ur=t,zt=0,iu=null,Py=Sf=Ki=0,Er=Ic=null,Ci!==null){for(t=0;t<Ci.length;t++)if(r=Ci[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=s,n.next=o}r.pending=n}Ci=null}return e}function EN(e,t){do{var r=Ot;try{if(py(),Qd.current=Ah,Th){for(var n=mt.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Th=!1}if(Hi=0,Wt=Ft=mt=null,Ac=!1,nu=0,ky.current=null,r===null||r.return===null){zt=1,iu=t,Ot=null;break}e:{var a=e,o=r.return,l=r,c=t;if(t=Xt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if((d.mode&1)===0&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=y0(o);if(m!==null){m.flags&=-257,x0(m,o,l,a,t),m.mode&1&&v0(a,u,t),t=m,c=u;var w=t.updateQueue;if(w===null){var g=new Set;g.add(c),t.updateQueue=g}else w.add(c);break e}else{if((t&1)===0){v0(a,u,t),Oy();break e}c=Error(H(426))}}else if(ut&&l.mode&1){var v=y0(o);if(v!==null){(v.flags&65536)===0&&(v.flags|=256),x0(v,o,l,a,t),fy(bl(c,l));break e}}a=c=bl(c,l),zt!==4&&(zt=2),Ic===null?Ic=[a]:Ic.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var b=uN(a,c,t);d0(a,b);break e;case 1:l=c;var y=a.type,x=a.stateNode;if((a.flags&128)===0&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Ha===null||!Ha.has(x)))){a.flags|=65536,t&=-t,a.lanes|=t;var j=dN(a,l,t);d0(a,j);break e}}a=a.return}while(a!==null)}RN(r)}catch(_){t=_,Ot===r&&r!==null&&(Ot=r=r.return);continue}break}while(!0)}function kN(){var e=Oh.current;return Oh.current=Ah,e===null?Ah:e}function Oy(){(zt===0||zt===3||zt===2)&&(zt=4),Ht===null||(Ki&268435455)===0&&(Sf&268435455)===0||Ea(Ht,Xt)}function Dh(e,t){var r=We;We|=2;var n=kN();(Ht!==e||Xt!==t)&&(Ms=null,zi(e,t));do try{GO();break}catch(s){EN(e,s)}while(!0);if(py(),We=r,Oh.current=n,Ot!==null)throw Error(H(261));return Ht=null,Xt=0,zt}function GO(){for(;Ot!==null;)PN(Ot)}function YO(){for(;Ot!==null&&!bA();)PN(Ot)}function PN(e){var t=AN(e.alternate,e,Ur);e.memoizedProps=e.pendingProps,t===null?RN(e):Ot=t,ky.current=null}function RN(e){var t=e;do{var r=t.alternate;if(e=t.return,(t.flags&32768)===0){if(r=BO(r,t,Ur),r!==null){Ot=r;return}}else{if(r=VO(r,t),r!==null){r.flags&=32767,Ot=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{zt=6,Ot=null;return}}if(t=t.sibling,t!==null){Ot=t;return}Ot=t=e}while(t!==null);zt===0&&(zt=5)}function bi(e,t,r){var n=Xe,s=on.transition;try{on.transition=null,Xe=1,JO(e,t,r,n)}finally{on.transition=s,Xe=n}return null}function JO(e,t,r,n){do Jo();while(Fa!==null);if((We&6)!==0)throw Error(H(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(H(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(TA(e,a),e===Ht&&(Ot=Ht=null,Xt=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||yd||(yd=!0,ON(vh,function(){return Jo(),null})),a=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||a){a=on.transition,on.transition=null;var o=Xe;Xe=1;var l=We;We|=4,ky.current=null,WO(e,r),SN(r,e),vO(og),xh=!!ig,og=ig=null,e.current=r,HO(r),jA(),We=l,Xe=o,on.transition=a}else e.current=r;if(yd&&(yd=!1,Fa=e,Mh=s),a=e.pendingLanes,a===0&&(Ha=null),NA(r.stateNode),Ar(e,Et()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Ih)throw Ih=!1,e=Eg,Eg=null,e;return(Mh&1)!==0&&e.tag!==0&&Jo(),a=e.pendingLanes,(a&1)!==0?e===kg?Mc++:(Mc=0,kg=e):Mc=0,ci(),null}function Jo(){if(Fa!==null){var e=uS(Mh),t=on.transition,r=Xe;try{if(on.transition=null,Xe=16>e?16:e,Fa===null)var n=!1;else{if(e=Fa,Fa=null,Mh=0,(We&6)!==0)throw Error(H(331));var s=We;for(We|=4,le=e.current;le!==null;){var a=le,o=a.child;if((le.flags&16)!==0){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(le=u;le!==null;){var d=le;switch(d.tag){case 0:case 11:case 15:Oc(8,d,a)}var h=d.child;if(h!==null)h.return=d,le=h;else for(;le!==null;){d=le;var f=d.sibling,m=d.return;if(bN(d),d===u){le=null;break}if(f!==null){f.return=m,le=f;break}le=m}}}var w=a.alternate;if(w!==null){var g=w.child;if(g!==null){w.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}le=a}}if((a.subtreeFlags&2064)!==0&&o!==null)o.return=a,le=o;else e:for(;le!==null;){if(a=le,(a.flags&2048)!==0)switch(a.tag){case 0:case 11:case 15:Oc(9,a,a.return)}var b=a.sibling;if(b!==null){b.return=a.return,le=b;break e}le=a.return}}var y=e.current;for(le=y;le!==null;){o=le;var x=o.child;if((o.subtreeFlags&2064)!==0&&x!==null)x.return=o,le=x;else e:for(o=y;le!==null;){if(l=le,(l.flags&2048)!==0)try{switch(l.tag){case 0:case 11:case 15:_f(9,l)}}catch(_){xt(l,l.return,_)}if(l===o){le=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,le=j;break e}le=l.return}}if(We=s,ci(),ms&&typeof ms.onPostCommitFiberRoot=="function")try{ms.onPostCommitFiberRoot(pf,e)}catch{}n=!0}return n}finally{Xe=r,on.transition=t}}return!1}function A0(e,t,r){t=bl(r,t),t=uN(e,t,1),e=Wa(e,t,1),t=fr(),e!==null&&(ku(e,1,t),Ar(e,t))}function xt(e,t,r){if(e.tag===3)A0(e,e,r);else for(;t!==null;){if(t.tag===3){A0(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ha===null||!Ha.has(n))){e=bl(r,e),e=dN(t,e,1),t=Wa(t,e,1),e=fr(),t!==null&&(ku(t,1,e),Ar(t,e));break}}t=t.return}}function XO(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=fr(),e.pingedLanes|=e.suspendedLanes&r,Ht===e&&(Xt&r)===r&&(zt===4||zt===3&&(Xt&130023424)===Xt&&500>Et()-Ry?zi(e,0):Py|=r),Ar(e,t)}function TN(e,t){t===0&&((e.mode&1)===0?t=1:(t=ld,ld<<=1,(ld&130023424)===0&&(ld=4194304)));var r=fr();e=ta(e,t),e!==null&&(ku(e,t,r),Ar(e,r))}function ZO(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),TN(e,r)}function eI(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(H(314))}n!==null&&n.delete(t),TN(e,r)}var AN;AN=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Rr.current)Pr=!0;else{if((e.lanes&r)===0&&(t.flags&128)===0)return Pr=!1,zO(e,t,r);Pr=(e.flags&131072)!==0}else Pr=!1,ut&&(t.flags&1048576)!==0&&DS(t,Ch,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Yd(e,t),e=t.pendingProps;var s=vl(t,ir.current);Yo(t,r),s=_y(null,t,n,e,s,r);var a=Sy();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Tr(n)?(a=!0,Sh(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,yy(t),s.updater=jf,t.stateNode=s,s._reactInternals=t,gg(t,n,e,r),t=xg(null,t,n,!0,a,r)):(t.tag=0,ut&&a&&dy(t),ur(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Yd(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=rI(n),e=Rn(n,e),s){case 0:t=yg(null,t,n,e,r);break e;case 1:t=j0(null,t,n,e,r);break e;case 11:t=w0(null,t,n,e,r);break e;case 14:t=b0(null,t,n,Rn(n.type,e),r);break e}throw Error(H(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Rn(n,s),yg(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Rn(n,s),j0(e,t,n,s,r);case 3:e:{if(pN(t),e===null)throw Error(H(387));n=t.pendingProps,a=t.memoizedState,s=a.element,BS(e,t),Ph(t,n,null,r);var o=t.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=bl(Error(H(423)),t),t=_0(e,t,n,r,s);break e}else if(n!==s){s=bl(Error(H(424)),t),t=_0(e,t,n,r,s);break e}else for(Hr=qa(t.stateNode.containerInfo.firstChild),Kr=t,ut=!0,Dn=null,r=US(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(yl(),n===s){t=ra(e,t,r);break e}ur(e,t,n,r)}t=t.child}return t;case 5:return VS(t),e===null&&fg(t),n=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,o=s.children,lg(n,s)?o=null:a!==null&&lg(n,a)&&(t.flags|=32),mN(e,t),ur(e,t,o,r),t.child;case 6:return e===null&&fg(t),null;case 13:return gN(e,t,r);case 4:return xy(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=xl(t,null,n,r):ur(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Rn(n,s),w0(e,t,n,s,r);case 7:return ur(e,t,t.pendingProps,r),t.child;case 8:return ur(e,t,t.pendingProps.children,r),t.child;case 12:return ur(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,a=t.memoizedProps,o=s.value,at(Eh,n._currentValue),n._currentValue=o,a!==null)if(Vn(a.value,o)){if(a.children===s.children&&!Rr.current){t=ra(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=Ks(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),mg(a.return,r,t),l.lanes|=r;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(H(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),mg(o,r,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}ur(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Yo(t,r),s=cn(s),n=n(s),t.flags|=1,ur(e,t,n,r),t.child;case 14:return n=t.type,s=Rn(n,t.pendingProps),s=Rn(n.type,s),b0(e,t,n,s,r);case 15:return hN(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Rn(n,s),Yd(e,t),t.tag=1,Tr(n)?(e=!0,Sh(t)):e=!1,Yo(t,r),cN(t,n,s),gg(t,n,s,r),xg(null,t,n,!0,e,r);case 19:return vN(e,t,r);case 22:return fN(e,t,r)}throw Error(H(156,t.tag))};function ON(e,t){return iS(e,t)}function tI(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(e,t,r,n){return new tI(e,t,r,n)}function Iy(e){return e=e.prototype,!(!e||!e.isReactComponent)}function rI(e){if(typeof e=="function")return Iy(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Zv)return 11;if(e===ey)return 14}return 2}function Qa(e,t){var r=e.alternate;return r===null?(r=an(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Zd(e,t,r,n,s,a){var o=2;if(n=e,typeof e=="function")Iy(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Mo:return Bi(r.children,s,a,t);case Xv:o=8,s|=8;break;case Up:return e=an(12,r,t,s|2),e.elementType=Up,e.lanes=a,e;case zp:return e=an(13,r,t,s),e.elementType=zp,e.lanes=a,e;case Bp:return e=an(19,r,t,s),e.elementType=Bp,e.lanes=a,e;case V_:return Nf(r,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case z_:o=10;break e;case B_:o=9;break e;case Zv:o=11;break e;case ey:o=14;break e;case _a:o=16,n=null;break e}throw Error(H(130,e==null?e:typeof e,""))}return t=an(o,r,t,s),t.elementType=e,t.type=n,t.lanes=a,t}function Bi(e,t,r,n){return e=an(7,e,n,t),e.lanes=r,e}function Nf(e,t,r,n){return e=an(22,e,n,t),e.elementType=V_,e.lanes=r,e.stateNode={isHidden:!1},e}function sp(e,t,r){return e=an(6,e,null,t),e.lanes=r,e}function ap(e,t,r){return t=an(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function nI(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fm(0),this.expirationTimes=Fm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fm(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function My(e,t,r,n,s,a,o,l,c){return e=new nI(e,t,r,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=an(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},yy(a),e}function sI(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Io,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function IN(e){if(!e)return ri;e=e._reactInternals;e:{if(io(e)!==e||e.tag!==1)throw Error(H(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Tr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(H(171))}if(e.tag===1){var r=e.type;if(Tr(r))return IS(e,r,t)}return t}function MN(e,t,r,n,s,a,o,l,c){return e=My(r,n,!0,e,s,a,o,l,c),e.context=IN(null),r=e.current,n=fr(),s=Ka(r),a=Ks(n,s),a.callback=t??null,Wa(r,a,s),e.current.lanes=s,ku(e,s,n),Ar(e,n),e}function Cf(e,t,r,n){var s=t.current,a=fr(),o=Ka(s);return r=IN(r),t.context===null?t.context=r:t.pendingContext=r,t=Ks(a,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Wa(s,t,o),e!==null&&(Un(e,s,o,a),Kd(e,s,o)),o}function Lh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function O0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Dy(e,t){O0(e,t),(e=e.alternate)&&O0(e,t)}function aI(){return null}var DN=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ly(e){this._internalRoot=e}Ef.prototype.render=Ly.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(H(409));Cf(e,t,null,null)};Ef.prototype.unmount=Ly.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Qi(function(){Cf(null,e,null,null)}),t[ea]=null}};function Ef(e){this._internalRoot=e}Ef.prototype.unstable_scheduleHydration=function(e){if(e){var t=fS();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ca.length&&t!==0&&t<Ca[r].priority;r++);Ca.splice(r,0,e),r===0&&pS(e)}};function $y(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function kf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function I0(){}function iI(e,t,r,n,s){if(s){if(typeof n=="function"){var a=n;n=function(){var u=Lh(o);a.call(u)}}var o=MN(t,n,e,0,null,!1,!1,"",I0);return e._reactRootContainer=o,e[ea]=o.current,Xc(e.nodeType===8?e.parentNode:e),Qi(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=Lh(c);l.call(u)}}var c=My(e,0,!1,null,null,!1,!1,"",I0);return e._reactRootContainer=c,e[ea]=c.current,Xc(e.nodeType===8?e.parentNode:e),Qi(function(){Cf(t,c,r,n)}),c}function Pf(e,t,r,n,s){var a=r._reactRootContainer;if(a){var o=a;if(typeof s=="function"){var l=s;s=function(){var c=Lh(o);l.call(c)}}Cf(t,o,e,s)}else o=iI(r,t,e,s,n);return Lh(o)}dS=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=wc(t.pendingLanes);r!==0&&(ny(t,r|1),Ar(t,Et()),(We&6)===0&&(jl=Et()+500,ci()))}break;case 13:Qi(function(){var n=ta(e,1);if(n!==null){var s=fr();Un(n,e,1,s)}}),Dy(e,1)}};sy=function(e){if(e.tag===13){var t=ta(e,134217728);if(t!==null){var r=fr();Un(t,e,134217728,r)}Dy(e,134217728)}};hS=function(e){if(e.tag===13){var t=Ka(e),r=ta(e,t);if(r!==null){var n=fr();Un(r,e,t,n)}Dy(e,t)}};fS=function(){return Xe};mS=function(e,t){var r=Xe;try{return Xe=e,t()}finally{Xe=r}};Xp=function(e,t,r){switch(t){case"input":if(Wp(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=xf(n);if(!s)throw Error(H(90));W_(n),Wp(n,s)}}}break;case"textarea":K_(e,r);break;case"select":t=r.value,t!=null&&Ho(e,!!r.multiple,t,!1)}};eS=Ty;tS=Qi;var oI={usingClientEntryPoint:!1,Events:[Ru,Fo,xf,X_,Z_,Ty]},cc={findFiberByHostInstance:Ni,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lI={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ca.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=sS(e),e===null?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||aI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xd.isDisabled&&xd.supportsFiber)try{pf=xd.inject(lI),ms=xd}catch{}}Jr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oI;Jr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$y(t))throw Error(H(200));return sI(e,t,null,r)};Jr.createRoot=function(e,t){if(!$y(e))throw Error(H(299));var r=!1,n="",s=DN;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=My(e,1,!1,null,null,r,!1,n,s),e[ea]=t.current,Xc(e.nodeType===8?e.parentNode:e),new Ly(t)};Jr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(H(188)):(e=Object.keys(e).join(","),Error(H(268,e)));return e=sS(t),e=e===null?null:e.stateNode,e};Jr.flushSync=function(e){return Qi(e)};Jr.hydrate=function(e,t,r){if(!kf(t))throw Error(H(200));return Pf(null,e,t,!0,r)};Jr.hydrateRoot=function(e,t,r){if(!$y(e))throw Error(H(405));var n=r!=null&&r.hydratedSources||null,s=!1,a="",o=DN;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=MN(t,null,e,1,r??null,s,!1,a,o),e[ea]=t.current,Xc(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Ef(t)};Jr.render=function(e,t,r){if(!kf(t))throw Error(H(200));return Pf(null,e,t,!1,r)};Jr.unmountComponentAtNode=function(e){if(!kf(e))throw Error(H(40));return e._reactRootContainer?(Qi(function(){Pf(null,null,e,!1,function(){e._reactRootContainer=null,e[ea]=null})}),!0):!1};Jr.unstable_batchedUpdates=Ty;Jr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!kf(r))throw Error(H(200));if(e==null||e._reactInternals===void 0)throw Error(H(38));return Pf(e,t,r,!1,n)};Jr.version="18.3.1-next-f1338f8080-20240426";function LN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(LN)}catch(e){console.error(e)}}LN(),L_.exports=Jr;var oo=L_.exports;const $N=S_(oo);var FN,M0=oo;FN=M0.createRoot,M0.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ou(){return ou=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ou.apply(this,arguments)}var Ua;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ua||(Ua={}));const D0="popstate";function cI(e){e===void 0&&(e={});function t(n,s){let{pathname:a,search:o,hash:l}=n.location;return Tg("",{pathname:a,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:$h(s)}return dI(t,r,null,e)}function kt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function UN(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function uI(){return Math.random().toString(36).substr(2,8)}function L0(e,t){return{usr:e.state,key:e.key,idx:t}}function Tg(e,t,r,n){return r===void 0&&(r=null),ou({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Fl(t):t,{state:r,key:t&&t.key||n||uI()})}function $h(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Fl(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function dI(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:a=!1}=n,o=s.history,l=Ua.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(ou({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=Ua.Pop;let v=d(),b=v==null?null:v-u;u=v,c&&c({action:l,location:g.location,delta:b})}function f(v,b){l=Ua.Push;let y=Tg(g.location,v,b);u=d()+1;let x=L0(y,u),j=g.createHref(y);try{o.pushState(x,"",j)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;s.location.assign(j)}a&&c&&c({action:l,location:g.location,delta:1})}function m(v,b){l=Ua.Replace;let y=Tg(g.location,v,b);u=d();let x=L0(y,u),j=g.createHref(y);o.replaceState(x,"",j),a&&c&&c({action:l,location:g.location,delta:0})}function w(v){let b=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof v=="string"?v:$h(v);return y=y.replace(/ $/,"%20"),kt(b,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,b)}let g={get action(){return l},get location(){return e(s,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(D0,h),c=v,()=>{s.removeEventListener(D0,h),c=null}},createHref(v){return t(s,v)},createURL:w,encodeLocation(v){let b=w(v);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:f,replace:m,go(v){return o.go(v)}};return g}var $0;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})($0||($0={}));function hI(e,t,r){return r===void 0&&(r="/"),fI(e,t,r)}function fI(e,t,r,n){let s=typeof t=="string"?Fl(t):t,a=Fy(s.pathname||"/",r);if(a==null)return null;let o=zN(e);mI(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=CI(a);l=_I(o[c],u)}return l}function zN(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(kt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Ga([n,c.relativePath]),d=r.concat(c);a.children&&a.children.length>0&&(kt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),zN(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:bI(u,a.index),routesMeta:d})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,o);else for(let c of BN(a.path))s(a,o,c)}),t}function BN(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let o=BN(n.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function mI(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:jI(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const pI=/^:[\w-]+$/,gI=3,vI=2,yI=1,xI=10,wI=-2,F0=e=>e==="*";function bI(e,t){let r=e.split("/"),n=r.length;return r.some(F0)&&(n+=wI),t&&(n+=vI),r.filter(s=>!F0(s)).reduce((s,a)=>s+(pI.test(a)?gI:a===""?yI:xI),n)}function jI(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function _I(e,t,r){let{routesMeta:n}=e,s={},a="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=a==="/"?t:t.slice(a.length)||"/",h=SI({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Ga([a,h.pathname]),pathnameBase:RI(Ga([a,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(a=Ga([a,h.pathnameBase]))}return o}function SI(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=NI(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let a=s[0],o=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:f,isOptional:m}=d;if(f==="*"){let g=l[h]||"";o=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const w=l[h];return m&&!w?u[f]=void 0:u[f]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:e}}function NI(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),UN(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function CI(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return UN(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Fy(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function EI(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Fl(e):e;return{pathname:r?r.startsWith("/")?r:kI(r,t):t,search:TI(n),hash:AI(s)}}function kI(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function ip(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function PI(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Uy(e,t){let r=PI(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function zy(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Fl(e):(s=ou({},e),kt(!s.pathname||!s.pathname.includes("?"),ip("?","pathname","search",s)),kt(!s.pathname||!s.pathname.includes("#"),ip("#","pathname","hash",s)),kt(!s.search||!s.search.includes("#"),ip("#","search","hash",s)));let a=e===""||s.pathname==="",o=a?"/":s.pathname,l;if(o==null)l=r;else{let h=t.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}l=h>=0?t[h]:"/"}let c=EI(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Ga=e=>e.join("/").replace(/\/\/+/g,"/"),RI=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),TI=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,AI=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function OI(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const VN=["post","put","patch","delete"];new Set(VN);const II=["get",...VN];new Set(II);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lu(){return lu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lu.apply(this,arguments)}const By=p.createContext(null),MI=p.createContext(null),ui=p.createContext(null),Rf=p.createContext(null),ua=p.createContext({outlet:null,matches:[],isDataRoute:!1}),qN=p.createContext(null);function DI(e,t){let{relative:r}=t===void 0?{}:t;Ul()||kt(!1);let{basename:n,navigator:s}=p.useContext(ui),{hash:a,pathname:o,search:l}=HN(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Ga([n,o])),s.createHref({pathname:c,search:l,hash:a})}function Ul(){return p.useContext(Rf)!=null}function lo(){return Ul()||kt(!1),p.useContext(Rf).location}function WN(e){p.useContext(ui).static||p.useLayoutEffect(e)}function gt(){let{isDataRoute:e}=p.useContext(ua);return e?GI():LI()}function LI(){Ul()||kt(!1);let e=p.useContext(By),{basename:t,future:r,navigator:n}=p.useContext(ui),{matches:s}=p.useContext(ua),{pathname:a}=lo(),o=JSON.stringify(Uy(s,r.v7_relativeSplatPath)),l=p.useRef(!1);return WN(()=>{l.current=!0}),p.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let h=zy(u,JSON.parse(o),a,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Ga([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,o,a,e])}function zl(){let{matches:e}=p.useContext(ua),t=e[e.length-1];return t?t.params:{}}function HN(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=p.useContext(ui),{matches:s}=p.useContext(ua),{pathname:a}=lo(),o=JSON.stringify(Uy(s,n.v7_relativeSplatPath));return p.useMemo(()=>zy(e,JSON.parse(o),a,r==="path"),[e,o,a,r])}function $I(e,t){return FI(e,t)}function FI(e,t,r,n){Ul()||kt(!1);let{navigator:s}=p.useContext(ui),{matches:a}=p.useContext(ua),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=lo(),d;if(t){var h;let v=typeof t=="string"?Fl(t):t;c==="/"||(h=v.pathname)!=null&&h.startsWith(c)||kt(!1),d=v}else d=u;let f=d.pathname||"/",m=f;if(c!=="/"){let v=c.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(v.length).join("/")}let w=hI(e,{pathname:m}),g=qI(w&&w.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:Ga([c,s.encodeLocation?s.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:Ga([c,s.encodeLocation?s.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),a,r,n);return t&&g?p.createElement(Rf.Provider,{value:{location:lu({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ua.Pop}},g):g}function UI(){let e=QI(),t=OI(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),r?p.createElement("pre",{style:s},r):null,null)}const zI=p.createElement(UI,null);class BI extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?p.createElement(ua.Provider,{value:this.props.routeContext},p.createElement(qN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function VI(e){let{routeContext:t,match:r,children:n}=e,s=p.useContext(By);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),p.createElement(ua.Provider,{value:t},n)}function qI(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||kt(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:m}=r,w=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||w){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let m,w=!1,g=null,v=null;r&&(m=l&&h.route.id?l[h.route.id]:void 0,g=h.route.errorElement||zI,c&&(u<0&&f===0?(YI("route-fallback"),w=!0,v=null):u===f&&(w=!0,v=h.route.hydrateFallbackElement||null)));let b=t.concat(o.slice(0,f+1)),y=()=>{let x;return m?x=g:w?x=v:h.route.Component?x=p.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=d,p.createElement(VI,{match:h,routeContext:{outlet:d,matches:b,isDataRoute:r!=null},children:x})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?p.createElement(BI,{location:r.location,revalidation:r.revalidation,component:g,error:m,children:y(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):y()},null)}var KN=(function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e})(KN||{}),QN=(function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e})(QN||{});function WI(e){let t=p.useContext(By);return t||kt(!1),t}function HI(e){let t=p.useContext(MI);return t||kt(!1),t}function KI(e){let t=p.useContext(ua);return t||kt(!1),t}function GN(e){let t=KI(),r=t.matches[t.matches.length-1];return r.route.id||kt(!1),r.route.id}function QI(){var e;let t=p.useContext(qN),r=HI(),n=GN();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function GI(){let{router:e}=WI(KN.UseNavigateStable),t=GN(QN.UseNavigateStable),r=p.useRef(!1);return WN(()=>{r.current=!0}),p.useCallback(function(s,a){a===void 0&&(a={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,lu({fromRouteId:t},a)))},[e,t])}const U0={};function YI(e,t,r){U0[e]||(U0[e]=!0)}function JI(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Po(e){let{to:t,replace:r,state:n,relative:s}=e;Ul()||kt(!1);let{future:a,static:o}=p.useContext(ui),{matches:l}=p.useContext(ua),{pathname:c}=lo(),u=gt(),d=zy(t,Uy(l,a.v7_relativeSplatPath),c,s==="path"),h=JSON.stringify(d);return p.useEffect(()=>u(JSON.parse(h),{replace:r,state:n,relative:s}),[u,h,s,r,n]),null}function Ye(e){kt(!1)}function XI(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Ua.Pop,navigator:a,static:o=!1,future:l}=e;Ul()&&kt(!1);let c=t.replace(/^\/*/,"/"),u=p.useMemo(()=>({basename:c,navigator:a,static:o,future:lu({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof n=="string"&&(n=Fl(n));let{pathname:d="/",search:h="",hash:f="",state:m=null,key:w="default"}=n,g=p.useMemo(()=>{let v=Fy(d,c);return v==null?null:{location:{pathname:v,search:h,hash:f,state:m,key:w},navigationType:s}},[c,d,h,f,m,w,s]);return g==null?null:p.createElement(ui.Provider,{value:u},p.createElement(Rf.Provider,{children:r,value:g}))}function ZI(e){let{children:t,location:r}=e;return $I(Ag(t),r)}new Promise(()=>{});function Ag(e,t){t===void 0&&(t=[]);let r=[];return p.Children.forEach(e,(n,s)=>{if(!p.isValidElement(n))return;let a=[...t,s];if(n.type===p.Fragment){r.push.apply(r,Ag(n.props.children,a));return}n.type!==Ye&&kt(!1),!n.props.index||!n.props.children||kt(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Ag(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Og(){return Og=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Og.apply(this,arguments)}function eM(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,a;for(a=0;a<n.length;a++)s=n[a],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function tM(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function rM(e,t){return e.button===0&&(!t||t==="_self")&&!tM(e)}function Ig(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function nM(e,t){let r=Ig(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(a=>{r.append(s,a)})}),r}const sM=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],aM="6";try{window.__reactRouterVersion=aM}catch{}const iM="startTransition",z0=Qv[iM];function oM(e){let{basename:t,children:r,future:n,window:s}=e,a=p.useRef();a.current==null&&(a.current=cI({window:s,v5Compat:!0}));let o=a.current,[l,c]=p.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=p.useCallback(h=>{u&&z0?z0(()=>c(h)):c(h)},[c,u]);return p.useLayoutEffect(()=>o.listen(d),[o,d]),p.useEffect(()=>JI(n),[n]),p.createElement(XI,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const lM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",cM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nn=p.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,f=eM(t,sM),{basename:m}=p.useContext(ui),w,g=!1;if(typeof u=="string"&&cM.test(u)&&(w=u,lM))try{let x=new URL(window.location.href),j=u.startsWith("//")?new URL(x.protocol+u):new URL(u),_=Fy(j.pathname,m);j.origin===x.origin&&_!=null?u=_+j.search+j.hash:g=!0}catch{}let v=DI(u,{relative:s}),b=uM(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:h});function y(x){n&&n(x),x.defaultPrevented||b(x)}return p.createElement("a",Og({},f,{href:w||v,onClick:g||a?n:y,ref:r,target:c}))});var B0;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(B0||(B0={}));var V0;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(V0||(V0={}));function uM(e,t){let{target:r,replace:n,state:s,preventScrollReset:a,relative:o,viewTransition:l}=t===void 0?{}:t,c=gt(),u=lo(),d=HN(e,{relative:o});return p.useCallback(h=>{if(rM(h,r)){h.preventDefault();let f=n!==void 0?n:$h(u)===$h(d);c(e,{replace:f,state:s,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,d,n,s,r,e,a,o,l])}function dM(e){let t=p.useRef(Ig(e)),r=p.useRef(!1),n=lo(),s=p.useMemo(()=>nM(n.search,r.current?null:t.current),[n.search]),a=gt(),o=p.useCallback((l,c)=>{const u=Ig(typeof l=="function"?l(s):l);r.current=!0,a("?"+u,c)},[a,s]);return[s,o]}var Bl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},hM={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Pa,Vv,f_,fM=(f_=class{constructor(){pe(this,Pa,hM);pe(this,Vv,!1)}setTimeoutProvider(e){ne(this,Pa,e)}setTimeout(e,t){return E(this,Pa).setTimeout(e,t)}clearTimeout(e){E(this,Pa).clearTimeout(e)}setInterval(e,t){return E(this,Pa).setInterval(e,t)}clearInterval(e){E(this,Pa).clearInterval(e)}},Pa=new WeakMap,Vv=new WeakMap,f_),ki=new fM;function mM(e){setTimeout(e,0)}var Gi=typeof window>"u"||"Deno"in globalThis;function dr(){}function pM(e,t){return typeof e=="function"?e(t):e}function Mg(e){return typeof e=="number"&&e>=0&&e!==1/0}function YN(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ya(e,t){return typeof e=="function"?e(t):e}function en(e,t){return typeof e=="function"?e(t):e}function q0(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:a,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==Vy(o,t.options))return!1}else if(!cu(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||a&&!a(t))}function W0(e,t){const{exact:r,status:n,predicate:s,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(Yi(t.options.mutationKey)!==Yi(a))return!1}else if(!cu(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function Vy(e,t){return((t==null?void 0:t.queryKeyHashFn)||Yi)(e)}function Yi(e){return JSON.stringify(e,(t,r)=>Dg(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function cu(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>cu(e[r],t[r])):!1}var gM=Object.prototype.hasOwnProperty;function JN(e,t){if(e===t)return e;const r=H0(e)&&H0(t);if(!r&&!(Dg(e)&&Dg(t)))return t;const s=(r?e:Object.keys(e)).length,a=r?t:Object.keys(t),o=a.length,l=r?new Array(o):{};let c=0;for(let u=0;u<o;u++){const d=r?u:a[u],h=e[d],f=t[d];if(h===f){l[d]=h,(r?u<s:gM.call(e,d))&&c++;continue}if(h===null||f===null||typeof h!="object"||typeof f!="object"){l[d]=f;continue}const m=JN(h,f);l[d]=m,m===h&&c++}return s===o&&c===s?e:l}function Fh(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function H0(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Dg(e){if(!K0(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!K0(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function K0(e){return Object.prototype.toString.call(e)==="[object Object]"}function vM(e){return new Promise(t=>{ki.setTimeout(t,e)})}function Lg(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?JN(e,t):t}function yM(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function xM(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var qy=Symbol();function XN(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===qy?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function ZN(e,t){return typeof e=="function"?e(...t):!!e}var Ai,Ra,sl,m_,wM=(m_=class extends Bl{constructor(){super();pe(this,Ai);pe(this,Ra);pe(this,sl);ne(this,sl,t=>{if(!Gi&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){E(this,Ra)||this.setEventListener(E(this,sl))}onUnsubscribe(){var t;this.hasListeners()||((t=E(this,Ra))==null||t.call(this),ne(this,Ra,void 0))}setEventListener(t){var r;ne(this,sl,t),(r=E(this,Ra))==null||r.call(this),ne(this,Ra,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){E(this,Ai)!==t&&(ne(this,Ai,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof E(this,Ai)=="boolean"?E(this,Ai):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ai=new WeakMap,Ra=new WeakMap,sl=new WeakMap,m_),Wy=new wM;function $g(){let e,t;const r=new Promise((s,a)=>{e=s,t=a});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}var bM=mM;function jM(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=bM;const a=l=>{t?e.push(l):s(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var Ut=jM(),al,Ta,il,p_,_M=(p_=class extends Bl{constructor(){super();pe(this,al,!0);pe(this,Ta);pe(this,il);ne(this,il,t=>{if(!Gi&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){E(this,Ta)||this.setEventListener(E(this,il))}onUnsubscribe(){var t;this.hasListeners()||((t=E(this,Ta))==null||t.call(this),ne(this,Ta,void 0))}setEventListener(t){var r;ne(this,il,t),(r=E(this,Ta))==null||r.call(this),ne(this,Ta,t(this.setOnline.bind(this)))}setOnline(t){E(this,al)!==t&&(ne(this,al,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return E(this,al)}},al=new WeakMap,Ta=new WeakMap,il=new WeakMap,p_),Uh=new _M;function SM(e){return Math.min(1e3*2**e,3e4)}function e1(e){return(e??"online")==="online"?Uh.isOnline():!0}var Fg=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function t1(e){let t=!1,r=0,n;const s=$g(),a=()=>s.status!=="pending",o=g=>{var v;if(!a()){const b=new Fg(g);f(b),(v=e.onCancel)==null||v.call(e,b)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>Wy.isFocused()&&(e.networkMode==="always"||Uh.isOnline())&&e.canRun(),d=()=>e1(e.networkMode)&&e.canRun(),h=g=>{a()||(n==null||n(),s.resolve(g))},f=g=>{a()||(n==null||n(),s.reject(g))},m=()=>new Promise(g=>{var v;n=b=>{(a()||u())&&g(b)},(v=e.onPause)==null||v.call(e)}).then(()=>{var g;n=void 0,a()||(g=e.onContinue)==null||g.call(e)}),w=()=>{if(a())return;let g;const v=r===0?e.initialPromise:void 0;try{g=v??e.fn()}catch(b){g=Promise.reject(b)}Promise.resolve(g).then(h).catch(b=>{var S;if(a())return;const y=e.retry??(Gi?0:3),x=e.retryDelay??SM,j=typeof x=="function"?x(r,b):x,_=y===!0||typeof y=="number"&&r<y||typeof y=="function"&&y(r,b);if(t||!_){f(b);return}r++,(S=e.onFail)==null||S.call(e,r,b),vM(j).then(()=>u()?void 0:m()).then(()=>{t?f(b):w()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(n==null||n(),s),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?w():m().then(w),s)}}var Oi,g_,r1=(g_=class{constructor(){pe(this,Oi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Mg(this.gcTime)&&ne(this,Oi,ki.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Gi?1/0:300*1e3))}clearGcTimeout(){E(this,Oi)&&(ki.clearTimeout(E(this,Oi)),ne(this,Oi,void 0))}},Oi=new WeakMap,g_),Ii,ol,Zr,Mi,qt,ju,Di,An,Is,v_,NM=(v_=class extends r1{constructor(t){super();pe(this,An);pe(this,Ii);pe(this,ol);pe(this,Zr);pe(this,Mi);pe(this,qt);pe(this,ju);pe(this,Di);ne(this,Di,!1),ne(this,ju,t.defaultOptions),this.setOptions(t.options),this.observers=[],ne(this,Mi,t.client),ne(this,Zr,E(this,Mi).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ne(this,Ii,Q0(this.options)),this.state=t.state??E(this,Ii),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=E(this,qt))==null?void 0:t.promise}setOptions(t){if(this.options={...E(this,ju),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=Q0(this.options);r.data!==void 0&&(this.setData(r.data,{updatedAt:r.dataUpdatedAt,manual:!0}),ne(this,Ii,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&E(this,Zr).remove(this)}setData(t,r){const n=Lg(this.state.data,t,this.options);return Ae(this,An,Is).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Ae(this,An,Is).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=E(this,qt))==null?void 0:n.promise;return(s=E(this,qt))==null||s.cancel(t),r?r.then(dr).catch(dr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(E(this,Ii))}isActive(){return this.observers.some(t=>en(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===qy||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Ya(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!YN(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=E(this,qt))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=E(this,qt))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),E(this,Zr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(E(this,qt)&&(E(this,Di)?E(this,qt).cancel({revert:!0}):E(this,qt).cancelRetry()),this.scheduleGc()),E(this,Zr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ae(this,An,Is).call(this,{type:"invalidate"})}async fetch(t,r){var c,u,d,h,f,m,w,g,v,b,y,x;if(this.state.fetchStatus!=="idle"&&((c=E(this,qt))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(E(this,qt))return E(this,qt).continueRetry(),E(this,qt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const j=this.observers.find(_=>_.options.queryFn);j&&this.setOptions(j.options)}const n=new AbortController,s=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(ne(this,Di,!0),n.signal)})},a=()=>{const j=XN(this.options,r),S=(()=>{const N={client:E(this,Mi),queryKey:this.queryKey,meta:this.meta};return s(N),N})();return ne(this,Di,!1),this.options.persister?this.options.persister(j,S,this):j(S)},l=(()=>{const j={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:E(this,Mi),state:this.state,fetchFn:a};return s(j),j})();(u=this.options.behavior)==null||u.onFetch(l,this),ne(this,ol,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&Ae(this,An,Is).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta}),ne(this,qt,t1({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:j=>{j instanceof Fg&&j.revert&&this.setState({...E(this,ol),fetchStatus:"idle"}),n.abort()},onFail:(j,_)=>{Ae(this,An,Is).call(this,{type:"failed",failureCount:j,error:_})},onPause:()=>{Ae(this,An,Is).call(this,{type:"pause"})},onContinue:()=>{Ae(this,An,Is).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const j=await E(this,qt).start();if(j===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(j),(m=(f=E(this,Zr).config).onSuccess)==null||m.call(f,j,this),(g=(w=E(this,Zr).config).onSettled)==null||g.call(w,j,this.state.error,this),j}catch(j){if(j instanceof Fg){if(j.silent)return E(this,qt).promise;if(j.revert){if(this.state.data===void 0)throw j;return this.state.data}}throw Ae(this,An,Is).call(this,{type:"error",error:j}),(b=(v=E(this,Zr).config).onError)==null||b.call(v,j,this),(x=(y=E(this,Zr).config).onSettled)==null||x.call(y,this.state.data,j,this),j}finally{this.scheduleGc()}}},Ii=new WeakMap,ol=new WeakMap,Zr=new WeakMap,Mi=new WeakMap,qt=new WeakMap,ju=new WeakMap,Di=new WeakMap,An=new WeakSet,Is=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...n1(n.data,this.options),fetchMeta:t.meta??null};case"success":const s={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ne(this,ol,t.manual?s:void 0),s;case"error":const a=t.error;return{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Ut.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),E(this,Zr).notify({query:this,type:"updated",action:t})})},v_);function n1(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:e1(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Q0(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var jr,Be,_u,lr,Li,ll,$s,Aa,Su,cl,ul,$i,Fi,Oa,dl,Ge,jc,Ug,zg,Bg,Vg,qg,Wg,Hg,s1,y_,CM=(y_=class extends Bl{constructor(t,r){super();pe(this,Ge);pe(this,jr);pe(this,Be);pe(this,_u);pe(this,lr);pe(this,Li);pe(this,ll);pe(this,$s);pe(this,Aa);pe(this,Su);pe(this,cl);pe(this,ul);pe(this,$i);pe(this,Fi);pe(this,Oa);pe(this,dl,new Set);this.options=r,ne(this,jr,t),ne(this,Aa,null),ne(this,$s,$g()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(E(this,Be).addObserver(this),G0(E(this,Be),this.options)?Ae(this,Ge,jc).call(this):this.updateResult(),Ae(this,Ge,Vg).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Kg(E(this,Be),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Kg(E(this,Be),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ae(this,Ge,qg).call(this),Ae(this,Ge,Wg).call(this),E(this,Be).removeObserver(this)}setOptions(t){const r=this.options,n=E(this,Be);if(this.options=E(this,jr).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof en(this.options.enabled,E(this,Be))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ae(this,Ge,Hg).call(this),E(this,Be).setOptions(this.options),r._defaulted&&!Fh(this.options,r)&&E(this,jr).getQueryCache().notify({type:"observerOptionsUpdated",query:E(this,Be),observer:this});const s=this.hasListeners();s&&Y0(E(this,Be),n,this.options,r)&&Ae(this,Ge,jc).call(this),this.updateResult(),s&&(E(this,Be)!==n||en(this.options.enabled,E(this,Be))!==en(r.enabled,E(this,Be))||Ya(this.options.staleTime,E(this,Be))!==Ya(r.staleTime,E(this,Be)))&&Ae(this,Ge,Ug).call(this);const a=Ae(this,Ge,zg).call(this);s&&(E(this,Be)!==n||en(this.options.enabled,E(this,Be))!==en(r.enabled,E(this,Be))||a!==E(this,Oa))&&Ae(this,Ge,Bg).call(this,a)}getOptimisticResult(t){const r=E(this,jr).getQueryCache().build(E(this,jr),t),n=this.createResult(r,t);return kM(this,n)&&(ne(this,lr,n),ne(this,ll,this.options),ne(this,Li,E(this,Be).state)),n}getCurrentResult(){return E(this,lr)}trackResult(t,r){return new Proxy(t,{get:(n,s)=>(this.trackProp(s),r==null||r(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&E(this,$s).status==="pending"&&E(this,$s).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,s))})}trackProp(t){E(this,dl).add(t)}getCurrentQuery(){return E(this,Be)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=E(this,jr).defaultQueryOptions(t),n=E(this,jr).getQueryCache().build(E(this,jr),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Ae(this,Ge,jc).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),E(this,lr)))}createResult(t,r){var R;const n=E(this,Be),s=this.options,a=E(this,lr),o=E(this,Li),l=E(this,ll),u=t!==n?t.state:E(this,_u),{state:d}=t;let h={...d},f=!1,m;if(r._optimisticResults){const T=this.hasListeners(),z=!T&&G0(t,r),D=T&&Y0(t,n,r,s);(z||D)&&(h={...h,...n1(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:w,errorUpdatedAt:g,status:v}=h;m=h.data;let b=!1;if(r.placeholderData!==void 0&&m===void 0&&v==="pending"){let T;a!=null&&a.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(T=a.data,b=!0):T=typeof r.placeholderData=="function"?r.placeholderData((R=E(this,ul))==null?void 0:R.state.data,E(this,ul)):r.placeholderData,T!==void 0&&(v="success",m=Lg(a==null?void 0:a.data,T,r),f=!0)}if(r.select&&m!==void 0&&!b)if(a&&m===(o==null?void 0:o.data)&&r.select===E(this,Su))m=E(this,cl);else try{ne(this,Su,r.select),m=r.select(m),m=Lg(a==null?void 0:a.data,m,r),ne(this,cl,m),ne(this,Aa,null)}catch(T){ne(this,Aa,T)}E(this,Aa)&&(w=E(this,Aa),m=E(this,cl),g=Date.now(),v="error");const y=h.fetchStatus==="fetching",x=v==="pending",j=v==="error",_=x&&y,S=m!==void 0,C={status:v,fetchStatus:h.fetchStatus,isPending:x,isSuccess:v==="success",isError:j,isInitialLoading:_,isLoading:_,data:m,dataUpdatedAt:h.dataUpdatedAt,error:w,errorUpdatedAt:g,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:y,isRefetching:y&&!x,isLoadingError:j&&!S,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:j&&S,isStale:Hy(t,r),refetch:this.refetch,promise:E(this,$s),isEnabled:en(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const T=V=>{C.status==="error"?V.reject(C.error):C.data!==void 0&&V.resolve(C.data)},z=()=>{const V=ne(this,$s,C.promise=$g());T(V)},D=E(this,$s);switch(D.status){case"pending":t.queryHash===n.queryHash&&T(D);break;case"fulfilled":(C.status==="error"||C.data!==D.value)&&z();break;case"rejected":(C.status!=="error"||C.error!==D.reason)&&z();break}}return C}updateResult(){const t=E(this,lr),r=this.createResult(E(this,Be),this.options);if(ne(this,Li,E(this,Be).state),ne(this,ll,this.options),E(this,Li).data!==void 0&&ne(this,ul,E(this,Be)),Fh(r,t))return;ne(this,lr,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,a=typeof s=="function"?s():s;if(a==="all"||!a&&!E(this,dl).size)return!0;const o=new Set(a??E(this,dl));return this.options.throwOnError&&o.add("error"),Object.keys(E(this,lr)).some(l=>{const c=l;return E(this,lr)[c]!==t[c]&&o.has(c)})};Ae(this,Ge,s1).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ae(this,Ge,Vg).call(this)}},jr=new WeakMap,Be=new WeakMap,_u=new WeakMap,lr=new WeakMap,Li=new WeakMap,ll=new WeakMap,$s=new WeakMap,Aa=new WeakMap,Su=new WeakMap,cl=new WeakMap,ul=new WeakMap,$i=new WeakMap,Fi=new WeakMap,Oa=new WeakMap,dl=new WeakMap,Ge=new WeakSet,jc=function(t){Ae(this,Ge,Hg).call(this);let r=E(this,Be).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(dr)),r},Ug=function(){Ae(this,Ge,qg).call(this);const t=Ya(this.options.staleTime,E(this,Be));if(Gi||E(this,lr).isStale||!Mg(t))return;const n=YN(E(this,lr).dataUpdatedAt,t)+1;ne(this,$i,ki.setTimeout(()=>{E(this,lr).isStale||this.updateResult()},n))},zg=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(E(this,Be)):this.options.refetchInterval)??!1},Bg=function(t){Ae(this,Ge,Wg).call(this),ne(this,Oa,t),!(Gi||en(this.options.enabled,E(this,Be))===!1||!Mg(E(this,Oa))||E(this,Oa)===0)&&ne(this,Fi,ki.setInterval(()=>{(this.options.refetchIntervalInBackground||Wy.isFocused())&&Ae(this,Ge,jc).call(this)},E(this,Oa)))},Vg=function(){Ae(this,Ge,Ug).call(this),Ae(this,Ge,Bg).call(this,Ae(this,Ge,zg).call(this))},qg=function(){E(this,$i)&&(ki.clearTimeout(E(this,$i)),ne(this,$i,void 0))},Wg=function(){E(this,Fi)&&(ki.clearInterval(E(this,Fi)),ne(this,Fi,void 0))},Hg=function(){const t=E(this,jr).getQueryCache().build(E(this,jr),this.options);if(t===E(this,Be))return;const r=E(this,Be);ne(this,Be,t),ne(this,_u,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},s1=function(t){Ut.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(E(this,lr))}),E(this,jr).getQueryCache().notify({query:E(this,Be),type:"observerResultsUpdated"})})},y_);function EM(e,t){return en(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function G0(e,t){return EM(e,t)||e.state.data!==void 0&&Kg(e,t,t.refetchOnMount)}function Kg(e,t,r){if(en(t.enabled,e)!==!1&&Ya(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&Hy(e,t)}return!1}function Y0(e,t,r,n){return(e!==t||en(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Hy(e,r)}function Hy(e,t){return en(t.enabled,e)!==!1&&e.isStaleByTime(Ya(t.staleTime,e))}function kM(e,t){return!Fh(e.getCurrentResult(),t)}function J0(e){return{onFetch:(t,r)=>{var d,h,f,m,w;const n=t.options,s=(f=(h=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,a=((m=t.state.data)==null?void 0:m.pages)||[],o=((w=t.state.data)==null?void 0:w.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const v=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},b=XN(t.options,t.fetchOptions),y=async(x,j,_)=>{if(g)return Promise.reject();if(j==null&&x.pages.length)return Promise.resolve(x);const N=(()=>{const z={client:t.client,queryKey:t.queryKey,pageParam:j,direction:_?"backward":"forward",meta:t.options.meta};return v(z),z})(),C=await b(N),{maxPages:R}=t.options,T=_?xM:yM;return{pages:T(x.pages,C,R),pageParams:T(x.pageParams,j,R)}};if(s&&a.length){const x=s==="backward",j=x?PM:X0,_={pages:a,pageParams:o},S=j(n,_);l=await y(_,S,x)}else{const x=e??a.length;do{const j=c===0?o[0]??n.initialPageParam:X0(n,l);if(c>0&&j==null)break;l=await y(l,j),c++}while(c<x)}return l};t.options.persister?t.fetchFn=()=>{var g,v;return(v=(g=t.options).persister)==null?void 0:v.call(g,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function X0(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function PM(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Nu,os,cr,Ui,ls,wa,x_,RM=(x_=class extends r1{constructor(t){super();pe(this,ls);pe(this,Nu);pe(this,os);pe(this,cr);pe(this,Ui);ne(this,Nu,t.client),this.mutationId=t.mutationId,ne(this,cr,t.mutationCache),ne(this,os,[]),this.state=t.state||a1(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){E(this,os).includes(t)||(E(this,os).push(t),this.clearGcTimeout(),E(this,cr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ne(this,os,E(this,os).filter(r=>r!==t)),this.scheduleGc(),E(this,cr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){E(this,os).length||(this.state.status==="pending"?this.scheduleGc():E(this,cr).remove(this))}continue(){var t;return((t=E(this,Ui))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,c,u,d,h,f,m,w,g,v,b,y,x,j,_,S,N,C,R;const r=()=>{Ae(this,ls,wa).call(this,{type:"continue"})},n={client:E(this,Nu),meta:this.options.meta,mutationKey:this.options.mutationKey};ne(this,Ui,t1({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(T,z)=>{Ae(this,ls,wa).call(this,{type:"failed",failureCount:T,error:z})},onPause:()=>{Ae(this,ls,wa).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>E(this,cr).canRun(this)}));const s=this.state.status==="pending",a=!E(this,Ui).canStart();try{if(s)r();else{Ae(this,ls,wa).call(this,{type:"pending",variables:t,isPaused:a}),await((l=(o=E(this,cr).config).onMutate)==null?void 0:l.call(o,t,this,n));const z=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,n));z!==this.state.context&&Ae(this,ls,wa).call(this,{type:"pending",context:z,variables:t,isPaused:a})}const T=await E(this,Ui).start();return await((h=(d=E(this,cr).config).onSuccess)==null?void 0:h.call(d,T,t,this.state.context,this,n)),await((m=(f=this.options).onSuccess)==null?void 0:m.call(f,T,t,this.state.context,n)),await((g=(w=E(this,cr).config).onSettled)==null?void 0:g.call(w,T,null,this.state.variables,this.state.context,this,n)),await((b=(v=this.options).onSettled)==null?void 0:b.call(v,T,null,t,this.state.context,n)),Ae(this,ls,wa).call(this,{type:"success",data:T}),T}catch(T){try{throw await((x=(y=E(this,cr).config).onError)==null?void 0:x.call(y,T,t,this.state.context,this,n)),await((_=(j=this.options).onError)==null?void 0:_.call(j,T,t,this.state.context,n)),await((N=(S=E(this,cr).config).onSettled)==null?void 0:N.call(S,void 0,T,this.state.variables,this.state.context,this,n)),await((R=(C=this.options).onSettled)==null?void 0:R.call(C,void 0,T,t,this.state.context,n)),T}finally{Ae(this,ls,wa).call(this,{type:"error",error:T})}}finally{E(this,cr).runNext(this)}}},Nu=new WeakMap,os=new WeakMap,cr=new WeakMap,Ui=new WeakMap,ls=new WeakSet,wa=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Ut.batch(()=>{E(this,os).forEach(n=>{n.onMutationUpdate(t)}),E(this,cr).notify({mutation:this,type:"updated",action:t})})},x_);function a1(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Fs,On,Cu,w_,TM=(w_=class extends Bl{constructor(t={}){super();pe(this,Fs);pe(this,On);pe(this,Cu);this.config=t,ne(this,Fs,new Set),ne(this,On,new Map),ne(this,Cu,0)}build(t,r,n){const s=new RM({client:t,mutationCache:this,mutationId:++rd(this,Cu)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){E(this,Fs).add(t);const r=wd(t);if(typeof r=="string"){const n=E(this,On).get(r);n?n.push(t):E(this,On).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(E(this,Fs).delete(t)){const r=wd(t);if(typeof r=="string"){const n=E(this,On).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&E(this,On).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=wd(t);if(typeof r=="string"){const n=E(this,On).get(r),s=n==null?void 0:n.find(a=>a.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=wd(t);if(typeof r=="string"){const s=(n=E(this,On).get(r))==null?void 0:n.find(a=>a!==t&&a.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ut.batch(()=>{E(this,Fs).forEach(t=>{this.notify({type:"removed",mutation:t})}),E(this,Fs).clear(),E(this,On).clear()})}getAll(){return Array.from(E(this,Fs))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>W0(r,n))}findAll(t={}){return this.getAll().filter(r=>W0(t,r))}notify(t){Ut.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Ut.batch(()=>Promise.all(t.map(r=>r.continue().catch(dr))))}},Fs=new WeakMap,On=new WeakMap,Cu=new WeakMap,w_);function wd(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Us,Ia,_r,zs,Xs,eh,Qg,b_,AM=(b_=class extends Bl{constructor(r,n){super();pe(this,Xs);pe(this,Us);pe(this,Ia);pe(this,_r);pe(this,zs);ne(this,Us,r),this.setOptions(n),this.bindMethods(),Ae(this,Xs,eh).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=E(this,Us).defaultMutationOptions(r),Fh(this.options,n)||E(this,Us).getMutationCache().notify({type:"observerOptionsUpdated",mutation:E(this,_r),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Yi(n.mutationKey)!==Yi(this.options.mutationKey)?this.reset():((s=E(this,_r))==null?void 0:s.state.status)==="pending"&&E(this,_r).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=E(this,_r))==null||r.removeObserver(this)}onMutationUpdate(r){Ae(this,Xs,eh).call(this),Ae(this,Xs,Qg).call(this,r)}getCurrentResult(){return E(this,Ia)}reset(){var r;(r=E(this,_r))==null||r.removeObserver(this),ne(this,_r,void 0),Ae(this,Xs,eh).call(this),Ae(this,Xs,Qg).call(this)}mutate(r,n){var s;return ne(this,zs,n),(s=E(this,_r))==null||s.removeObserver(this),ne(this,_r,E(this,Us).getMutationCache().build(E(this,Us),this.options)),E(this,_r).addObserver(this),E(this,_r).execute(r)}},Us=new WeakMap,Ia=new WeakMap,_r=new WeakMap,zs=new WeakMap,Xs=new WeakSet,eh=function(){var n;const r=((n=E(this,_r))==null?void 0:n.state)??a1();ne(this,Ia,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Qg=function(r){Ut.batch(()=>{var n,s,a,o,l,c,u,d;if(E(this,zs)&&this.hasListeners()){const h=E(this,Ia).variables,f=E(this,Ia).context,m={client:E(this,Us),meta:this.options.meta,mutationKey:this.options.mutationKey};(r==null?void 0:r.type)==="success"?((s=(n=E(this,zs)).onSuccess)==null||s.call(n,r.data,h,f,m),(o=(a=E(this,zs)).onSettled)==null||o.call(a,r.data,null,h,f,m)):(r==null?void 0:r.type)==="error"&&((c=(l=E(this,zs)).onError)==null||c.call(l,r.error,h,f,m),(d=(u=E(this,zs)).onSettled)==null||d.call(u,void 0,r.error,h,f,m))}this.listeners.forEach(h=>{h(E(this,Ia))})})},b_),cs,j_,OM=(j_=class extends Bl{constructor(t={}){super();pe(this,cs);this.config=t,ne(this,cs,new Map)}build(t,r,n){const s=r.queryKey,a=r.queryHash??Vy(s,r);let o=this.get(a);return o||(o=new NM({client:t,queryKey:s,queryHash:a,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){E(this,cs).has(t.queryHash)||(E(this,cs).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=E(this,cs).get(t.queryHash);r&&(t.destroy(),r===t&&E(this,cs).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ut.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return E(this,cs).get(t)}getAll(){return[...E(this,cs).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>q0(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>q0(t,n)):r}notify(t){Ut.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Ut.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ut.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},cs=new WeakMap,j_),yt,Ma,Da,hl,fl,La,ml,pl,__,IM=(__=class{constructor(e={}){pe(this,yt);pe(this,Ma);pe(this,Da);pe(this,hl);pe(this,fl);pe(this,La);pe(this,ml);pe(this,pl);ne(this,yt,e.queryCache||new OM),ne(this,Ma,e.mutationCache||new TM),ne(this,Da,e.defaultOptions||{}),ne(this,hl,new Map),ne(this,fl,new Map),ne(this,La,0)}mount(){rd(this,La)._++,E(this,La)===1&&(ne(this,ml,Wy.subscribe(async e=>{e&&(await this.resumePausedMutations(),E(this,yt).onFocus())})),ne(this,pl,Uh.subscribe(async e=>{e&&(await this.resumePausedMutations(),E(this,yt).onOnline())})))}unmount(){var e,t;rd(this,La)._--,E(this,La)===0&&((e=E(this,ml))==null||e.call(this),ne(this,ml,void 0),(t=E(this,pl))==null||t.call(this),ne(this,pl,void 0))}isFetching(e){return E(this,yt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return E(this,Ma).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=E(this,yt).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=E(this,yt).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Ya(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return E(this,yt).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=E(this,yt).get(n.queryHash),a=s==null?void 0:s.state.data,o=pM(t,a);if(o!==void 0)return E(this,yt).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return Ut.batch(()=>E(this,yt).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=E(this,yt).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=E(this,yt);Ut.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=E(this,yt);return Ut.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Ut.batch(()=>E(this,yt).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(dr).catch(dr)}invalidateQueries(e,t={}){return Ut.batch(()=>(E(this,yt).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Ut.batch(()=>E(this,yt).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let a=s.fetch(void 0,r);return r.throwOnError||(a=a.catch(dr)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(dr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=E(this,yt).build(this,t);return r.isStaleByTime(Ya(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(dr).catch(dr)}fetchInfiniteQuery(e){return e.behavior=J0(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(dr).catch(dr)}ensureInfiniteQueryData(e){return e.behavior=J0(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Uh.isOnline()?E(this,Ma).resumePausedMutations():Promise.resolve()}getQueryCache(){return E(this,yt)}getMutationCache(){return E(this,Ma)}getDefaultOptions(){return E(this,Da)}setDefaultOptions(e){ne(this,Da,e)}setQueryDefaults(e,t){E(this,hl).set(Yi(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...E(this,hl).values()],r={};return t.forEach(n=>{cu(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){E(this,fl).set(Yi(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...E(this,fl).values()],r={};return t.forEach(n=>{cu(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...E(this,Da).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Vy(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===qy&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...E(this,Da).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){E(this,yt).clear(),E(this,Ma).clear()}},yt=new WeakMap,Ma=new WeakMap,Da=new WeakMap,hl=new WeakMap,fl=new WeakMap,La=new WeakMap,ml=new WeakMap,pl=new WeakMap,__),i1=p.createContext(void 0),Ke=e=>{const t=p.useContext(i1);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},MM=({client:e,children:t})=>(p.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),i.jsx(i1.Provider,{value:e,children:t})),o1=p.createContext(!1),DM=()=>p.useContext(o1);o1.Provider;function LM(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var $M=p.createContext(LM()),FM=()=>p.useContext($M),UM=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},zM=e=>{p.useEffect(()=>{e.clearReset()},[e])},BM=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(s&&e.data===void 0||ZN(r,[e.error,n])),VM=e=>{if(e.suspense){const r=s=>s==="static"?s:Math.max(s??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...s)=>r(n(...s)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},qM=(e,t)=>e.isLoading&&e.isFetching&&!t,WM=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Z0=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function HM(e,t,r){var h,f,m,w,g;const n=DM(),s=FM(),a=Ke(),o=a.defaultQueryOptions(e);(f=(h=a.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||f.call(h,o),o._optimisticResults=n?"isRestoring":"optimistic",VM(o),UM(o,s),zM(s);const l=!a.getQueryCache().get(o.queryHash),[c]=p.useState(()=>new t(a,o)),u=c.getOptimisticResult(o),d=!n&&e.subscribed!==!1;if(p.useSyncExternalStore(p.useCallback(v=>{const b=d?c.subscribe(Ut.batchCalls(v)):dr;return c.updateResult(),b},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),p.useEffect(()=>{c.setOptions(o)},[o,c]),WM(o,u))throw Z0(o,c,s);if(BM({result:u,errorResetBoundary:s,throwOnError:o.throwOnError,query:a.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((w=(m=a.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||w.call(m,o,u),o.experimental_prefetchInRender&&!Gi&&qM(u,n)){const v=l?Z0(o,c,s):(g=a.getQueryCache().get(o.queryHash))==null?void 0:g.promise;v==null||v.catch(dr).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function vt(e,t){return HM(e,CM)}function Ze(e,t){const r=Ke(),[n]=p.useState(()=>new AM(r,e));p.useEffect(()=>{n.setOptions(e)},[n,e]);const s=p.useSyncExternalStore(p.useCallback(o=>n.subscribe(Ut.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=p.useCallback((o,l)=>{n.mutate(o,l).catch(dr)},[n]);if(s.error&&ZN(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:a,mutateAsync:s.mutate}}const KM=new IM({defaultOptions:{queries:{staleTime:60*1e3,gcTime:300*1e3,retry:1,refetchOnWindowFocus:!1},mutations:{retry:0}}});function QM({children:e}){return i.jsx(MM,{client:KM,children:e})}const GM="modulepreload",YM=function(e){return"/"+e},eb={},co=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=YM(c),c in eb)return;eb[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":GM,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((f,m)=>{h.addEventListener("load",f),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})};function l1(e,t){return function(){return e.apply(t,arguments)}}const{toString:JM}=Object.prototype,{getPrototypeOf:Ky}=Object,{iterator:Tf,toStringTag:c1}=Symbol,Af=(e=>t=>{const r=JM.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Kn=e=>(e=e.toLowerCase(),t=>Af(t)===e),Of=e=>t=>typeof t===e,{isArray:Vl}=Array,_l=Of("undefined");function Au(e){return e!==null&&!_l(e)&&e.constructor!==null&&!_l(e.constructor)&&Or(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const u1=Kn("ArrayBuffer");function XM(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&u1(e.buffer),t}const ZM=Of("string"),Or=Of("function"),d1=Of("number"),Ou=e=>e!==null&&typeof e=="object",e4=e=>e===!0||e===!1,th=e=>{if(Af(e)!=="object")return!1;const t=Ky(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(c1 in e)&&!(Tf in e)},t4=e=>{if(!Ou(e)||Au(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},r4=Kn("Date"),n4=Kn("File"),s4=Kn("Blob"),a4=Kn("FileList"),i4=e=>Ou(e)&&Or(e.pipe),o4=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Or(e.append)&&((t=Af(e))==="formdata"||t==="object"&&Or(e.toString)&&e.toString()==="[object FormData]"))},l4=Kn("URLSearchParams"),[c4,u4,d4,h4]=["ReadableStream","Request","Response","Headers"].map(Kn),f4=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Iu(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,s;if(typeof e!="object"&&(e=[e]),Vl(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{if(Au(e))return;const a=r?Object.getOwnPropertyNames(e):Object.keys(e),o=a.length;let l;for(n=0;n<o;n++)l=a[n],t.call(null,e[l],l,e)}}function h1(e,t){if(Au(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,s;for(;n-- >0;)if(s=r[n],t===s.toLowerCase())return s;return null}const Pi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,f1=e=>!_l(e)&&e!==Pi;function Gg(){const{caseless:e,skipUndefined:t}=f1(this)&&this||{},r={},n=(s,a)=>{const o=e&&h1(r,a)||a;th(r[o])&&th(s)?r[o]=Gg(r[o],s):th(s)?r[o]=Gg({},s):Vl(s)?r[o]=s.slice():(!t||!_l(s))&&(r[o]=s)};for(let s=0,a=arguments.length;s<a;s++)arguments[s]&&Iu(arguments[s],n);return r}const m4=(e,t,r,{allOwnKeys:n}={})=>(Iu(t,(s,a)=>{r&&Or(s)?e[a]=l1(s,r):e[a]=s},{allOwnKeys:n}),e),p4=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),g4=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},v4=(e,t,r,n)=>{let s,a,o;const l={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),a=s.length;a-- >0;)o=s[a],(!n||n(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=r!==!1&&Ky(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},y4=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},x4=e=>{if(!e)return null;if(Vl(e))return e;let t=e.length;if(!d1(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},w4=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Ky(Uint8Array)),b4=(e,t)=>{const n=(e&&e[Tf]).call(e);let s;for(;(s=n.next())&&!s.done;){const a=s.value;t.call(e,a[0],a[1])}},j4=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},_4=Kn("HTMLFormElement"),S4=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),tb=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),N4=Kn("RegExp"),m1=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Iu(r,(s,a)=>{let o;(o=t(s,a,e))!==!1&&(n[a]=o||s)}),Object.defineProperties(e,n)},C4=e=>{m1(e,(t,r)=>{if(Or(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Or(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},E4=(e,t)=>{const r={},n=s=>{s.forEach(a=>{r[a]=!0})};return Vl(e)?n(e):n(String(e).split(t)),r},k4=()=>{},P4=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function R4(e){return!!(e&&Or(e.append)&&e[c1]==="FormData"&&e[Tf])}const T4=e=>{const t=new Array(10),r=(n,s)=>{if(Ou(n)){if(t.indexOf(n)>=0)return;if(Au(n))return n;if(!("toJSON"in n)){t[s]=n;const a=Vl(n)?[]:{};return Iu(n,(o,l)=>{const c=r(o,s+1);!_l(c)&&(a[l]=c)}),t[s]=void 0,a}}return n};return r(e,0)},A4=Kn("AsyncFunction"),O4=e=>e&&(Ou(e)||Or(e))&&Or(e.then)&&Or(e.catch),p1=((e,t)=>e?setImmediate:t?((r,n)=>(Pi.addEventListener("message",({source:s,data:a})=>{s===Pi&&a===r&&n.length&&n.shift()()},!1),s=>{n.push(s),Pi.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Or(Pi.postMessage)),I4=typeof queueMicrotask<"u"?queueMicrotask.bind(Pi):typeof process<"u"&&process.nextTick||p1,M4=e=>e!=null&&Or(e[Tf]),M={isArray:Vl,isArrayBuffer:u1,isBuffer:Au,isFormData:o4,isArrayBufferView:XM,isString:ZM,isNumber:d1,isBoolean:e4,isObject:Ou,isPlainObject:th,isEmptyObject:t4,isReadableStream:c4,isRequest:u4,isResponse:d4,isHeaders:h4,isUndefined:_l,isDate:r4,isFile:n4,isBlob:s4,isRegExp:N4,isFunction:Or,isStream:i4,isURLSearchParams:l4,isTypedArray:w4,isFileList:a4,forEach:Iu,merge:Gg,extend:m4,trim:f4,stripBOM:p4,inherits:g4,toFlatObject:v4,kindOf:Af,kindOfTest:Kn,endsWith:y4,toArray:x4,forEachEntry:b4,matchAll:j4,isHTMLForm:_4,hasOwnProperty:tb,hasOwnProp:tb,reduceDescriptors:m1,freezeMethods:C4,toObjectSet:E4,toCamelCase:S4,noop:k4,toFiniteNumber:P4,findKey:h1,global:Pi,isContextDefined:f1,isSpecCompliantForm:R4,toJSONObject:T4,isAsyncFn:A4,isThenable:O4,setImmediate:p1,asap:I4,isIterable:M4};function Pe(e,t,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}M.inherits(Pe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:M.toJSONObject(this.config),code:this.code,status:this.status}}});const g1=Pe.prototype,v1={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{v1[e]={value:e}});Object.defineProperties(Pe,v1);Object.defineProperty(g1,"isAxiosError",{value:!0});Pe.from=(e,t,r,n,s,a)=>{const o=Object.create(g1);M.toFlatObject(e,o,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return Pe.call(o,l,c,r,n,s),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",a&&Object.assign(o,a),o};const D4=null;function Yg(e){return M.isPlainObject(e)||M.isArray(e)}function y1(e){return M.endsWith(e,"[]")?e.slice(0,-2):e}function rb(e,t,r){return e?e.concat(t).map(function(s,a){return s=y1(s),!r&&a?"["+s+"]":s}).join(r?".":""):t}function L4(e){return M.isArray(e)&&!e.some(Yg)}const $4=M.toFlatObject(M,{},null,function(t){return/^is[A-Z]/.test(t)});function If(e,t,r){if(!M.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=M.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,v){return!M.isUndefined(v[g])});const n=r.metaTokens,s=r.visitor||d,a=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&M.isSpecCompliantForm(t);if(!M.isFunction(s))throw new TypeError("visitor must be a function");function u(w){if(w===null)return"";if(M.isDate(w))return w.toISOString();if(M.isBoolean(w))return w.toString();if(!c&&M.isBlob(w))throw new Pe("Blob is not supported. Use a Buffer instead.");return M.isArrayBuffer(w)||M.isTypedArray(w)?c&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function d(w,g,v){let b=w;if(w&&!v&&typeof w=="object"){if(M.endsWith(g,"{}"))g=n?g:g.slice(0,-2),w=JSON.stringify(w);else if(M.isArray(w)&&L4(w)||(M.isFileList(w)||M.endsWith(g,"[]"))&&(b=M.toArray(w)))return g=y1(g),b.forEach(function(x,j){!(M.isUndefined(x)||x===null)&&t.append(o===!0?rb([g],j,a):o===null?g:g+"[]",u(x))}),!1}return Yg(w)?!0:(t.append(rb(v,g,a),u(w)),!1)}const h=[],f=Object.assign($4,{defaultVisitor:d,convertValue:u,isVisitable:Yg});function m(w,g){if(!M.isUndefined(w)){if(h.indexOf(w)!==-1)throw Error("Circular reference detected in "+g.join("."));h.push(w),M.forEach(w,function(b,y){(!(M.isUndefined(b)||b===null)&&s.call(t,b,M.isString(y)?y.trim():y,g,f))===!0&&m(b,g?g.concat(y):[y])}),h.pop()}}if(!M.isObject(e))throw new TypeError("data must be an object");return m(e),t}function nb(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Qy(e,t){this._pairs=[],e&&If(e,this,t)}const x1=Qy.prototype;x1.append=function(t,r){this._pairs.push([t,r])};x1.toString=function(t){const r=t?function(n){return t.call(this,n,nb)}:nb;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function F4(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function w1(e,t,r){if(!t)return e;const n=r&&r.encode||F4;M.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let a;if(s?a=s(t,r):a=M.isURLSearchParams(t)?t.toString():new Qy(t,r).toString(n),a){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class sb{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){M.forEach(this.handlers,function(n){n!==null&&t(n)})}}const b1={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},U4=typeof URLSearchParams<"u"?URLSearchParams:Qy,z4=typeof FormData<"u"?FormData:null,B4=typeof Blob<"u"?Blob:null,V4={isBrowser:!0,classes:{URLSearchParams:U4,FormData:z4,Blob:B4},protocols:["http","https","file","blob","url","data"]},Gy=typeof window<"u"&&typeof document<"u",Jg=typeof navigator=="object"&&navigator||void 0,q4=Gy&&(!Jg||["ReactNative","NativeScript","NS"].indexOf(Jg.product)<0),W4=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",H4=Gy&&window.location.href||"http://localhost",K4=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Gy,hasStandardBrowserEnv:q4,hasStandardBrowserWebWorkerEnv:W4,navigator:Jg,origin:H4},Symbol.toStringTag,{value:"Module"})),sr={...K4,...V4};function Q4(e,t){return If(e,new sr.classes.URLSearchParams,{visitor:function(r,n,s,a){return sr.isNode&&M.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function G4(e){return M.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Y4(e){const t={},r=Object.keys(e);let n;const s=r.length;let a;for(n=0;n<s;n++)a=r[n],t[a]=e[a];return t}function j1(e){function t(r,n,s,a){let o=r[a++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=a>=r.length;return o=!o&&M.isArray(s)?s.length:o,c?(M.hasOwnProp(s,o)?s[o]=[s[o],n]:s[o]=n,!l):((!s[o]||!M.isObject(s[o]))&&(s[o]=[]),t(r,n,s[o],a)&&M.isArray(s[o])&&(s[o]=Y4(s[o])),!l)}if(M.isFormData(e)&&M.isFunction(e.entries)){const r={};return M.forEachEntry(e,(n,s)=>{t(G4(n),s,r,0)}),r}return null}function J4(e,t,r){if(M.isString(e))try{return(t||JSON.parse)(e),M.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Mu={transitional:b1,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,a=M.isObject(t);if(a&&M.isHTMLForm(t)&&(t=new FormData(t)),M.isFormData(t))return s?JSON.stringify(j1(t)):t;if(M.isArrayBuffer(t)||M.isBuffer(t)||M.isStream(t)||M.isFile(t)||M.isBlob(t)||M.isReadableStream(t))return t;if(M.isArrayBufferView(t))return t.buffer;if(M.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Q4(t,this.formSerializer).toString();if((l=M.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return If(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return a||s?(r.setContentType("application/json",!1),J4(t)):t}],transformResponse:[function(t){const r=this.transitional||Mu.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(M.isResponse(t)||M.isReadableStream(t))return t;if(t&&M.isString(t)&&(n&&!this.responseType||s)){const o=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?Pe.from(l,Pe.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:sr.classes.FormData,Blob:sr.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};M.forEach(["delete","get","head","post","put","patch"],e=>{Mu.headers[e]={}});const X4=M.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Z4=e=>{const t={};let r,n,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),r=o.substring(0,s).trim().toLowerCase(),n=o.substring(s+1).trim(),!(!r||t[r]&&X4[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},ab=Symbol("internals");function uc(e){return e&&String(e).trim().toLowerCase()}function rh(e){return e===!1||e==null?e:M.isArray(e)?e.map(rh):String(e)}function eD(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const tD=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function op(e,t,r,n,s){if(M.isFunction(n))return n.call(this,t,r);if(s&&(t=r),!!M.isString(t)){if(M.isString(n))return t.indexOf(n)!==-1;if(M.isRegExp(n))return n.test(t)}}function rD(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function nD(e,t){const r=M.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(s,a,o){return this[n].call(this,t,s,a,o)},configurable:!0})})}let Ir=class{constructor(t){t&&this.set(t)}set(t,r,n){const s=this;function a(l,c,u){const d=uc(c);if(!d)throw new Error("header name must be a non-empty string");const h=M.findKey(s,d);(!h||s[h]===void 0||u===!0||u===void 0&&s[h]!==!1)&&(s[h||c]=rh(l))}const o=(l,c)=>M.forEach(l,(u,d)=>a(u,d,c));if(M.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(M.isString(t)&&(t=t.trim())&&!tD(t))o(Z4(t),r);else if(M.isObject(t)&&M.isIterable(t)){let l={},c,u;for(const d of t){if(!M.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?M.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}o(l,r)}else t!=null&&a(r,t,n);return this}get(t,r){if(t=uc(t),t){const n=M.findKey(this,t);if(n){const s=this[n];if(!r)return s;if(r===!0)return eD(s);if(M.isFunction(r))return r.call(this,s,n);if(M.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=uc(t),t){const n=M.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||op(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let s=!1;function a(o){if(o=uc(o),o){const l=M.findKey(n,o);l&&(!r||op(n,n[l],l,r))&&(delete n[l],s=!0)}}return M.isArray(t)?t.forEach(a):a(t),s}clear(t){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const a=r[n];(!t||op(this,this[a],a,t,!0))&&(delete this[a],s=!0)}return s}normalize(t){const r=this,n={};return M.forEach(this,(s,a)=>{const o=M.findKey(n,a);if(o){r[o]=rh(s),delete r[a];return}const l=t?rD(a):String(a).trim();l!==a&&delete r[a],r[l]=rh(s),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return M.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=t&&M.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(s=>n.set(s)),n}static accessor(t){const n=(this[ab]=this[ab]={accessors:{}}).accessors,s=this.prototype;function a(o){const l=uc(o);n[l]||(nD(s,o),n[l]=!0)}return M.isArray(t)?t.forEach(a):a(t),this}};Ir.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);M.reduceDescriptors(Ir.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});M.freezeMethods(Ir);function lp(e,t){const r=this||Mu,n=t||r,s=Ir.from(n.headers);let a=n.data;return M.forEach(e,function(l){a=l.call(r,a,s.normalize(),t?t.status:void 0)}),s.normalize(),a}function _1(e){return!!(e&&e.__CANCEL__)}function ql(e,t,r){Pe.call(this,e??"canceled",Pe.ERR_CANCELED,t,r),this.name="CanceledError"}M.inherits(ql,Pe,{__CANCEL__:!0});function S1(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new Pe("Request failed with status code "+r.status,[Pe.ERR_BAD_REQUEST,Pe.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function sD(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function aD(e,t){e=e||10;const r=new Array(e),n=new Array(e);let s=0,a=0,o;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=n[a];o||(o=u),r[s]=c,n[s]=u;let h=a,f=0;for(;h!==s;)f+=r[h++],h=h%e;if(s=(s+1)%e,s===a&&(a=(a+1)%e),u-o<t)return;const m=d&&u-d;return m?Math.round(f*1e3/m):void 0}}function iD(e,t){let r=0,n=1e3/t,s,a;const o=(u,d=Date.now())=>{r=d,s=null,a&&(clearTimeout(a),a=null),e(...u)};return[(...u)=>{const d=Date.now(),h=d-r;h>=n?o(u,d):(s=u,a||(a=setTimeout(()=>{a=null,o(s)},n-h)))},()=>s&&o(s)]}const zh=(e,t,r=3)=>{let n=0;const s=aD(50,250);return iD(a=>{const o=a.loaded,l=a.lengthComputable?a.total:void 0,c=o-n,u=s(c),d=o<=l;n=o;const h={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-o)/u:void 0,event:a,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(h)},r)},ib=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},ob=e=>(...t)=>M.asap(()=>e(...t)),oD=sr.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,sr.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(sr.origin),sr.navigator&&/(msie|trident)/i.test(sr.navigator.userAgent)):()=>!0,lD=sr.hasStandardBrowserEnv?{write(e,t,r,n,s,a){const o=[e+"="+encodeURIComponent(t)];M.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),M.isString(n)&&o.push("path="+n),M.isString(s)&&o.push("domain="+s),a===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function cD(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function uD(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function N1(e,t,r){let n=!cD(t);return e&&(n||r==!1)?uD(e,t):t}const lb=e=>e instanceof Ir?{...e}:e;function Ji(e,t){t=t||{};const r={};function n(u,d,h,f){return M.isPlainObject(u)&&M.isPlainObject(d)?M.merge.call({caseless:f},u,d):M.isPlainObject(d)?M.merge({},d):M.isArray(d)?d.slice():d}function s(u,d,h,f){if(M.isUndefined(d)){if(!M.isUndefined(u))return n(void 0,u,h,f)}else return n(u,d,h,f)}function a(u,d){if(!M.isUndefined(d))return n(void 0,d)}function o(u,d){if(M.isUndefined(d)){if(!M.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function l(u,d,h){if(h in t)return n(u,d);if(h in e)return n(void 0,u)}const c={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,d,h)=>s(lb(u),lb(d),h,!0)};return M.forEach(Object.keys({...e,...t}),function(d){const h=c[d]||s,f=h(e[d],t[d],d);M.isUndefined(f)&&h!==l||(r[d]=f)}),r}const C1=e=>{const t=Ji({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:a,headers:o,auth:l}=t;if(t.headers=o=Ir.from(o),t.url=w1(N1(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),M.isFormData(r)){if(sr.hasStandardBrowserEnv||sr.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(M.isFunction(r.getHeaders)){const c=r.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,h])=>{u.includes(d.toLowerCase())&&o.set(d,h)})}}if(sr.hasStandardBrowserEnv&&(n&&M.isFunction(n)&&(n=n(t)),n||n!==!1&&oD(t.url))){const c=s&&a&&lD.read(a);c&&o.set(s,c)}return t},dD=typeof XMLHttpRequest<"u",hD=dD&&function(e){return new Promise(function(r,n){const s=C1(e);let a=s.data;const o=Ir.from(s.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=s,d,h,f,m,w;function g(){m&&m(),w&&w(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let v=new XMLHttpRequest;v.open(s.method.toUpperCase(),s.url,!0),v.timeout=s.timeout;function b(){if(!v)return;const x=Ir.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),_={data:!l||l==="text"||l==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:x,config:e,request:v};S1(function(N){r(N),g()},function(N){n(N),g()},_),v=null}"onloadend"in v?v.onloadend=b:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(b)},v.onabort=function(){v&&(n(new Pe("Request aborted",Pe.ECONNABORTED,e,v)),v=null)},v.onerror=function(j){const _=j&&j.message?j.message:"Network Error",S=new Pe(_,Pe.ERR_NETWORK,e,v);S.event=j||null,n(S),v=null},v.ontimeout=function(){let j=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const _=s.transitional||b1;s.timeoutErrorMessage&&(j=s.timeoutErrorMessage),n(new Pe(j,_.clarifyTimeoutError?Pe.ETIMEDOUT:Pe.ECONNABORTED,e,v)),v=null},a===void 0&&o.setContentType(null),"setRequestHeader"in v&&M.forEach(o.toJSON(),function(j,_){v.setRequestHeader(_,j)}),M.isUndefined(s.withCredentials)||(v.withCredentials=!!s.withCredentials),l&&l!=="json"&&(v.responseType=s.responseType),u&&([f,w]=zh(u,!0),v.addEventListener("progress",f)),c&&v.upload&&([h,m]=zh(c),v.upload.addEventListener("progress",h),v.upload.addEventListener("loadend",m)),(s.cancelToken||s.signal)&&(d=x=>{v&&(n(!x||x.type?new ql(null,e,v):x),v.abort(),v=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const y=sD(s.url);if(y&&sr.protocols.indexOf(y)===-1){n(new Pe("Unsupported protocol "+y+":",Pe.ERR_BAD_REQUEST,e));return}v.send(a||null)})},fD=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,s;const a=function(u){if(!s){s=!0,l();const d=u instanceof Error?u:this.reason;n.abort(d instanceof Pe?d:new ql(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,a(new Pe(`timeout ${t} of ms exceeded`,Pe.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(a):u.removeEventListener("abort",a)}),e=null)};e.forEach(u=>u.addEventListener("abort",a));const{signal:c}=n;return c.unsubscribe=()=>M.asap(l),c}},mD=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,s;for(;n<r;)s=n+t,yield e.slice(n,s),n=s},pD=async function*(e,t){for await(const r of gD(e))yield*mD(r,t)},gD=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},cb=(e,t,r,n)=>{const s=pD(e,t);let a=0,o,l=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await s.next();if(u){l(),c.close();return}let h=d.byteLength;if(r){let f=a+=h;r(f)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),s.return()}},{highWaterMark:2})},ub=64*1024,{isFunction:bd}=M,vD=(({Request:e,Response:t})=>({Request:e,Response:t}))(M.global),{ReadableStream:db,TextEncoder:hb}=M.global,fb=(e,...t)=>{try{return!!e(...t)}catch{return!1}},yD=e=>{e=M.merge.call({skipUndefined:!0},vD,e);const{fetch:t,Request:r,Response:n}=e,s=t?bd(t):typeof fetch=="function",a=bd(r),o=bd(n);if(!s)return!1;const l=s&&bd(db),c=s&&(typeof hb=="function"?(w=>g=>w.encode(g))(new hb):async w=>new Uint8Array(await new r(w).arrayBuffer())),u=a&&l&&fb(()=>{let w=!1;const g=new r(sr.origin,{body:new db,method:"POST",get duplex(){return w=!0,"half"}}).headers.has("Content-Type");return w&&!g}),d=o&&l&&fb(()=>M.isReadableStream(new n("").body)),h={stream:d&&(w=>w.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(w=>{!h[w]&&(h[w]=(g,v)=>{let b=g&&g[w];if(b)return b.call(g);throw new Pe(`Response type '${w}' is not supported`,Pe.ERR_NOT_SUPPORT,v)})});const f=async w=>{if(w==null)return 0;if(M.isBlob(w))return w.size;if(M.isSpecCompliantForm(w))return(await new r(sr.origin,{method:"POST",body:w}).arrayBuffer()).byteLength;if(M.isArrayBufferView(w)||M.isArrayBuffer(w))return w.byteLength;if(M.isURLSearchParams(w)&&(w=w+""),M.isString(w))return(await c(w)).byteLength},m=async(w,g)=>{const v=M.toFiniteNumber(w.getContentLength());return v??f(g)};return async w=>{let{url:g,method:v,data:b,signal:y,cancelToken:x,timeout:j,onDownloadProgress:_,onUploadProgress:S,responseType:N,headers:C,withCredentials:R="same-origin",fetchOptions:T}=C1(w),z=t||fetch;N=N?(N+"").toLowerCase():"text";let D=fD([y,x&&x.toAbortSignal()],j),V=null;const F=D&&D.unsubscribe&&(()=>{D.unsubscribe()});let q;try{if(S&&u&&v!=="get"&&v!=="head"&&(q=await m(C,b))!==0){let ae=new r(g,{method:"POST",body:b,duplex:"half"}),re;if(M.isFormData(b)&&(re=ae.headers.get("content-type"))&&C.setContentType(re),ae.body){const[xe,ye]=ib(q,zh(ob(S)));b=cb(ae.body,ub,xe,ye)}}M.isString(R)||(R=R?"include":"omit");const B=a&&"credentials"in r.prototype,ie={...T,signal:D,method:v.toUpperCase(),headers:C.normalize().toJSON(),body:b,duplex:"half",credentials:B?R:void 0};V=a&&new r(g,ie);let I=await(a?z(V,T):z(g,ie));const A=d&&(N==="stream"||N==="response");if(d&&(_||A&&F)){const ae={};["status","statusText","headers"].forEach(qe=>{ae[qe]=I[qe]});const re=M.toFiniteNumber(I.headers.get("content-length")),[xe,ye]=_&&ib(re,zh(ob(_),!0))||[];I=new n(cb(I.body,ub,xe,()=>{ye&&ye(),F&&F()}),ae)}N=N||"text";let K=await h[M.findKey(h,N)||"text"](I,w);return!A&&F&&F(),await new Promise((ae,re)=>{S1(ae,re,{data:K,headers:Ir.from(I.headers),status:I.status,statusText:I.statusText,config:w,request:V})})}catch(B){throw F&&F(),B&&B.name==="TypeError"&&/Load failed|fetch/i.test(B.message)?Object.assign(new Pe("Network Error",Pe.ERR_NETWORK,w,V),{cause:B.cause||B}):Pe.from(B,B&&B.code,w,V)}}},xD=new Map,E1=e=>{let t=e?e.env:{};const{fetch:r,Request:n,Response:s}=t,a=[n,s,r];let o=a.length,l=o,c,u,d=xD;for(;l--;)c=a[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:yD(t)),d=u;return u};E1();const Xg={http:D4,xhr:hD,fetch:{get:E1}};M.forEach(Xg,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const mb=e=>`- ${e}`,wD=e=>M.isFunction(e)||e===null||e===!1,k1={getAdapter:(e,t)=>{e=M.isArray(e)?e:[e];const{length:r}=e;let n,s;const a={};for(let o=0;o<r;o++){n=e[o];let l;if(s=n,!wD(n)&&(s=Xg[(l=String(n)).toLowerCase()],s===void 0))throw new Pe(`Unknown adapter '${l}'`);if(s&&(M.isFunction(s)||(s=s.get(t))))break;a[l||"#"+o]=s}if(!s){const o=Object.entries(a).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=r?o.length>1?`since :
`+o.map(mb).join(`
`):" "+mb(o[0]):"as no adapter specified";throw new Pe("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s},adapters:Xg};function cp(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ql(null,e)}function pb(e){return cp(e),e.headers=Ir.from(e.headers),e.data=lp.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),k1.getAdapter(e.adapter||Mu.adapter,e)(e).then(function(n){return cp(e),n.data=lp.call(e,e.transformResponse,n),n.headers=Ir.from(n.headers),n},function(n){return _1(n)||(cp(e),n&&n.response&&(n.response.data=lp.call(e,e.transformResponse,n.response),n.response.headers=Ir.from(n.response.headers))),Promise.reject(n)})}const P1="1.12.2",Mf={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Mf[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const gb={};Mf.transitional=function(t,r,n){function s(a,o){return"[Axios v"+P1+"] Transitional option '"+a+"'"+o+(n?". "+n:"")}return(a,o,l)=>{if(t===!1)throw new Pe(s(o," has been removed"+(r?" in "+r:"")),Pe.ERR_DEPRECATED);return r&&!gb[o]&&(gb[o]=!0,console.warn(s(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(a,o,l):!0}};Mf.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function bD(e,t,r){if(typeof e!="object")throw new Pe("options must be an object",Pe.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const a=n[s],o=t[a];if(o){const l=e[a],c=l===void 0||o(l,a,e);if(c!==!0)throw new Pe("option "+a+" must be "+c,Pe.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Pe("Unknown option "+a,Pe.ERR_BAD_OPTION)}}const nh={assertOptions:bD,validators:Mf},es=nh.validators;let Vi=class{constructor(t){this.defaults=t||{},this.interceptors={request:new sb,response:new sb}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const a=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Ji(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:a}=r;n!==void 0&&nh.assertOptions(n,{silentJSONParsing:es.transitional(es.boolean),forcedJSONParsing:es.transitional(es.boolean),clarifyTimeoutError:es.transitional(es.boolean)},!1),s!=null&&(M.isFunction(s)?r.paramsSerializer={serialize:s}:nh.assertOptions(s,{encode:es.function,serialize:es.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),nh.assertOptions(r,{baseUrl:es.spelling("baseURL"),withXsrfToken:es.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=a&&M.merge(a.common,a[r.method]);a&&M.forEach(["delete","get","head","post","put","patch","common"],w=>{delete a[w]}),r.headers=Ir.concat(o,a);const l=[];let c=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(r)===!1||(c=c&&g.synchronous,l.unshift(g.fulfilled,g.rejected))});const u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let d,h=0,f;if(!c){const w=[pb.bind(this),void 0];for(w.unshift(...l),w.push(...u),f=w.length,d=Promise.resolve(r);h<f;)d=d.then(w[h++],w[h++]);return d}f=l.length;let m=r;for(;h<f;){const w=l[h++],g=l[h++];try{m=w(m)}catch(v){g.call(this,v);break}}try{d=pb.call(this,m)}catch(w){return Promise.reject(w)}for(h=0,f=u.length;h<f;)d=d.then(u[h++],u[h++]);return d}getUri(t){t=Ji(this.defaults,t);const r=N1(t.baseURL,t.url,t.allowAbsoluteUrls);return w1(r,t.params,t.paramsSerializer)}};M.forEach(["delete","get","head","options"],function(t){Vi.prototype[t]=function(r,n){return this.request(Ji(n||{},{method:t,url:r,data:(n||{}).data}))}});M.forEach(["post","put","patch"],function(t){function r(n){return function(a,o,l){return this.request(Ji(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}Vi.prototype[t]=r(),Vi.prototype[t+"Form"]=r(!0)});let jD=class R1{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(s=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](s);n._listeners=null}),this.promise.then=s=>{let a;const o=new Promise(l=>{n.subscribe(l),a=l}).then(s);return o.cancel=function(){n.unsubscribe(a)},o},t(function(a,o,l){n.reason||(n.reason=new ql(a,o,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new R1(function(s){t=s}),cancel:t}}};function _D(e){return function(r){return e.apply(null,r)}}function SD(e){return M.isObject(e)&&e.isAxiosError===!0}const Zg={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Zg).forEach(([e,t])=>{Zg[t]=e});function T1(e){const t=new Vi(e),r=l1(Vi.prototype.request,t);return M.extend(r,Vi.prototype,t,{allOwnKeys:!0}),M.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return T1(Ji(e,s))},r}const rt=T1(Mu);rt.Axios=Vi;rt.CanceledError=ql;rt.CancelToken=jD;rt.isCancel=_1;rt.VERSION=P1;rt.toFormData=If;rt.AxiosError=Pe;rt.Cancel=rt.CanceledError;rt.all=function(t){return Promise.all(t)};rt.spread=_D;rt.isAxiosError=SD;rt.mergeConfig=Ji;rt.AxiosHeaders=Ir;rt.formToJSON=e=>j1(M.isHTMLForm(e)?new FormData(e):e);rt.getAdapter=k1.getAdapter;rt.HttpStatusCode=Zg;rt.default=rt;const{Axios:I7,AxiosError:M7,CanceledError:D7,isCancel:L7,CancelToken:$7,VERSION:F7,all:U7,Cancel:z7,isAxiosError:B7,spread:V7,toFormData:q7,AxiosHeaders:W7,HttpStatusCode:H7,formToJSON:K7,getAdapter:Q7,mergeConfig:G7}=rt;var ev=function(e,t){return ev=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},ev(e,t)};function A1(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");ev(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var sn=function(){return sn=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},sn.apply(this,arguments)};function di(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function O1(e,t,r,n){var s=arguments.length,a=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,r,n);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(a=(s<3?o(a):s>3?o(t,r,a):o(t,r))||a);return s>3&&a&&Object.defineProperty(t,r,a),a}function I1(e,t){return function(r,n){t(r,n,e)}}function M1(e,t,r,n,s,a){function o(b){if(b!==void 0&&typeof b!="function")throw new TypeError("Function expected");return b}for(var l=n.kind,c=l==="getter"?"get":l==="setter"?"set":"value",u=!t&&e?n.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),h,f=!1,m=r.length-1;m>=0;m--){var w={};for(var g in n)w[g]=g==="access"?{}:n[g];for(var g in n.access)w.access[g]=n.access[g];w.addInitializer=function(b){if(f)throw new TypeError("Cannot add initializers after decoration has completed");a.push(o(b||null))};var v=(0,r[m])(l==="accessor"?{get:d.get,set:d.set}:d[c],w);if(l==="accessor"){if(v===void 0)continue;if(v===null||typeof v!="object")throw new TypeError("Object expected");(h=o(v.get))&&(d.get=h),(h=o(v.set))&&(d.set=h),(h=o(v.init))&&s.unshift(h)}else(h=o(v))&&(l==="field"?s.unshift(h):d[c]=h)}u&&Object.defineProperty(u,n.name,d),f=!0}function D1(e,t,r){for(var n=arguments.length>2,s=0;s<t.length;s++)r=n?t[s].call(e,r):t[s].call(e);return n?r:void 0}function L1(e){return typeof e=="symbol"?e:"".concat(e)}function $1(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function F1(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function ue(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function U1(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,s,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=l(0),o.throw=l(1),o.return=l(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(d){return c([u,d])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,s&&(a=u[0]&2?s.return:u[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,u[1])).done)return a;switch(s=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(d){u=[6,d],s=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Df=Object.create?(function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]});function z1(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Df(t,e,r)}function Bh(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Yy(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,a=[],o;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)a.push(s.value)}catch(l){o={error:l}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a}function B1(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Yy(arguments[t]));return e}function V1(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),s=0,t=0;t<r;t++)for(var a=arguments[t],o=0,l=a.length;o<l;o++,s++)n[s]=a[o];return n}function Jy(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,a;n<s;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}function Sl(e){return this instanceof Sl?(this.v=e,this):new Sl(e)}function q1(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,a=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(m){return function(w){return Promise.resolve(w).then(m,h)}}function l(m,w){n[m]&&(s[m]=function(g){return new Promise(function(v,b){a.push([m,g,v,b])>1||c(m,g)})},w&&(s[m]=w(s[m])))}function c(m,w){try{u(n[m](w))}catch(g){f(a[0][3],g)}}function u(m){m.value instanceof Sl?Promise.resolve(m.value.v).then(d,h):f(a[0][2],m)}function d(m){c("next",m)}function h(m){c("throw",m)}function f(m,w){m(w),a.shift(),a.length&&c(a[0][0],a[0][1])}}function W1(e){var t,r;return t={},n("next"),n("throw",function(s){throw s}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(s,a){t[s]=e[s]?function(o){return(r=!r)?{value:Sl(e[s](o)),done:!1}:a?a(o):o}:a}}function H1(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Bh=="function"?Bh(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(a){r[a]=e[a]&&function(o){return new Promise(function(l,c){o=e[a](o),s(l,c,o.done,o.value)})}}function s(a,o,l,c){Promise.resolve(c).then(function(u){a({value:u,done:l})},o)}}function K1(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var ND=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},tv=function(e){return tv=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},tv(e)};function Q1(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=tv(e),n=0;n<r.length;n++)r[n]!=="default"&&Df(t,e,r[n]);return ND(t,e),t}function G1(e){return e&&e.__esModule?e:{default:e}}function Y1(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function J1(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r}function X1(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function Z1(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(a){return Promise.reject(a)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var CD=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function eC(e){function t(a){e.error=e.hasError?new CD(a,e.error,"An error was suppressed during disposal."):a,e.hasError=!0}var r,n=0;function s(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(s);if(r.dispose){var a=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(a).then(s,function(o){return t(o),s()})}else n|=1}catch(o){t(o)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function tC(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,a,o){return n?t?".jsx":".js":s&&(!a||!o)?r:s+a+"."+o.toLowerCase()+"js"}):e}const ED={__extends:A1,__assign:sn,__rest:di,__decorate:O1,__param:I1,__esDecorate:M1,__runInitializers:D1,__propKey:L1,__setFunctionName:$1,__metadata:F1,__awaiter:ue,__generator:U1,__createBinding:Df,__exportStar:z1,__values:Bh,__read:Yy,__spread:B1,__spreadArrays:V1,__spreadArray:Jy,__await:Sl,__asyncGenerator:q1,__asyncDelegator:W1,__asyncValues:H1,__makeTemplateObject:K1,__importStar:Q1,__importDefault:G1,__classPrivateFieldGet:Y1,__classPrivateFieldSet:J1,__classPrivateFieldIn:X1,__addDisposableResource:Z1,__disposeResources:eC,__rewriteRelativeImportExtension:tC},kD=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Z1,get __assign(){return sn},__asyncDelegator:W1,__asyncGenerator:q1,__asyncValues:H1,__await:Sl,__awaiter:ue,__classPrivateFieldGet:Y1,__classPrivateFieldIn:X1,__classPrivateFieldSet:J1,__createBinding:Df,__decorate:O1,__disposeResources:eC,__esDecorate:M1,__exportStar:z1,__extends:A1,__generator:U1,__importDefault:G1,__importStar:Q1,__makeTemplateObject:K1,__metadata:F1,__param:I1,__propKey:L1,__read:Yy,__rest:di,__rewriteRelativeImportExtension:tC,__runInitializers:D1,__setFunctionName:$1,__spread:B1,__spreadArray:Jy,__spreadArrays:V1,__values:Bh,default:ED},Symbol.toStringTag,{value:"Module"})),PD=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>co(async()=>{const{default:n}=await Promise.resolve().then(()=>uo);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Xy extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class vb extends Xy{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class yb extends Xy{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class xb extends Xy{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var rv;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(rv||(rv={}));class RD{constructor(t,{headers:r={},customFetch:n,region:s=rv.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=PD(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return ue(this,arguments,void 0,function*(r,n={}){var s;try{const{headers:a,method:o,body:l,signal:c}=n;let u={},{region:d}=n;d||(d=this.region);const h=new URL(`${this.url}/${r}`);d&&d!=="any"&&(u["x-region"]=d,h.searchParams.set("forceFunctionRegion",d));let f;l&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",f=l):typeof l=="string"?(u["Content-Type"]="text/plain",f=l):typeof FormData<"u"&&l instanceof FormData?f=l:(u["Content-Type"]="application/json",f=JSON.stringify(l)):f=l;const m=yield this.fetch(h.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),a),body:f,signal:c}).catch(b=>{throw b.name==="AbortError"?b:new vb(b)}),w=m.headers.get("x-relay-error");if(w&&w==="true")throw new yb(m);if(!m.ok)throw new xb(m);let g=((s=m.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),v;return g==="application/json"?v=yield m.json():g==="application/octet-stream"||g==="application/pdf"?v=yield m.blob():g==="text/event-stream"?v=m:g==="multipart/form-data"?v=yield m.formData():v=yield m.text(),{data:v,error:null,response:m}}catch(a){return a instanceof Error&&a.name==="AbortError"?{data:null,error:new vb(a)}:{data:null,error:a,response:a instanceof xb||a instanceof yb?a.context:void 0}}})}}var kr={};const Wl=N_(kD);var jd={},_d={},Sd={},Nd={},Cd={},TD=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Nl=TD();const AD=Nl.fetch,rC=Nl.fetch.bind(Nl),nC=Nl.Headers,OD=Nl.Request,ID=Nl.Response,uo=Object.freeze(Object.defineProperty({__proto__:null,Headers:nC,Request:OD,Response:ID,default:rC,fetch:AD},Symbol.toStringTag,{value:"Module"})),MD=N_(uo);var Ed={},wb;function sC(){if(wb)return Ed;wb=1,Object.defineProperty(Ed,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Ed.default=e,Ed}var bb;function aC(){if(bb)return Cd;bb=1,Object.defineProperty(Cd,"__esModule",{value:!0});const e=Wl,t=e.__importDefault(MD),r=e.__importDefault(sC());class n{constructor(a){var o,l;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(o=a.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=a.signal,this.isMaybeSingle=(l=a.isMaybeSingle)!==null&&l!==void 0?l:!1,a.fetch?this.fetch=a.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,o){return this.headers=new Headers(this.headers),this.headers.set(a,o),this}then(a,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var d,h,f,m;let w=null,g=null,v=null,b=u.status,y=u.statusText;if(u.ok){if(this.method!=="HEAD"){const S=await u.text();S===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?g=S:g=JSON.parse(S))}const j=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),_=(f=u.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");j&&_&&_.length>1&&(v=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(w={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,v=null,b=406,y="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const j=await u.text();try{w=JSON.parse(j),Array.isArray(w)&&u.status===404&&(g=[],w=null,b=200,y="OK")}catch{u.status===404&&j===""?(b=204,y="No Content"):w={message:j}}if(w&&this.isMaybeSingle&&(!((m=w==null?void 0:w.details)===null||m===void 0)&&m.includes("0 rows"))&&(w=null,b=200,y="OK"),w&&this.shouldThrowOnError)throw new r.default(w)}return{error:w,data:g,count:v,status:b,statusText:y}});return this.shouldThrowOnError||(c=c.catch(u=>{var d,h,f;return{error:{message:`${(d=u==null?void 0:u.name)!==null&&d!==void 0?d:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(h=u==null?void 0:u.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(f=u==null?void 0:u.code)!==null&&f!==void 0?f:""}`},data:null,count:null,status:0,statusText:""}})),c.then(a,o)}returns(){return this}overrideTypes(){return this}}return Cd.default=n,Cd}var jb;function iC(){if(jb)return Nd;jb=1,Object.defineProperty(Nd,"__esModule",{value:!0});const t=Wl.__importDefault(aC());class r extends t.default{select(s){let a=!1;const o=(s??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:a=!0,nullsFirst:o,foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${s}.${a?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:a,referencedTable:o=a}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${s}`),this}range(s,a,{foreignTable:o,referencedTable:l=o}={}){const c=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${s}`),this.url.searchParams.set(u,`${a-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:a=!1,settings:o=!1,buffers:l=!1,wal:c=!1,format:u="text"}={}){var d;const h=[s?"analyze":null,a?"verbose":null,o?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),f=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${f}"; options=${h};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return Nd.default=r,Nd}var _b;function Zy(){if(_b)return Sd;_b=1,Object.defineProperty(Sd,"__esModule",{value:!0});const t=Wl.__importDefault(iC());class r extends t.default{eq(s,a){return this.url.searchParams.append(s,`eq.${a}`),this}neq(s,a){return this.url.searchParams.append(s,`neq.${a}`),this}gt(s,a){return this.url.searchParams.append(s,`gt.${a}`),this}gte(s,a){return this.url.searchParams.append(s,`gte.${a}`),this}lt(s,a){return this.url.searchParams.append(s,`lt.${a}`),this}lte(s,a){return this.url.searchParams.append(s,`lte.${a}`),this}like(s,a){return this.url.searchParams.append(s,`like.${a}`),this}likeAllOf(s,a){return this.url.searchParams.append(s,`like(all).{${a.join(",")}}`),this}likeAnyOf(s,a){return this.url.searchParams.append(s,`like(any).{${a.join(",")}}`),this}ilike(s,a){return this.url.searchParams.append(s,`ilike.${a}`),this}ilikeAllOf(s,a){return this.url.searchParams.append(s,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(s,a){return this.url.searchParams.append(s,`ilike(any).{${a.join(",")}}`),this}is(s,a){return this.url.searchParams.append(s,`is.${a}`),this}in(s,a){const o=Array.from(new Set(a)).map(l=>typeof l=="string"&&new RegExp("[,()]").test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(s,`in.(${o})`),this}contains(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cs.{${a.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(a)}`),this}containedBy(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cd.{${a.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(a)}`),this}rangeGt(s,a){return this.url.searchParams.append(s,`sr.${a}`),this}rangeGte(s,a){return this.url.searchParams.append(s,`nxl.${a}`),this}rangeLt(s,a){return this.url.searchParams.append(s,`sl.${a}`),this}rangeLte(s,a){return this.url.searchParams.append(s,`nxr.${a}`),this}rangeAdjacent(s,a){return this.url.searchParams.append(s,`adj.${a}`),this}overlaps(s,a){return typeof a=="string"?this.url.searchParams.append(s,`ov.${a}`):this.url.searchParams.append(s,`ov.{${a.join(",")}}`),this}textSearch(s,a,{config:o,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(s,`${c}fts${u}.${a}`),this}match(s){return Object.entries(s).forEach(([a,o])=>{this.url.searchParams.append(a,`eq.${o}`)}),this}not(s,a,o){return this.url.searchParams.append(s,`not.${a}.${o}`),this}or(s,{foreignTable:a,referencedTable:o=a}={}){const l=o?`${o}.or`:"or";return this.url.searchParams.append(l,`(${s})`),this}filter(s,a,o){return this.url.searchParams.append(s,`${a}.${o}`),this}}return Sd.default=r,Sd}var Sb;function oC(){if(Sb)return _d;Sb=1,Object.defineProperty(_d,"__esModule",{value:!0});const t=Wl.__importDefault(Zy());class r{constructor(s,{headers:a={},schema:o,fetch:l}){this.url=s,this.headers=new Headers(a),this.schema=o,this.fetch=l}select(s,a){const{head:o=!1,count:l}=a??{},c=o?"HEAD":"GET";let u=!1;const d=(s??"*").split("").map(h=>/\s/.test(h)&&!u?"":(h==='"'&&(u=!u),h)).join("");return this.url.searchParams.set("select",d),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:a,defaultToNull:o=!0}={}){var l;const c="POST";if(a&&this.headers.append("Prefer",`count=${a}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const u=s.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(u.length>0){const d=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(s,{onConflict:a,ignoreDuplicates:o=!1,count:l,defaultToNull:c=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const h=s.reduce((f,m)=>f.concat(Object.keys(m)),[]);if(h.length>0){const f=[...new Set(h)].map(m=>`"${m}"`);this.url.searchParams.set("columns",f.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(s,{count:a}={}){var o;const l="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:s}={}){var a;const o="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return _d.default=r,_d}var Nb;function DD(){if(Nb)return jd;Nb=1,Object.defineProperty(jd,"__esModule",{value:!0});const e=Wl,t=e.__importDefault(oC()),r=e.__importDefault(Zy());class n{constructor(a,{headers:o={},schema:l,fetch:c}={}){this.url=a,this.headers=new Headers(o),this.schemaName=l,this.fetch=c}from(a){const o=new URL(`${this.url}/${a}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new n(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,o={},{head:l=!1,get:c=!1,count:u}={}){var d;let h;const f=new URL(`${this.url}/rpc/${a}`);let m;l||c?(h=l?"HEAD":"GET",Object.entries(o).filter(([g,v])=>v!==void 0).map(([g,v])=>[g,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([g,v])=>{f.searchParams.append(g,v)})):(h="POST",m=o);const w=new Headers(this.headers);return u&&w.set("Prefer",`count=${u}`),new r.default({method:h,url:f,headers:w,schema:this.schemaName,body:m,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return jd.default=n,jd}Object.defineProperty(kr,"__esModule",{value:!0});kr.PostgrestError=kr.PostgrestBuilder=kr.PostgrestTransformBuilder=kr.PostgrestFilterBuilder=kr.PostgrestQueryBuilder=kr.PostgrestClient=void 0;const Hl=Wl,lC=Hl.__importDefault(DD());kr.PostgrestClient=lC.default;const cC=Hl.__importDefault(oC());kr.PostgrestQueryBuilder=cC.default;const uC=Hl.__importDefault(Zy());kr.PostgrestFilterBuilder=uC.default;const dC=Hl.__importDefault(iC());kr.PostgrestTransformBuilder=dC.default;const hC=Hl.__importDefault(aC());kr.PostgrestBuilder=hC.default;const fC=Hl.__importDefault(sC());kr.PostgrestError=fC.default;var LD=kr.default={PostgrestClient:lC.default,PostgrestQueryBuilder:cC.default,PostgrestFilterBuilder:uC.default,PostgrestTransformBuilder:dC.default,PostgrestBuilder:hC.default,PostgrestError:fC.default};const{PostgrestClient:$D,PostgrestQueryBuilder:Y7,PostgrestFilterBuilder:J7,PostgrestTransformBuilder:X7,PostgrestBuilder:Z7,PostgrestError:eK}=LD;class FD{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const UD="2.76.1",zD=`realtime-js/${UD}`,BD="1.0.0",nv=1e4,VD=1e3,qD=100;var Dc;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Dc||(Dc={}));var Lt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Lt||(Lt={}));var Mn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Mn||(Mn={}));var sv;(function(e){e.websocket="websocket"})(sv||(sv={}));var _i;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(_i||(_i={}));class WD{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),a=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+s));o=o+s;const c=n.decode(t.slice(o,o+a));o=o+a;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class mC{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var nt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(nt||(nt={}));const Cb=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((a,o)=>(a[o]=HD(o,e,t,s),a),{}):{}},HD=(e,t,r,n)=>{const s=t.find(l=>l.name===e),a=s==null?void 0:s.type,o=r[e];return a&&!n.includes(a)?pC(a,o):av(o)},pC=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return YD(t,r)}switch(e){case nt.bool:return KD(t);case nt.float4:case nt.float8:case nt.int2:case nt.int4:case nt.int8:case nt.numeric:case nt.oid:return QD(t);case nt.json:case nt.jsonb:return GD(t);case nt.timestamp:return JD(t);case nt.abstime:case nt.date:case nt.daterange:case nt.int4range:case nt.int8range:case nt.money:case nt.reltime:case nt.text:case nt.time:case nt.timestamptz:case nt.timetz:case nt.tsrange:case nt.tstzrange:return av(t);default:return av(t)}},av=e=>e,KD=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},QD=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},GD=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},YD=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const o=e.slice(1,r);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>pC(t,l))}return e},JD=e=>typeof e=="string"?e.replace(" ","T"):e,gC=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class up{constructor(t,r,n={},s=nv){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Eb;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Eb||(Eb={}));class Lc{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Lc.syncState(this.state,s,a,o),this.pendingDiffs.forEach(c=>{this.state=Lc.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Lc.syncDiff(this.state,s,a,o),l())}),this.onJoin((s,a,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:o})}),this.onLeave((s,a,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const a=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(a,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const h=a[u];if(h){const f=d.map(v=>v.presence_ref),m=h.map(v=>v.presence_ref),w=d.filter(v=>m.indexOf(v.presence_ref)<0),g=h.filter(v=>f.indexOf(v.presence_ref)<0);w.length>0&&(l[u]=w),g.length>0&&(c[u]=g)}else l[u]=d}),this.syncDiff(a,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:a,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(a,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const h=t[l].map(m=>m.presence_ref),f=d.filter(m=>h.indexOf(m.presence_ref)<0);t[l].unshift(...f)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var kb;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(kb||(kb={}));var $c;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})($c||($c={}));var Ds;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ds||(Ds={}));class ex{constructor(t,r={config:{}},n){var s,a;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Lt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new up(this,Mn.join,this.params,this.timeout),this.rejoinTimer=new mC(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Lt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Lt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Lt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Lt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Lt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Mn.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new Lc(this),this.broadcastEndpointURL=gC(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Lt.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[$c.PRESENCE]&&this.bindings[$c.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(Ds.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(Ds.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var w;if(this.socket.setAuth(),m===void 0){t==null||t(Ds.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,v=(w=g==null?void 0:g.length)!==null&&w!==void 0?w:0,b=[];for(let y=0;y<v;y++){const x=g[y],{filter:{event:j,schema:_,table:S,filter:N}}=x,C=m&&m[y];if(C&&C.event===j&&C.schema===_&&C.table===S&&C.filter===N)b.push(Object.assign(Object.assign({},x),{id:C.id}));else{this.unsubscribe(),this.state=Lt.errored,t==null||t(Ds.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(Ds.SUBSCRIBED);return}}).receive("error",m=>{this.state=Lt.errored,t==null||t(Ds.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ds.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Lt.joined&&t===$c.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Lt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Mn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new up(this,Mn.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Lt.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,a=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(a),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new up(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>qD){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,a;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Mn;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var w,g,v;return((w=m.filter)===null||w===void 0?void 0:w.event)==="*"||((v=(g=m.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(m=>m.callback(f,n)):(a=this.bindings[o])===null||a===void 0||a.filter(m=>{var w,g,v,b,y,x;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const j=m.id,_=(w=m.filter)===null||w===void 0?void 0:w.event;return j&&((g=r.ids)===null||g===void 0?void 0:g.includes(j))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const j=(y=(b=m==null?void 0:m.filter)===null||b===void 0?void 0:b.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return j==="*"||j===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof f=="object"&&"ids"in f){const w=f.data,{schema:g,table:v,commit_timestamp:b,type:y,errors:x}=w;f=Object.assign(Object.assign({},{schema:g,table:v,commit_timestamp:b,eventType:y,new:{},old:{},errors:x}),this._getPayloadRecords(w))}m.callback(f,n)})}_isClosed(){return this.state===Lt.closed}_isJoined(){return this.state===Lt.joined}_isJoining(){return this.state===Lt.joining}_isLeaving(){return this.state===Lt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),a={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&ex.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Mn.close,{},t)}_onError(t){this._on(Mn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Lt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Cb(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Cb(t.columns,t.old_record)),r}}const dp=()=>{},kd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},XD=[1e3,2e3,5e3,1e4],ZD=1e4,eL=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class tL{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=nv,this.transport=null,this.heartbeatIntervalMs=kd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=dp,this.ref=0,this.reconnectTimer=null,this.logger=dp,this.conn=null,this.sendBuffer=[],this.serializer=new WD,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let a;return s?a=s:typeof fetch>"u"?a=(...o)=>co(async()=>{const{default:l}=await Promise.resolve().then(()=>uo);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...o)=>a(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${sv.websocket}`,this.httpEndpoint=gC(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=FD.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:BD}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Dc.connecting:return _i.Connecting;case Dc.open:return _i.Open;case Dc.closing:return _i.Closing;default:return _i.Closed}}isConnected(){return this.connectionState()===_i.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(a=>a.topic===n);if(s)return s;{const a=new ex(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:s,ref:a}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${a})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(VD,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},kd.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:a,ref:o}=r,l=o?`(${o})`:"",c=a.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),a),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,a,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Mn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([eL],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:zD};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Mn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new mC(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},kd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,a,o,l,c,u,d;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:nv,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:kd.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:dp,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:(h=>XD[h-1]||ZD),this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:((h,f)=>f(JSON.stringify(h))),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class tx extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function dt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class rL extends tx{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class iv extends tx{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const rx=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>co(async()=>{const{default:n}=await Promise.resolve().then(()=>uo);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},nL=()=>ue(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield co(()=>Promise.resolve().then(()=>uo),void 0)).Response:Response}),ov=e=>{if(Array.isArray(e))return e.map(r=>ov(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[s]=ov(n)}),t},sL=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},hp=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),aL=(e,t,r)=>ue(void 0,void 0,void 0,function*(){const n=yield nL();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const a=e.status||500,o=(s==null?void 0:s.statusCode)||a+"";t(new rL(hp(s),a,o))}).catch(s=>{t(new iv(hp(s),s))}):t(new iv(hp(e),e))}),iL=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(sL(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),r))};function Du(e,t,r,n,s,a){return ue(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,iL(t,n,s,a)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>aL(c,l,n))})})}function uu(e,t,r,n){return ue(this,void 0,void 0,function*(){return Du(e,"GET",t,r,n)})}function Tn(e,t,r,n,s){return ue(this,void 0,void 0,function*(){return Du(e,"POST",t,n,s,r)})}function lv(e,t,r,n,s){return ue(this,void 0,void 0,function*(){return Du(e,"PUT",t,n,s,r)})}function oL(e,t,r,n){return ue(this,void 0,void 0,function*(){return Du(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function nx(e,t,r,n,s){return ue(this,void 0,void 0,function*(){return Du(e,"DELETE",t,n,s,r)})}class lL{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return ue(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(dt(t))return{data:null,error:t};throw t}})}}var vC;class cL{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[vC]="BlobDownloadBuilder",this.promise=null}asStream(){return new lL(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ue(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(dt(t))return{data:null,error:t};throw t}})}}vC=Symbol.toStringTag;const uL={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Pb={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class dL{constructor(t,r={},n,s){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=rx(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,s){return ue(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},Pb),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield(t=="PUT"?lv:Tn)(this.fetch,`${this.url}/object/${d}`,a,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(dt(a))return{data:null,error:a};throw a}})}upload(t,r,n){return ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return ue(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Pb.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield lv(this.fetch,l.toString(),c,{headers:d});return{data:{path:a,fullPath:h.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(dt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return ue(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const a=yield Tn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+a.url),l=o.searchParams.get("token");if(!l)throw new tx("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}})}update(t,r,n){return ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return ue(this,void 0,void 0,function*(){try{return{data:yield Tn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(dt(s))return{data:null,error:s};throw s}})}copy(t,r,n){return ue(this,void 0,void 0,function*(){try{return{data:{path:(yield Tn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(dt(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return ue(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),a=yield Tn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(dt(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return ue(this,void 0,void 0,function*(){try{const s=yield Tn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(dt(s))return{data:null,error:s};throw s}})}download(t,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=a?`?${a}`:"",l=this._getFinalPath(t),c=()=>uu(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new cL(c,this.shouldThrowOnError)}info(t){return ue(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield uu(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:ov(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}})}exists(t){return ue(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield oL(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dt(n)&&n instanceof iv){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&s.push(a);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return ue(this,void 0,void 0,function*(){try{return{data:yield nx(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}})}list(t,r,n){return ue(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},uL),r),{prefix:t||""});return{data:yield Tn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(dt(s))return{data:null,error:s};throw s}})}listV2(t,r){return ue(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Tn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const yC="2.76.1",xC={"X-Client-Info":`storage-js/${yC}`};class hL{constructor(t,r={},n,s){this.shouldThrowOnError=!1;const a=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},xC),r),this.fetch=rx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return ue(this,void 0,void 0,function*(){try{return{data:yield uu(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(dt(t))return{data:null,error:t};throw t}})}getBucket(t){return ue(this,void 0,void 0,function*(){try{return{data:yield uu(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}})}createBucket(t){return ue(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Tn(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(dt(s))return{data:null,error:s};throw s}})}updateBucket(t,r){return ue(this,void 0,void 0,function*(){try{return{data:yield lv(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return ue(this,void 0,void 0,function*(){try{return{data:yield Tn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ue(this,void 0,void 0,function*(){try{return{data:yield nx(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}})}}class fL{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},xC),r),this.fetch=rx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return ue(this,void 0,void 0,function*(){try{return{data:yield Tn(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}})}listBuckets(t){return ue(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),s=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`,a=yield uu(this.fetch,s,{headers:this.headers});return{data:Array.isArray(a)?a.filter(l=>l.type==="ANALYTICS"):[],error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ue(this,void 0,void 0,function*(){try{return{data:yield nx(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}})}}const sx={"X-Client-Info":`storage-js/${yC}`,"Content-Type":"application/json"};class wC extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Vr(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class fp extends wC{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class mL extends wC{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var Rb;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Rb||(Rb={}));const ax=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>co(async()=>{const{default:n}=await Promise.resolve().then(()=>uo);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},pL=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Tb=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),gL=(e,t,r)=>ue(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const s=e.status||500,a=e;if(typeof a.json=="function")a.json().then(o=>{const l=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||s+"";t(new fp(Tb(o),s,l))}).catch(()=>{const o=s+"",l=a.statusText||`HTTP ${s} error`;t(new fp(l,s,o))});else{const o=s+"",l=a.statusText||`HTTP ${s} error`;t(new fp(l,s,o))}}else t(new mL(Tb(e),e))}),vL=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(pL(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r)):s};function yL(e,t,r,n,s,a){return ue(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,vL(t,n,s,a)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>gL(c,l,n))})})}function qr(e,t,r,n,s){return ue(this,void 0,void 0,function*(){return yL(e,"POST",t,n,s,r)})}class xL{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},sx),r),this.fetch=ax(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return ue(this,void 0,void 0,function*(){try{return{data:(yield qr(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vr(r))return{data:null,error:r};throw r}})}getIndex(t,r){return ue(this,void 0,void 0,function*(){try{return{data:yield qr(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Vr(n))return{data:null,error:n};throw n}})}listIndexes(t){return ue(this,void 0,void 0,function*(){try{return{data:yield qr(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vr(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return ue(this,void 0,void 0,function*(){try{return{data:(yield qr(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Vr(n))return{data:null,error:n};throw n}})}}class wL{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},sx),r),this.fetch=ax(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return ue(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield qr(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vr(r))return{data:null,error:r};throw r}})}getVectors(t){return ue(this,void 0,void 0,function*(){try{return{data:yield qr(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vr(r))return{data:null,error:r};throw r}})}listVectors(t){return ue(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield qr(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vr(r))return{data:null,error:r};throw r}})}queryVectors(t){return ue(this,void 0,void 0,function*(){try{return{data:yield qr(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vr(r))return{data:null,error:r};throw r}})}deleteVectors(t){return ue(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield qr(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vr(r))return{data:null,error:r};throw r}})}}class bL{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},sx),r),this.fetch=ax(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return ue(this,void 0,void 0,function*(){try{return{data:(yield qr(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vr(r))return{data:null,error:r};throw r}})}getBucket(t){return ue(this,void 0,void 0,function*(){try{return{data:yield qr(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vr(r))return{data:null,error:r};throw r}})}listBuckets(){return ue(this,arguments,void 0,function*(t={}){try{return{data:yield qr(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ue(this,void 0,void 0,function*(){try{return{data:(yield qr(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vr(r))return{data:null,error:r};throw r}})}}class jL extends bL{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new _L(this.url,this.headers,t,this.fetch)}}class _L extends xL{constructor(t,r,n,s){super(t,r,s),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ue(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ue(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ue(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ue(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new SL(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class SL extends wL{constructor(t,r,n,s,a){super(t,r,a),this.vectorBucketName=n,this.indexName=s}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ue(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ue(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ue(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ue(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ue(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class NL extends hL{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new dL(this.url,this.headers,t,this.fetch)}get vectors(){return new jL(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new fL(this.url+"/iceberg",this.headers,this.fetch)}}const CL="2.76.1";let _c="";typeof Deno<"u"?_c="deno":typeof document<"u"?_c="web":typeof navigator<"u"&&navigator.product==="ReactNative"?_c="react-native":_c="node";const EL={"X-Client-Info":`supabase-js-${_c}/${CL}`},kL={headers:EL},PL={schema:"public"},RL={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},TL={},AL=e=>{let t;return e?t=e:typeof fetch>"u"?t=rC:t=fetch,(...r)=>t(...r)},OL=()=>typeof Headers>"u"?nC:Headers,IL=(e,t,r)=>{const n=AL(r),s=OL();return async(a,o)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(a,Object.assign(Object.assign({},o),{headers:u}))}};function ML(e){return e.endsWith("/")?e:e+"/"}function DL(e,t){var r,n;const{db:s,auth:a,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:h}=t,f={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}function LL(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(ML(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const bC="2.76.1",Ro=30*1e3,cv=3,mp=cv*Ro,$L="http://localhost:9999",FL="supabase.auth.token",UL={"X-Client-Info":`gotrue-js/${bC}`},uv="X-Supabase-Api-Version",jC={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},zL=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,BL=600*1e3;class du extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function we(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class VL extends du{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function qL(e){return we(e)&&e.name==="AuthApiError"}class Si extends du{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class hi extends du{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class ba extends hi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function WL(e){return we(e)&&e.name==="AuthSessionMissingError"}class xo extends hi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Pd extends hi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Rd extends hi{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function HL(e){return we(e)&&e.name==="AuthImplicitGrantRedirectError"}class Ab extends hi{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class dv extends hi{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function pp(e){return we(e)&&e.name==="AuthRetryableFetchError"}class Ob extends hi{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class hv extends hi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Vh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ib=` 	
\r=`.split(""),KL=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Ib.length;t+=1)e[Ib[t].charCodeAt(0)]=-2;for(let t=0;t<Vh.length;t+=1)e[Vh[t].charCodeAt(0)]=t;return e})();function Mb(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Vh[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Vh[n]),t.queuedBits-=6}}function _C(e,t,r){const n=KL[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Db(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=o=>{YL(o,n,r)};for(let o=0;o<e.length;o+=1)_C(e.charCodeAt(o),s,a);return t.join("")}function QL(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function GL(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}QL(n,t)}}function YL(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Xo(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)_C(e.charCodeAt(s),r,n);return new Uint8Array(t)}function JL(e){const t=[];return GL(e,r=>t.push(r)),new Uint8Array(t)}function Ri(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Mb(s,r,n)),Mb(null,r,n),t.join("")}function XL(e){return Math.round(Date.now()/1e3)+e}function ZL(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Fr=()=>typeof window<"u"&&typeof document<"u",yi={tested:!1,writable:!1},SC=()=>{if(!Fr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(yi.tested)return yi.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),yi.tested=!0,yi.writable=!0}catch{yi.tested=!0,yi.writable=!1}return yi.writable};function e$(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,a)=>{t[a]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const NC=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>co(async()=>{const{default:n}=await Promise.resolve().then(()=>uo);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},t$=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",To=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},xi=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},va=async(e,t)=>{await e.removeItem(t)};class Lf{constructor(){this.promise=new Lf.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Lf.promiseConstructor=Promise;function gp(e){const t=e.split(".");if(t.length!==3)throw new hv("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!zL.test(t[n]))throw new hv("JWT not in base64url format");return{header:JSON.parse(Db(t[0])),payload:JSON.parse(Db(t[1])),signature:Xo(t[2]),raw:{header:t[0],payload:t[1]}}}async function r$(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function n$(e,t){return new Promise((n,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){n(o);return}}catch(o){if(!t(a,o)){s(o);return}}})()})}function s$(e){return("0"+e.toString(16)).substr(-2)}function a$(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let a=0;a<56;a++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,s$).join("")}async function i$(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function o$(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await i$(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function wo(e,t,r=!1){const n=a$();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await To(e,`${t}-code-verifier`,s);const a=await o$(n);return[a,n===a?"plain":"s256"]}const l$=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function c$(e){const t=e.headers.get(uv);if(!t||!t.match(l$))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function u$(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function d$(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const h$=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function bo(e){if(!h$.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function vp(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Lb(e){return JSON.parse(JSON.stringify(e))}const ji=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),f$=[502,503,504];async function $b(e){var t;if(!t$(e))throw new dv(ji(e),0);if(f$.includes(e.status))throw new dv(ji(e),e.status);let r;try{r=await e.json()}catch(a){throw new Si(ji(a),a)}let n;const s=c$(e);if(s&&s.getTime()>=jC["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Ob(ji(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new ba}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new Ob(ji(r),e.status,r.weak_password.reasons);throw new VL(ji(r),e.status||500,n)}const m$=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function Ee(e,t,r,n){var s;const a=Object.assign({},n==null?void 0:n.headers);a[uv]||(a[uv]=jC["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await p$(e,t,r+l,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function p$(e,t,r,n,s,a){const o=m$(t,n,s,a);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new dv(ji(c),0)}if(l.ok||await $b(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await $b(c)}}function Nn(e){var t;let r=null;y$(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=XL(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Fb(e){const t=Nn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ka(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function g$(e){return{data:e,error:null}}function v$(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a}=e,o=di(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function Ub(e){return e}function y$(e){return e.access_token&&e.refresh_token&&e.expires_in}const yp=["global","local","others"];class x${constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=NC(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=yp[0]){if(yp.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${yp.join(", ")}`);try{return await Ee(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(we(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Ee(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ka})}catch(n){if(we(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=di(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await Ee(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:v$,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(we(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Ee(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ka})}catch(r){if(we(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,a,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Ee(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:Ub});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(w=>{const g=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(w.split(";")[1].split("=")[1]);u[`${v}Page`]=g}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(we(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){bo(t);try{return await Ee(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ka})}catch(r){if(we(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){bo(t);try{return await Ee(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:ka})}catch(n){if(we(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){bo(t);try{return await Ee(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:ka})}catch(n){if(we(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){bo(t.userId);try{const{data:r,error:n}=await Ee(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(we(r))return{data:null,error:r};throw r}}async _deleteFactor(t){bo(t.userId),bo(t.id);try{return{data:await Ee(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(we(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,a,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Ee(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:Ub});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(w=>{const g=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(w.split(";")[1].split("=")[1]);u[`${v}Page`]=g}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(we(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await Ee(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(we(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Ee(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(we(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await Ee(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(we(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Ee(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(we(r))return{data:null,error:r};throw r}}}function zb(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const jo={debug:!!(globalThis&&SC()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class CC extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class w$ extends CC{}async function b$(e,t,r){jo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),jo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){jo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{jo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw jo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new w$(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(jo.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function j$(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function EC(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function _$(e){return parseInt(e,16)}function S$(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function N$(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:a=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:d,uri:h,version:f}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=EC(e.address),w=d?`${d}://${n}`:n,g=e.statement?`${e.statement}
`:"",v=`${w} wants you to sign in with your Ethereum account:
${m}

${g}`;let b=`URI: ${h}
Version: ${f}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(s&&(b+=`
Expiration Time: ${s.toISOString()}`),l&&(b+=`
Not Before: ${l.toISOString()}`),c&&(b+=`
Request ID: ${c}`),u){let y=`
Resources:`;for(const x of u){if(!x||typeof x!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${x}`);y+=`
- ${x}`}b+=y}return`${v}
${b}`}class Tt extends Error{constructor({message:t,code:r,cause:n,name:s}){var a;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=s??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class qh extends Tt{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function C$({error:e,options:t}){var r,n,s;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Tt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Tt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Tt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=a.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Tt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Tt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Tt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Tt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Tt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(kC(o)){if(a.rp.id!==o)return new Tt({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Tt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Tt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Tt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Tt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function E$({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Tt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Tt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(kC(n)){if(r.rpId!==n)return new Tt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Tt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Tt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Tt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class k${createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const P$=new k$;function R$(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=di(e,["challenge","user","excludeCredentials"]),a=Xo(t).buffer,o=Object.assign(Object.assign({},r),{id:Xo(r.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:a,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Xo(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function T$(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=di(e,["challenge","allowCredentials"]),s=Xo(t).buffer,a=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];a.allowCredentials[o]=Object.assign(Object.assign({},l),{id:Xo(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function A$(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Ri(new Uint8Array(e.response.attestationObject)),clientDataJSON:Ri(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function O$(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Ri(new Uint8Array(s.authenticatorData)),clientDataJSON:Ri(new Uint8Array(s.clientDataJSON)),signature:Ri(new Uint8Array(s.signature)),userHandle:s.userHandle?Ri(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function kC(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Bb(){var e,t;return!!(Fr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function I$(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new qh("Browser returned unexpected credential type",t)}:{data:null,error:new qh("Empty credential response",t)}}catch(t){return{data:null,error:C$({error:t,options:e})}}}async function M$(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new qh("Browser returned unexpected credential type",t)}:{data:null,error:new qh("Empty credential response",t)}}catch(t){return{data:null,error:E$({error:t,options:e})}}}const D$={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},L$={userVerification:"preferred",hints:["security-key"]};function Wh(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const a in s){const o=s[a];if(o!==void 0)if(Array.isArray(o))n[a]=o;else if(r(o))n[a]=o;else if(t(o)){const l=n[a];t(l)?n[a]=Wh(l,o):n[a]=Wh(o)}else n[a]=o}return n}function $$(e,t){return Wh(D$,e,t||{})}function F$(e,t){return Wh(L$,e,t||{})}class U${constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},a){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:l};const c=s??P$.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=$$(o.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:d,error:h}=await I$({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const u=F$(o.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:d,error:h}=await M$(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(o){return we(o)?{data:null,error:o}:{data:null,error:new Si("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}},a){if(!r)return{data:null,error:new du("rpId is required for WebAuthn authentication")};try{if(!Bb())return{data:null,error:new Si("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:a});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return we(o)?{data:null,error:o}:{data:null,error:new Si("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s},a){if(!r)return{data:null,error:new du("rpId is required for WebAuthn registration")};try{if(!Bb())return{data:null,error:new Si("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===t&&f.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:a});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return we(o)?{data:null,error:o}:{data:null,error:new Si("Unexpected error in register",o)}}}}j$();const z$={url:$L,storageKey:FL,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:UL,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Vb(e,t,r){return await r()}const _o={};class hu{get jwks(){var t,r;return(r=(t=_o[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){_o[this.storageKey]=Object.assign(Object.assign({},_o[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=_o[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){_o[this.storageKey]=Object.assign(Object.assign({},_o[this.storageKey]),{cachedAt:t})}constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=hu.nextInstanceID,hu.nextInstanceID+=1,this.instanceID>0&&Fr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},z$),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new x$({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=NC(s.fetch),this.lock=s.lock||Vb,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Fr()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=b$:this.lock=Vb,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new U$(this)},this.persistSession?(s.storage?this.storage=s.storage:SC()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=zb(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=zb(this.memoryStorage)),Fr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${bC}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=e$(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Fr()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),HL(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return we(r)?{error:r}:{error:new Si("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const a=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Nn}),{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(we(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var r,n,s;try{let a;if("email"in t){const{email:d,password:h,options:f}=t;let m=null,w=null;this.flowType==="pkce"&&([m,w]=await wo(this.storage,this.storageKey)),a=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:w},xform:Nn})}else if("phone"in t){const{phone:d,password:h,options:f}=t;a=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Nn})}else throw new Pd("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(we(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:o,options:l}=t;r=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Fb})}else if("phone"in t){const{phone:a,password:o,options:l}=t;r=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Fb})}else throw new Pd("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new xo}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(we(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,a,o,l,c,u,d,h,f;let m,w;if("message"in t)m=t.message,w=t.signature;else{const{chain:g,wallet:v,statement:b,options:y}=t;let x;if(Fr())if(typeof v=="object")x=v;else{const R=window;if("ethereum"in R&&typeof R.ethereum=="object"&&"request"in R.ethereum&&typeof R.ethereum.request=="function")x=R.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=v}const j=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href),_=await x.request({method:"eth_requestAccounts"}).then(R=>R).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!_||_.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=EC(_[0]);let N=(n=y==null?void 0:y.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!N){const R=await x.request({method:"eth_chainId"});N=_$(R)}const C={domain:j.host,address:S,statement:b,uri:j.href,version:"1",chainId:N,nonce:(s=y==null?void 0:y.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(a=y==null?void 0:y.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=y==null?void 0:y.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=y==null?void 0:y.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=y==null?void 0:y.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=y==null?void 0:y.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=N$(C),w=await x.request({method:"personal_sign",params:[S$(m),S]})}try{const{data:g,error:v}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:w},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Nn});if(v)throw v;return!g||!g.session||!g.user?{data:{user:null,session:null},error:new xo}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:Object.assign({},g),error:v})}catch(g){if(we(g))return{data:{user:null,session:null},error:g};throw g}}async signInWithSolana(t){var r,n,s,a,o,l,c,u,d,h,f,m;let w,g;if("message"in t)w=t.message,g=t.signature;else{const{chain:v,wallet:b,statement:y,options:x}=t;let j;if(Fr())if(typeof b=="object")j=b;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))j=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=b}const _=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const S=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),y?{statement:y}:null));let N;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")N=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)N=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)w=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),g=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${_.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(s=(n=x==null?void 0:x.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((u=x==null?void 0:x.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((h=(d=x==null?void 0:x.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...x.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const S=await j.signMessage(new TextEncoder().encode(w),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=S}}try{const{data:v,error:b}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:Ri(g)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Nn});if(b)throw b;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new xo}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:b})}catch(v){if(we(v))return{data:{user:null,session:null},error:v};throw v}}async _exchangeCodeForSession(t){const r=await xi(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:a,error:o}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Nn});if(await va(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new xo}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:o})}catch(a){if(we(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:a,nonce:o}=t,l=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Nn}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new xo}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(we(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,a,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await wo(this.storage,this.storageKey));const{error:h}=await Ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Pd("You must provide either an email or phone number.")}catch(l){if(we(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,a;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await Ee(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:Nn});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(we(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await wo(this.storage,this.storageKey)),await Ee(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:g$})}catch(a){if(we(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new ba;const{error:s}=await Ee(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(we(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:a}=t,{error:o}=await Ee(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:a}=t,{data:o,error:l}=await Ee(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Pd("You must provide either an email or phone number and a type")}catch(r){if(we(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await xi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<mp:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await xi(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=vp()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{data:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ka}):await this._useSession(async r=>{var n,s,a;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ba}:await Ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:ka})})}catch(r){if(we(r))return WL(r)&&(await this._removeSession(),await va(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:a}=n;if(a)throw a;if(!s.session)throw new ba;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await wo(this.storage,this.storageKey));const{data:u,error:d}=await Ee(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:ka});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(we(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ba;const r=Date.now()/1e3;let n=r,s=!0,a=null;const{payload:o}=gp(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(we(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new ba;const{data:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(we(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Fr())throw new Rd("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Rd(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Ab("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Rd("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Ab("No code detected.");const{data:y,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:a,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!a||!l||!o||!u)throw new Rd("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;c&&(f=parseInt(c));const m=f-d;m*1e3<=Ro&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const w=f-h;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,f,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,f,d);const{data:g,error:v}=await this._getUser(a);if(v)throw v;const b={provider_token:n,provider_refresh_token:s,access_token:a,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:t.type},error:null}}catch(n){if(we(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await xi(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return{error:a};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(qL(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await va(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=ZL(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:a},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await wo(this.storage,this.storageKey,!0));try{return await Ee(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(we(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(we(r))return{data:null,error:r};throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async a=>{var o,l,c,u,d;const{data:h,error:f}=a;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ee(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Fr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(we(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:a}}=r;if(s)throw s;const{options:o,provider:l,token:c,access_token:u,nonce:d}=t,h=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a==null?void 0:a.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Nn}),{data:f,error:m}=h;return m?{data:{user:null,session:null},error:m}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new xo}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),{data:f,error:m})}catch(s){if(we(s))return{data:{user:null,session:null},error:s};throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:o}=r;if(o)throw o;return await Ee(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(we(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await n$(async s=>(s>0&&await r$(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await Ee(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Nn})),(s,a)=>{const o=200*Math.pow(2,s);return a&&pp(a)&&Date.now()+o-n<Ro})}catch(n){if(this._debug(r,"error",n),we(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Fr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await xi(this.storage,this.storageKey);if(s&&this.userStorage){let o=await xi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await To(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:vp()}else if(s&&!s.user&&!s.user){const o=await xi(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await va(this.storage,this.storageKey+"-user"),await To(this.storage,this.storageKey,s)):s.user=vp()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const a=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<mp;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${mp}s`),a){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),pp(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new ba;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Lf;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new ba;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={data:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(s,"error",a),we(a)){const o={data:null,error:a};return pp(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await To(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const a=Lb(s);await To(this.storage,this.storageKey,a)}else{const s=Lb(r);await To(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await va(this.storage,this.storageKey),await va(this.storage,this.storageKey+"-code-verifier"),await va(this.storage,this.storageKey+"-user"),this.userStorage&&await va(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Fr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ro);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Ro);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Ro}ms, refresh threshold is ${cv} ticks`),s<=cv&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof CC)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Fr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,o]=await wo(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);s.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;return a?{data:null,error:a}:await Ee(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(we(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await Ee(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(we(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return{data:null,error:a};const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?A$(t.webauthn.credential_response):O$(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await Ee(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})})}catch(r){if(we(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return{data:null,error:a};const o=await Ee(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:R$(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:T$(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(we(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(a),a.status==="verified"&&s[a.factor_type].push(a);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:a}=t;if(a)return{data:null,error:a};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=gp(s.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+BL>s)return n;const{data:a,error:o}=await Ee(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,n=a.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:w}=await this.getSession();if(w||!m.session)return{data:null,error:w};n=m.session.access_token}const{header:s,payload:a,signature:o,raw:{header:l,payload:c}}=gp(n);r!=null&&r.allowExpired||u$(a.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:a,header:s,signature:o},error:null}}const d=d$(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,JL(`${l}.${c}`)))throw new hv("Invalid JWT signature");return{data:{claims:a,header:s,signature:o},error:null}}catch(n){if(we(n))return{data:null,error:n};throw n}}}hu.nextInstanceID=0;const B$=hu;class V$ extends B${constructor(t){super(t)}}class q${constructor(t,r,n){var s,a,o;this.supabaseUrl=t,this.supabaseKey=r;const l=LL(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:PL,realtime:TL,auth:Object.assign(Object.assign({},RL),{storageKey:c}),global:kL},d=DL(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=d.global.headers)!==null&&a!==void 0?a:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=IL(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new $D(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new NL(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new RD(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:a,storageKey:o,flowType:l,lock:c,debug:u},d,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new V$({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),d),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:a,flowType:l,lock:c,debug:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new tL(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const W$=(e,t,r)=>new q$(e,t,r);function H$(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}H$()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const sh=void 0,K$=void 0;console.log(" Inicializando Supabase client",{url:(sh==null?void 0:sh.substring(0,30))+"...",hasKey:!1});const ar=W$(sh,K$,{auth:{debug:!1,autoRefreshToken:!0,persistSession:!0},global:{headers:{"x-client-info":"espana-creativa-red"}}});console.log(" Cliente Supabase creado exitosamente");const Q$=Object.freeze(Object.defineProperty({__proto__:null,supabase:ar},Symbol.toStringTag,{value:"Module"})),ve=rt.create({baseURL:"/api"});let rs=!1,$r=null;async function PC(){if(rs&&$r)return $r;const{data:{session:e},error:t}=await ar.auth.getSession();if(t||!e)return rs?null:(rs=!0,$r=ar.auth.refreshSession().then(({data:{session:r},error:n})=>(rs=!1,$r=null,n||!r?(n&&n.message!=="Auth session missing!"&&console.error(" Failed to refresh session:",n.message),null):r.access_token)).catch(()=>(rs=!1,$r=null,null)),$r);if(e){const r=e.expires_at?e.expires_at*1e3:0,n=Date.now();if(r-n<6e4)if(rs){if($r)return $r}else return rs=!0,console.log(" Token expiring soon, refreshing..."),$r=ar.auth.refreshSession().then(({data:{session:a},error:o})=>(rs=!1,$r=null,o||!a?(console.error(" Failed to refresh session:",o==null?void 0:o.message),e.access_token):a.access_token)).catch(()=>(rs=!1,$r=null,e.access_token)),$r;return e.access_token}return null}ve.interceptors.request.use(async e=>{const t=await PC();return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));ve.interceptors.response.use(e=>e,async e=>{var t,r,n,s,a,o,l,c,u,d,h,f,m,w,g,v,b;if((r=(t=e.config)==null?void 0:t.url)!=null&&r.includes("/auth/me")&&((n=e.response)==null?void 0:n.status)===401){const y=new Error("Not authenticated");return y.response=e.response,y.config=e.config,Promise.reject(y)}if((a=(s=e.config)==null?void 0:s.url)!=null&&a.includes("/auth/signin")&&((o=e.response)==null?void 0:o.status)===401){const y=new Error(((c=(l=e.response)==null?void 0:l.data)==null?void 0:c.error)||"Email o contrasea incorrectos");return y.response=e.response,y.config=e.config,Promise.reject(y)}if((d=(u=e.config)==null?void 0:u.url)!=null&&d.includes("/auth/change-password")&&(((h=e.response)==null?void 0:h.status)===400||((f=e.response)==null?void 0:f.status)===401)){const y=new Error(((w=(m=e.response)==null?void 0:m.data)==null?void 0:w.error)||"Contrasea actual incorrecta");return y.response=e.response,y.config=e.config,Promise.reject(y)}if(((g=e.response)==null?void 0:g.status)===401&&!((b=(v=e.config)==null?void 0:v.url)!=null&&b.includes("/auth/"))&&!e.config._retry){console.warn(" Token invlido o expirado. Intentando refrescar sesin..."),e.config._retry=!0,rs=!1,$r=null;const y=await PC();return y?(console.log(" Sesin refrescada. Reintentando peticin..."),e.config.headers.Authorization=`Bearer ${y}`,ve.request(e.config)):(console.error(" No se pudo refrescar la sesin. Redirigiendo al login..."),await ar.auth.signOut(),window.location.href="/auth",Promise.reject(e))}return Promise.reject(e)});var He;(function(e){e.assertEqual=s=>{};function t(s){}e.assertIs=t;function r(s){throw new Error}e.assertNever=r,e.arrayToEnum=s=>{const a={};for(const o of s)a[o]=o;return a},e.getValidEnumValues=s=>{const a=e.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),o={};for(const l of a)o[l]=s[l];return e.objectValues(o)},e.objectValues=s=>e.objectKeys(s).map(function(a){return s[a]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const a=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&a.push(o);return a},e.find=(s,a)=>{for(const o of s)if(a(o))return o},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function n(s,a=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}e.joinValues=n,e.jsonStringifyReplacer=(s,a)=>typeof a=="bigint"?a.toString():a})(He||(He={}));var qb;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(qb||(qb={}));const ce=He.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Na=e=>{switch(typeof e){case"undefined":return ce.undefined;case"string":return ce.string;case"number":return Number.isNaN(e)?ce.nan:ce.number;case"boolean":return ce.boolean;case"function":return ce.function;case"bigint":return ce.bigint;case"symbol":return ce.symbol;case"object":return Array.isArray(e)?ce.array:e===null?ce.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?ce.promise:typeof Map<"u"&&e instanceof Map?ce.map:typeof Set<"u"&&e instanceof Set?ce.set:typeof Date<"u"&&e instanceof Date?ce.date:ce.object;default:return ce.unknown}},Q=He.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class dn extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(a){return a.message},n={_errors:[]},s=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return s(this),n}static assert(t){if(!(t instanceof dn))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,He.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const s of this.issues)if(s.path.length>0){const a=s.path[0];r[a]=r[a]||[],r[a].push(t(s))}else n.push(t(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}dn.create=e=>new dn(e);const fv=(e,t)=>{let r;switch(e.code){case Q.invalid_type:e.received===ce.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case Q.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,He.jsonStringifyReplacer)}`;break;case Q.unrecognized_keys:r=`Unrecognized key(s) in object: ${He.joinValues(e.keys,", ")}`;break;case Q.invalid_union:r="Invalid input";break;case Q.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${He.joinValues(e.options)}`;break;case Q.invalid_enum_value:r=`Invalid enum value. Expected ${He.joinValues(e.options)}, received '${e.received}'`;break;case Q.invalid_arguments:r="Invalid function arguments";break;case Q.invalid_return_type:r="Invalid function return type";break;case Q.invalid_date:r="Invalid date";break;case Q.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:He.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case Q.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case Q.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case Q.custom:r="Invalid input";break;case Q.invalid_intersection_types:r="Intersection results could not be merged";break;case Q.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case Q.not_finite:r="Number must be finite";break;default:r=t.defaultError,He.assertNever(e)}return{message:r}};let G$=fv;function Y$(){return G$}const J$=e=>{const{data:t,path:r,errorMaps:n,issueData:s}=e,a=[...r,...s.path||[]],o={...s,path:a};if(s.message!==void 0)return{...s,path:a,message:s.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...s,path:a,message:l}};function se(e,t){const r=Y$(),n=J$({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===fv?void 0:fv].filter(s=>!!s)});e.common.issues.push(n)}class mr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const s of r){if(s.status==="aborted")return Ce;s.status==="dirty"&&t.dirty(),n.push(s.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const s of r){const a=await s.key,o=await s.value;n.push({key:a,value:o})}return mr.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const s of r){const{key:a,value:o}=s;if(a.status==="aborted"||o.status==="aborted")return Ce;a.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[a.value]=o.value)}return{status:t.value,value:n}}}const Ce=Object.freeze({status:"aborted"}),Sc=e=>({status:"dirty",value:e}),vn=e=>({status:"valid",value:e}),Wb=e=>e.status==="aborted",Hb=e=>e.status==="dirty",Cl=e=>e.status==="valid",Hh=e=>typeof Promise<"u"&&e instanceof Promise;var he;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(he||(he={}));class js{constructor(t,r,n,s){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Kb=(e,t)=>{if(Cl(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new dn(e.common.issues);return this._error=r,this._error}}};function Oe(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:s}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:s}}class Ve{get description(){return this._def.description}_getType(t){return Na(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Na(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new mr,ctx:{common:t.parent.common,data:t.data,parsedType:Na(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Hh(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Na(t)},s=this._parseSync({data:t,path:n.path,parent:n});return Kb(n,s)}"~validate"(t){var n,s;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Na(t)};if(!this["~standard"].async)try{const a=this._parseSync({data:t,path:[],parent:r});return Cl(a)?{value:a.value}:{issues:r.common.issues}}catch(a){(s=(n=a==null?void 0:a.message)==null?void 0:n.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(a=>Cl(a)?{value:a.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Na(t)},s=this._parse({data:t,path:n.path,parent:n}),a=await(Hh(s)?s:Promise.resolve(s));return Kb(n,a)}refine(t,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,a)=>{const o=t(s),l=()=>a.addIssue({code:Q.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,s)=>t(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(t){return new Pl({schema:this,typeName:Ne.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Ja.create(this,this._def)}nullable(){return Rl.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return gs.create(this)}promise(){return Jh.create(this,this._def)}or(t){return Qh.create([this,t],this._def)}and(t){return Gh.create(this,t,this._def)}transform(t){return new Pl({...Oe(this._def),schema:this,typeName:Ne.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new yv({...Oe(this._def),innerType:this,defaultValue:r,typeName:Ne.ZodDefault})}brand(){return new wF({typeName:Ne.ZodBranded,type:this,...Oe(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new xv({...Oe(this._def),innerType:this,catchValue:r,typeName:Ne.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return ix.create(this,t)}readonly(){return wv.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const X$=/^c[^\s-]{8,}$/i,Z$=/^[0-9a-z]+$/,eF=/^[0-9A-HJKMNP-TV-Z]{26}$/i,tF=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,rF=/^[a-z0-9_-]{21}$/i,nF=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,sF=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,aF=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,iF="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let xp;const oF=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,lF=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,cF=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,uF=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,dF=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,hF=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,RC="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",fF=new RegExp(`^${RC}$`);function TC(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function mF(e){return new RegExp(`^${TC(e)}$`)}function pF(e){let t=`${RC}T${TC(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function gF(e,t){return!!((t==="v4"||!t)&&oF.test(e)||(t==="v6"||!t)&&cF.test(e))}function vF(e,t){if(!nF.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||t&&s.alg!==t)}catch{return!1}}function yF(e,t){return!!((t==="v4"||!t)&&lF.test(e)||(t==="v6"||!t)&&uF.test(e))}class Ws extends Ve{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==ce.string){const a=this._getOrReturnCtx(t);return se(a,{code:Q.invalid_type,expected:ce.string,received:a.parsedType}),Ce}const n=new mr;let s;for(const a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(s=this._getOrReturnCtx(t,s),se(s,{code:Q.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")t.data.length>a.value&&(s=this._getOrReturnCtx(t,s),se(s,{code:Q.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const o=t.data.length>a.value,l=t.data.length<a.value;(o||l)&&(s=this._getOrReturnCtx(t,s),o?se(s,{code:Q.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&se(s,{code:Q.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")aF.test(t.data)||(s=this._getOrReturnCtx(t,s),se(s,{validation:"email",code:Q.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")xp||(xp=new RegExp(iF,"u")),xp.test(t.data)||(s=this._getOrReturnCtx(t,s),se(s,{validation:"emoji",code:Q.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")tF.test(t.data)||(s=this._getOrReturnCtx(t,s),se(s,{validation:"uuid",code:Q.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")rF.test(t.data)||(s=this._getOrReturnCtx(t,s),se(s,{validation:"nanoid",code:Q.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")X$.test(t.data)||(s=this._getOrReturnCtx(t,s),se(s,{validation:"cuid",code:Q.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")Z$.test(t.data)||(s=this._getOrReturnCtx(t,s),se(s,{validation:"cuid2",code:Q.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")eF.test(t.data)||(s=this._getOrReturnCtx(t,s),se(s,{validation:"ulid",code:Q.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),se(s,{validation:"url",code:Q.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),se(s,{validation:"regex",code:Q.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(t,s),se(s,{code:Q.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(s=this._getOrReturnCtx(t,s),se(s,{code:Q.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(s=this._getOrReturnCtx(t,s),se(s,{code:Q.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?pF(a).test(t.data)||(s=this._getOrReturnCtx(t,s),se(s,{code:Q.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?fF.test(t.data)||(s=this._getOrReturnCtx(t,s),se(s,{code:Q.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?mF(a).test(t.data)||(s=this._getOrReturnCtx(t,s),se(s,{code:Q.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?sF.test(t.data)||(s=this._getOrReturnCtx(t,s),se(s,{validation:"duration",code:Q.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?gF(t.data,a.version)||(s=this._getOrReturnCtx(t,s),se(s,{validation:"ip",code:Q.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?vF(t.data,a.alg)||(s=this._getOrReturnCtx(t,s),se(s,{validation:"jwt",code:Q.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?yF(t.data,a.version)||(s=this._getOrReturnCtx(t,s),se(s,{validation:"cidr",code:Q.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?dF.test(t.data)||(s=this._getOrReturnCtx(t,s),se(s,{validation:"base64",code:Q.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?hF.test(t.data)||(s=this._getOrReturnCtx(t,s),se(s,{validation:"base64url",code:Q.invalid_string,message:a.message}),n.dirty()):He.assertNever(a);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(s=>t.test(s),{validation:r,code:Q.invalid_string,...he.errToObj(n)})}_addCheck(t){return new Ws({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...he.errToObj(t)})}url(t){return this._addCheck({kind:"url",...he.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...he.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...he.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...he.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...he.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...he.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...he.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...he.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...he.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...he.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...he.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...he.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...he.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...he.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...he.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...he.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...he.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...he.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...he.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...he.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...he.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...he.errToObj(r)})}nonempty(t){return this.min(1,he.errToObj(t))}trim(){return new Ws({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ws({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ws({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Ws.create=e=>new Ws({checks:[],typeName:Ne.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...Oe(e)});function xF(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,s=r>n?r:n,a=Number.parseInt(e.toFixed(s).replace(".","")),o=Number.parseInt(t.toFixed(s).replace(".",""));return a%o/10**s}class El extends Ve{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==ce.number){const a=this._getOrReturnCtx(t);return se(a,{code:Q.invalid_type,expected:ce.number,received:a.parsedType}),Ce}let n;const s=new mr;for(const a of this._def.checks)a.kind==="int"?He.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),se(n,{code:Q.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),se(n,{code:Q.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),se(n,{code:Q.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="multipleOf"?xF(t.data,a.value)!==0&&(n=this._getOrReturnCtx(t,n),se(n,{code:Q.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),se(n,{code:Q.not_finite,message:a.message}),s.dirty()):He.assertNever(a);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,he.toString(r))}gt(t,r){return this.setLimit("min",t,!1,he.toString(r))}lte(t,r){return this.setLimit("max",t,!0,he.toString(r))}lt(t,r){return this.setLimit("max",t,!1,he.toString(r))}setLimit(t,r,n,s){return new El({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:he.toString(s)}]})}_addCheck(t){return new El({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:he.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:he.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:he.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:he.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:he.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:he.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:he.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:he.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:he.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&He.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}El.create=e=>new El({checks:[],typeName:Ne.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Oe(e)});class fu extends Ve{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==ce.bigint)return this._getInvalidInput(t);let n;const s=new mr;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),se(n,{code:Q.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),se(n,{code:Q.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),se(n,{code:Q.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):He.assertNever(a);return{status:s.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return se(r,{code:Q.invalid_type,expected:ce.bigint,received:r.parsedType}),Ce}gte(t,r){return this.setLimit("min",t,!0,he.toString(r))}gt(t,r){return this.setLimit("min",t,!1,he.toString(r))}lte(t,r){return this.setLimit("max",t,!0,he.toString(r))}lt(t,r){return this.setLimit("max",t,!1,he.toString(r))}setLimit(t,r,n,s){return new fu({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:he.toString(s)}]})}_addCheck(t){return new fu({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:he.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:he.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:he.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:he.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:he.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}fu.create=e=>new fu({checks:[],typeName:Ne.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...Oe(e)});class mv extends Ve{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==ce.boolean){const n=this._getOrReturnCtx(t);return se(n,{code:Q.invalid_type,expected:ce.boolean,received:n.parsedType}),Ce}return vn(t.data)}}mv.create=e=>new mv({typeName:Ne.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Oe(e)});class Kh extends Ve{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==ce.date){const a=this._getOrReturnCtx(t);return se(a,{code:Q.invalid_type,expected:ce.date,received:a.parsedType}),Ce}if(Number.isNaN(t.data.getTime())){const a=this._getOrReturnCtx(t);return se(a,{code:Q.invalid_date}),Ce}const n=new mr;let s;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(s=this._getOrReturnCtx(t,s),se(s,{code:Q.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(s=this._getOrReturnCtx(t,s),se(s,{code:Q.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):He.assertNever(a);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Kh({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:he.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:he.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Kh.create=e=>new Kh({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Ne.ZodDate,...Oe(e)});class Qb extends Ve{_parse(t){if(this._getType(t)!==ce.symbol){const n=this._getOrReturnCtx(t);return se(n,{code:Q.invalid_type,expected:ce.symbol,received:n.parsedType}),Ce}return vn(t.data)}}Qb.create=e=>new Qb({typeName:Ne.ZodSymbol,...Oe(e)});class Gb extends Ve{_parse(t){if(this._getType(t)!==ce.undefined){const n=this._getOrReturnCtx(t);return se(n,{code:Q.invalid_type,expected:ce.undefined,received:n.parsedType}),Ce}return vn(t.data)}}Gb.create=e=>new Gb({typeName:Ne.ZodUndefined,...Oe(e)});class Yb extends Ve{_parse(t){if(this._getType(t)!==ce.null){const n=this._getOrReturnCtx(t);return se(n,{code:Q.invalid_type,expected:ce.null,received:n.parsedType}),Ce}return vn(t.data)}}Yb.create=e=>new Yb({typeName:Ne.ZodNull,...Oe(e)});class pv extends Ve{constructor(){super(...arguments),this._any=!0}_parse(t){return vn(t.data)}}pv.create=e=>new pv({typeName:Ne.ZodAny,...Oe(e)});class Jb extends Ve{constructor(){super(...arguments),this._unknown=!0}_parse(t){return vn(t.data)}}Jb.create=e=>new Jb({typeName:Ne.ZodUnknown,...Oe(e)});class ni extends Ve{_parse(t){const r=this._getOrReturnCtx(t);return se(r,{code:Q.invalid_type,expected:ce.never,received:r.parsedType}),Ce}}ni.create=e=>new ni({typeName:Ne.ZodNever,...Oe(e)});class Xb extends Ve{_parse(t){if(this._getType(t)!==ce.undefined){const n=this._getOrReturnCtx(t);return se(n,{code:Q.invalid_type,expected:ce.void,received:n.parsedType}),Ce}return vn(t.data)}}Xb.create=e=>new Xb({typeName:Ne.ZodVoid,...Oe(e)});class gs extends Ve{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),s=this._def;if(r.parsedType!==ce.array)return se(r,{code:Q.invalid_type,expected:ce.array,received:r.parsedType}),Ce;if(s.exactLength!==null){const o=r.data.length>s.exactLength.value,l=r.data.length<s.exactLength.value;(o||l)&&(se(r,{code:o?Q.too_big:Q.too_small,minimum:l?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(se(r,{code:Q.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(se(r,{code:Q.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>s.type._parseAsync(new js(r,o,r.path,l)))).then(o=>mr.mergeArray(n,o));const a=[...r.data].map((o,l)=>s.type._parseSync(new js(r,o,r.path,l)));return mr.mergeArray(n,a)}get element(){return this._def.type}min(t,r){return new gs({...this._def,minLength:{value:t,message:he.toString(r)}})}max(t,r){return new gs({...this._def,maxLength:{value:t,message:he.toString(r)}})}length(t,r){return new gs({...this._def,exactLength:{value:t,message:he.toString(r)}})}nonempty(t){return this.min(1,t)}}gs.create=(e,t)=>new gs({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Ne.ZodArray,...Oe(t)});function Ao(e){if(e instanceof At){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Ja.create(Ao(n))}return new At({...e._def,shape:()=>t})}else return e instanceof gs?new gs({...e._def,type:Ao(e.element)}):e instanceof Ja?Ja.create(Ao(e.unwrap())):e instanceof Rl?Rl.create(Ao(e.unwrap())):e instanceof Xi?Xi.create(e.items.map(t=>Ao(t))):e}class At extends Ve{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=He.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==ce.object){const u=this._getOrReturnCtx(t);return se(u,{code:Q.invalid_type,expected:ce.object,received:u.parsedType}),Ce}const{status:n,ctx:s}=this._processInputParams(t),{shape:a,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof ni&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=a[u],h=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new js(s,h,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof ni){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")l.length>0&&(se(s,{code:Q.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const h=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new js(s,h,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const h=await d.key,f=await d.value;u.push({key:h,value:f,alwaysSet:d.alwaysSet})}return u}).then(u=>mr.mergeObjectSync(n,u)):mr.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return he.errToObj,new At({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var a,o;const s=((o=(a=this._def).errorMap)==null?void 0:o.call(a,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:he.errToObj(t).message??s}:{message:s}}}:{}})}strip(){return new At({...this._def,unknownKeys:"strip"})}passthrough(){return new At({...this._def,unknownKeys:"passthrough"})}extend(t){return new At({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new At({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Ne.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new At({...this._def,catchall:t})}pick(t){const r={};for(const n of He.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new At({...this._def,shape:()=>r})}omit(t){const r={};for(const n of He.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new At({...this._def,shape:()=>r})}deepPartial(){return Ao(this)}partial(t){const r={};for(const n of He.objectKeys(this.shape)){const s=this.shape[n];t&&!t[n]?r[n]=s:r[n]=s.optional()}return new At({...this._def,shape:()=>r})}required(t){const r={};for(const n of He.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof Ja;)a=a._def.innerType;r[n]=a}return new At({...this._def,shape:()=>r})}keyof(){return AC(He.objectKeys(this.shape))}}At.create=(e,t)=>new At({shape:()=>e,unknownKeys:"strip",catchall:ni.create(),typeName:Ne.ZodObject,...Oe(t)});At.strictCreate=(e,t)=>new At({shape:()=>e,unknownKeys:"strict",catchall:ni.create(),typeName:Ne.ZodObject,...Oe(t)});At.lazycreate=(e,t)=>new At({shape:e,unknownKeys:"strip",catchall:ni.create(),typeName:Ne.ZodObject,...Oe(t)});class Qh extends Ve{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function s(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=a.map(l=>new dn(l.ctx.common.issues));return se(r,{code:Q.invalid_union,unionErrors:o}),Ce}if(r.common.async)return Promise.all(n.map(async a=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(s);{let a;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!a&&(a={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const l=o.map(c=>new dn(c));return se(r,{code:Q.invalid_union,unionErrors:l}),Ce}}get options(){return this._def.options}}Qh.create=(e,t)=>new Qh({options:e,typeName:Ne.ZodUnion,...Oe(t)});function gv(e,t){const r=Na(e),n=Na(t);if(e===t)return{valid:!0,data:e};if(r===ce.object&&n===ce.object){const s=He.objectKeys(t),a=He.objectKeys(e).filter(l=>s.indexOf(l)!==-1),o={...e,...t};for(const l of a){const c=gv(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===ce.array&&n===ce.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let a=0;a<e.length;a++){const o=e[a],l=t[a],c=gv(o,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===ce.date&&n===ce.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Gh extends Ve{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=(a,o)=>{if(Wb(a)||Wb(o))return Ce;const l=gv(a.value,o.value);return l.valid?((Hb(a)||Hb(o))&&r.dirty(),{status:r.value,value:l.data}):(se(n,{code:Q.invalid_intersection_types}),Ce)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,o])=>s(a,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Gh.create=(e,t,r)=>new Gh({left:e,right:t,typeName:Ne.ZodIntersection,...Oe(r)});class Xi extends Ve{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ce.array)return se(n,{code:Q.invalid_type,expected:ce.array,received:n.parsedType}),Ce;if(n.data.length<this._def.items.length)return se(n,{code:Q.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ce;!this._def.rest&&n.data.length>this._def.items.length&&(se(n,{code:Q.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new js(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(a).then(o=>mr.mergeArray(r,o)):mr.mergeArray(r,a)}get items(){return this._def.items}rest(t){return new Xi({...this._def,rest:t})}}Xi.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Xi({items:e,typeName:Ne.ZodTuple,rest:null,...Oe(t)})};class Yh extends Ve{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ce.object)return se(n,{code:Q.invalid_type,expected:ce.object,received:n.parsedType}),Ce;const s=[],a=this._def.keyType,o=this._def.valueType;for(const l in n.data)s.push({key:a._parse(new js(n,l,n.path,l)),value:o._parse(new js(n,n.data[l],n.path,l)),alwaysSet:l in n.data});return n.common.async?mr.mergeObjectAsync(r,s):mr.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof Ve?new Yh({keyType:t,valueType:r,typeName:Ne.ZodRecord,...Oe(n)}):new Yh({keyType:Ws.create(),valueType:t,typeName:Ne.ZodRecord,...Oe(r)})}}class Zb extends Ve{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ce.map)return se(n,{code:Q.invalid_type,expected:ce.map,received:n.parsedType}),Ce;const s=this._def.keyType,a=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:s._parse(new js(n,l,n.path,[u,"key"])),value:a._parse(new js(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Ce;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Ce;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}Zb.create=(e,t,r)=>new Zb({valueType:t,keyType:e,typeName:Ne.ZodMap,...Oe(r)});class mu extends Ve{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ce.set)return se(n,{code:Q.invalid_type,expected:ce.set,received:n.parsedType}),Ce;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(se(n,{code:Q.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(se(n,{code:Q.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const a=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Ce;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>a._parse(new js(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new mu({...this._def,minSize:{value:t,message:he.toString(r)}})}max(t,r){return new mu({...this._def,maxSize:{value:t,message:he.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}mu.create=(e,t)=>new mu({valueType:e,minSize:null,maxSize:null,typeName:Ne.ZodSet,...Oe(t)});class ej extends Ve{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}ej.create=(e,t)=>new ej({getter:e,typeName:Ne.ZodLazy,...Oe(t)});class vv extends Ve{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return se(r,{received:r.data,code:Q.invalid_literal,expected:this._def.value}),Ce}return{status:"valid",value:t.data}}get value(){return this._def.value}}vv.create=(e,t)=>new vv({value:e,typeName:Ne.ZodLiteral,...Oe(t)});function AC(e,t){return new kl({values:e,typeName:Ne.ZodEnum,...Oe(t)})}class kl extends Ve{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return se(r,{expected:He.joinValues(n),received:r.parsedType,code:Q.invalid_type}),Ce}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return se(r,{received:r.data,code:Q.invalid_enum_value,options:n}),Ce}return vn(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return kl.create(t,{...this._def,...r})}exclude(t,r=this._def){return kl.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}kl.create=AC;class tj extends Ve{_parse(t){const r=He.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==ce.string&&n.parsedType!==ce.number){const s=He.objectValues(r);return se(n,{expected:He.joinValues(s),received:n.parsedType,code:Q.invalid_type}),Ce}if(this._cache||(this._cache=new Set(He.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const s=He.objectValues(r);return se(n,{received:n.data,code:Q.invalid_enum_value,options:s}),Ce}return vn(t.data)}get enum(){return this._def.values}}tj.create=(e,t)=>new tj({values:e,typeName:Ne.ZodNativeEnum,...Oe(t)});class Jh extends Ve{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==ce.promise&&r.common.async===!1)return se(r,{code:Q.invalid_type,expected:ce.promise,received:r.parsedType}),Ce;const n=r.parsedType===ce.promise?r.data:Promise.resolve(r.data);return vn(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Jh.create=(e,t)=>new Jh({type:e,typeName:Ne.ZodPromise,...Oe(t)});class Pl extends Ve{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ne.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=this._def.effect||null,a={addIssue:o=>{se(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){const o=s.transform(n.data,a);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return Ce;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?Ce:c.status==="dirty"||r.value==="dirty"?Sc(c.value):c});{if(r.value==="aborted")return Ce;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?Ce:l.status==="dirty"||r.value==="dirty"?Sc(l.value):l}}if(s.type==="refinement"){const o=l=>{const c=s.refinement(l,a);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Ce:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Ce:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(s.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Cl(o))return Ce;const l=s.transform(o.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>Cl(o)?Promise.resolve(s.transform(o.value,a)).then(l=>({status:r.value,value:l})):Ce);He.assertNever(s)}}Pl.create=(e,t,r)=>new Pl({schema:e,typeName:Ne.ZodEffects,effect:t,...Oe(r)});Pl.createWithPreprocess=(e,t,r)=>new Pl({schema:t,effect:{type:"preprocess",transform:e},typeName:Ne.ZodEffects,...Oe(r)});class Ja extends Ve{_parse(t){return this._getType(t)===ce.undefined?vn(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ja.create=(e,t)=>new Ja({innerType:e,typeName:Ne.ZodOptional,...Oe(t)});class Rl extends Ve{_parse(t){return this._getType(t)===ce.null?vn(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Rl.create=(e,t)=>new Rl({innerType:e,typeName:Ne.ZodNullable,...Oe(t)});class yv extends Ve{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===ce.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}yv.create=(e,t)=>new yv({innerType:e,typeName:Ne.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Oe(t)});class xv extends Ve{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Hh(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new dn(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new dn(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}xv.create=(e,t)=>new xv({innerType:e,typeName:Ne.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Oe(t)});class rj extends Ve{_parse(t){if(this._getType(t)!==ce.nan){const n=this._getOrReturnCtx(t);return se(n,{code:Q.invalid_type,expected:ce.nan,received:n.parsedType}),Ce}return{status:"valid",value:t.data}}}rj.create=e=>new rj({typeName:Ne.ZodNaN,...Oe(e)});class wF extends Ve{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class ix extends Ve{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Ce:a.status==="dirty"?(r.dirty(),Sc(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Ce:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(t,r){return new ix({in:t,out:r,typeName:Ne.ZodPipeline})}}class wv extends Ve{_parse(t){const r=this._def.innerType._parse(t),n=s=>(Cl(s)&&(s.value=Object.freeze(s.value)),s);return Hh(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}wv.create=(e,t)=>new wv({innerType:e,typeName:Ne.ZodReadonly,...Oe(t)});var Ne;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Ne||(Ne={}));const P=Ws.create,be=El.create,Lr=mv.create,$f=pv.create;ni.create;const Fe=gs.create,W=At.create,OC=Qh.create;Gh.create;Xi.create;const bF=Yh.create,Fc=vv.create,da=kl.create;Jh.create;Ja.create;Rl.create;const ox=P().min(8,"La contrasea debe tener al menos 8 caracteres").regex(/[a-z]/,"La contrasea debe contener al menos una letra minscula").regex(/[A-Z]/,"La contrasea debe contener al menos una letra mayscula").regex(/[0-9]/,"La contrasea debe contener al menos un nmero");W({email:P().email("Email invlido"),password:ox,name:P().min(2,"El nombre debe tener al menos 2 caracteres")});W({email:P().email("Email invlido"),password:P().min(1,"La contrasea es requerida")});const lx=W({id:P().uuid(),email:P().email(),name:P().nullable(),avatar_url:P().nullable(),bio:P().nullable(),location:P().nullable(),linkedin_url:P().nullable(),website_url:P().nullable(),skills:Fe(P()),interests:Fe(P()),role_ids:Fe(be()),completed_pct:be().min(0).max(100),created_at:P().datetime(),updated_at:P().datetime()}),jF=W({user:lx}),_F=W({user:lx,session:$f().nullable()}),SF=W({user:lx}),NF=W({currentPassword:P().min(1,"La contrasea actual es requerida"),newPassword:ox,confirmPassword:P().min(1,"Debes confirmar la nueva contrasea")}).refine(e=>e.newPassword===e.confirmPassword,{message:"Las contraseas no coinciden",path:["confirmPassword"]}),CF=W({message:P()}),EF=W({email:P().email("Email invlido")}),kF=W({message:P()}),PF=W({password:ox}),RF=W({message:P()});W({error:P()});const dc="",ho={async signUp(e){const t=await ve.post(`${dc}/auth/signup`,e);return jF.parse(t.data)},async signIn(e){const t=await ve.post(`${dc}/auth/signin`,e);return _F.parse(t.data)},async signOut(){await ve.post(`${dc}/auth/signout`)},async getCurrentUser(){try{const e=await fetch("/api/auth/me",{credentials:"include",headers:{Accept:"application/json"}});if(e.status===401){const r=new Error("Not authenticated");throw r.response={status:401},r}if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const t=await e.json();return SF.parse(t)}catch(e){throw e}},async changePassword(e){const t=await ve.post(`${dc}/auth/change-password`,e);return CF.parse(t.data)},async forgotPassword(e){const t=await ve.post(`${dc}/auth/forgot-password`,e);return kF.parse(t.data)},async resetPassword(e){const{supabase:t}=await co(async()=>{const{supabase:n}=await Promise.resolve().then(()=>Q$);return{supabase:n}},void 0),{error:r}=await t.auth.updateUser({password:e.password});if(r)throw new Error(r.message||"Error al restablecer la contrasea");return RF.parse({message:"Contrasea restablecida exitosamente"})}};function TF(){return vt({queryKey:["auth","currentUser"],queryFn:async()=>{var e;try{return(await ho.getCurrentUser()).user}catch(t){if(t instanceof Error&&t.message==="Not authenticated"||((e=t.response)==null?void 0:e.status)===401)return null;throw t}},staleTime:300*1e3,retry:!1})}function AF(){const e=Ke(),t=Ze({mutationFn:r=>ho.signUp(r),onSuccess:r=>{e.setQueryData(["auth","currentUser"],r.user)}});return{action:t.mutate,isLoading:t.isPending,error:t.error,isSuccess:t.isSuccess,data:t.data}}function OF(){const e=Ke(),t=Ze({mutationFn:r=>ho.signIn(r),onSuccess:async r=>{r.session&&await ar.auth.setSession({access_token:r.session.access_token,refresh_token:r.session.refresh_token}),e.setQueryData(["auth","currentUser"],r.user)}});return{action:t.mutate,isLoading:t.isPending,error:t.error,isSuccess:t.isSuccess,data:t.data}}function IF(){const e=Ke(),t=Ze({mutationFn:()=>ho.signOut(),onSuccess:()=>{e.setQueryData(["auth","currentUser"],null),e.invalidateQueries(),window.location.href="/auth"}});return{action:t.mutate,isLoading:t.isPending,error:t.error,isSuccess:t.isSuccess}}const IC=p.createContext(void 0);function MF({children:e}){const{data:t,isLoading:r}=TF(),n=AF(),s=OF(),a=IF(),o={user:t,isLoading:r,isAuthenticated:!!t,signUp:n.action,isSigningUp:n.isLoading,signUpError:n.error,signIn:s.action,isSigningIn:s.isLoading,signInError:s.error,signOut:a.action,isSigningOut:a.isLoading};return i.jsx(IC.Provider,{value:o,children:e})}function Ct(){const e=p.useContext(IC);if(e===void 0)throw new Error("useAuthContext must be used within AuthProvider");return e}const DF=W({email:P().email("Email invlido"),name:P().min(2,"El nombre debe tener al menos 2 caracteres"),surname:P().optional()}),LF=W({success:Lr(),pendingSignupId:P().uuid(),message:P()}),$F=W({id:P().uuid(),email:P().email(),name:P(),surname:P().nullable(),status:da(["pending","approved","rejected"]),createdAt:P().datetime(),approvedAt:P().datetime().nullable(),approvedBy:P().uuid().nullable(),rejectedAt:P().datetime().nullable(),rejectedBy:P().uuid().nullable(),ipAddress:P().nullable(),userAgent:P().nullable()}),FF=W({success:Lr(),signups:Fe($F),total:be(),limit:be(),offset:be()}),UF=W({success:Lr(),count:be()}),nj=W({success:Lr(),message:P()});W({error:P()});const hc="/api/signup-approval";function fc(e){return e&&typeof e=="object"&&"response"in e&&e.response&&typeof e.response=="object"&&"data"in e.response&&e.response.data&&typeof e.response.data=="object"&&"error"in e.response.data?String(e.response.data.error):e instanceof Error?e.message:"Error desconocido. Por favor, intenta de nuevo."}const Lu={async submitRequest(e){try{const t=await rt.post(`${hc}/request`,e);return LF.parse(t.data)}catch(t){throw new Error(fc(t))}},async approveSignup(e,t){try{const r=await rt.post(`${hc}/approve/${e}`,t?{adminId:t}:{});return nj.parse(r.data)}catch(r){throw new Error(fc(r))}},async rejectSignup(e,t){try{const r=await rt.post(`${hc}/reject/${e}`,t?{adminId:t}:{});return nj.parse(r.data)}catch(r){throw new Error(fc(r))}},async getPendingSignups(e="pending",t=20,r=0){try{const n=await rt.get(`${hc}/pending`,{params:{status:e,limit:t,offset:r}});return FF.parse(n.data)}catch(n){throw new Error(fc(n))}},async getPendingCount(){try{const e=await rt.get(`${hc}/count`);return UF.parse(e.data)}catch(e){throw new Error(fc(e))}}};function zF(){const e=Ke(),t=Ze({mutationFn:r=>Lu.submitRequest(r),onSuccess:()=>{e.invalidateQueries({queryKey:["signupApproval","pendingCount"]}),e.invalidateQueries({queryKey:["signupApproval","pendingSignups"]})}});return{action:t.mutate,isLoading:t.isPending,error:t.error,isSuccess:t.isSuccess,data:t.data}}function sj(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Ff(...e){return t=>{let r=!1;const n=e.map(s=>{const a=sj(s,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let s=0;s<n.length;s++){const a=n[s];typeof a=="function"?a():sj(e[s],null)}}}}function Te(...e){return p.useCallback(Ff(...e),e)}function Zi(e){const t=BF(e),r=p.forwardRef((n,s)=>{const{children:a,...o}=n,l=p.Children.toArray(a),c=l.find(qF);if(c){const u=c.props.children,d=l.map(h=>h===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:h);return i.jsx(t,{...o,ref:s,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}var cx=Zi("Slot");function BF(e){const t=p.forwardRef((r,n)=>{const{children:s,...a}=r;if(p.isValidElement(s)){const o=HF(s),l=WF(a,s.props);return s.type!==p.Fragment&&(l.ref=n?Ff(n,o):o),p.cloneElement(s,l)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var MC=Symbol("radix.slottable");function VF(e){const t=({children:r})=>i.jsx(i.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=MC,t}function qF(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===MC}function WF(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function HF(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function DC(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=DC(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function LC(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=DC(e))&&(n&&(n+=" "),n+=t);return n}const aj=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,ij=LC,$u=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return ij(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:a}=t,o=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],h=a==null?void 0:a[u];if(d===null)return null;const f=aj(d)||aj(h);return s[u][f]}),l=r&&Object.entries(r).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:h,className:f,...m}=d;return Object.entries(m).every(w=>{let[g,v]=w;return Array.isArray(v)?v.includes({...a,...l}[g]):{...a,...l}[g]===v})?[...u,h,f]:u},[]);return ij(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)},ux="-",KF=e=>{const t=GF(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(ux);return l[0]===""&&l.length!==1&&l.shift(),$C(l,t)||QF(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},$C=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?$C(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const a=e.join(ux);return(o=t.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},oj=/^\[(.+)\]$/,QF=e=>{if(oj.test(e)){const t=oj.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},GF=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return JF(Object.entries(e.classGroups),r).forEach(([a,o])=>{bv(o,n,a,t)}),n},bv=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const a=s===""?t:lj(t,s);a.classGroupId=r;return}if(typeof s=="function"){if(YF(s)){bv(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([a,o])=>{bv(o,lj(t,a),r,n)})})},lj=(e,t)=>{let r=e;return t.split(ux).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},YF=e=>e.isThemeGetter,JF=(e,t)=>t?e.map(([r,n])=>{const s=n.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[t+o,l])):a);return[r,s]}):e,XF=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(a,o)=>{r.set(a,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(a){let o=r.get(a);if(o!==void 0)return o;if((o=n.get(a))!==void 0)return s(a,o),o},set(a,o){r.has(a)?r.set(a,o):s(a,o)}}},FC="!",ZF=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],a=t.length,o=l=>{const c=[];let u=0,d=0,h;for(let v=0;v<l.length;v++){let b=l[v];if(u===0){if(b===s&&(n||l.slice(v,v+a)===t)){c.push(l.slice(d,v)),d=v+a;continue}if(b==="/"){h=v;continue}}b==="["?u++:b==="]"&&u--}const f=c.length===0?l:l.substring(d),m=f.startsWith(FC),w=m?f.substring(1):f,g=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:w,maybePostfixModifierPosition:g}};return r?l=>r({className:l,parseClassName:o}):o},e3=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},t3=e=>({cache:XF(e.cacheSize),parseClassName:ZF(e),...KF(e)}),r3=/\s+/,n3=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,a=[],o=e.trim().split(r3);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:m}=r(u);let w=!!m,g=n(w?f.substring(0,m):f);if(!g){if(!w){l=u+(l.length>0?" "+l:l);continue}if(g=n(f),!g){l=u+(l.length>0?" "+l:l);continue}w=!1}const v=e3(d).join(":"),b=h?v+FC:v,y=b+g;if(a.includes(y))continue;a.push(y);const x=s(g,w);for(let j=0;j<x.length;++j){const _=x[j];a.push(b+_)}l=u+(l.length>0?" "+l:l)}return l};function s3(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=UC(t))&&(n&&(n+=" "),n+=r);return n}const UC=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=UC(e[n]))&&(r&&(r+=" "),r+=t);return r};function a3(e,...t){let r,n,s,a=o;function o(c){const u=t.reduce((d,h)=>h(d),e());return r=t3(u),n=r.cache.get,s=r.cache.set,a=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=n3(c,r);return s(c,d),d}return function(){return a(s3.apply(null,arguments))}}const it=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},zC=/^\[(?:([a-z-]+):)?(.+)\]$/i,i3=/^\d+\/\d+$/,o3=new Set(["px","full","screen"]),l3=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,c3=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,u3=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,d3=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,h3=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,As=e=>Zo(e)||o3.has(e)||i3.test(e),ya=e=>Kl(e,"length",w3),Zo=e=>!!e&&!Number.isNaN(Number(e)),wp=e=>Kl(e,"number",Zo),mc=e=>!!e&&Number.isInteger(Number(e)),f3=e=>e.endsWith("%")&&Zo(e.slice(0,-1)),Re=e=>zC.test(e),xa=e=>l3.test(e),m3=new Set(["length","size","percentage"]),p3=e=>Kl(e,m3,BC),g3=e=>Kl(e,"position",BC),v3=new Set(["image","url"]),y3=e=>Kl(e,v3,j3),x3=e=>Kl(e,"",b3),pc=()=>!0,Kl=(e,t,r)=>{const n=zC.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},w3=e=>c3.test(e)&&!u3.test(e),BC=()=>!1,b3=e=>d3.test(e),j3=e=>h3.test(e),_3=()=>{const e=it("colors"),t=it("spacing"),r=it("blur"),n=it("brightness"),s=it("borderColor"),a=it("borderRadius"),o=it("borderSpacing"),l=it("borderWidth"),c=it("contrast"),u=it("grayscale"),d=it("hueRotate"),h=it("invert"),f=it("gap"),m=it("gradientColorStops"),w=it("gradientColorStopPositions"),g=it("inset"),v=it("margin"),b=it("opacity"),y=it("padding"),x=it("saturate"),j=it("scale"),_=it("sepia"),S=it("skew"),N=it("space"),C=it("translate"),R=()=>["auto","contain","none"],T=()=>["auto","hidden","clip","visible","scroll"],z=()=>["auto",Re,t],D=()=>[Re,t],V=()=>["",As,ya],F=()=>["auto",Zo,Re],q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],B=()=>["solid","dashed","dotted","double","none"],ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],I=()=>["start","end","center","between","around","evenly","stretch"],A=()=>["","0",Re],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ae=()=>[Zo,Re];return{cacheSize:500,separator:":",theme:{colors:[pc],spacing:[As,ya],blur:["none","",xa,Re],brightness:ae(),borderColor:[e],borderRadius:["none","","full",xa,Re],borderSpacing:D(),borderWidth:V(),contrast:ae(),grayscale:A(),hueRotate:ae(),invert:A(),gap:D(),gradientColorStops:[e],gradientColorStopPositions:[f3,ya],inset:z(),margin:z(),opacity:ae(),padding:D(),saturate:ae(),scale:ae(),sepia:A(),skew:ae(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",Re]}],container:["container"],columns:[{columns:[xa]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...q(),Re]}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",mc,Re]}],basis:[{basis:z()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Re]}],grow:[{grow:A()}],shrink:[{shrink:A()}],order:[{order:["first","last","none",mc,Re]}],"grid-cols":[{"grid-cols":[pc]}],"col-start-end":[{col:["auto",{span:["full",mc,Re]},Re]}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":[pc]}],"row-start-end":[{row:["auto",{span:[mc,Re]},Re]}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Re]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Re]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...I()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...I(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...I(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Re,t]}],"min-w":[{"min-w":[Re,t,"min","max","fit"]}],"max-w":[{"max-w":[Re,t,"none","full","min","max","fit","prose",{screen:[xa]},xa]}],h:[{h:[Re,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Re,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Re,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Re,t,"auto","min","max","fit"]}],"font-size":[{text:["base",xa,ya]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",wp]}],"font-family":[{font:[pc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Re]}],"line-clamp":[{"line-clamp":["none",Zo,wp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",As,Re]}],"list-image":[{"list-image":["none",Re]}],"list-style-type":[{list:["none","disc","decimal",Re]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...B(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",As,ya]}],"underline-offset":[{"underline-offset":["auto",As,Re]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Re]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Re]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...q(),g3]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",p3]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},y3]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...B(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:B()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...B()]}],"outline-offset":[{"outline-offset":[As,Re]}],"outline-w":[{outline:[As,ya]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[As,ya]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",xa,x3]}],"shadow-color":[{shadow:[pc]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...ie(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ie()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",xa,Re]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[x]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Re]}],duration:[{duration:ae()}],ease:[{ease:["linear","in","out","in-out",Re]}],delay:[{delay:ae()}],animate:[{animate:["none","spin","ping","pulse","bounce",Re]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[mc,Re]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Re]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Re]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Re]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[As,ya,wp]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},S3=a3(_3);function J(...e){return S3(LC(e))}const dx=$u("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),$=p.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},a)=>{const o=n?cx:"button";return i.jsx(o,{className:J(dx({variant:t,size:r,className:e})),ref:a,...s})});$.displayName="Button";const ge=p.forwardRef(({className:e,type:t,...r},n)=>i.jsx("input",{type:t,className:J("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));ge.displayName="Input";var N3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],de=N3.reduce((e,t)=>{const r=Zi(`Primitive.${t}`),n=p.forwardRef((s,a)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function hx(e,t){e&&oo.flushSync(()=>e.dispatchEvent(t))}var C3="Label",VC=p.forwardRef((e,t)=>i.jsx(de.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));VC.displayName=C3;var qC=VC;const E3=$u("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),fe=p.forwardRef(({className:e,...t},r)=>i.jsx(qC,{ref:r,className:J(E3(),e),...t}));fe.displayName=qC.displayName;function k3(e,t){const r=p.createContext(t),n=a=>{const{children:o,...l}=a,c=p.useMemo(()=>l,Object.values(l));return i.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function s(a){const o=p.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,s]}function yr(e,t=[]){let r=[];function n(a,o){const l=p.createContext(o),c=r.length;r=[...r,o];const u=h=>{var b;const{scope:f,children:m,...w}=h,g=((b=f==null?void 0:f[e])==null?void 0:b[c])||l,v=p.useMemo(()=>w,Object.values(w));return i.jsx(g.Provider,{value:v,children:m})};u.displayName=a+"Provider";function d(h,f){var g;const m=((g=f==null?void 0:f[e])==null?void 0:g[c])||l,w=p.useContext(m);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[u,d]}const s=()=>{const a=r.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,P3(s,...t)]}function P3(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const h=c(a)[`__scope${u}`];return{...l,...h}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function Z(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}var Pt=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},R3=Qv[" useInsertionEffect ".trim().toString()]||Pt;function na({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,a,o]=T3({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:s;{const d=p.useRef(e!==void 0);p.useEffect(()=>{const h=d.current;h!==l&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=p.useCallback(d=>{var h;if(l){const f=A3(d)?d(e):d;f!==e&&((h=o.current)==null||h.call(o,f))}else a(d)},[l,e,a,o]);return[c,u]}function T3({defaultProp:e,onChange:t}){const[r,n]=p.useState(e),s=p.useRef(r),a=p.useRef(t);return R3(()=>{a.current=t},[t]),p.useEffect(()=>{var o;s.current!==r&&((o=a.current)==null||o.call(a,r),s.current=r)},[r,s]),[r,n,a]}function A3(e){return typeof e=="function"}function fx(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function mx(e){const[t,r]=p.useState(void 0);return Pt(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}function O3(e,t){return p.useReducer((r,n)=>t[r][n]??r,e)}var xr=e=>{const{present:t,children:r}=e,n=I3(t),s=typeof r=="function"?r({present:n.isPresent}):p.Children.only(r),a=Te(n.ref,M3(s));return typeof r=="function"||n.isPresent?p.cloneElement(s,{ref:a}):null};xr.displayName="Presence";function I3(e){const[t,r]=p.useState(),n=p.useRef(null),s=p.useRef(e),a=p.useRef("none"),o=e?"mounted":"unmounted",[l,c]=O3(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=Td(n.current);a.current=l==="mounted"?u:"none"},[l]),Pt(()=>{const u=n.current,d=s.current;if(d!==e){const f=a.current,m=Td(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&f!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Pt(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=m=>{const g=Td(n.current).includes(CSS.escape(m.animationName));if(m.target===t&&g&&(c("ANIMATION_END"),!s.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},f=m=>{m.target===t&&(a.current=Td(n.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Td(e){return(e==null?void 0:e.animationName)||"none"}function M3(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Uf="Checkbox",[D3]=yr(Uf),[L3,px]=D3(Uf);function $3(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:s,disabled:a,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:h}=e,[f,m]=na({prop:r,defaultProp:s??!1,onChange:c,caller:Uf}),[w,g]=p.useState(null),[v,b]=p.useState(null),y=p.useRef(!1),x=w?!!o||!!w.closest("form"):!0,j={checked:f,disabled:a,setChecked:m,control:w,setControl:g,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:y,required:u,defaultChecked:Xa(s)?!1:s,isFormControl:x,bubbleInput:v,setBubbleInput:b};return i.jsx(L3,{scope:t,...j,children:F3(h)?h(j):n})}var WC="CheckboxTrigger",HC=p.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},s)=>{const{control:a,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:h,hasConsumerStoppedPropagationRef:f,isFormControl:m,bubbleInput:w}=px(WC,e),g=Te(s,d),v=p.useRef(c);return p.useEffect(()=>{const b=a==null?void 0:a.form;if(b){const y=()=>h(v.current);return b.addEventListener("reset",y),()=>b.removeEventListener("reset",y)}},[a,h]),i.jsx(de.button,{type:"button",role:"checkbox","aria-checked":Xa(c)?"mixed":c,"aria-required":u,"data-state":JC(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:g,onKeyDown:Z(t,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:Z(r,b=>{h(y=>Xa(y)?!0:!y),w&&m&&(f.current=b.isPropagationStopped(),f.current||b.stopPropagation())})})});HC.displayName=WC;var gx=p.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:a,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...h}=e;return i.jsx($3,{__scopeCheckbox:r,checked:s,defaultChecked:a,disabled:l,required:o,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:f})=>i.jsxs(i.Fragment,{children:[i.jsx(HC,{...h,ref:t,__scopeCheckbox:r}),f&&i.jsx(YC,{__scopeCheckbox:r})]})})});gx.displayName=Uf;var KC="CheckboxIndicator",QC=p.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...s}=e,a=px(KC,r);return i.jsx(xr,{present:n||Xa(a.checked)||a.checked===!0,children:i.jsx(de.span,{"data-state":JC(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});QC.displayName=KC;var GC="CheckboxBubbleInput",YC=p.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:s,checked:a,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:h,bubbleInput:f,setBubbleInput:m}=px(GC,e),w=Te(r,m),g=fx(a),v=mx(n);p.useEffect(()=>{const y=f;if(!y)return;const x=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(x,"checked").set,S=!s.current;if(g!==a&&_){const N=new Event("click",{bubbles:S});y.indeterminate=Xa(a),_.call(y,Xa(a)?!1:a),y.dispatchEvent(N)}},[f,g,a,s]);const b=p.useRef(Xa(a)?!1:a);return i.jsx(de.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??b.current,required:l,disabled:c,name:u,value:d,form:h,...t,tabIndex:-1,ref:w,style:{...t.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});YC.displayName=GC;function F3(e){return typeof e=="function"}function Xa(e){return e==="indeterminate"}function JC(e){return Xa(e)?"indeterminate":e?"checked":"unchecked"}/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),XC=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var z3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:a,iconNode:o,...l},c)=>p.createElement("svg",{ref:c,...z3,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:XC("lucide",s),...l},[...o.map(([u,d])=>p.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=(e,t)=>{const r=p.forwardRef(({className:n,...s},a)=>p.createElement(B3,{ref:a,iconNode:t,className:XC(`lucide-${U3(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=me("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=me("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=me("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=me("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=me("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=me("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eE=me("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fu=me("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tE=me("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cj=me("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rE=me("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W3=me("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=me("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nE=me("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=me("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=me("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=me("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zf=me("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uc=me("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=me("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uj=me("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=me("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=me("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=me("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=me("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=me("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J3=me("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=me("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=me("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iE=me("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=me("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tl=me("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oE=me("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bf=me("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=me("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uu=me("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pu=me("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e5=me("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t5=me("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=me("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eo=me("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r5=me("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ad=me("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=me("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=me("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gu=me("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=me("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cE=me("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ql=me("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n5=me("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=me("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s5=me("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const si=me("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a5=me("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vu=me("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dr=me("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=me("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),xx=p.forwardRef(({className:e,...t},r)=>i.jsx(gx,{ref:r,className:J("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:i.jsx(QC,{className:J("flex items-center justify-center text-current"),children:i.jsx(Fu,{className:"h-4 w-4"})})}));xx.displayName=gx.displayName;function i5(){const[e,t]=p.useState(""),[r,n]=p.useState(""),[s,a]=p.useState(""),[o,l]=p.useState(!1),[c,u]=p.useState(""),{action:d,isLoading:h,error:f,isSuccess:m}=zF(),w=async v=>{v.preventDefault(),u("");const b=DF.safeParse({email:r,name:e,surname:s});if(!b.success){u(b.error.errors[0].message);return}d({email:r,name:e,surname:s})};if(m)return i.jsxs("div",{className:"text-center space-y-4 p-6 bg-green-50 border border-green-200 rounded-lg",children:[i.jsx("div",{className:"flex justify-center",children:i.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:i.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-green-900 mb-1",children:"Solicitud Enviada!"}),i.jsx("p",{className:"text-sm text-green-800",children:"Tu solicitud de registro ha sido enviada exitosamente. El administrador la revisar en las prximas 24-48 horas."})]}),i.jsx("div",{className:"bg-green-100 border border-green-300 rounded-md p-3",children:i.jsxs("p",{className:"text-xs text-green-900",children:[i.jsx("strong",{children:"Qu sigue?"}),i.jsx("br",{}),"El equipo de administracin revisar tu solicitud en las prximas 24-48 horas. Recibirs un correo electrnico cuando tu cuenta sea aprobada."]})}),i.jsx($,{onClick:()=>window.location.href="/",variant:"outline",className:"w-full",children:"Volver al Inicio"})]});const g=(f==null?void 0:f.message)||c;return i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:i.jsx("p",{className:"text-xs text-blue-900",children:"El registro requiere aprobacin del administrador. Recibirs un email con un enlace para completar tu perfil una vez tu solicitud sea aprobada."})}),i.jsxs("form",{onSubmit:w,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(fe,{htmlFor:"name-input",children:["Nombre ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("div",{className:"relative",children:[i.jsx(vu,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),i.jsx(ge,{id:"name-input",type:"text",placeholder:"Nombre",value:e,onChange:v=>t(v.target.value),className:"pl-10",required:!0,disabled:h})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{htmlFor:"surname-input",children:"Apellidos"}),i.jsxs("div",{className:"relative",children:[i.jsx(vu,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),i.jsx(ge,{id:"surname-input",type:"text",placeholder:"Apellido1 Apellido2",value:s,onChange:v=>a(v.target.value),className:"pl-10",disabled:h})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(fe,{htmlFor:"email-input",children:["Email ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("div",{className:"relative",children:[i.jsx(Bf,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),i.jsx(ge,{id:"email-input",type:"email",placeholder:"correo@mail.com",value:r,onChange:v=>n(v.target.value),className:"pl-10",required:!0,disabled:h})]})]}),g&&i.jsx("div",{className:"text-sm text-destructive",children:g}),i.jsxs("div",{className:"flex items-start space-x-2",children:[i.jsx(xx,{id:"accept-terms",checked:o,onCheckedChange:v=>l(v===!0),disabled:h}),i.jsxs("label",{htmlFor:"accept-terms",className:"text-sm text-muted-foreground leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:["Acepto los"," ",i.jsx(nn,{to:"/privacidad",className:"text-primary hover:underline",target:"_blank",children:"trminos de servicio y poltica de privacidad"})]})]}),i.jsx($,{type:"submit",className:"w-full h-11",disabled:h||!o,children:h?i.jsxs(i.Fragment,{children:[i.jsx(_t,{className:"mr-2 h-4 w-4 animate-spin"}),"Enviando solicitud..."]}):"Enviar Solicitud"})]})]})}var o5=Qv[" useId ".trim().toString()]||(()=>{}),l5=0;function ys(e){const[t,r]=p.useState(o5());return Pt(()=>{r(n=>n??String(l5++))},[e]),t?`radix-${t}`:""}function jt(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function c5(e,t=globalThis==null?void 0:globalThis.document){const r=jt(e);p.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var u5="DismissableLayer",jv="dismissableLayer.update",d5="dismissableLayer.pointerDownOutside",h5="dismissableLayer.focusOutside",dj,uE=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),zu=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=e,u=p.useContext(uE),[d,h]=p.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=p.useState({}),w=Te(t,N=>h(N)),g=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=g.indexOf(v),y=d?g.indexOf(d):-1,x=u.layersWithOutsidePointerEventsDisabled.size>0,j=y>=b,_=m5(N=>{const C=N.target,R=[...u.branches].some(T=>T.contains(C));!j||R||(s==null||s(N),o==null||o(N),N.defaultPrevented||l==null||l())},f),S=p5(N=>{const C=N.target;[...u.branches].some(T=>T.contains(C))||(a==null||a(N),o==null||o(N),N.defaultPrevented||l==null||l())},f);return c5(N=>{y===u.layers.size-1&&(n==null||n(N),!N.defaultPrevented&&l&&(N.preventDefault(),l()))},f),p.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(dj=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),hj(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=dj)}},[d,f,r,u]),p.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),hj())},[d,u]),p.useEffect(()=>{const N=()=>m({});return document.addEventListener(jv,N),()=>document.removeEventListener(jv,N)},[]),i.jsx(de.div,{...c,ref:w,style:{pointerEvents:x?j?"auto":"none":void 0,...e.style},onFocusCapture:Z(e.onFocusCapture,S.onFocusCapture),onBlurCapture:Z(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:Z(e.onPointerDownCapture,_.onPointerDownCapture)})});zu.displayName=u5;var f5="DismissableLayerBranch",dE=p.forwardRef((e,t)=>{const r=p.useContext(uE),n=p.useRef(null),s=Te(t,n);return p.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),i.jsx(de.div,{...e,ref:s})});dE.displayName=f5;function m5(e,t=globalThis==null?void 0:globalThis.document){const r=jt(e),n=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){hE(d5,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function p5(e,t=globalThis==null?void 0:globalThis.document){const r=jt(e),n=p.useRef(!1);return p.useEffect(()=>{const s=a=>{a.target&&!n.current&&hE(h5,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function hj(){const e=new CustomEvent(jv);document.dispatchEvent(e)}function hE(e,t,r,{discrete:n}){const s=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?hx(s,a):s.dispatchEvent(a)}var g5=zu,v5=dE,bp="focusScope.autoFocusOnMount",jp="focusScope.autoFocusOnUnmount",fj={bubbles:!1,cancelable:!0},y5="FocusScope",Vf=p.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...o}=e,[l,c]=p.useState(null),u=jt(s),d=jt(a),h=p.useRef(null),f=Te(t,g=>c(g)),m=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(n){let g=function(x){if(m.paused||!l)return;const j=x.target;l.contains(j)?h.current=j:ja(h.current,{select:!0})},v=function(x){if(m.paused||!l)return;const j=x.relatedTarget;j!==null&&(l.contains(j)||ja(h.current,{select:!0}))},b=function(x){if(document.activeElement===document.body)for(const _ of x)_.removedNodes.length>0&&ja(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",v);const y=new MutationObserver(b);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",v),y.disconnect()}}},[n,l,m.paused]),p.useEffect(()=>{if(l){pj.add(m);const g=document.activeElement;if(!l.contains(g)){const b=new CustomEvent(bp,fj);l.addEventListener(bp,u),l.dispatchEvent(b),b.defaultPrevented||(x5(S5(fE(l)),{select:!0}),document.activeElement===g&&ja(l))}return()=>{l.removeEventListener(bp,u),setTimeout(()=>{const b=new CustomEvent(jp,fj);l.addEventListener(jp,d),l.dispatchEvent(b),b.defaultPrevented||ja(g??document.body,{select:!0}),l.removeEventListener(jp,d),pj.remove(m)},0)}}},[l,u,d,m]);const w=p.useCallback(g=>{if(!r&&!n||m.paused)return;const v=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,b=document.activeElement;if(v&&b){const y=g.currentTarget,[x,j]=w5(y);x&&j?!g.shiftKey&&b===j?(g.preventDefault(),r&&ja(x,{select:!0})):g.shiftKey&&b===x&&(g.preventDefault(),r&&ja(j,{select:!0})):b===y&&g.preventDefault()}},[r,n,m.paused]);return i.jsx(de.div,{tabIndex:-1,...o,ref:f,onKeyDown:w})});Vf.displayName=y5;function x5(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(ja(n,{select:t}),document.activeElement!==r)return}function w5(e){const t=fE(e),r=mj(t,e),n=mj(t.reverse(),e);return[r,n]}function fE(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function mj(e,t){for(const r of e)if(!b5(r,{upTo:t}))return r}function b5(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function j5(e){return e instanceof HTMLInputElement&&"select"in e}function ja(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&j5(e)&&t&&e.select()}}var pj=_5();function _5(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=gj(e,t),e.unshift(t)},remove(t){var r;e=gj(e,t),(r=e[0])==null||r.resume()}}}function gj(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function S5(e){return e.filter(t=>t.tagName!=="A")}var N5="Portal",Bu=p.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,a]=p.useState(!1);Pt(()=>a(!0),[]);const o=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?$N.createPortal(i.jsx(de.div,{...n,ref:t}),o):null});Bu.displayName=N5;var _p=0;function wx(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??vj()),document.body.insertAdjacentElement("beforeend",e[1]??vj()),_p++,()=>{_p===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),_p--}},[])}function vj(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ah="right-scroll-bar-position",ih="width-before-scroll-bar",C5="with-scroll-bars-hidden",E5="--removed-body-scroll-bar-size";function Sp(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function k5(e,t){var r=p.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var P5=typeof window<"u"?p.useLayoutEffect:p.useEffect,yj=new WeakMap;function R5(e,t){var r=k5(null,function(n){return e.forEach(function(s){return Sp(s,n)})});return P5(function(){var n=yj.get(r);if(n){var s=new Set(n),a=new Set(e),o=r.current;s.forEach(function(l){a.has(l)||Sp(l,null)}),a.forEach(function(l){s.has(l)||Sp(l,o)})}yj.set(r,e)},[e]),r}function T5(e){return e}function A5(e,t){t===void 0&&(t=T5);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var o=t(a,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(n=!0;r.length;){var o=r;r=[],o.forEach(a)}r={push:function(l){return a(l)},filter:function(){return r}}},assignMedium:function(a){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(a),o=r}var c=function(){var d=o;o=[],d.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return s}function O5(e){e===void 0&&(e={});var t=A5(null);return t.options=sn({async:!0,ssr:!1},e),t}var mE=function(e){var t=e.sideCar,r=di(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return p.createElement(n,sn({},r))};mE.isSideCarExport=!0;function I5(e,t){return e.useMedium(t),mE}var pE=O5(),Np=function(){},qf=p.forwardRef(function(e,t){var r=p.useRef(null),n=p.useState({onScrollCapture:Np,onWheelCapture:Np,onTouchMoveCapture:Np}),s=n[0],a=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,f=e.sideCar,m=e.noRelative,w=e.noIsolation,g=e.inert,v=e.allowPinchZoom,b=e.as,y=b===void 0?"div":b,x=e.gapMode,j=di(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=f,S=R5([r,t]),N=sn(sn({},j),s);return p.createElement(p.Fragment,null,d&&p.createElement(_,{sideCar:pE,removeScrollBar:u,shards:h,noRelative:m,noIsolation:w,inert:g,setCallbacks:a,allowPinchZoom:!!v,lockRef:r,gapMode:x}),o?p.cloneElement(p.Children.only(l),sn(sn({},N),{ref:S})):p.createElement(y,sn({},N,{className:c,ref:S}),l))});qf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};qf.classNames={fullWidth:ih,zeroRight:ah};var M5=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function D5(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=M5();return t&&e.setAttribute("nonce",t),e}function L5(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function $5(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var F5=function(){var e=0,t=null;return{add:function(r){e==0&&(t=D5())&&(L5(t,r),$5(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},U5=function(){var e=F5();return function(t,r){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},gE=function(){var e=U5(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},z5={left:0,top:0,right:0,gap:0},Cp=function(e){return parseInt(e||"",10)||0},B5=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Cp(r),Cp(n),Cp(s)]},V5=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return z5;var t=B5(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},q5=gE(),el="data-scroll-locked",W5=function(e,t,r,n){var s=e.left,a=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(C5,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(el,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ah,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(ih,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(ah," .").concat(ah,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(ih," .").concat(ih,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(el,`] {
    `).concat(E5,": ").concat(l,`px;
  }
`)},xj=function(){var e=parseInt(document.body.getAttribute(el)||"0",10);return isFinite(e)?e:0},H5=function(){p.useEffect(function(){return document.body.setAttribute(el,(xj()+1).toString()),function(){var e=xj()-1;e<=0?document.body.removeAttribute(el):document.body.setAttribute(el,e.toString())}},[])},K5=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;H5();var a=p.useMemo(function(){return V5(s)},[s]);return p.createElement(q5,{styles:W5(a,!t,s,r?"":"!important")})},_v=!1;if(typeof window<"u")try{var Od=Object.defineProperty({},"passive",{get:function(){return _v=!0,!0}});window.addEventListener("test",Od,Od),window.removeEventListener("test",Od,Od)}catch{_v=!1}var So=_v?{passive:!1}:!1,Q5=function(e){return e.tagName==="TEXTAREA"},vE=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Q5(e)&&r[t]==="visible")},G5=function(e){return vE(e,"overflowY")},Y5=function(e){return vE(e,"overflowX")},wj=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=yE(e,n);if(s){var a=xE(e,n),o=a[1],l=a[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},J5=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},X5=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},yE=function(e,t){return e==="v"?G5(t):Y5(t)},xE=function(e,t){return e==="v"?J5(t):X5(t)},Z5=function(e,t){return e==="h"&&t==="rtl"?-1:1},eU=function(e,t,r,n,s){var a=Z5(e,window.getComputedStyle(t).direction),o=a*n,l=r.target,c=t.contains(l),u=!1,d=o>0,h=0,f=0;do{if(!l)break;var m=xE(e,l),w=m[0],g=m[1],v=m[2],b=g-v-a*w;(w||b)&&yE(e,l)&&(h+=b,f+=w);var y=l.parentNode;l=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(h)<1||!d&&Math.abs(f)<1)&&(u=!0),u},Id=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},bj=function(e){return[e.deltaX,e.deltaY]},jj=function(e){return e&&"current"in e?e.current:e},tU=function(e,t){return e[0]===t[0]&&e[1]===t[1]},rU=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},nU=0,No=[];function sU(e){var t=p.useRef([]),r=p.useRef([0,0]),n=p.useRef(),s=p.useState(nU++)[0],a=p.useState(gE)[0],o=p.useRef(e);p.useEffect(function(){o.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var g=Jy([e.lockRef.current],(e.shards||[]).map(jj),!0).filter(Boolean);return g.forEach(function(v){return v.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=p.useCallback(function(g,v){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var b=Id(g),y=r.current,x="deltaX"in g?g.deltaX:y[0]-b[0],j="deltaY"in g?g.deltaY:y[1]-b[1],_,S=g.target,N=Math.abs(x)>Math.abs(j)?"h":"v";if("touches"in g&&N==="h"&&S.type==="range")return!1;var C=wj(N,S);if(!C)return!0;if(C?_=N:(_=N==="v"?"h":"v",C=wj(N,S)),!C)return!1;if(!n.current&&"changedTouches"in g&&(x||j)&&(n.current=_),!_)return!0;var R=n.current||_;return eU(R,v,g,R==="h"?x:j)},[]),c=p.useCallback(function(g){var v=g;if(!(!No.length||No[No.length-1]!==a)){var b="deltaY"in v?bj(v):Id(v),y=t.current.filter(function(_){return _.name===v.type&&(_.target===v.target||v.target===_.shadowParent)&&tU(_.delta,b)})[0];if(y&&y.should){v.cancelable&&v.preventDefault();return}if(!y){var x=(o.current.shards||[]).map(jj).filter(Boolean).filter(function(_){return _.contains(v.target)}),j=x.length>0?l(v,x[0]):!o.current.noIsolation;j&&v.cancelable&&v.preventDefault()}}},[]),u=p.useCallback(function(g,v,b,y){var x={name:g,delta:v,target:b,should:y,shadowParent:aU(b)};t.current.push(x),setTimeout(function(){t.current=t.current.filter(function(j){return j!==x})},1)},[]),d=p.useCallback(function(g){r.current=Id(g),n.current=void 0},[]),h=p.useCallback(function(g){u(g.type,bj(g),g.target,l(g,e.lockRef.current))},[]),f=p.useCallback(function(g){u(g.type,Id(g),g.target,l(g,e.lockRef.current))},[]);p.useEffect(function(){return No.push(a),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,So),document.addEventListener("touchmove",c,So),document.addEventListener("touchstart",d,So),function(){No=No.filter(function(g){return g!==a}),document.removeEventListener("wheel",c,So),document.removeEventListener("touchmove",c,So),document.removeEventListener("touchstart",d,So)}},[]);var m=e.removeScrollBar,w=e.inert;return p.createElement(p.Fragment,null,w?p.createElement(a,{styles:rU(s)}):null,m?p.createElement(K5,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function aU(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const iU=I5(pE,sU);var Wf=p.forwardRef(function(e,t){return p.createElement(qf,sn({},e,{ref:t,sideCar:iU}))});Wf.classNames=qf.classNames;var oU=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Co=new WeakMap,Md=new WeakMap,Dd={},Ep=0,wE=function(e){return e&&(e.host||wE(e.parentNode))},lU=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=wE(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},cU=function(e,t,r,n){var s=lU(t,Array.isArray(e)?e:[e]);Dd[r]||(Dd[r]=new WeakMap);var a=Dd[r],o=[],l=new Set,c=new Set(s),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};s.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(f){if(l.has(f))d(f);else try{var m=f.getAttribute(n),w=m!==null&&m!=="false",g=(Co.get(f)||0)+1,v=(a.get(f)||0)+1;Co.set(f,g),a.set(f,v),o.push(f),g===1&&w&&Md.set(f,!0),v===1&&f.setAttribute(r,"true"),w||f.setAttribute(n,"true")}catch(b){console.error("aria-hidden: cannot operate on ",f,b)}})};return d(t),l.clear(),Ep++,function(){o.forEach(function(h){var f=Co.get(h)-1,m=a.get(h)-1;Co.set(h,f),a.set(h,m),f||(Md.has(h)||h.removeAttribute(n),Md.delete(h)),m||h.removeAttribute(r)}),Ep--,Ep||(Co=new WeakMap,Co=new WeakMap,Md=new WeakMap,Dd={})}},bx=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=oU(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),cU(n,s,r,"aria-hidden")):function(){return null}},Hf="Dialog",[bE,jE]=yr(Hf),[uU,Qn]=bE(Hf),_E=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:a,modal:o=!0}=e,l=p.useRef(null),c=p.useRef(null),[u,d]=na({prop:n,defaultProp:s??!1,onChange:a,caller:Hf});return i.jsx(uU,{scope:t,triggerRef:l,contentRef:c,contentId:ys(),titleId:ys(),descriptionId:ys(),open:u,onOpenChange:d,onOpenToggle:p.useCallback(()=>d(h=>!h),[d]),modal:o,children:r})};_E.displayName=Hf;var SE="DialogTrigger",NE=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Qn(SE,r),a=Te(t,s.triggerRef);return i.jsx(de.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Sx(s.open),...n,ref:a,onClick:Z(e.onClick,s.onOpenToggle)})});NE.displayName=SE;var jx="DialogPortal",[dU,CE]=bE(jx,{forceMount:void 0}),EE=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,a=Qn(jx,t);return i.jsx(dU,{scope:t,forceMount:r,children:p.Children.map(n,o=>i.jsx(xr,{present:r||a.open,children:i.jsx(Bu,{asChild:!0,container:s,children:o})}))})};EE.displayName=jx;var Xh="DialogOverlay",kE=p.forwardRef((e,t)=>{const r=CE(Xh,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=Qn(Xh,e.__scopeDialog);return a.modal?i.jsx(xr,{present:n||a.open,children:i.jsx(fU,{...s,ref:t})}):null});kE.displayName=Xh;var hU=Zi("DialogOverlay.RemoveScroll"),fU=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Qn(Xh,r);return i.jsx(Wf,{as:hU,allowPinchZoom:!0,shards:[s.contentRef],children:i.jsx(de.div,{"data-state":Sx(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),to="DialogContent",PE=p.forwardRef((e,t)=>{const r=CE(to,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=Qn(to,e.__scopeDialog);return i.jsx(xr,{present:n||a.open,children:a.modal?i.jsx(mU,{...s,ref:t}):i.jsx(pU,{...s,ref:t})})});PE.displayName=to;var mU=p.forwardRef((e,t)=>{const r=Qn(to,e.__scopeDialog),n=p.useRef(null),s=Te(t,r.contentRef,n);return p.useEffect(()=>{const a=n.current;if(a)return bx(a)},[]),i.jsx(RE,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Z(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Z(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:Z(e.onFocusOutside,a=>a.preventDefault())})}),pU=p.forwardRef((e,t)=>{const r=Qn(to,e.__scopeDialog),n=p.useRef(!1),s=p.useRef(!1);return i.jsx(RE,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),RE=p.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,...o}=e,l=Qn(to,r),c=p.useRef(null),u=Te(t,c);return wx(),i.jsxs(i.Fragment,{children:[i.jsx(Vf,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:i.jsx(zu,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Sx(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(vU,{titleId:l.titleId}),i.jsx(xU,{contentRef:c,descriptionId:l.descriptionId})]})]})}),_x="DialogTitle",TE=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Qn(_x,r);return i.jsx(de.h2,{id:s.titleId,...n,ref:t})});TE.displayName=_x;var AE="DialogDescription",OE=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Qn(AE,r);return i.jsx(de.p,{id:s.descriptionId,...n,ref:t})});OE.displayName=AE;var IE="DialogClose",ME=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Qn(IE,r);return i.jsx(de.button,{type:"button",...n,ref:t,onClick:Z(e.onClick,()=>s.onOpenChange(!1))})});ME.displayName=IE;function Sx(e){return e?"open":"closed"}var DE="DialogTitleWarning",[gU,LE]=k3(DE,{contentName:to,titleName:_x,docsSlug:"dialog"}),vU=({titleId:e})=>{const t=LE(DE),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},yU="DialogDescriptionWarning",xU=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${LE(yU).contentName}}.`;return p.useEffect(()=>{var a;const s=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},$E=_E,FE=NE,UE=EE,Nx=kE,Cx=PE,Ex=TE,kx=OE,Px=ME;const hn=$E,zE=FE,wU=UE,BE=p.forwardRef(({className:e,...t},r)=>i.jsx(Nx,{ref:r,className:J("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));BE.displayName=Nx.displayName;const Yr=p.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(wU,{children:[i.jsx(BE,{}),i.jsxs(Cx,{ref:n,className:J("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,i.jsxs(Px,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(pr,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Yr.displayName=Cx.displayName;const fn=({className:e,...t})=>i.jsx("div",{className:J("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});fn.displayName="DialogHeader";const Zh=({className:e,...t})=>i.jsx("div",{className:J("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Zh.displayName="DialogFooter";const mn=p.forwardRef(({className:e,...t},r)=>i.jsx(Ex,{ref:r,className:J("text-lg font-semibold leading-none tracking-tight",e),...t}));mn.displayName=Ex.displayName;const pn=p.forwardRef(({className:e,...t},r)=>i.jsx(kx,{ref:r,className:J("text-sm text-muted-foreground",e),...t}));pn.displayName=kx.displayName;function bU(){const e=Ze({mutationFn:t=>ho.forgotPassword(t)});return{action:e.mutate,isLoading:e.isPending,error:e.error,isSuccess:e.isSuccess,data:e.data}}function jU({open:e,onOpenChange:t}){const{action:r,isLoading:n,error:s,isSuccess:a}=bU(),[o,l]=p.useState(""),[c,u]=p.useState("");p.useEffect(()=>{e||(l(""),u(""))},[e]),p.useEffect(()=>{a&&setTimeout(()=>{t(!1)},3e3)},[a,t]);const d=h=>{h.preventDefault(),u("");try{const f=EF.parse({email:o});r(f)}catch(f){f instanceof dn&&u(f.errors[0].message)}};return i.jsx(hn,{open:e,onOpenChange:t,children:i.jsxs(Yr,{className:"sm:max-w-md",children:[i.jsxs(fn,{children:[i.jsxs(mn,{className:"flex items-center gap-2",children:[i.jsx(Bf,{className:"h-5 w-5 text-primary"}),"Recuperar Contrasea"]}),i.jsx(pn,{children:"Introduce tu email y te enviaremos un enlace para restablecer tu contrasea"})]}),i.jsxs("form",{onSubmit:d,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{htmlFor:"email",children:"Email"}),i.jsx(ge,{id:"email",type:"email",placeholder:"tu@email.com",value:o,onChange:h=>{l(h.target.value),u("")},disabled:n||a,className:c?"border-red-500":""}),c&&i.jsx("p",{className:"text-sm text-red-600",children:c})]}),s&&i.jsx("div",{className:"text-sm text-red-600 bg-red-50 border border-red-200 rounded-xl p-4",children:s instanceof Error?s.message:"Error al enviar el email"}),a&&i.jsxs("div",{className:"text-sm text-green-600 bg-green-50 border border-green-200 rounded-xl p-4",children:[i.jsx("p",{className:"font-medium mb-1",children:"Email enviado!"}),i.jsx("p",{children:"Revisa tu bandeja de entrada y sigue las instrucciones para restablecer tu contrasea."})]}),i.jsxs("div",{className:"flex gap-3 pt-4",children:[i.jsx($,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:n,className:"flex-1",children:"Cancelar"}),i.jsx($,{type:"submit",disabled:n||a,className:"flex-1",children:n?"Enviando...":"Enviar Email"})]})]})]})})}const _e=p.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:J("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));_e.displayName="Card";const ft=p.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:J("flex flex-col space-y-1.5 p-6",e),...t}));ft.displayName="CardHeader";const bt=p.forwardRef(({className:e,...t},r)=>i.jsx("h3",{ref:r,className:J("text-2xl font-semibold leading-none tracking-tight",e),...t}));bt.displayName="CardTitle";const hr=p.forwardRef(({className:e,...t},r)=>i.jsx("p",{ref:r,className:J("text-sm text-muted-foreground",e),...t}));hr.displayName="CardDescription";const je=p.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:J("p-6 pt-0",e),...t}));je.displayName="CardContent";const VE=p.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:J("flex items-center p-6 pt-0",e),...t}));VE.displayName="CardFooter";function Kf(e){const t=e+"CollectionProvider",[r,n]=yr(t),[s,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:v,children:b}=g,y=U.useRef(null),x=U.useRef(new Map).current;return i.jsx(s,{scope:v,itemMap:x,collectionRef:y,children:b})};o.displayName=t;const l=e+"CollectionSlot",c=Zi(l),u=U.forwardRef((g,v)=>{const{scope:b,children:y}=g,x=a(l,b),j=Te(v,x.collectionRef);return i.jsx(c,{ref:j,children:y})});u.displayName=l;const d=e+"CollectionItemSlot",h="data-radix-collection-item",f=Zi(d),m=U.forwardRef((g,v)=>{const{scope:b,children:y,...x}=g,j=U.useRef(null),_=Te(v,j),S=a(d,b);return U.useEffect(()=>(S.itemMap.set(j,{ref:j,...x}),()=>void S.itemMap.delete(j))),i.jsx(f,{[h]:"",ref:_,children:y})});m.displayName=d;function w(g){const v=a(e+"CollectionConsumer",g);return U.useCallback(()=>{const y=v.collectionRef.current;if(!y)return[];const x=Array.from(y.querySelectorAll(`[${h}]`));return Array.from(v.itemMap.values()).sort((S,N)=>x.indexOf(S.ref.current)-x.indexOf(N.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},w,n]}var _U=p.createContext(void 0);function Vu(e){const t=p.useContext(_U);return e||t||"ltr"}var kp="rovingFocusGroup.onEntryFocus",SU={bubbles:!1,cancelable:!0},qu="RovingFocusGroup",[Sv,qE,NU]=Kf(qu),[CU,Qf]=yr(qu,[NU]),[EU,kU]=CU(qu),WE=p.forwardRef((e,t)=>i.jsx(Sv.Provider,{scope:e.__scopeRovingFocusGroup,children:i.jsx(Sv.Slot,{scope:e.__scopeRovingFocusGroup,children:i.jsx(PU,{...e,ref:t})})}));WE.displayName=qu;var PU=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=e,f=p.useRef(null),m=Te(t,f),w=Vu(a),[g,v]=na({prop:o,defaultProp:l??null,onChange:c,caller:qu}),[b,y]=p.useState(!1),x=jt(u),j=qE(r),_=p.useRef(!1),[S,N]=p.useState(0);return p.useEffect(()=>{const C=f.current;if(C)return C.addEventListener(kp,x),()=>C.removeEventListener(kp,x)},[x]),i.jsx(EU,{scope:r,orientation:n,dir:w,loop:s,currentTabStopId:g,onItemFocus:p.useCallback(C=>v(C),[v]),onItemShiftTab:p.useCallback(()=>y(!0),[]),onFocusableItemAdd:p.useCallback(()=>N(C=>C+1),[]),onFocusableItemRemove:p.useCallback(()=>N(C=>C-1),[]),children:i.jsx(de.div,{tabIndex:b||S===0?-1:0,"data-orientation":n,...h,ref:m,style:{outline:"none",...e.style},onMouseDown:Z(e.onMouseDown,()=>{_.current=!0}),onFocus:Z(e.onFocus,C=>{const R=!_.current;if(C.target===C.currentTarget&&R&&!b){const T=new CustomEvent(kp,SU);if(C.currentTarget.dispatchEvent(T),!T.defaultPrevented){const z=j().filter(B=>B.focusable),D=z.find(B=>B.active),V=z.find(B=>B.id===g),q=[D,V,...z].filter(Boolean).map(B=>B.ref.current);QE(q,d)}}_.current=!1}),onBlur:Z(e.onBlur,()=>y(!1))})})}),HE="RovingFocusGroupItem",KE=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:a,children:o,...l}=e,c=ys(),u=a||c,d=kU(HE,r),h=d.currentTabStopId===u,f=qE(r),{onFocusableItemAdd:m,onFocusableItemRemove:w,currentTabStopId:g}=d;return p.useEffect(()=>{if(n)return m(),()=>w()},[n,m,w]),i.jsx(Sv.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:i.jsx(de.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:Z(e.onMouseDown,v=>{n?d.onItemFocus(u):v.preventDefault()}),onFocus:Z(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:Z(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){d.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const b=AU(v,d.orientation,d.dir);if(b!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let x=f().filter(j=>j.focusable).map(j=>j.ref.current);if(b==="last")x.reverse();else if(b==="prev"||b==="next"){b==="prev"&&x.reverse();const j=x.indexOf(v.currentTarget);x=d.loop?OU(x,j+1):x.slice(j+1)}setTimeout(()=>QE(x))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:g!=null}):o})})});KE.displayName=HE;var RU={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function TU(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function AU(e,t,r){const n=TU(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return RU[n]}function QE(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function OU(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var GE=WE,YE=KE,Gf="Tabs",[IU]=yr(Gf,[Qf]),JE=Qf(),[MU,Rx]=IU(Gf),XE=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Vu(l),[h,f]=na({prop:n,onChange:s,defaultProp:a??"",caller:Gf});return i.jsx(MU,{scope:r,baseId:ys(),value:h,onValueChange:f,orientation:o,dir:d,activationMode:c,children:i.jsx(de.div,{dir:d,"data-orientation":o,...u,ref:t})})});XE.displayName=Gf;var ZE="TabsList",ek=p.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,a=Rx(ZE,r),o=JE(r);return i.jsx(GE,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:n,children:i.jsx(de.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:t})})});ek.displayName=ZE;var tk="TabsTrigger",rk=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...a}=e,o=Rx(tk,r),l=JE(r),c=ak(o.baseId,n),u=ik(o.baseId,n),d=n===o.value;return i.jsx(YE,{asChild:!0,...l,focusable:!s,active:d,children:i.jsx(de.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...a,ref:t,onMouseDown:Z(e.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?o.onValueChange(n):h.preventDefault()}),onKeyDown:Z(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(n)}),onFocus:Z(e.onFocus,()=>{const h=o.activationMode!=="manual";!d&&!s&&h&&o.onValueChange(n)})})})});rk.displayName=tk;var nk="TabsContent",sk=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:a,...o}=e,l=Rx(nk,r),c=ak(l.baseId,n),u=ik(l.baseId,n),d=n===l.value,h=p.useRef(d);return p.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),i.jsx(xr,{present:s||d,children:({present:f})=>i.jsx(de.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:f&&a})})});sk.displayName=nk;function ak(e,t){return`${e}-trigger-${t}`}function ik(e,t){return`${e}-content-${t}`}var DU=XE,ok=ek,lk=rk,ck=sk;const Yf=DU,Wu=p.forwardRef(({className:e,...t},r)=>i.jsx(ok,{ref:r,className:J("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Wu.displayName=ok.displayName;const zn=p.forwardRef(({className:e,...t},r)=>i.jsx(lk,{ref:r,className:J("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));zn.displayName=lk.displayName;const Bn=p.forwardRef(({className:e,...t},r)=>i.jsx(ck,{ref:r,className:J("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Bn.displayName=ck.displayName;const LU=()=>{const e=gt(),{signIn:t,isSigningIn:r,signInError:n,isSignInSuccess:s,signUp:a,isSigningUp:o,signUpError:l,isSignUpSuccess:c,isLoading:u,isAuthenticated:d}=Ct(),[h,f]=p.useState({email:"",password:""}),[m,w]=p.useState(!1);p.useEffect(()=>{(s||c||d)&&e("/dashboard")},[s,c,d,e]);const g=async v=>{v.preventDefault(),t({email:h.email,password:h.password})};return u?i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background via-background to-muted",children:i.jsx(_t,{className:"h-8 w-8 animate-spin text-primary"})}):i.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background via-background to-muted p-4",children:[i.jsxs("div",{className:"w-full max-w-md",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary to-primary/80 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("span",{className:"text-2xl font-bold text-primary-foreground",children:"EC"})}),i.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Espaa Creativa"}),i.jsx("p",{className:"text-muted-foreground",children:"Red de emprendedores"})]}),i.jsxs(_e,{className:"shadow-elegant border-0",children:[i.jsxs(ft,{className:"space-y-1 pb-4",children:[i.jsx(bt,{className:"text-2xl text-center",children:"Accede a tu cuenta"}),i.jsx(hr,{className:"text-center",children:"Conecta con emprendedores de confianza"})]}),i.jsx(je,{className:"space-y-4",children:i.jsxs(Yf,{defaultValue:"login",className:"w-full",children:[i.jsxs(Wu,{className:"grid w-full grid-cols-2",children:[i.jsx(zn,{value:"login",children:"Iniciar Sesin"}),i.jsx(zn,{value:"request",children:"Solicitar Acceso"})]}),i.jsx(Bn,{value:"login",className:"space-y-4 mt-4",children:i.jsxs("form",{onSubmit:g,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{htmlFor:"login-email",children:"Email"}),i.jsxs("div",{className:"relative",children:[i.jsx(Bf,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),i.jsx(ge,{id:"login-email",type:"email",placeholder:"tu@email.com",value:h.email,onChange:v=>f({...h,email:v.target.value}),className:"pl-10",required:!0})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(fe,{htmlFor:"login-password",children:"Contrasea"}),i.jsx("button",{type:"button",onClick:()=>w(!0),className:"text-sm text-primary hover:text-primary/80 font-medium transition-colors",children:"Olvidaste tu contrasea?"})]}),i.jsxs("div",{className:"relative",children:[i.jsx(Tl,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),i.jsx(ge,{id:"login-password",type:"password",placeholder:"",value:h.password,onChange:v=>f({...h,password:v.target.value}),className:"pl-10",required:!0})]})]}),n&&i.jsx("div",{className:"text-sm text-destructive",children:n.message||"Error al iniciar sesin"}),i.jsxs($,{type:"submit",className:"w-full h-11",disabled:r,children:[r?i.jsx(_t,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Iniciar Sesin"]})]})}),i.jsx(Bn,{value:"request",className:"mt-4",children:i.jsx(i5,{})})]})})]}),i.jsxs("p",{className:"text-center text-sm text-muted-foreground mt-6",children:["Al continuar, aceptas nuestros"," ",i.jsx(nn,{to:"/privacidad",className:"text-primary hover:underline",children:"trminos de servicio y poltica de privacidad"})]})]}),i.jsx(jU,{open:m,onOpenChange:w})]})};function $U(){const{token:e}=zl(),t=gt(),{signIn:r}=Ct(),[n,s]=p.useState(!0),[a,o]=p.useState(!1),[l,c]=p.useState(null),[u,d]=p.useState(""),[h,f]=p.useState(""),[m,w]=p.useState(null),[g,v]=p.useState(!1);p.useEffect(()=>{(async()=>{if(!e){w("Token de activacin invlido"),s(!1);return}try{const x=await fetch(`/api/auth/validate-activation/${e}`),j=await x.json();if(!x.ok||!j.success){w(j.error||"Token de activacin invlido o expirado"),s(!1);return}c(j.data),s(!1)}catch{w("Error al validar el token. Por favor, intenta de nuevo."),s(!1)}})()},[e]);const b=async y=>{if(y.preventDefault(),w(null),u.length<8){w("La contrasea debe tener al menos 8 caracteres");return}if(u!==h){w("Las contraseas no coinciden");return}o(!0);try{const x=await fetch("/api/auth/activate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e,password:u})}),j=await x.json();if(!x.ok||!j.success){w(j.error||"Error al activar la cuenta"),o(!1);return}v(!0),setTimeout(async()=>{try{await r({email:l.email,password:u}),t("/dashboard")}catch{t("/auth")}},2e3)}catch{w("Error al activar la cuenta. Por favor, intenta de nuevo."),o(!1)}};return n?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 max-w-md w-full text-center",children:[i.jsx(_t,{className:"w-16 h-16 text-primary animate-spin mx-auto mb-4"}),i.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Validando enlace..."}),i.jsx("p",{className:"text-gray-600",children:"Por favor, espera un momento."})]})}):g?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 max-w-md w-full text-center",children:[i.jsx(nE,{className:"w-20 h-20 text-green-500 mx-auto mb-4"}),i.jsx("h1",{className:"text-2xl font-bold text-green-700 mb-2",children:"Cuenta activada!"}),i.jsx("p",{className:"text-gray-700 text-lg",children:"Tu contrasea ha sido configurada correctamente. Redirigiendo al dashboard..."})]})}):m&&!l?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 max-w-md w-full text-center",children:[i.jsx(sE,{className:"w-20 h-20 text-red-500 mx-auto mb-4"}),i.jsx("h1",{className:"text-2xl font-bold text-red-700 mb-2",children:"Error"}),i.jsx("p",{className:"text-gray-700 text-lg mb-6",children:m}),i.jsx($,{onClick:()=>t("/auth"),variant:"outline",children:"Ir a inicio de sesin"})]})}):i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 max-w-md w-full",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx(Tl,{className:"w-16 h-16 text-primary mx-auto mb-4"}),i.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Crea tu contrasea"}),i.jsxs("p",{className:"text-gray-600",children:["Bienvenido/a, ",i.jsx("strong",{children:l==null?void 0:l.name})]}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:l==null?void 0:l.email})]}),i.jsxs("form",{onSubmit:b,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx(fe,{htmlFor:"password",children:"Contrasea"}),i.jsx(ge,{id:"password",type:"password",value:u,onChange:y=>d(y.target.value),placeholder:"Mnimo 8 caracteres",required:!0,minLength:8,disabled:a}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Mnimo 8 caracteres"})]}),i.jsxs("div",{children:[i.jsx(fe,{htmlFor:"confirmPassword",children:"Confirmar contrasea"}),i.jsx(ge,{id:"confirmPassword",type:"password",value:h,onChange:y=>f(y.target.value),placeholder:"Repite tu contrasea",required:!0,minLength:8,disabled:a})]}),m&&i.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:m}),i.jsx($,{type:"submit",className:"w-full",disabled:a,children:a?i.jsxs(i.Fragment,{children:[i.jsx(_t,{className:"w-4 h-4 mr-2 animate-spin"}),"Creando cuenta..."]}):"Crear contrasea y acceder"})]})]})})}function FU(){const e=Ze({mutationFn:t=>ho.resetPassword(t)});return{action:e.mutate,isLoading:e.isPending,error:e.error,isSuccess:e.isSuccess,data:e.data}}function UU(){dM();const e=gt(),{action:t,isLoading:r,error:n,isSuccess:s}=FU(),[a,o]=p.useState(""),[l,c]=p.useState(""),[u,d]=p.useState(!1),[h,f]=p.useState(!1),[m,w]=p.useState({});p.useEffect(()=>{s&&setTimeout(()=>{e("/auth")},3e3)},[s,e]);const g=v=>{if(v.preventDefault(),w({}),a!==l){w({confirmPassword:"Las contraseas no coinciden"});return}try{const b=PF.parse({password:a});t(b)}catch(b){if(b instanceof dn){const y={};b.errors.forEach(x=>{x.path[0]&&(y[x.path[0]]=x.message)}),w(y)}}};return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted flex items-center justify-center p-4",children:i.jsx("div",{className:"w-full max-w-md",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 space-y-6",children:[i.jsxs("div",{className:"text-center space-y-2",children:[i.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary to-emerald-600 rounded-xl flex items-center justify-center mx-auto",children:i.jsx(Tl,{className:"h-8 w-8 text-white"})}),i.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Restablecer Contrasea"}),i.jsx("p",{className:"text-muted-foreground",children:"Introduce tu nueva contrasea"})]}),s?i.jsx("div",{className:"text-center space-y-4",children:i.jsxs("div",{className:"text-sm text-green-600 bg-green-50 border border-green-200 rounded-xl p-4",children:[i.jsx("p",{className:"font-medium mb-1",children:"Contrasea actualizada!"}),i.jsx("p",{children:"Tu contrasea ha sido restablecida exitosamente. Redirigiendo al login..."})]})}):i.jsxs("form",{onSubmit:g,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{htmlFor:"password",children:"Nueva Contrasea"}),i.jsxs("div",{className:"relative",children:[i.jsx(ge,{id:"password",type:u?"text":"password",value:a,onChange:v=>{if(o(v.target.value),m.password){const b={...m};delete b.password,w(b)}},disabled:r,className:m.password?"border-red-500":""}),i.jsx("button",{type:"button",onClick:()=>d(!u),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:u?i.jsx(Uc,{className:"h-4 w-4"}):i.jsx(vs,{className:"h-4 w-4"})})]}),m.password&&i.jsx("p",{className:"text-sm text-red-600",children:m.password}),i.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[i.jsx("p",{className:"font-medium",children:"La contrasea debe contener:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-0.5 ml-2",children:[i.jsx("li",{children:"Mnimo 8 caracteres"}),i.jsx("li",{children:"Al menos una letra mayscula"}),i.jsx("li",{children:"Al menos una letra minscula"}),i.jsx("li",{children:"Al menos un nmero"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{htmlFor:"confirmPassword",children:"Confirmar Nueva Contrasea"}),i.jsxs("div",{className:"relative",children:[i.jsx(ge,{id:"confirmPassword",type:h?"text":"password",value:l,onChange:v=>{if(c(v.target.value),m.confirmPassword){const b={...m};delete b.confirmPassword,w(b)}},disabled:r,className:m.confirmPassword?"border-red-500":""}),i.jsx("button",{type:"button",onClick:()=>f(!h),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:h?i.jsx(Uc,{className:"h-4 w-4"}):i.jsx(vs,{className:"h-4 w-4"})})]}),m.confirmPassword&&i.jsx("p",{className:"text-sm text-red-600",children:m.confirmPassword})]}),n&&i.jsx("div",{className:"text-sm text-red-600 bg-red-50 border border-red-200 rounded-xl p-4",children:n instanceof Error?n.message:"Error al restablecer la contrasea"}),i.jsx($,{type:"submit",disabled:r,className:"w-full",children:r?"Restableciendo...":"Restablecer Contrasea"})]}),!s&&i.jsx("div",{className:"text-center",children:i.jsx("button",{onClick:()=>e("/auth"),className:"text-sm text-primary hover:text-primary/80 font-medium",children:"Volver al inicio de sesin"})})]})})})}function Vt({children:e}){const{user:t,isLoading:r}=Ct();return r?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 border-4 border-primary/30 border-t-primary rounded-full animate-spin mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})]})}):t?i.jsx(i.Fragment,{children:e}):i.jsx(Po,{to:"/auth",replace:!0})}function zU(){return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:i.jsx("div",{className:"max-w-2xl w-full",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 md:p-12 space-y-8",children:[i.jsx("div",{className:"flex justify-center",children:i.jsx("div",{className:"w-20 h-20 bg-yellow-100 rounded-full flex items-center justify-center",children:i.jsx("svg",{className:"w-10 h-10 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-3",children:"Solicitud en Revisin"}),i.jsx("p",{className:"text-lg text-gray-600",children:"Tu solicitud de acceso est siendo revisada por nuestro equipo"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:" Tiempo de Respuesta"}),i.jsxs("p",{className:"text-blue-800",children:["Nuestro equipo revisar tu solicitud en las prximas ",i.jsx("strong",{children:"24-48 horas"}),". Te enviaremos un correo electrnico tan pronto como tu cuenta sea aprobada."]})]}),i.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-green-900 mb-2",children:" Revisa tu Email"}),i.jsxs("p",{className:"text-green-800",children:["Una vez aprobada, recibirs un ",i.jsx("strong",{children:"enlace mgico"})," para acceder a tu cuenta por primera vez. El enlace ser vlido por 1 hora."]})]}),i.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-purple-900 mb-2",children:" Qu sigue?"}),i.jsxs("ul",{className:"text-purple-800 space-y-2 list-disc list-inside",children:[i.jsx("li",{children:"Recibirs un email de confirmacin cuando seas aprobado"}),i.jsx("li",{children:"Haz clic en el enlace para crear tu cuenta"}),i.jsx("li",{children:"Completa tu perfil y empieza a conectar con la comunidad"})]})]})]}),i.jsx("div",{className:"border-t border-gray-200 pt-6",children:i.jsxs("p",{className:"text-center text-gray-600 text-sm",children:["Tienes alguna pregunta? Contctanos en"," ",i.jsx("a",{href:"mailto:info@espanacreativa.org",className:"text-primary font-semibold hover:underline",children:"info@espanacreativa.org"})]})}),i.jsx("div",{className:"flex justify-center",children:i.jsx("button",{onClick:()=>window.location.href="/",className:"modern-button modern-button-outline",children:"Volver al Inicio"})})]})})})}const Pp={ADMIN:1,MENTOR:2,EMPRENDEDOR:3};function fo(){const{user:e,isLoading:t}=Ct(),r=a=>!e||!e.role_ids?!1:e.role_ids.includes(a),n=a=>!e||!e.role_ids?!1:a.some(o=>e.role_ids.includes(o)),s=a=>!e||!e.role_ids?!1:a.every(o=>e.role_ids.includes(o));return{isLoading:t,roleIds:(e==null?void 0:e.role_ids)||[],isAdmin:r(Pp.ADMIN),isMentor:r(Pp.MENTOR),isEmprendedor:r(Pp.EMPRENDEDOR),hasRole:r,hasAnyRole:n,hasAllRoles:s}}function BU({status:e="pending",limit:t=20,offset:r=0,enabled:n=!0}={}){return vt({queryKey:["signupApproval","pendingSignups",e,t,r],queryFn:()=>Lu.getPendingSignups(e,t,r),staleTime:30*1e3,enabled:n})}function VU({enabled:e=!0}={}){return vt({queryKey:["signupApproval","pendingCount"],queryFn:()=>Lu.getPendingCount(),staleTime:60*1e3,refetchInterval:300*1e3,enabled:e})}function uk(){const e=Ke(),t=Ze({mutationFn:({token:r,adminId:n})=>Lu.approveSignup(r,n),onSuccess:()=>{e.invalidateQueries({queryKey:["signupApproval","pendingSignups"]}),e.invalidateQueries({queryKey:["signupApproval","pendingCount"]})}});return{action:t.mutate,mutateAsync:t.mutateAsync,isLoading:t.isPending,error:t.error,isSuccess:t.isSuccess,data:t.data}}function dk(){const e=Ke(),t=Ze({mutationFn:({token:r,adminId:n})=>Lu.rejectSignup(r,n),onSuccess:()=>{e.invalidateQueries({queryKey:["signupApproval","pendingSignups"]}),e.invalidateQueries({queryKey:["signupApproval","pendingCount"]})}});return{action:t.mutate,mutateAsync:t.mutateAsync,isLoading:t.isPending,error:t.error,isSuccess:t.isSuccess,data:t.data}}const Jf=p.forwardRef(({className:e,...t},r)=>i.jsx("div",{className:"relative w-full overflow-auto",children:i.jsx("table",{ref:r,className:J("w-full caption-bottom text-sm",e),...t})}));Jf.displayName="Table";const Xf=p.forwardRef(({className:e,...t},r)=>i.jsx("thead",{ref:r,className:J("[&_tr]:border-b",e),...t}));Xf.displayName="TableHeader";const Zf=p.forwardRef(({className:e,...t},r)=>i.jsx("tbody",{ref:r,className:J("[&_tr:last-child]:border-0",e),...t}));Zf.displayName="TableBody";const qU=p.forwardRef(({className:e,...t},r)=>i.jsx("tfoot",{ref:r,className:J("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));qU.displayName="TableFooter";const Za=p.forwardRef(({className:e,...t},r)=>i.jsx("tr",{ref:r,className:J("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Za.displayName="TableRow";const nr=p.forwardRef(({className:e,...t},r)=>i.jsx("th",{ref:r,className:J("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));nr.displayName="TableHead";const Gt=p.forwardRef(({className:e,...t},r)=>i.jsx("td",{ref:r,className:J("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Gt.displayName="TableCell";const WU=p.forwardRef(({className:e,...t},r)=>i.jsx("caption",{ref:r,className:J("mt-4 text-sm text-muted-foreground",e),...t}));WU.displayName="TableCaption";function HU(){const[e,t]=p.useState("pending"),[r,n]=p.useState(0),s=20,{data:a,isLoading:o,error:l,refetch:c}=BU({status:e,limit:s,offset:r*s}),{data:u}=VU(),{action:d,isLoading:h}=uk(),{action:f,isLoading:m}=dk(),w=j=>{confirm("Aprobar esta solicitud? El usuario recibir un magic link por email.")&&d({token:j},{onSuccess:()=>{c()}})},g=j=>{confirm("Rechazar esta solicitud? El usuario ser notificado por email.")&&f({token:j},{onSuccess:()=>{c()}})};if(o)return i.jsx("div",{className:"flex items-center justify-center p-12",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Cargando solicitudes..."})]})});if(l)return i.jsx("div",{className:"p-6 bg-red-50 border border-red-200 rounded-xl",children:i.jsxs("p",{className:"text-red-800",children:["Error al cargar solicitudes: ",l.message]})});const v=(a==null?void 0:a.signups)||[],b=(a==null?void 0:a.total)||0,y=Math.ceil(b/s),x=(u==null?void 0:u.count)||0;return i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Gestin de Solicitudes"}),i.jsxs("p",{className:"text-gray-600 mt-1",children:[x>0&&i.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 mr-2",children:[x," pendientes"]}),"Total: ",b," solicitudes"]})]})}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>{t("pending"),n(0)},className:`px-4 py-2 rounded-lg font-medium transition-colors ${e==="pending"?"bg-yellow-100 text-yellow-900":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Pendientes"}),i.jsx("button",{onClick:()=>{t("approved"),n(0)},className:`px-4 py-2 rounded-lg font-medium transition-colors ${e==="approved"?"bg-green-100 text-green-900":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Aprobadas"}),i.jsx("button",{onClick:()=>{t("rejected"),n(0)},className:`px-4 py-2 rounded-lg font-medium transition-colors ${e==="rejected"?"bg-red-100 text-red-900":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Rechazadas"})]}),v.length===0?i.jsx("div",{className:"text-center p-12 bg-gray-50 rounded-xl",children:i.jsxs("p",{className:"text-gray-600",children:["No hay solicitudes ",e,"."]})}):i.jsx("div",{className:"border rounded-xl bg-white",children:i.jsxs(Jf,{children:[i.jsx(Xf,{children:i.jsxs(Za,{children:[i.jsx(nr,{children:"Nombre"}),i.jsx(nr,{children:"Email"}),i.jsx(nr,{children:"Fecha"}),i.jsx(nr,{children:"Estado"}),e==="pending"&&i.jsx(nr,{className:"text-right",children:"Acciones"})]})}),i.jsx(Zf,{children:v.map(j=>i.jsxs(Za,{children:[i.jsxs(Gt,{className:"font-medium",children:[j.name," ",j.surname||""]}),i.jsx(Gt,{children:j.email}),i.jsx(Gt,{children:new Date(j.createdAt).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric"})}),i.jsx(Gt,{children:i.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${j.status==="pending"?"bg-yellow-100 text-yellow-800":j.status==="approved"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[j.status==="pending"&&"Pendiente",j.status==="approved"&&"Aprobada",j.status==="rejected"&&"Rechazada"]})}),e==="pending"&&i.jsx(Gt,{className:"text-right",children:i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx("button",{onClick:()=>w(j.id),disabled:h||m,className:"px-3 py-1.5 bg-green-600 text-white text-sm rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Aprobar"}),i.jsx("button",{onClick:()=>g(j.id),disabled:h||m,className:"px-3 py-1.5 bg-red-600 text-white text-sm rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Rechazar"})]})})]},j.id))})]})}),y>1&&i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("p",{className:"text-sm text-gray-700",children:["Pgina ",r+1," de ",y]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>n(Math.max(0,r-1)),disabled:r===0,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Anterior"}),i.jsx("button",{onClick:()=>n(Math.min(y-1,r+1)),disabled:r>=y-1,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Siguiente"})]})]})]})}function _j(){const{isAdmin:e,isLoading:t}=fo(),r=gt();return p.useEffect(()=>{!t&&!e&&r("/")},[e,t,r]),t?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):e?i.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[i.jsxs($,{variant:"ghost",onClick:()=>r("/gestion"),className:"mb-6 hover:bg-gray-100",children:[i.jsx(qn,{className:"h-4 w-4 mr-2"}),"Volver a Gestin"]}),i.jsxs("div",{className:"mb-8",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx(Ss,{className:"h-8 w-8 text-primary"}),i.jsx("h1",{className:"text-3xl font-bold",children:"Aprobacin de Registros"})]}),i.jsx("p",{className:"text-muted-foreground",children:"Revisa y gestiona las solicitudes de acceso a la plataforma"})]}),i.jsx(HU,{})]}):null}function KU(){const{action:e,token:t}=zl();gt();const[r,n]=p.useState(!0),[s,a]=p.useState(null),o=uk(),l=dk();return p.useEffect(()=>{if(!t||!e){a({success:!1,message:"Invalid approval link"}),n(!1);return}(async()=>{try{e==="approve"?(await o.mutateAsync({token:t}),a({success:!0,message:"Solicitud aprobada correctamente. El usuario recibir un email con el enlace de acceso."})):e==="reject"&&(await l.mutateAsync({token:t}),a({success:!0,message:"Solicitud rechazada. El usuario ha sido notificado por email."}))}catch(u){a({success:!1,message:u.message||"Error al procesar la solicitud"})}finally{n(!1)}})()},[t,e]),r?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 max-w-md w-full text-center",children:[i.jsx(_t,{className:"w-16 h-16 text-primary animate-spin mx-auto mb-4"}),i.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Procesando solicitud..."}),i.jsxs("p",{className:"text-gray-600",children:["Por favor, espera un momento mientras procesamos la ",e==="approve"?"aprobacin":"rechazo","."]})]})}):i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 max-w-md w-full",children:[i.jsxs("div",{className:"text-center mb-6",children:[s!=null&&s.success?i.jsx(nE,{className:"w-20 h-20 text-green-500 mx-auto mb-4"}):i.jsx(sE,{className:"w-20 h-20 text-red-500 mx-auto mb-4"}),i.jsx("h1",{className:`text-2xl font-bold mb-2 ${s!=null&&s.success?"text-green-700":"text-red-700"}`,children:s!=null&&s.success?"Accin completada!":"Error"}),i.jsx("p",{className:"text-gray-700 text-lg",children:s==null?void 0:s.message})]}),i.jsx("div",{className:"flex justify-center",children:i.jsxs($,{onClick:()=>window.close(),variant:"outline",className:"w-full max-w-xs",children:[i.jsx(pr,{className:"w-4 h-4 mr-2"}),"Cerrar"]})})]})})}const em=da(["proyecto","colaboracion","empleo","mentoria","evento","otro"]),Tx=da(["abierta","en_progreso","cerrada","cancelada"]),tm=W({id:OC([P(),be()]).transform(e=>String(e)),title:P(),description:P(),type:em,status:Tx,skills_required:Fe(P()),created_by:P().uuid(),city_id:be().positive("La oportunidad debe estar asignada a una ciudad"),location:P().nullish().optional(),remote:Lr(),duration:P().nullish(),compensation:P().nullish(),created_at:P(),updated_at:P()}),hk=tm.extend({creator:W({id:P().uuid(),name:P(),avatar_url:P().nullable().optional(),professional_title:P().nullable().optional()})});tm.extend({city:W({id:be(),name:P(),slug:P(),image_url:P().url()}),creator:W({id:P().uuid(),name:P(),avatar_url:P().nullable().optional(),professional_title:P().nullable().optional()})});const fk=W({title:P().min(5,"El ttulo debe tener al menos 5 caracteres").max(100,"El ttulo no puede superar 100 caracteres"),description:P().min(20,"La descripcin debe tener al menos 20 caracteres").max(2e3,"La descripcin no puede superar 2000 caracteres"),type:em,skills_required:Fe(P()).min(1,"Debes especificar al menos una habilidad"),city_id:be().positive("Debes seleccionar una ciudad"),remote:Lr().default(!1),duration:P().max(100).nullable().optional(),compensation:P().max(200).nullable().optional()});W({title:P().min(5).max(100).optional(),description:P().min(20).max(2e3).optional(),type:em.optional(),status:Tx.optional(),skills_required:Fe(P()).min(1).optional(),location:P().max(100).nullable().optional(),remote:Lr().optional(),duration:P().max(100).nullable().optional(),compensation:P().max(200).nullable().optional()});W({type:em.optional(),status:Tx.optional(),skills:Fe(P()).optional(),remote:Lr().optional(),search:P().optional(),city_id:be().optional(),limit:be().optional()});const QU=W({opportunity:hk}),Rp=W({opportunities:Fe(hk),total:be()}),GU=W({opportunity:tm}),YU=W({opportunity:tm}),Gl={async getOpportunities(e){var r;const t=await ve.get("/opportunities",{params:{type:e==null?void 0:e.type,status:e==null?void 0:e.status,skills:(r=e==null?void 0:e.skills)==null?void 0:r.join(","),remote:e==null?void 0:e.remote,search:e==null?void 0:e.search,limit:e==null?void 0:e.limit}});return Rp.parse(t.data)},async getOpportunity(e){const t=await ve.get(`/opportunities/${e}`);return QU.parse(t.data)},async getMyOpportunities(){const e=await ve.get("/opportunities/my");return Rp.parse(e.data)},async createOpportunity(e){const t=await ve.post("/opportunities",e);return GU.parse(t.data)},async updateOpportunity(e,t){const r=await ve.put(`/opportunities/${e}`,t);return YU.parse(r.data)},async deleteOpportunity(e){await ve.delete(`/opportunities/${e}`)},async getOpportunitiesByCity(e,t){var n;const r=await ve.get("/opportunities",{params:{city_id:e,type:t==null?void 0:t.type,status:t==null?void 0:t.status,skills:(n=t==null?void 0:t.skills)==null?void 0:n.join(","),remote:t==null?void 0:t.remote,search:t==null?void 0:t.search,limit:t==null?void 0:t.limit}});return Rp.parse(r.data)}},JU=(e,t)=>vt({queryKey:["opportunities",e||{}],queryFn:async()=>await Gl.getOpportunities(e),enabled:(t==null?void 0:t.enabled)!==!1,staleTime:120*1e3,gcTime:300*1e3}),XU=$u("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Se({className:e,variant:t,...r}){return i.jsx("div",{className:J(XU({variant:t}),e),...r})}var mk={exports:{}},pk={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Al=p;function ZU(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var e6=typeof Object.is=="function"?Object.is:ZU,t6=Al.useState,r6=Al.useEffect,n6=Al.useLayoutEffect,s6=Al.useDebugValue;function a6(e,t){var r=t(),n=t6({inst:{value:r,getSnapshot:t}}),s=n[0].inst,a=n[1];return n6(function(){s.value=r,s.getSnapshot=t,Tp(s)&&a({inst:s})},[e,r,t]),r6(function(){return Tp(s)&&a({inst:s}),e(function(){Tp(s)&&a({inst:s})})},[e]),s6(r),r}function Tp(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!e6(e,r)}catch{return!0}}function i6(e,t){return t()}var o6=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?i6:a6;pk.useSyncExternalStore=Al.useSyncExternalStore!==void 0?Al.useSyncExternalStore:o6;mk.exports=pk;var l6=mk.exports;function c6(){return l6.useSyncExternalStore(u6,()=>!0,()=>!1)}function u6(){return()=>{}}var Ax="Avatar",[d6]=yr(Ax),[h6,gk]=d6(Ax),vk=p.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,a]=p.useState("idle");return i.jsx(h6,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:a,children:i.jsx(de.span,{...n,ref:t})})});vk.displayName=Ax;var yk="AvatarImage",xk=p.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...a}=e,o=gk(yk,r),l=f6(n,a),c=jt(u=>{s(u),o.onImageLoadingStatusChange(u)});return Pt(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?i.jsx(de.img,{...a,ref:t,src:n}):null});xk.displayName=yk;var wk="AvatarFallback",bk=p.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,a=gk(wk,r),[o,l]=p.useState(n===void 0);return p.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&a.imageLoadingStatus!=="loaded"?i.jsx(de.span,{...s,ref:t}):null});bk.displayName=wk;function Sj(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function f6(e,{referrerPolicy:t,crossOrigin:r}){const n=c6(),s=p.useRef(null),a=n?(s.current||(s.current=new window.Image),s.current):null,[o,l]=p.useState(()=>Sj(a,e));return Pt(()=>{l(Sj(a,e))},[a,e]),Pt(()=>{const c=h=>()=>{l(h)};if(!a)return;const u=c("loaded"),d=c("error");return a.addEventListener("load",u),a.addEventListener("error",d),t&&(a.referrerPolicy=t),typeof r=="string"&&(a.crossOrigin=r),()=>{a.removeEventListener("load",u),a.removeEventListener("error",d)}},[a,r,t]),o}var jk=vk,_k=xk,Sk=bk;const St=p.forwardRef(({className:e,...t},r)=>i.jsx(jk,{ref:r,className:J("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));St.displayName=jk.displayName;const Dt=p.forwardRef(({className:e,...t},r)=>i.jsx(_k,{ref:r,className:J("aspect-square h-full w-full",e),...t}));Dt.displayName=_k.displayName;const Nt=p.forwardRef(({className:e,...t},r)=>i.jsx(Sk,{ref:r,className:J("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Nt.displayName=Sk.displayName;var Ox="Progress",Ix=100,[m6]=yr(Ox),[p6,g6]=m6(Ox),Nk=p.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:a=v6,...o}=e;(s||s===0)&&!Nj(s)&&console.error(y6(`${s}`,"Progress"));const l=Nj(s)?s:Ix;n!==null&&!Cj(n,l)&&console.error(x6(`${n}`,"Progress"));const c=Cj(n,l)?n:null,u=ef(c)?a(c,l):void 0;return i.jsx(p6,{scope:r,value:c,max:l,children:i.jsx(de.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":ef(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":kk(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});Nk.displayName=Ox;var Ck="ProgressIndicator",Ek=p.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,s=g6(Ck,r);return i.jsx(de.div,{"data-state":kk(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:t})});Ek.displayName=Ck;function v6(e,t){return`${Math.round(e/t*100)}%`}function kk(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function ef(e){return typeof e=="number"}function Nj(e){return ef(e)&&!isNaN(e)&&e>0}function Cj(e,t){return ef(e)&&!isNaN(e)&&e<=t&&e>=0}function y6(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Ix}\`.`}function x6(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Ix} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Pk=Nk,w6=Ek;const Rk=p.forwardRef(({className:e,value:t,...r},n)=>i.jsx(Pk,{ref:n,className:J("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:i.jsx(w6,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Rk.displayName=Pk.displayName;class b6{constructor(){jn(this,"isDevelopment",!1);jn(this,"sessionId",this.generateSessionId());jn(this,"pendingLogs",[]);jn(this,"batchTimeout",null);jn(this,"isOnline",!0)}generateSessionId(){return`session-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}formatTimestamp(){return new Date().toISOString()}createLogEntry(t,r,n,s){return{timestamp:this.formatTimestamp(),level:t,message:r,data:n,component:s,session:this.sessionId}}formatConsoleOutput(t){const{timestamp:r,level:n,message:s,component:a,data:o}=t,l=a?`[${a}]`:"",c=`[${t.session}]`,u=`${r} ${c} ${l} [${n.toUpperCase()}] ${s}`;return o?`${u}
Data: ${JSON.stringify(o,null,2)}`:u}log(t,r,n,s){if(!this.isDevelopment)return;const a=this.createLogEntry(t,r,n,s),o=this.formatConsoleOutput(a);switch(t){case"debug":console.debug(`%c${o}`,"color: #6b7280");break;case"info":console.info(`%c${o}`,"color: #3b82f6");break;case"warn":console.warn(`%c${o}`,"color: #f59e0b");break;case"error":console.error(`%c${o}`,"color: #ef4444");break}this.sendToDevServer(a).catch(l=>{console.error("Failed to send log to dev server:",l)})}async sendToDevServer(t){try{return}catch{}}debug(t,r,n){this.log("debug",t,r,n)}info(t,r,n){this.log("info",t,r,n)}warn(t,r,n){this.log("warn",t,r,n)}error(t,r,n){this.log("error",t,r,n)}apiCall(t,r,n,s){this.info(`API ${t.toUpperCase()} ${r}`,n,s)}apiResponse(t,r,n,s,a){const o=n>=400?"error":n>=300?"warn":"info";this.log(o,`API ${t.toUpperCase()} ${r} - ${n}`,s,a)}userAction(t,r,n){this.info(`User action: ${t}`,r,n)}componentMount(t,r){this.debug(`Component mounted: ${t}`,r,t)}componentUnmount(t){this.debug(`Component unmounted: ${t}`,void 0,t)}stateChange(t,r,n,s){this.debug(`State change: ${t}`,{oldValue:r,newValue:n},s)}navigation(t,r){this.info(`Navigation: ${t} -> ${r}`,void 0,"Router")}supabaseOperation(t,r,n){this.debug(`Supabase ${t}${r?` on ${r}`:""}`,n,"Supabase")}authEvent(t,r){this.info(`Auth event: ${t}`,r,"Auth")}}const j6=new b6,is=j6;async function _6(e,t){is.apiCall("UPDATE","users/profile",{userId:e,fields:Object.keys(t)},"updateUserProfile");const{data:r,error:n}=await ar.from("users").update({name:t.name,bio:t.bio,location:t.location,linkedin_url:t.linkedin_url,website_url:t.website_url,skills:t.skills,interests:t.interests,avatar_url:t.avatar_url}).eq("id",e).select().single();return n?is.error("updateUserProfile failed",{userId:e,error:n,updates:t}):is.info("updateUserProfile success",{userId:e,updatedFields:Object.keys(t)}),{data:r,error:n}}async function S6(e,t={}){is.apiCall("GET","users/search",{query:e,filters:t},"searchUsers");let r=ar.from("users").select(`
      *,
      user_roles!inner(
        roles(*)
      )
    `);e&&(is.debug("Adding text search filter",{query:e}),r=r.or(`name.ilike.%${e}%, bio.ilike.%${e}%`)),t.role&&(is.debug("Adding role filter",{role:t.role}),r=r.eq("user_roles.roles.name",t.role)),t.location&&(is.debug("Adding location filter",{location:t.location}),r=r.ilike("location",`%${t.location}%`)),t.skills&&t.skills.length>0&&(is.debug("Adding skills filter",{skills:t.skills}),r=r.overlaps("skills",t.skills));const{data:n,error:s}=await r.order("updated_at",{ascending:!1}).limit(50);if(s)return is.error("searchUsers failed",{query:e,filters:t,error:s}),{data:[],error:s};const a=(n==null?void 0:n.map(o=>({...o,roles:o.user_roles.map(l=>l.roles)})))||[];return is.info("searchUsers success",{query:e,filters:t,resultCount:a.length,hasQuery:!!e,hasFilters:Object.keys(t).length>0}),{data:a,error:null}}function Tk({open:e,onOpenChange:t,onPhotoUpdated:r}){var b,y,x,j,_,S;const{user:n}=Ct(),[s,a]=p.useState(!1),[o,l]=p.useState(""),[c,u]=p.useState(null),[d,h]=p.useState(null),f=p.useRef(null),m=N=>{var T;const C=(T=N.target.files)==null?void 0:T[0];if(!C)return;if(!C.type.startsWith("image/")){l("Por favor selecciona un archivo de imagen vlido");return}if(C.size>5*1024*1024){l("La imagen debe ser menor a 5MB");return}l(""),h(C);const R=new FileReader;R.onload=z=>{var D;u((D=z.target)==null?void 0:D.result)},R.readAsDataURL(C)},w=async()=>{if(!(!d||!n)){a(!0),l("");try{const N=d.name.split(".").pop(),R=`avatars/${`${n.id}-${Date.now()}.${N}`}`,{error:T}=await ar.storage.from("fotos-perfil").upload(R,d,{cacheControl:"3600",upsert:!1});if(T){console.error("Upload error:",T),l("Error al subir la imagen. Intntalo de nuevo.");return}const{data:{publicUrl:z}}=ar.storage.from("fotos-perfil").getPublicUrl(R),{error:D}=await _6(n.id,{avatar_url:z});if(D){l("Error al actualizar el perfil");return}r==null||r(z),g()}catch(N){console.error("Error uploading photo:",N),l("Error al subir la imagen")}finally{a(!1)}}},g=()=>{u(null),h(null),l(""),t(!1)},v=()=>{var N;(N=f.current)==null||N.click()};return i.jsx(hn,{open:e,onOpenChange:g,children:i.jsxs(Yr,{className:"sm:max-w-md",children:[i.jsxs(fn,{children:[i.jsx(mn,{children:"Cambiar foto de perfil"}),i.jsx(pn,{children:"Sube una nueva foto de perfil para personalizar tu cuenta"})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"flex justify-center",children:i.jsxs("div",{className:"relative",children:[i.jsxs(St,{className:"w-32 h-32",children:[i.jsx(Dt,{src:c||((b=n==null?void 0:n.user_metadata)==null?void 0:b.avatar_url),alt:"Preview"}),i.jsx(Nt,{className:"text-3xl bg-gradient-to-br from-primary to-primary/80 text-white",children:((j=(x=(y=n==null?void 0:n.user_metadata)==null?void 0:y.name)==null?void 0:x.charAt(0))==null?void 0:j.toUpperCase())||((S=(_=n==null?void 0:n.email)==null?void 0:_.charAt(0))==null?void 0:S.toUpperCase())})]}),c&&i.jsx($,{type:"button",size:"sm",variant:"secondary",className:"absolute -top-2 -right-2 rounded-full w-8 h-8 p-0",onClick:()=>{u(null),h(null)},children:i.jsx(pr,{className:"h-4 w-4"})})]})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs($,{type:"button",variant:"outline",onClick:v,className:"w-full flex items-center gap-2",disabled:s,children:[i.jsx(ZC,{className:"h-4 w-4"}),d?"Cambiar imagen":"Seleccionar imagen"]}),i.jsx("input",{ref:f,type:"file",accept:"image/*",onChange:m,className:"hidden"}),d&&i.jsxs("div",{className:"text-center",children:[i.jsxs("p",{className:"text-sm text-muted-foreground mb-3",children:["Imagen seleccionada: ",d.name]}),i.jsxs($,{onClick:w,disabled:s,className:"w-full",children:[i.jsx(n5,{className:"h-4 w-4 mr-2"}),s?"Subiendo...":"Subir foto"]})]})]}),o&&i.jsx("div",{className:"text-sm text-red-600 bg-red-50 border border-red-200 rounded-xl p-4",children:o}),i.jsx("div",{className:"text-center",children:i.jsx("p",{className:"text-xs text-muted-foreground",children:"Formatos admitidos: JPG, PNG, GIF  Tamao mximo: 5MB"})})]})]})})}const N6=$u("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Qs=p.forwardRef(({className:e,variant:t,...r},n)=>i.jsx("div",{ref:n,role:"alert",className:J(N6({variant:t}),e),...r}));Qs.displayName="Alert";const Ak=p.forwardRef(({className:e,...t},r)=>i.jsx("h5",{ref:r,className:J("mb-1 font-medium leading-none tracking-tight",e),...t}));Ak.displayName="AlertTitle";const Gs=p.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:J("text-sm [&_p]:leading-relaxed",e),...t}));Gs.displayName="AlertDescription";function It({className:e,...t}){return i.jsx("div",{className:J("animate-pulse rounded-md bg-muted",e),...t})}const Yl=W({id:P().uuid(),email:P().email(),name:P(),avatar_url:P().url().or(Fc("")).nullable(),bio:P().nullable(),location:P().nullable(),linkedin_url:P().url().or(Fc("")).nullable(),website_url:P().url().or(Fc("")).nullable(),skills:Fe(P()),interests:Fe(P()),completed_pct:be().min(0).max(100),created_at:P(),updated_at:P()});W({name:P().min(2,"El nombre debe tener al menos 2 caracteres").optional(),bio:P().max(500,"La biografa no puede superar 500 caracteres").nullable().optional(),location:P().max(100,"La ubicacin no puede superar 100 caracteres").nullable().optional(),linkedin_url:P().url("URL de LinkedIn invlida").nullable().optional(),website_url:P().url("URL del sitio web invlida").nullable().optional(),skills:Fe(P()).optional(),interests:Fe(P()).optional()});W({avatar_url:P().url()});W({query:P().optional(),location:P().optional(),skills:Fe(P()).optional(),role:P().optional()});W({users:Fe(Yl)});W({user:Yl});W({user:Yl});W({error:P()});const C6=Yl.extend({role_ids:Fe(be())});W({days:be().int().min(1).max(365).optional().default(30),limit:be().int().min(1).max(50).optional().default(5)});const E6=W({users:Fe(C6),count:be().int().min(0),days_filter:be().int().min(1).max(365)}),k6="http://localhost:3001",P6={async getRecentUsers(e){const t=await rt.get(`${k6}/api/users/recent`,{params:{days:e==null?void 0:e.days,limit:e==null?void 0:e.limit}});return E6.parse(t.data)}},R6=(e,t)=>{const r=e==null?void 0:e.days,n=e==null?void 0:e.limit;return vt({queryKey:["dashboard","recent-users",r,n],queryFn:async()=>(await P6.getRecentUsers(e)).users,enabled:(t==null?void 0:t.enabled)!==!1,staleTime:120*1e3,gcTime:600*1e3,refetchOnWindowFocus:!1})},Mx=da(["pending","accepted","rejected","blocked"]),Dx=W({id:P().uuid(),requester_id:P().uuid(),addressee_id:P().uuid(),status:Mx,created_at:P().datetime(),updated_at:P().datetime()}),T6=W({connection:Dx,user:Yl}),A6=W({total_connections:be(),pending_requests:be(),sent_requests:be()});W({addressee_id:P().uuid()});W({connection_id:P().uuid(),status:Mx});W({status:Mx.optional()});const O6=W({connections:Fe(T6)}),I6=W({stats:A6}),M6=W({connection:Dx}),D6=W({connection:Dx});W({user_id:P().uuid()});const L6=W({connections:Fe(Yl),count:be()}),Jl={async getConnections(e){const t=await ve.get("/connections",{params:{status:e==null?void 0:e.status}});return O6.parse(t.data)},async getNetworkStats(){const e=await ve.get("/connections/stats");return I6.parse(e.data)},async requestConnection(e){const t=await ve.post("/connections",e);return M6.parse(t.data)},async updateConnectionStatus(e){const t=await ve.put(`/connections/${e.connection_id}`,{status:e.status});return D6.parse(t.data)},async deleteConnection(e){await ve.delete(`/connections/${e}`)},async getMutualConnections(e){const t=await ve.get(`/connections/mutual/${e}`);return L6.parse(t.data)},async getConnectionStatus(e){var t;try{return(await ve.get(`/connections/status/${e}`)).data}catch(r){if(rt.isAxiosError(r)&&((t=r.response)==null?void 0:t.status)===404)return{status:null};throw r}}},Lx=()=>{const e=Ke(),t=Ze({mutationFn:async r=>(await Jl.requestConnection(r)).connection,onSuccess:()=>{e.invalidateQueries({queryKey:["connections"]}),e.invalidateQueries({queryKey:["network-stats"]}),e.invalidateQueries({queryKey:["connection-status"]})}});return{action:t.mutate,isLoading:t.isPending,error:t.error,isSuccess:t.isSuccess,data:t.data}},Hu=()=>{const e=Ke(),t=Ze({mutationFn:async r=>(await Jl.updateConnectionStatus(r)).connection,onSuccess:()=>{e.invalidateQueries({queryKey:["connections"]}),e.invalidateQueries({queryKey:["network-stats"]}),e.invalidateQueries({queryKey:["connection-status"]}),e.invalidateQueries({queryKey:["mutual-connections"]})}});return{action:t.mutate,isLoading:t.isPending,error:t.error,isSuccess:t.isSuccess,data:t.data}},$x=(e,t)=>vt({queryKey:["connection-status",e],queryFn:async()=>e?await Jl.getConnectionStatus(e):{status:null},enabled:(t==null?void 0:t.enabled)!==!1&&!!e,staleTime:60*1e3,gcTime:300*1e3}),$6=1,F6=1e6;let Ap=0;function U6(){return Ap=(Ap+1)%Number.MAX_SAFE_INTEGER,Ap.toString()}const Op=new Map,Ej=e=>{if(Op.has(e))return;const t=setTimeout(()=>{Op.delete(e),zc({type:"REMOVE_TOAST",toastId:e})},F6);Op.set(e,t)},z6=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,$6)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?Ej(r):e.toasts.forEach(n=>{Ej(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},oh=[];let lh={toasts:[]};function zc(e){lh=z6(lh,e),oh.forEach(t=>{t(lh)})}function Qt({...e}){const t=U6(),r=s=>zc({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>zc({type:"DISMISS_TOAST",toastId:t});return zc({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function Ku(){const[e,t]=p.useState(lh);return p.useEffect(()=>(oh.push(t),()=>{const r=oh.indexOf(t);r>-1&&oh.splice(r,1)}),[e]),{...e,toast:Qt,dismiss:r=>zc({type:"DISMISS_TOAST",toastId:r})}}function B6({user:e}){var b,y;const{user:t}=Ct(),{data:r}=$x(e.id),{action:n,isLoading:s}=Lx(),{action:a,isLoading:o}=Hu(),{toast:l}=Ku(),c=gt(),u=async()=>{try{await n({addressee_id:e.id}),l({title:"Solicitud enviada",description:`Solicitud de conexin enviada a ${e.name}`,duration:3e3})}catch(x){l({title:"Error",description:x instanceof Error?x.message:"No se pudo enviar la solicitud",variant:"destructive",duration:5e3})}},d=async()=>{var j;const x=(j=r==null?void 0:r.connection)==null?void 0:j.id;if(x)try{await a({connection_id:x,status:"accepted"}),l({title:"Conexin aceptada",description:`Ahora ests conectado con ${e.name}`,duration:3e3})}catch(_){l({title:"Error",description:_ instanceof Error?_.message:"No se pudo aceptar la solicitud",variant:"destructive",duration:5e3})}},h=()=>{c(`/users/${e.id}`)},f=(t==null?void 0:t.id)===e.id,m=(r==null?void 0:r.status)||"none",w=((b=r==null?void 0:r.connection)==null?void 0:b.requester_id)===(t==null?void 0:t.id),g=((y=r==null?void 0:r.connection)==null?void 0:y.addressee_id)===(t==null?void 0:t.id),v=e.role_ids&&e.role_ids.length>0?q6(e.role_ids[0]):"Miembro";return i.jsxs("div",{className:"flex items-center gap-3 p-4 rounded-lg hover:bg-muted/50 transition-colors",children:[i.jsxs(St,{className:"h-12 w-12 cursor-pointer hover:ring-2 hover:ring-primary transition-all",onClick:h,children:[i.jsx(Dt,{src:e.avatar_url||void 0,alt:e.name}),i.jsx(Nt,{className:"bg-gradient-to-br from-primary to-primary/80 text-white text-sm",children:V6(e.name,e.email)})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"text-sm font-semibold truncate cursor-pointer hover:text-primary transition-colors",onClick:h,children:e.name}),i.jsx("span",{className:"text-xs text-muted-foreground",children:v})]}),i.jsxs("div",{className:"flex-shrink-0 flex items-center gap-2",children:[f?i.jsx(Se,{variant:"secondary",className:"text-xs",children:"T"}):i.jsxs(i.Fragment,{children:[m==="none"&&i.jsxs($,{size:"sm",onClick:u,disabled:s,className:"flex items-center gap-2",children:[i.jsx(si,{className:"h-4 w-4"}),s?"Conectando...":"Conectar"]}),m==="pending"&&w&&i.jsx($,{size:"sm",variant:"secondary",disabled:!0,className:"cursor-not-allowed",children:"Solicitud enviada"}),m==="pending"&&g&&i.jsxs($,{size:"sm",onClick:d,disabled:o,className:"flex items-center gap-2",children:[i.jsx(Ss,{className:"h-4 w-4"}),o?"Aceptando...":"Aceptar"]}),m==="accepted"&&i.jsxs(Se,{variant:"default",className:"flex items-center gap-1",children:[i.jsx(Ss,{className:"h-3 w-3"}),"Conectado"]})]}),!f&&i.jsxs($,{size:"sm",variant:"outline",onClick:h,className:"flex items-center gap-2",children:[i.jsx(vs,{className:"h-4 w-4"}),"Ver Perfil"]})]})]})}function V6(e,t){if(e&&e.trim().length>0){const r=e.trim().split(" ");return r.length>=2?(r[0][0]+r[r.length-1][0]).toUpperCase():e[0].toUpperCase()}return t[0].toUpperCase()}function q6(e){return{1:"Admin",2:"Mentor",3:"Emprendedor"}[e]||"Miembro"}function W6(){const{data:e,isLoading:t,error:r}=R6({days:30,limit:5});return i.jsxs(_e,{children:[i.jsxs(ft,{children:[i.jsxs(bt,{className:"flex items-center gap-2",children:[i.jsx(Dr,{className:"h-5 w-5"}),"Nuevos miembros"]}),i.jsx(hr,{children:"Conecta con los ltimos miembros que se han unido"})]}),i.jsxs(je,{children:[t&&i.jsx("div",{className:"space-y-4",children:[1,2,3,4,5].map(n=>i.jsxs("div",{className:"flex items-center gap-3 p-4",children:[i.jsx(It,{className:"h-12 w-12 rounded-full"}),i.jsxs("div",{className:"flex-1 space-y-2",children:[i.jsx(It,{className:"h-4 w-32"}),i.jsx(It,{className:"h-3 w-24"})]}),i.jsx(It,{className:"h-9 w-24 rounded-md"})]},n))}),r&&!t&&i.jsx(Qs,{variant:"destructive",children:i.jsx(Gs,{children:"No se pudieron cargar los nuevos miembros. Por favor, intenta de nuevo ms tarde."})}),!t&&!r&&e&&e.length===0&&i.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[i.jsx(a5,{className:"h-12 w-12 text-muted-foreground mb-3"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"No hay nuevos miembros an"})]}),!t&&!r&&e&&e.length>0&&i.jsx("div",{className:"space-y-2",children:e.map(n=>i.jsx(B6,{user:n},n.id))})]})]})}const H6=()=>{var c,u,d,h;const{user:e,signOut:t}=Ct(),r=gt(),[n,s]=p.useState(!1),{data:a,isLoading:o}=JU({limit:3}),l=f=>{};return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted",children:[i.jsx("header",{className:"border-b bg-card/95 backdrop-blur supports-[backdrop-filter]:bg-card/60",children:i.jsx("div",{className:"container mx-auto px-4 py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("img",{src:"/animacion-3-transparente.gif",alt:"Espaa Creativa logo animado",width:"40",height:"40",className:"w-10 h-10 object-contain",loading:"eager",fetchpriority:"high",decoding:"async"}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-xl font-bold text-foreground",children:"Espaa Creativa"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Red de emprendedores"})]})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs(St,{className:"h-8 w-8 cursor-pointer hover:ring-2 hover:ring-primary transition-all",onClick:()=>r("/profile"),children:[i.jsx(Dt,{src:e==null?void 0:e.avatar_url}),i.jsx(Nt,{children:((u=(c=e==null?void 0:e.name)==null?void 0:c.charAt(0))==null?void 0:u.toUpperCase())||((h=(d=e==null?void 0:e.email)==null?void 0:d.charAt(0))==null?void 0:h.toUpperCase())})]}),i.jsxs($,{variant:"ghost",size:"sm",onClick:()=>{t()},children:[i.jsx(oE,{className:"h-4 w-4 mr-2"}),"Salir"]})]})]})})}),i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs("h2",{className:"text-3xl font-bold text-foreground mb-2",children:["Bienvenid@, ",(e==null?void 0:e.name)||(e==null?void 0:e.email),"!"]}),i.jsx("p",{className:"text-muted-foreground",children:"Conecta con emprendedores y colabora en proyectos en la red de Espaa Creativa"})]}),(e==null?void 0:e.completed_pct)!==100&&i.jsxs(_e,{className:"mb-8 border-primary/20 bg-gradient-to-r from-primary/5 to-primary/10",children:[i.jsx(ft,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(bt,{className:"text-lg",children:"Completa tu perfil"}),i.jsx(hr,{children:"Un perfil completo te ayuda a conectar mejor con otros miembros"})]}),i.jsxs(Se,{variant:"secondary",children:[(e==null?void 0:e.completed_pct)||0,"% completado"]})]})}),i.jsxs(je,{className:"space-y-4",children:[i.jsx(Rk,{value:(e==null?void 0:e.completed_pct)||0,className:"w-full"}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs($,{size:"sm",variant:"outline",onClick:()=>{s(!0)},children:[i.jsx(vu,{className:"h-4 w-4 mr-2"}),"Aadir foto de perfil"]}),i.jsxs($,{size:"sm",variant:"outline",onClick:()=>{r("/profile")},children:[i.jsx(gu,{className:"h-4 w-4 mr-2"}),"Completar informacin personal"]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[i.jsx(_e,{className:"hover:shadow-brand transition-shadow cursor-pointer",children:i.jsxs(je,{className:"p-6 text-center",children:[i.jsx(t5,{className:"h-12 w-12 text-primary mx-auto mb-4"}),i.jsx("h3",{className:"font-semibold mb-2",children:"Mi Red"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Descubre emprendedores y mentores"}),i.jsx($,{size:"sm",variant:"outline",className:"w-full",onClick:()=>{r("/network")},children:"Explorar"})]})}),i.jsx(_e,{className:"hover:shadow-brand transition-shadow cursor-pointer",children:i.jsxs(je,{className:"p-6 text-center",children:[i.jsx(pu,{className:"h-12 w-12 text-primary mx-auto mb-4"}),i.jsx("h3",{className:"font-semibold mb-2",children:"Mensajes"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Chatea con otros miembros"}),i.jsx($,{size:"sm",variant:"outline",className:"w-full",onClick:()=>{r("/messages")},children:"Ver mensajes"})]})}),i.jsx(_e,{className:"hover:shadow-brand transition-shadow cursor-pointer",children:i.jsxs(je,{className:"p-6 text-center",children:[i.jsx(sa,{className:"h-12 w-12 text-primary mx-auto mb-4"}),i.jsx("h3",{className:"font-semibold mb-2",children:"Oportunidades"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Colabora en proyectos"}),i.jsx($,{size:"sm",variant:"outline",className:"w-full",onClick:()=>{r("/opportunities")},children:"Ver todas"})]})}),i.jsx(_e,{className:"hover:shadow-brand transition-shadow cursor-pointer",children:i.jsxs(je,{className:"p-6 text-center",children:[i.jsx(_s,{className:"h-12 w-12 text-primary mx-auto mb-4"}),i.jsx("h3",{className:"font-semibold mb-2",children:"Proyectos"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Prximas iniciativas"}),i.jsx($,{size:"sm",variant:"outline",className:"w-full",onClick:()=>{r("/programs")},children:"Explorar"})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsx(W6,{}),i.jsxs(_e,{children:[i.jsxs(ft,{children:[i.jsxs(bt,{className:"flex items-center",children:[i.jsx(sa,{className:"h-5 w-5 mr-2"}),"Oportunidades recientes"]}),i.jsx(hr,{children:"Nuevas oportunidades de colaboracin disponibles"})]}),i.jsx(je,{children:i.jsx("div",{className:"space-y-4",children:o?i.jsx("div",{className:"text-center py-4 text-sm text-muted-foreground",children:"Cargando oportunidades..."}):a!=null&&a.opportunities&&a.opportunities.length>0?a.opportunities.map(f=>{var m;return i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"text-sm font-medium",children:f.title}),i.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:f.description}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"flex flex-wrap gap-1",children:(m=f.required_skills)==null?void 0:m.slice(0,3).map(w=>i.jsx(Se,{variant:"secondary",className:"text-xs",children:w},w))}),i.jsx($,{size:"sm",variant:"outline",onClick:()=>r(`/opportunities/${f.id}`),children:"Ver ms"})]})]},f.id)}):i.jsx("div",{className:"text-center py-4 text-sm text-muted-foreground",children:"No hay oportunidades disponibles an"})})})]})]}),i.jsx(Tk,{open:n,onOpenChange:s,onPhotoUpdated:l})]})]})},K6=["top","right","bottom","left"],ai=Math.min,Br=Math.max,tf=Math.round,Ld=Math.floor,xs=e=>({x:e,y:e}),Q6={left:"right",right:"left",bottom:"top",top:"bottom"},G6={start:"end",end:"start"};function Nv(e,t,r){return Br(e,ai(t,r))}function ia(e,t){return typeof e=="function"?e(t):e}function oa(e){return e.split("-")[0]}function Xl(e){return e.split("-")[1]}function Fx(e){return e==="x"?"y":"x"}function Ux(e){return e==="y"?"height":"width"}const Y6=new Set(["top","bottom"]);function fs(e){return Y6.has(oa(e))?"y":"x"}function zx(e){return Fx(fs(e))}function J6(e,t,r){r===void 0&&(r=!1);const n=Xl(e),s=zx(e),a=Ux(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=rf(o)),[o,rf(o)]}function X6(e){const t=rf(e);return[Cv(e),t,Cv(t)]}function Cv(e){return e.replace(/start|end/g,t=>G6[t])}const kj=["left","right"],Pj=["right","left"],Z6=["top","bottom"],ez=["bottom","top"];function tz(e,t,r){switch(e){case"top":case"bottom":return r?t?Pj:kj:t?kj:Pj;case"left":case"right":return t?Z6:ez;default:return[]}}function rz(e,t,r,n){const s=Xl(e);let a=tz(oa(e),r==="start",n);return s&&(a=a.map(o=>o+"-"+s),t&&(a=a.concat(a.map(Cv)))),a}function rf(e){return e.replace(/left|right|bottom|top/g,t=>Q6[t])}function nz(e){return{top:0,right:0,bottom:0,left:0,...e}}function Ok(e){return typeof e!="number"?nz(e):{top:e,right:e,bottom:e,left:e}}function nf(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function Rj(e,t,r){let{reference:n,floating:s}=e;const a=fs(t),o=zx(t),l=Ux(o),c=oa(t),u=a==="y",d=n.x+n.width/2-s.width/2,h=n.y+n.height/2-s.height/2,f=n[l]/2-s[l]/2;let m;switch(c){case"top":m={x:d,y:n.y-s.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:h};break;case"left":m={x:n.x-s.width,y:h};break;default:m={x:n.x,y:n.y}}switch(Xl(t)){case"start":m[o]-=f*(r&&u?-1:1);break;case"end":m[o]+=f*(r&&u?-1:1);break}return m}const sz=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:a=[],platform:o}=r,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:h}=Rj(u,n,c),f=n,m={},w=0;for(let g=0;g<l.length;g++){const{name:v,fn:b}=l[g],{x:y,y:x,data:j,reset:_}=await b({x:d,y:h,initialPlacement:n,placement:f,strategy:s,middlewareData:m,rects:u,platform:o,elements:{reference:e,floating:t}});d=y??d,h=x??h,m={...m,[v]:{...m[v],...j}},_&&w<=50&&(w++,typeof _=="object"&&(_.placement&&(f=_.placement),_.rects&&(u=_.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):_.rects),{x:d,y:h}=Rj(u,f,c)),g=-1)}return{x:d,y:h,placement:f,strategy:s,middlewareData:m}};async function yu(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:a,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:m=0}=ia(t,e),w=Ok(m),v=l[f?h==="floating"?"reference":"floating":h],b=nf(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(v)))==null||r?v:v.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),y=h==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,x=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),j=await(a.isElement==null?void 0:a.isElement(x))?await(a.getScale==null?void 0:a.getScale(x))||{x:1,y:1}:{x:1,y:1},_=nf(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:x,strategy:c}):y);return{top:(b.top-_.top+w.top)/j.y,bottom:(_.bottom-b.bottom+w.bottom)/j.y,left:(b.left-_.left+w.left)/j.x,right:(_.right-b.right+w.right)/j.x}}const az=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:a,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=ia(e,t)||{};if(u==null)return{};const h=Ok(d),f={x:r,y:n},m=zx(s),w=Ux(m),g=await o.getDimensions(u),v=m==="y",b=v?"top":"left",y=v?"bottom":"right",x=v?"clientHeight":"clientWidth",j=a.reference[w]+a.reference[m]-f[m]-a.floating[w],_=f[m]-a.reference[m],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let N=S?S[x]:0;(!N||!await(o.isElement==null?void 0:o.isElement(S)))&&(N=l.floating[x]||a.floating[w]);const C=j/2-_/2,R=N/2-g[w]/2-1,T=ai(h[b],R),z=ai(h[y],R),D=T,V=N-g[w]-z,F=N/2-g[w]/2+C,q=Nv(D,F,V),B=!c.arrow&&Xl(s)!=null&&F!==q&&a.reference[w]/2-(F<D?T:z)-g[w]/2<0,ie=B?F<D?F-D:F-V:0;return{[m]:f[m]+ie,data:{[m]:q,centerOffset:F-q-ie,...B&&{alignmentOffset:ie}},reset:B}}}),iz=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:g=!0,...v}=ia(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const b=oa(s),y=fs(l),x=oa(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),_=f||(x||!g?[rf(l)]:X6(l)),S=w!=="none";!f&&S&&_.push(...rz(l,g,w,j));const N=[l,..._],C=await yu(t,v),R=[];let T=((n=a.flip)==null?void 0:n.overflows)||[];if(d&&R.push(C[b]),h){const F=J6(s,o,j);R.push(C[F[0]],C[F[1]])}if(T=[...T,{placement:s,overflows:R}],!R.every(F=>F<=0)){var z,D;const F=(((z=a.flip)==null?void 0:z.index)||0)+1,q=N[F];if(q&&(!(h==="alignment"?y!==fs(q):!1)||T.every(I=>fs(I.placement)===y?I.overflows[0]>0:!0)))return{data:{index:F,overflows:T},reset:{placement:q}};let B=(D=T.filter(ie=>ie.overflows[0]<=0).sort((ie,I)=>ie.overflows[1]-I.overflows[1])[0])==null?void 0:D.placement;if(!B)switch(m){case"bestFit":{var V;const ie=(V=T.filter(I=>{if(S){const A=fs(I.placement);return A===y||A==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(A=>A>0).reduce((A,K)=>A+K,0)]).sort((I,A)=>I[1]-A[1])[0])==null?void 0:V[0];ie&&(B=ie);break}case"initialPlacement":B=l;break}if(s!==B)return{reset:{placement:B}}}return{}}}};function Tj(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Aj(e){return K6.some(t=>e[t]>=0)}const oz=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=ia(e,t);switch(n){case"referenceHidden":{const a=await yu(t,{...s,elementContext:"reference"}),o=Tj(a,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Aj(o)}}}case"escaped":{const a=await yu(t,{...s,altBoundary:!0}),o=Tj(a,r.floating);return{data:{escapedOffsets:o,escaped:Aj(o)}}}default:return{}}}}},Ik=new Set(["left","top"]);async function lz(e,t){const{placement:r,platform:n,elements:s}=e,a=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=oa(r),l=Xl(r),c=fs(r)==="y",u=Ik.has(o)?-1:1,d=a&&c?-1:1,h=ia(t,e);let{mainAxis:f,crossAxis:m,alignmentAxis:w}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof w=="number"&&(m=l==="end"?w*-1:w),c?{x:m*d,y:f*u}:{x:f*u,y:m*d}}const cz=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:a,placement:o,middlewareData:l}=t,c=await lz(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:o}}}}},uz=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:v=>{let{x:b,y}=v;return{x:b,y}}},...c}=ia(e,t),u={x:r,y:n},d=await yu(t,c),h=fs(oa(s)),f=Fx(h);let m=u[f],w=u[h];if(a){const v=f==="y"?"top":"left",b=f==="y"?"bottom":"right",y=m+d[v],x=m-d[b];m=Nv(y,m,x)}if(o){const v=h==="y"?"top":"left",b=h==="y"?"bottom":"right",y=w+d[v],x=w-d[b];w=Nv(y,w,x)}const g=l.fn({...t,[f]:m,[h]:w});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[f]:a,[h]:o}}}}}},dz=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:a,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=ia(e,t),d={x:r,y:n},h=fs(s),f=Fx(h);let m=d[f],w=d[h];const g=ia(l,t),v=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const x=f==="y"?"height":"width",j=a.reference[f]-a.floating[x]+v.mainAxis,_=a.reference[f]+a.reference[x]-v.mainAxis;m<j?m=j:m>_&&(m=_)}if(u){var b,y;const x=f==="y"?"width":"height",j=Ik.has(oa(s)),_=a.reference[h]-a.floating[x]+(j&&((b=o.offset)==null?void 0:b[h])||0)+(j?0:v.crossAxis),S=a.reference[h]+a.reference[x]+(j?0:((y=o.offset)==null?void 0:y[h])||0)-(j?v.crossAxis:0);w<_?w=_:w>S&&(w=S)}return{[f]:m,[h]:w}}}},hz=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:a,platform:o,elements:l}=t,{apply:c=()=>{},...u}=ia(e,t),d=await yu(t,u),h=oa(s),f=Xl(s),m=fs(s)==="y",{width:w,height:g}=a.floating;let v,b;h==="top"||h==="bottom"?(v=h,b=f===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(b=h,v=f==="end"?"top":"bottom");const y=g-d.top-d.bottom,x=w-d.left-d.right,j=ai(g-d[v],y),_=ai(w-d[b],x),S=!t.middlewareData.shift;let N=j,C=_;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(C=x),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(N=y),S&&!f){const T=Br(d.left,0),z=Br(d.right,0),D=Br(d.top,0),V=Br(d.bottom,0);m?C=w-2*(T!==0||z!==0?T+z:Br(d.left,d.right)):N=g-2*(D!==0||V!==0?D+V:Br(d.top,d.bottom))}await c({...t,availableWidth:C,availableHeight:N});const R=await o.getDimensions(l.floating);return w!==R.width||g!==R.height?{reset:{rects:!0}}:{}}}};function rm(){return typeof window<"u"}function Zl(e){return Mk(e)?(e.nodeName||"").toLowerCase():"#document"}function Qr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Cs(e){var t;return(t=(Mk(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Mk(e){return rm()?e instanceof Node||e instanceof Qr(e).Node:!1}function Wn(e){return rm()?e instanceof Element||e instanceof Qr(e).Element:!1}function Ns(e){return rm()?e instanceof HTMLElement||e instanceof Qr(e).HTMLElement:!1}function Oj(e){return!rm()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Qr(e).ShadowRoot}const fz=new Set(["inline","contents"]);function Qu(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=Hn(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!fz.has(s)}const mz=new Set(["table","td","th"]);function pz(e){return mz.has(Zl(e))}const gz=[":popover-open",":modal"];function nm(e){return gz.some(t=>{try{return e.matches(t)}catch{return!1}})}const vz=["transform","translate","scale","rotate","perspective"],yz=["transform","translate","scale","rotate","perspective","filter"],xz=["paint","layout","strict","content"];function Bx(e){const t=Vx(),r=Wn(e)?Hn(e):e;return vz.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||yz.some(n=>(r.willChange||"").includes(n))||xz.some(n=>(r.contain||"").includes(n))}function wz(e){let t=ii(e);for(;Ns(t)&&!Ol(t);){if(Bx(t))return t;if(nm(t))return null;t=ii(t)}return null}function Vx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const bz=new Set(["html","body","#document"]);function Ol(e){return bz.has(Zl(e))}function Hn(e){return Qr(e).getComputedStyle(e)}function sm(e){return Wn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ii(e){if(Zl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Oj(e)&&e.host||Cs(e);return Oj(t)?t.host:t}function Dk(e){const t=ii(e);return Ol(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ns(t)&&Qu(t)?t:Dk(t)}function xu(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=Dk(e),a=s===((n=e.ownerDocument)==null?void 0:n.body),o=Qr(s);if(a){const l=Ev(o);return t.concat(o,o.visualViewport||[],Qu(s)?s:[],l&&r?xu(l):[])}return t.concat(s,xu(s,[],r))}function Ev(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Lk(e){const t=Hn(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=Ns(e),a=s?e.offsetWidth:r,o=s?e.offsetHeight:n,l=tf(r)!==a||tf(n)!==o;return l&&(r=a,n=o),{width:r,height:n,$:l}}function qx(e){return Wn(e)?e:e.contextElement}function tl(e){const t=qx(e);if(!Ns(t))return xs(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:a}=Lk(t);let o=(a?tf(r.width):r.width)/n,l=(a?tf(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const jz=xs(0);function $k(e){const t=Qr(e);return!Vx()||!t.visualViewport?jz:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function _z(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Qr(e)?!1:t}function ro(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),a=qx(e);let o=xs(1);t&&(n?Wn(n)&&(o=tl(n)):o=tl(e));const l=_z(a,r,n)?$k(a):xs(0);let c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,d=s.width/o.x,h=s.height/o.y;if(a){const f=Qr(a),m=n&&Wn(n)?Qr(n):n;let w=f,g=Ev(w);for(;g&&n&&m!==w;){const v=tl(g),b=g.getBoundingClientRect(),y=Hn(g),x=b.left+(g.clientLeft+parseFloat(y.paddingLeft))*v.x,j=b.top+(g.clientTop+parseFloat(y.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,h*=v.y,c+=x,u+=j,w=Qr(g),g=Ev(w)}}return nf({width:d,height:h,x:c,y:u})}function am(e,t){const r=sm(e).scrollLeft;return t?t.left+r:ro(Cs(e)).left+r}function Fk(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-am(e,r),s=r.top+t.scrollTop;return{x:n,y:s}}function Sz(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const a=s==="fixed",o=Cs(n),l=t?nm(t.floating):!1;if(n===o||l&&a)return r;let c={scrollLeft:0,scrollTop:0},u=xs(1);const d=xs(0),h=Ns(n);if((h||!h&&!a)&&((Zl(n)!=="body"||Qu(o))&&(c=sm(n)),Ns(n))){const m=ro(n);u=tl(n),d.x=m.x+n.clientLeft,d.y=m.y+n.clientTop}const f=o&&!h&&!a?Fk(o,c):xs(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+f.x,y:r.y*u.y-c.scrollTop*u.y+d.y+f.y}}function Nz(e){return Array.from(e.getClientRects())}function Cz(e){const t=Cs(e),r=sm(e),n=e.ownerDocument.body,s=Br(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=Br(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+am(e);const l=-r.scrollTop;return Hn(n).direction==="rtl"&&(o+=Br(t.clientWidth,n.clientWidth)-s),{width:s,height:a,x:o,y:l}}const Ij=25;function Ez(e,t){const r=Qr(e),n=Cs(e),s=r.visualViewport;let a=n.clientWidth,o=n.clientHeight,l=0,c=0;if(s){a=s.width,o=s.height;const d=Vx();(!d||d&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}const u=am(n);if(u<=0){const d=n.ownerDocument,h=d.body,f=getComputedStyle(h),m=d.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,w=Math.abs(n.clientWidth-h.clientWidth-m);w<=Ij&&(a-=w)}else u<=Ij&&(a+=u);return{width:a,height:o,x:l,y:c}}const kz=new Set(["absolute","fixed"]);function Pz(e,t){const r=ro(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,a=Ns(e)?tl(e):xs(1),o=e.clientWidth*a.x,l=e.clientHeight*a.y,c=s*a.x,u=n*a.y;return{width:o,height:l,x:c,y:u}}function Mj(e,t,r){let n;if(t==="viewport")n=Ez(e,r);else if(t==="document")n=Cz(Cs(e));else if(Wn(t))n=Pz(t,r);else{const s=$k(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return nf(n)}function Uk(e,t){const r=ii(e);return r===t||!Wn(r)||Ol(r)?!1:Hn(r).position==="fixed"||Uk(r,t)}function Rz(e,t){const r=t.get(e);if(r)return r;let n=xu(e,[],!1).filter(l=>Wn(l)&&Zl(l)!=="body"),s=null;const a=Hn(e).position==="fixed";let o=a?ii(e):e;for(;Wn(o)&&!Ol(o);){const l=Hn(o),c=Bx(o);!c&&l.position==="fixed"&&(s=null),(a?!c&&!s:!c&&l.position==="static"&&!!s&&kz.has(s.position)||Qu(o)&&!c&&Uk(e,o))?n=n.filter(d=>d!==o):s=l,o=ii(o)}return t.set(e,n),n}function Tz(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const o=[...r==="clippingAncestors"?nm(t)?[]:Rz(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const h=Mj(t,d,s);return u.top=Br(h.top,u.top),u.right=ai(h.right,u.right),u.bottom=ai(h.bottom,u.bottom),u.left=Br(h.left,u.left),u},Mj(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Az(e){const{width:t,height:r}=Lk(e);return{width:t,height:r}}function Oz(e,t,r){const n=Ns(t),s=Cs(t),a=r==="fixed",o=ro(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=xs(0);function u(){c.x=am(s)}if(n||!n&&!a)if((Zl(t)!=="body"||Qu(s))&&(l=sm(t)),n){const m=ro(t,!0,a,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else s&&u();a&&!n&&s&&u();const d=s&&!n&&!a?Fk(s,l):xs(0),h=o.left+l.scrollLeft-c.x-d.x,f=o.top+l.scrollTop-c.y-d.y;return{x:h,y:f,width:o.width,height:o.height}}function Ip(e){return Hn(e).position==="static"}function Dj(e,t){if(!Ns(e)||Hn(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Cs(e)===r&&(r=r.ownerDocument.body),r}function zk(e,t){const r=Qr(e);if(nm(e))return r;if(!Ns(e)){let s=ii(e);for(;s&&!Ol(s);){if(Wn(s)&&!Ip(s))return s;s=ii(s)}return r}let n=Dj(e,t);for(;n&&pz(n)&&Ip(n);)n=Dj(n,t);return n&&Ol(n)&&Ip(n)&&!Bx(n)?r:n||wz(e)||r}const Iz=async function(e){const t=this.getOffsetParent||zk,r=this.getDimensions,n=await r(e.floating);return{reference:Oz(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Mz(e){return Hn(e).direction==="rtl"}const Dz={convertOffsetParentRelativeRectToViewportRelativeRect:Sz,getDocumentElement:Cs,getClippingRect:Tz,getOffsetParent:zk,getElementRects:Iz,getClientRects:Nz,getDimensions:Az,getScale:tl,isElement:Wn,isRTL:Mz};function Bk(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Lz(e,t){let r=null,n;const s=Cs(e);function a(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const u=e.getBoundingClientRect(),{left:d,top:h,width:f,height:m}=u;if(l||t(),!f||!m)return;const w=Ld(h),g=Ld(s.clientWidth-(d+f)),v=Ld(s.clientHeight-(h+m)),b=Ld(d),x={rootMargin:-w+"px "+-g+"px "+-v+"px "+-b+"px",threshold:Br(0,ai(1,c))||1};let j=!0;function _(S){const N=S[0].intersectionRatio;if(N!==c){if(!j)return o();N?o(!1,N):n=setTimeout(()=>{o(!1,1e-7)},1e3)}N===1&&!Bk(u,e.getBoundingClientRect())&&o(),j=!1}try{r=new IntersectionObserver(_,{...x,root:s.ownerDocument})}catch{r=new IntersectionObserver(_,x)}r.observe(e)}return o(!0),a}function $z(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=qx(e),d=s||a?[...u?xu(u):[],...xu(t)]:[];d.forEach(b=>{s&&b.addEventListener("scroll",r,{passive:!0}),a&&b.addEventListener("resize",r)});const h=u&&l?Lz(u,r):null;let f=-1,m=null;o&&(m=new ResizeObserver(b=>{let[y]=b;y&&y.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var x;(x=m)==null||x.observe(t)})),r()}),u&&!c&&m.observe(u),m.observe(t));let w,g=c?ro(e):null;c&&v();function v(){const b=ro(e);g&&!Bk(g,b)&&r(),g=b,w=requestAnimationFrame(v)}return r(),()=>{var b;d.forEach(y=>{s&&y.removeEventListener("scroll",r),a&&y.removeEventListener("resize",r)}),h==null||h(),(b=m)==null||b.disconnect(),m=null,c&&cancelAnimationFrame(w)}}const Fz=cz,Uz=uz,zz=iz,Bz=hz,Vz=oz,Lj=az,qz=dz,Wz=(e,t,r)=>{const n=new Map,s={platform:Dz,...r},a={...s.platform,_c:n};return sz(e,t,{...s,platform:a})};var Hz=typeof document<"u",Kz=function(){},ch=Hz?p.useLayoutEffect:Kz;function sf(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!sf(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const a=s[n];if(!(a==="_owner"&&e.$$typeof)&&!sf(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function Vk(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function $j(e,t){const r=Vk(e);return Math.round(t*r)/r}function Mp(e){const t=p.useRef(e);return ch(()=>{t.current=e}),t}function Qz(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,h]=p.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[f,m]=p.useState(n);sf(f,n)||m(n);const[w,g]=p.useState(null),[v,b]=p.useState(null),y=p.useCallback(I=>{I!==S.current&&(S.current=I,g(I))},[]),x=p.useCallback(I=>{I!==N.current&&(N.current=I,b(I))},[]),j=a||w,_=o||v,S=p.useRef(null),N=p.useRef(null),C=p.useRef(d),R=c!=null,T=Mp(c),z=Mp(s),D=Mp(u),V=p.useCallback(()=>{if(!S.current||!N.current)return;const I={placement:t,strategy:r,middleware:f};z.current&&(I.platform=z.current),Wz(S.current,N.current,I).then(A=>{const K={...A,isPositioned:D.current!==!1};F.current&&!sf(C.current,K)&&(C.current=K,oo.flushSync(()=>{h(K)}))})},[f,t,r,z,D]);ch(()=>{u===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,h(I=>({...I,isPositioned:!1})))},[u]);const F=p.useRef(!1);ch(()=>(F.current=!0,()=>{F.current=!1}),[]),ch(()=>{if(j&&(S.current=j),_&&(N.current=_),j&&_){if(T.current)return T.current(j,_,V);V()}},[j,_,V,T,R]);const q=p.useMemo(()=>({reference:S,floating:N,setReference:y,setFloating:x}),[y,x]),B=p.useMemo(()=>({reference:j,floating:_}),[j,_]),ie=p.useMemo(()=>{const I={position:r,left:0,top:0};if(!B.floating)return I;const A=$j(B.floating,d.x),K=$j(B.floating,d.y);return l?{...I,transform:"translate("+A+"px, "+K+"px)",...Vk(B.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:A,top:K}},[r,l,B.floating,d.x,d.y]);return p.useMemo(()=>({...d,update:V,refs:q,elements:B,floatingStyles:ie}),[d,V,q,B,ie])}const Gz=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?Lj({element:n.current,padding:s}).fn(r):{}:n?Lj({element:n,padding:s}).fn(r):{}}}},Yz=(e,t)=>({...Fz(e),options:[e,t]}),Jz=(e,t)=>({...Uz(e),options:[e,t]}),Xz=(e,t)=>({...qz(e),options:[e,t]}),Zz=(e,t)=>({...zz(e),options:[e,t]}),eB=(e,t)=>({...Bz(e),options:[e,t]}),tB=(e,t)=>({...Vz(e),options:[e,t]}),rB=(e,t)=>({...Gz(e),options:[e,t]});var nB="Arrow",qk=p.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...a}=e;return i.jsx(de.svg,{...a,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});qk.displayName=nB;var sB=qk,Wx="Popper",[Wk,im]=yr(Wx),[aB,Hk]=Wk(Wx),Kk=e=>{const{__scopePopper:t,children:r}=e,[n,s]=p.useState(null);return i.jsx(aB,{scope:t,anchor:n,onAnchorChange:s,children:r})};Kk.displayName=Wx;var Qk="PopperAnchor",Gk=p.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,a=Hk(Qk,r),o=p.useRef(null),l=Te(t,o),c=p.useRef(null);return p.useEffect(()=>{const u=c.current;c.current=(n==null?void 0:n.current)||o.current,u!==c.current&&a.onAnchorChange(c.current)}),n?null:i.jsx(de.div,{...s,ref:l})});Gk.displayName=Qk;var Hx="PopperContent",[iB,oB]=Wk(Hx),Yk=p.forwardRef((e,t)=>{var Y,Ue,De,Ie,Le,ze;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:w,...g}=e,v=Hk(Hx,r),[b,y]=p.useState(null),x=Te(t,Bt=>y(Bt)),[j,_]=p.useState(null),S=mx(j),N=(S==null?void 0:S.width)??0,C=(S==null?void 0:S.height)??0,R=n+(a!=="center"?"-"+a:""),T=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},z=Array.isArray(u)?u:[u],D=z.length>0,V={padding:T,boundary:z.filter(cB),altBoundary:D},{refs:F,floatingStyles:q,placement:B,isPositioned:ie,middlewareData:I}=Qz({strategy:"fixed",placement:R,whileElementsMounted:(...Bt)=>$z(...Bt,{animationFrame:m==="always"}),elements:{reference:v.anchor},middleware:[Yz({mainAxis:s+C,alignmentAxis:o}),c&&Jz({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?Xz():void 0,...V}),c&&Zz({...V}),eB({...V,apply:({elements:Bt,rects:or,availableWidth:Gn,availableHeight:Yn})=>{const{width:ks,height:vo}=or.reference,Ps=Bt.floating.style;Ps.setProperty("--radix-popper-available-width",`${Gn}px`),Ps.setProperty("--radix-popper-available-height",`${Yn}px`),Ps.setProperty("--radix-popper-anchor-width",`${ks}px`),Ps.setProperty("--radix-popper-anchor-height",`${vo}px`)}}),j&&rB({element:j,padding:l}),uB({arrowWidth:N,arrowHeight:C}),f&&tB({strategy:"referenceHidden",...V})]}),[A,K]=Zk(B),ae=jt(w);Pt(()=>{ie&&(ae==null||ae())},[ie,ae]);const re=(Y=I.arrow)==null?void 0:Y.x,xe=(Ue=I.arrow)==null?void 0:Ue.y,ye=((De=I.arrow)==null?void 0:De.centerOffset)!==0,[qe,Qe]=p.useState();return Pt(()=>{b&&Qe(window.getComputedStyle(b).zIndex)},[b]),i.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...q,transform:ie?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:qe,"--radix-popper-transform-origin":[(Ie=I.transformOrigin)==null?void 0:Ie.x,(Le=I.transformOrigin)==null?void 0:Le.y].join(" "),...((ze=I.hide)==null?void 0:ze.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:i.jsx(iB,{scope:r,placedSide:A,onArrowChange:_,arrowX:re,arrowY:xe,shouldHideArrow:ye,children:i.jsx(de.div,{"data-side":A,"data-align":K,...g,ref:x,style:{...g.style,animation:ie?void 0:"none"}})})})});Yk.displayName=Hx;var Jk="PopperArrow",lB={top:"bottom",right:"left",bottom:"top",left:"right"},Xk=p.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,a=oB(Jk,n),o=lB[a.placedSide];return i.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:i.jsx(sB,{...s,ref:r,style:{...s.style,display:"block"}})})});Xk.displayName=Jk;function cB(e){return e!==null}var uB=e=>({name:"transformOrigin",options:e,fn(t){var v,b,y;const{placement:r,rects:n,middlewareData:s}=t,o=((v=s.arrow)==null?void 0:v.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=Zk(r),h={start:"0%",center:"50%",end:"100%"}[d],f=(((b=s.arrow)==null?void 0:b.x)??0)+l/2,m=(((y=s.arrow)==null?void 0:y.y)??0)+c/2;let w="",g="";return u==="bottom"?(w=o?h:`${f}px`,g=`${-c}px`):u==="top"?(w=o?h:`${f}px`,g=`${n.floating.height+c}px`):u==="right"?(w=`${-c}px`,g=o?h:`${m}px`):u==="left"&&(w=`${n.floating.width+c}px`,g=o?h:`${m}px`),{data:{x:w,y:g}}}});function Zk(e){const[t,r="center"]=e.split("-");return[t,r]}var eP=Kk,tP=Gk,rP=Yk,nP=Xk,kv=["Enter"," "],dB=["ArrowDown","PageUp","Home"],sP=["ArrowUp","PageDown","End"],hB=[...dB,...sP],fB={ltr:[...kv,"ArrowRight"],rtl:[...kv,"ArrowLeft"]},mB={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Gu="Menu",[wu,pB,gB]=Kf(Gu),[mo,aP]=yr(Gu,[gB,im,Qf]),om=im(),iP=Qf(),[vB,po]=mo(Gu),[yB,Yu]=mo(Gu),oP=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:a,modal:o=!0}=e,l=om(t),[c,u]=p.useState(null),d=p.useRef(!1),h=jt(a),f=Vu(s);return p.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),i.jsx(eP,{...l,children:i.jsx(vB,{scope:t,open:r,onOpenChange:h,content:c,onContentChange:u,children:i.jsx(yB,{scope:t,onClose:p.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:f,modal:o,children:n})})})};oP.displayName=Gu;var xB="MenuAnchor",Kx=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=om(r);return i.jsx(tP,{...s,...n,ref:t})});Kx.displayName=xB;var Qx="MenuPortal",[wB,lP]=mo(Qx,{forceMount:void 0}),cP=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,a=po(Qx,t);return i.jsx(wB,{scope:t,forceMount:r,children:i.jsx(xr,{present:r||a.open,children:i.jsx(Bu,{asChild:!0,container:s,children:n})})})};cP.displayName=Qx;var ln="MenuContent",[bB,Gx]=mo(ln),uP=p.forwardRef((e,t)=>{const r=lP(ln,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,a=po(ln,e.__scopeMenu),o=Yu(ln,e.__scopeMenu);return i.jsx(wu.Provider,{scope:e.__scopeMenu,children:i.jsx(xr,{present:n||a.open,children:i.jsx(wu.Slot,{scope:e.__scopeMenu,children:o.modal?i.jsx(jB,{...s,ref:t}):i.jsx(_B,{...s,ref:t})})})})}),jB=p.forwardRef((e,t)=>{const r=po(ln,e.__scopeMenu),n=p.useRef(null),s=Te(t,n);return p.useEffect(()=>{const a=n.current;if(a)return bx(a)},[]),i.jsx(Yx,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Z(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),_B=p.forwardRef((e,t)=>{const r=po(ln,e.__scopeMenu);return i.jsx(Yx,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),SB=Zi("MenuContent.ScrollLock"),Yx=p.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:m,disableOutsideScroll:w,...g}=e,v=po(ln,r),b=Yu(ln,r),y=om(r),x=iP(r),j=pB(r),[_,S]=p.useState(null),N=p.useRef(null),C=Te(t,N,v.onContentChange),R=p.useRef(0),T=p.useRef(""),z=p.useRef(0),D=p.useRef(null),V=p.useRef("right"),F=p.useRef(0),q=w?Wf:p.Fragment,B=w?{as:SB,allowPinchZoom:!0}:void 0,ie=A=>{var Y,Ue;const K=T.current+A,ae=j().filter(De=>!De.disabled),re=document.activeElement,xe=(Y=ae.find(De=>De.ref.current===re))==null?void 0:Y.textValue,ye=ae.map(De=>De.textValue),qe=DB(ye,K,xe),Qe=(Ue=ae.find(De=>De.textValue===qe))==null?void 0:Ue.ref.current;(function De(Ie){T.current=Ie,window.clearTimeout(R.current),Ie!==""&&(R.current=window.setTimeout(()=>De(""),1e3))})(K),Qe&&setTimeout(()=>Qe.focus())};p.useEffect(()=>()=>window.clearTimeout(R.current),[]),wx();const I=p.useCallback(A=>{var ae,re;return V.current===((ae=D.current)==null?void 0:ae.side)&&$B(A,(re=D.current)==null?void 0:re.area)},[]);return i.jsx(bB,{scope:r,searchRef:T,onItemEnter:p.useCallback(A=>{I(A)&&A.preventDefault()},[I]),onItemLeave:p.useCallback(A=>{var K;I(A)||((K=N.current)==null||K.focus(),S(null))},[I]),onTriggerLeave:p.useCallback(A=>{I(A)&&A.preventDefault()},[I]),pointerGraceTimerRef:z,onPointerGraceIntentChange:p.useCallback(A=>{D.current=A},[]),children:i.jsx(q,{...B,children:i.jsx(Vf,{asChild:!0,trapped:s,onMountAutoFocus:Z(a,A=>{var K;A.preventDefault(),(K=N.current)==null||K.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:i.jsx(zu,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:m,children:i.jsx(GE,{asChild:!0,...x,dir:b.dir,orientation:"vertical",loop:n,currentTabStopId:_,onCurrentTabStopIdChange:S,onEntryFocus:Z(c,A=>{b.isUsingKeyboardRef.current||A.preventDefault()}),preventScrollOnEntryFocus:!0,children:i.jsx(rP,{role:"menu","aria-orientation":"vertical","data-state":CP(v.open),"data-radix-menu-content":"",dir:b.dir,...y,...g,ref:C,style:{outline:"none",...g.style},onKeyDown:Z(g.onKeyDown,A=>{const ae=A.target.closest("[data-radix-menu-content]")===A.currentTarget,re=A.ctrlKey||A.altKey||A.metaKey,xe=A.key.length===1;ae&&(A.key==="Tab"&&A.preventDefault(),!re&&xe&&ie(A.key));const ye=N.current;if(A.target!==ye||!hB.includes(A.key))return;A.preventDefault();const Qe=j().filter(Y=>!Y.disabled).map(Y=>Y.ref.current);sP.includes(A.key)&&Qe.reverse(),IB(Qe)}),onBlur:Z(e.onBlur,A=>{A.currentTarget.contains(A.target)||(window.clearTimeout(R.current),T.current="")}),onPointerMove:Z(e.onPointerMove,bu(A=>{const K=A.target,ae=F.current!==A.clientX;if(A.currentTarget.contains(K)&&ae){const re=A.clientX>F.current?"right":"left";V.current=re,F.current=A.clientX}}))})})})})})})});uP.displayName=ln;var NB="MenuGroup",Jx=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(de.div,{role:"group",...n,ref:t})});Jx.displayName=NB;var CB="MenuLabel",dP=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(de.div,{...n,ref:t})});dP.displayName=CB;var af="MenuItem",Fj="menu.itemSelect",lm=p.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,a=p.useRef(null),o=Yu(af,e.__scopeMenu),l=Gx(af,e.__scopeMenu),c=Te(t,a),u=p.useRef(!1),d=()=>{const h=a.current;if(!r&&h){const f=new CustomEvent(Fj,{bubbles:!0,cancelable:!0});h.addEventListener(Fj,m=>n==null?void 0:n(m),{once:!0}),hx(h,f),f.defaultPrevented?u.current=!1:o.onClose()}};return i.jsx(hP,{...s,ref:c,disabled:r,onClick:Z(e.onClick,d),onPointerDown:h=>{var f;(f=e.onPointerDown)==null||f.call(e,h),u.current=!0},onPointerUp:Z(e.onPointerUp,h=>{var f;u.current||(f=h.currentTarget)==null||f.click()}),onKeyDown:Z(e.onKeyDown,h=>{const f=l.searchRef.current!=="";r||f&&h.key===" "||kv.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});lm.displayName=af;var hP=p.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...a}=e,o=Gx(af,r),l=iP(r),c=p.useRef(null),u=Te(t,c),[d,h]=p.useState(!1),[f,m]=p.useState("");return p.useEffect(()=>{const w=c.current;w&&m((w.textContent??"").trim())},[a.children]),i.jsx(wu.ItemSlot,{scope:r,disabled:n,textValue:s??f,children:i.jsx(YE,{asChild:!0,...l,focusable:!n,children:i.jsx(de.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...a,ref:u,onPointerMove:Z(e.onPointerMove,bu(w=>{n?o.onItemLeave(w):(o.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Z(e.onPointerLeave,bu(w=>o.onItemLeave(w))),onFocus:Z(e.onFocus,()=>h(!0)),onBlur:Z(e.onBlur,()=>h(!1))})})})}),EB="MenuCheckboxItem",fP=p.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return i.jsx(yP,{scope:e.__scopeMenu,checked:r,children:i.jsx(lm,{role:"menuitemcheckbox","aria-checked":of(r)?"mixed":r,...s,ref:t,"data-state":Zx(r),onSelect:Z(s.onSelect,()=>n==null?void 0:n(of(r)?!0:!r),{checkForDefaultPrevented:!1})})})});fP.displayName=EB;var mP="MenuRadioGroup",[kB,PB]=mo(mP,{value:void 0,onValueChange:()=>{}}),pP=p.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,a=jt(n);return i.jsx(kB,{scope:e.__scopeMenu,value:r,onValueChange:a,children:i.jsx(Jx,{...s,ref:t})})});pP.displayName=mP;var gP="MenuRadioItem",vP=p.forwardRef((e,t)=>{const{value:r,...n}=e,s=PB(gP,e.__scopeMenu),a=r===s.value;return i.jsx(yP,{scope:e.__scopeMenu,checked:a,children:i.jsx(lm,{role:"menuitemradio","aria-checked":a,...n,ref:t,"data-state":Zx(a),onSelect:Z(n.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,r)},{checkForDefaultPrevented:!1})})})});vP.displayName=gP;var Xx="MenuItemIndicator",[yP,RB]=mo(Xx,{checked:!1}),xP=p.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,a=RB(Xx,r);return i.jsx(xr,{present:n||of(a.checked)||a.checked===!0,children:i.jsx(de.span,{...s,ref:t,"data-state":Zx(a.checked)})})});xP.displayName=Xx;var TB="MenuSeparator",wP=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(de.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});wP.displayName=TB;var AB="MenuArrow",bP=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=om(r);return i.jsx(nP,{...s,...n,ref:t})});bP.displayName=AB;var OB="MenuSub",[tK,jP]=mo(OB),Nc="MenuSubTrigger",_P=p.forwardRef((e,t)=>{const r=po(Nc,e.__scopeMenu),n=Yu(Nc,e.__scopeMenu),s=jP(Nc,e.__scopeMenu),a=Gx(Nc,e.__scopeMenu),o=p.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,u={__scopeMenu:e.__scopeMenu},d=p.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return p.useEffect(()=>d,[d]),p.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),i.jsx(Kx,{asChild:!0,...u,children:i.jsx(hP,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":CP(r.open),...e,ref:Ff(t,s.onTriggerChange),onClick:h=>{var f;(f=e.onClick)==null||f.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Z(e.onPointerMove,bu(h=>{a.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:Z(e.onPointerLeave,bu(h=>{var m,w;d();const f=(m=r.content)==null?void 0:m.getBoundingClientRect();if(f){const g=(w=r.content)==null?void 0:w.dataset.side,v=g==="right",b=v?-5:5,y=f[v?"left":"right"],x=f[v?"right":"left"];a.onPointerGraceIntentChange({area:[{x:h.clientX+b,y:h.clientY},{x:y,y:f.top},{x,y:f.top},{x,y:f.bottom},{x:y,y:f.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(h),h.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:Z(e.onKeyDown,h=>{var m;const f=a.searchRef.current!=="";e.disabled||f&&h.key===" "||fB[n.dir].includes(h.key)&&(r.onOpenChange(!0),(m=r.content)==null||m.focus(),h.preventDefault())})})})});_P.displayName=Nc;var SP="MenuSubContent",NP=p.forwardRef((e,t)=>{const r=lP(ln,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,a=po(ln,e.__scopeMenu),o=Yu(ln,e.__scopeMenu),l=jP(SP,e.__scopeMenu),c=p.useRef(null),u=Te(t,c);return i.jsx(wu.Provider,{scope:e.__scopeMenu,children:i.jsx(xr,{present:n||a.open,children:i.jsx(wu.Slot,{scope:e.__scopeMenu,children:i.jsx(Yx,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;o.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Z(e.onFocusOutside,d=>{d.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:Z(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:Z(e.onKeyDown,d=>{var m;const h=d.currentTarget.contains(d.target),f=mB[o.dir].includes(d.key);h&&f&&(a.onOpenChange(!1),(m=l.trigger)==null||m.focus(),d.preventDefault())})})})})})});NP.displayName=SP;function CP(e){return e?"open":"closed"}function of(e){return e==="indeterminate"}function Zx(e){return of(e)?"indeterminate":e?"checked":"unchecked"}function IB(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function MB(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function DB(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let o=MB(e,Math.max(a,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function LB(e,t){const{x:r,y:n}=e;let s=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a],c=t[o],u=l.x,d=l.y,h=c.x,f=c.y;d>n!=f>n&&r<(h-u)*(n-d)/(f-d)+u&&(s=!s)}return s}function $B(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return LB(r,t)}function bu(e){return t=>t.pointerType==="mouse"?e(t):void 0}var FB=oP,UB=Kx,zB=cP,BB=uP,VB=Jx,qB=dP,WB=lm,HB=fP,KB=pP,QB=vP,GB=xP,YB=wP,JB=bP,XB=_P,ZB=NP,cm="DropdownMenu",[eV]=yr(cm,[aP]),wr=aP(),[tV,EP]=eV(cm),kP=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:a,onOpenChange:o,modal:l=!0}=e,c=wr(t),u=p.useRef(null),[d,h]=na({prop:s,defaultProp:a??!1,onChange:o,caller:cm});return i.jsx(tV,{scope:t,triggerId:ys(),triggerRef:u,contentId:ys(),open:d,onOpenChange:h,onOpenToggle:p.useCallback(()=>h(f=>!f),[h]),modal:l,children:i.jsx(FB,{...c,open:d,onOpenChange:h,dir:n,modal:l,children:r})})};kP.displayName=cm;var PP="DropdownMenuTrigger",RP=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,a=EP(PP,r),o=wr(r);return i.jsx(UB,{asChild:!0,...o,children:i.jsx(de.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:Ff(t,a.triggerRef),onPointerDown:Z(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:Z(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});RP.displayName=PP;var rV="DropdownMenuPortal",TP=e=>{const{__scopeDropdownMenu:t,...r}=e,n=wr(t);return i.jsx(zB,{...n,...r})};TP.displayName=rV;var AP="DropdownMenuContent",OP=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=EP(AP,r),a=wr(r),o=p.useRef(!1);return i.jsx(BB,{id:s.contentId,"aria-labelledby":s.triggerId,...a,...n,ref:t,onCloseAutoFocus:Z(e.onCloseAutoFocus,l=>{var c;o.current||(c=s.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Z(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});OP.displayName=AP;var nV="DropdownMenuGroup",sV=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=wr(r);return i.jsx(VB,{...s,...n,ref:t})});sV.displayName=nV;var aV="DropdownMenuLabel",IP=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=wr(r);return i.jsx(qB,{...s,...n,ref:t})});IP.displayName=aV;var iV="DropdownMenuItem",MP=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=wr(r);return i.jsx(WB,{...s,...n,ref:t})});MP.displayName=iV;var oV="DropdownMenuCheckboxItem",DP=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=wr(r);return i.jsx(HB,{...s,...n,ref:t})});DP.displayName=oV;var lV="DropdownMenuRadioGroup",cV=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=wr(r);return i.jsx(KB,{...s,...n,ref:t})});cV.displayName=lV;var uV="DropdownMenuRadioItem",LP=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=wr(r);return i.jsx(QB,{...s,...n,ref:t})});LP.displayName=uV;var dV="DropdownMenuItemIndicator",$P=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=wr(r);return i.jsx(GB,{...s,...n,ref:t})});$P.displayName=dV;var hV="DropdownMenuSeparator",FP=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=wr(r);return i.jsx(YB,{...s,...n,ref:t})});FP.displayName=hV;var fV="DropdownMenuArrow",mV=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=wr(r);return i.jsx(JB,{...s,...n,ref:t})});mV.displayName=fV;var pV="DropdownMenuSubTrigger",UP=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=wr(r);return i.jsx(XB,{...s,...n,ref:t})});UP.displayName=pV;var gV="DropdownMenuSubContent",zP=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=wr(r);return i.jsx(ZB,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});zP.displayName=gV;var vV=kP,yV=RP,xV=TP,BP=OP,VP=IP,qP=MP,WP=DP,HP=LP,KP=$P,QP=FP,GP=UP,YP=zP;const wV=vV,bV=yV,jV=p.forwardRef(({className:e,inset:t,children:r,...n},s)=>i.jsxs(GP,{ref:s,className:J("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,i.jsx(rE,{className:"ml-auto h-4 w-4"})]}));jV.displayName=GP.displayName;const _V=p.forwardRef(({className:e,...t},r)=>i.jsx(YP,{ref:r,className:J("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));_V.displayName=YP.displayName;const JP=p.forwardRef(({className:e,sideOffset:t=4,...r},n)=>i.jsx(xV,{children:i.jsx(BP,{ref:n,sideOffset:t,className:J("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));JP.displayName=BP.displayName;const uh=p.forwardRef(({className:e,inset:t,...r},n)=>i.jsx(qP,{ref:n,className:J("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));uh.displayName=qP.displayName;const SV=p.forwardRef(({className:e,children:t,checked:r,...n},s)=>i.jsxs(WP,{ref:s,className:J("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(KP,{children:i.jsx(Fu,{className:"h-4 w-4"})})}),t]}));SV.displayName=WP.displayName;const NV=p.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(HP,{ref:n,className:J("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(KP,{children:i.jsx(H3,{className:"h-2 w-2 fill-current"})})}),t]}));NV.displayName=HP.displayName;const CV=p.forwardRef(({className:e,inset:t,...r},n)=>i.jsx(VP,{ref:n,className:J("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));CV.displayName=VP.displayName;const dh=p.forwardRef(({className:e,...t},r)=>i.jsx(QP,{ref:r,className:J("-mx-1 my-1 h-px bg-muted",e),...t}));dh.displayName=QP.displayName;const XP=W({id:P(),sender_id:P().uuid(),recipient_id:P().uuid(),content:P(),read_at:P().datetime().nullable(),created_at:P().datetime(),updated_at:P().datetime().optional()}),Pv=W({id:P().uuid(),name:P(),avatar_url:P().url().nullable()}),ZP=XP.extend({sender:Pv,recipient:Pv}),EV=W({user:Pv,last_message:XP.nullable(),unread_count:be().int().min(0)});W({recipient_id:P().uuid({message:"ID de destinatario invlido"}),content:P().min(1,"El mensaje no puede estar vaco").max(5e3,"El mensaje no puede superar 5000 caracteres")});W({message_ids:Fe(P()).min(1,"Debes especificar al menos un mensaje")});W({user_id:P().uuid({message:"ID de usuario invlido"}),limit:be().int().positive().optional(),offset:be().int().min(0).optional()});const kV=W({conversations:Fe(EV),total:be().int().min(0)}),PV=W({messages:Fe(ZP),total:be().int().min(0)}),RV=W({message:ZP}),TV=W({updated_count:be().int().min(0)}),AV=W({unread_count:be().int().min(0)}),ec={async getConversations(){const e=await ve.get("/messages/conversations");return kV.parse(e.data)},async getConversationMessages(e){const t=await ve.get(`/messages/conversations/${e.user_id}`,{params:{limit:e.limit,offset:e.offset}});return PV.parse(t.data)},async sendMessage(e){const t=await ve.post("/messages",e);return RV.parse(t.data)},async markAsRead(e){console.log("[messageService] markAsRead called with:",e);try{const t=await ve.put("/messages/read",e);console.log("[messageService] Raw response:",t.data);const r=TV.parse(t.data);return console.log("[messageService] Parsed response:",r),r}catch(t){throw console.error("[messageService] Error in markAsRead:",t),t}},async deleteMessage(e){await ve.delete(`/messages/${e}`)},async getUnreadCount(){const e=await ve.get("/messages/unread-count");return AV.parse(e.data)}},OV=e=>vt({queryKey:["unread-count"],queryFn:async()=>await ec.getUnreadCount(),enabled:(e==null?void 0:e.enabled)!==!1,staleTime:60*1e3,gcTime:300*1e3,refetchInterval:30*1e3});function eR(){const e=Ke(),{user:t}=Ct();p.useEffect(()=>{if(!(t!=null&&t.id))return;const r=ar.channel("unread-notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`recipient_id=eq.${t.id}`},()=>{e.invalidateQueries({queryKey:["unread-count"]})}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"messages",filter:`recipient_id=eq.${t.id}`},()=>{e.invalidateQueries({queryKey:["unread-count"]})}).subscribe();return()=>{ar.removeChannel(r)}},[t==null?void 0:t.id,e])}function Yt(){const{user:e,signOut:t,isSigningOut:r}=Ct(),{isAdmin:n}=fo(),s=lo(),[a,o]=p.useState(!1);eR();const{data:l}=OV(),c=(l==null?void 0:l.unread_count)||0,u=()=>{t()},d=m=>m?m.split(" ").map(w=>w[0]).join("").toUpperCase():"U",h=[{href:"/dashboard",label:"Dashboard",icon:Y3},{href:"/network",label:"Mi Red",icon:Dr},{href:"/opportunities",label:"Oportunidades",icon:sa},{href:"/messages",label:"Mensajes",icon:pu},{href:"/proyectos",label:"Proyectos",icon:_s}],f=m=>s.pathname===m||s.pathname.startsWith(m+"/");return e?i.jsxs("nav",{className:"bg-white/95 backdrop-blur-sm border-b border-gray-200/50 sticky top-0 z-50",children:[i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"flex justify-between h-16",children:[i.jsxs("div",{className:"flex items-center space-x-8",children:[i.jsx(nn,{to:"/dashboard",className:"text-xl font-bold bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent",children:"Espaa Creativa Red"}),i.jsx("div",{className:"hidden md:flex space-x-1",children:h.map(m=>{const w=m.icon,g=m.href==="/messages"&&c>0;return i.jsxs(nn,{to:m.href,className:`flex items-center px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 relative ${f(m.href)?"bg-primary text-white shadow-sm":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[i.jsx(w,{className:"h-4 w-4 mr-2"}),m.label,g&&i.jsx(Se,{variant:"destructive",className:"ml-2 h-5 min-w-[20px] px-1 flex items-center justify-center text-xs",children:c>99?"99+":c})]},m.href)})})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"hidden sm:flex items-center space-x-2",children:[i.jsx("div",{className:"h-2 w-2 rounded-full bg-primary"}),i.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[e.completed_pct,"% completado"]})]}),i.jsxs(wV,{children:[i.jsx(bV,{asChild:!0,children:i.jsx($,{variant:"ghost",className:"relative h-10 w-10 rounded-full hover:bg-gray-50",children:i.jsxs(St,{className:"h-10 w-10 ring-2 ring-gray-100",children:[i.jsx(Dt,{src:e.avatar_url||""}),i.jsx(Nt,{className:"bg-gradient-to-br from-primary to-secondary text-white font-semibold",children:d(e.name)})]})})}),i.jsxs(JP,{className:"w-64 p-2",align:"end",forceMount:!0,children:[i.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-gray-50",children:[i.jsxs(St,{className:"h-12 w-12",children:[i.jsx(Dt,{src:e.avatar_url||""}),i.jsx(Nt,{className:"bg-gradient-to-br from-primary to-secondary text-white font-semibold",children:d(e.name)})]}),i.jsxs("div",{className:"flex flex-col space-y-1",children:[i.jsx("p",{className:"font-semibold text-gray-900",children:e.name||"Usuario"}),i.jsx("p",{className:"text-sm text-gray-600 truncate",children:e.email})]})]}),i.jsx(dh,{className:"my-2"}),i.jsx(uh,{asChild:!0,children:i.jsxs(nn,{to:"/profile",className:"flex items-center rounded-md p-2 hover:bg-gray-50",children:[i.jsx(vu,{className:"mr-3 h-4 w-4 text-gray-500"}),i.jsx("span",{className:"font-medium",children:"Mi Perfil"})]})}),n&&i.jsxs(i.Fragment,{children:[i.jsx(dh,{className:"my-2"}),i.jsx(uh,{asChild:!0,children:i.jsxs(nn,{to:"/gestion",className:"flex items-center rounded-md p-2 hover:bg-primary/10 bg-primary/5",children:[i.jsx(yx,{className:"mr-3 h-4 w-4 text-primary"}),i.jsx("span",{className:"font-medium text-primary",children:"Gestin"})]})})]}),i.jsx(dh,{className:"my-2"}),i.jsxs(uh,{onClick:u,disabled:r,className:"flex items-center rounded-md p-2 text-red-600 hover:bg-red-50 focus:bg-red-50",children:[i.jsx(oE,{className:"mr-3 h-4 w-4"}),i.jsx("span",{className:"font-medium",children:"Cerrar Sesin"})]})]})]})]})]})}),i.jsx("div",{className:"md:hidden border-t border-gray-200/50 bg-white/95 backdrop-blur-sm",children:i.jsx("div",{className:"flex justify-around py-3",children:h.slice(0,4).map(m=>{const w=m.icon,g=f(m.href),v=m.href==="/messages"&&c>0;return i.jsxs(nn,{to:m.href,className:`flex flex-col items-center px-3 py-2 rounded-lg text-xs font-medium transition-all duration-200 relative ${g?"text-primary bg-primary/10":"text-gray-600 hover:text-gray-900"}`,children:[i.jsxs("div",{className:"relative",children:[i.jsx(w,{className:`h-5 w-5 mb-1 ${g?"text-primary":""}`}),v&&i.jsx(Se,{variant:"destructive",className:"absolute -top-1 -right-2 h-4 min-w-[16px] px-1 flex items-center justify-center text-[10px]",children:c>9?"9+":c})]}),m.label]},m.href)})})})]}):null}function Rv(e,[t,r]){return Math.min(r,Math.max(t,e))}var tR=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),IV="VisuallyHidden",ew=p.forwardRef((e,t)=>i.jsx(de.span,{...e,ref:t,style:{...tR,...e.style}}));ew.displayName=IV;var MV=[" ","Enter","ArrowUp","ArrowDown"],DV=[" ","Enter"],no="Select",[um,dm,LV]=Kf(no),[tc]=yr(no,[LV,im]),hm=im(),[$V,mi]=tc(no),[FV,UV]=tc(no),rR=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:h,disabled:f,required:m,form:w}=e,g=hm(t),[v,b]=p.useState(null),[y,x]=p.useState(null),[j,_]=p.useState(!1),S=Vu(u),[N,C]=na({prop:n,defaultProp:s??!1,onChange:a,caller:no}),[R,T]=na({prop:o,defaultProp:l,onChange:c,caller:no}),z=p.useRef(null),D=v?w||!!v.closest("form"):!0,[V,F]=p.useState(new Set),q=Array.from(V).map(B=>B.props.value).join(";");return i.jsx(eP,{...g,children:i.jsxs($V,{required:m,scope:t,trigger:v,onTriggerChange:b,valueNode:y,onValueNodeChange:x,valueNodeHasChildren:j,onValueNodeHasChildrenChange:_,contentId:ys(),value:R,onValueChange:T,open:N,onOpenChange:C,dir:S,triggerPointerDownPosRef:z,disabled:f,children:[i.jsx(um.Provider,{scope:t,children:i.jsx(FV,{scope:e.__scopeSelect,onNativeOptionAdd:p.useCallback(B=>{F(ie=>new Set(ie).add(B))},[]),onNativeOptionRemove:p.useCallback(B=>{F(ie=>{const I=new Set(ie);return I.delete(B),I})},[]),children:r})}),D?i.jsxs(CR,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:h,value:R,onChange:B=>T(B.target.value),disabled:f,form:w,children:[R===void 0?i.jsx("option",{value:""}):null,Array.from(V)]},q):null]})})};rR.displayName=no;var nR="SelectTrigger",sR=p.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,a=hm(r),o=mi(nR,r),l=o.disabled||n,c=Te(t,o.onTriggerChange),u=dm(r),d=p.useRef("touch"),[h,f,m]=kR(g=>{const v=u().filter(x=>!x.disabled),b=v.find(x=>x.value===o.value),y=PR(v,g,b);y!==void 0&&o.onValueChange(y.value)}),w=g=>{l||(o.onOpenChange(!0),m()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return i.jsx(tP,{asChild:!0,...a,children:i.jsx(de.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":ER(o.value)?"":void 0,...s,ref:c,onClick:Z(s.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&w(g)}),onPointerDown:Z(s.onPointerDown,g=>{d.current=g.pointerType;const v=g.target;v.hasPointerCapture(g.pointerId)&&v.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(w(g),g.preventDefault())}),onKeyDown:Z(s.onKeyDown,g=>{const v=h.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&f(g.key),!(v&&g.key===" ")&&MV.includes(g.key)&&(w(),g.preventDefault())})})})});sR.displayName=nR;var aR="SelectValue",iR=p.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:a,placeholder:o="",...l}=e,c=mi(aR,r),{onValueNodeHasChildrenChange:u}=c,d=a!==void 0,h=Te(t,c.onValueNodeChange);return Pt(()=>{u(d)},[u,d]),i.jsx(de.span,{...l,ref:h,style:{pointerEvents:"none"},children:ER(c.value)?i.jsx(i.Fragment,{children:o}):a})});iR.displayName=aR;var zV="SelectIcon",oR=p.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return i.jsx(de.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});oR.displayName=zV;var BV="SelectPortal",lR=e=>i.jsx(Bu,{asChild:!0,...e});lR.displayName=BV;var so="SelectContent",cR=p.forwardRef((e,t)=>{const r=mi(so,e.__scopeSelect),[n,s]=p.useState();if(Pt(()=>{s(new DocumentFragment)},[]),!r.open){const a=n;return a?oo.createPortal(i.jsx(uR,{scope:e.__scopeSelect,children:i.jsx(um.Slot,{scope:e.__scopeSelect,children:i.jsx("div",{children:e.children})})}),a):null}return i.jsx(dR,{...e,ref:t})});cR.displayName=so;var Pn=10,[uR,pi]=tc(so),VV="SelectContentImpl",qV=Zi("SelectContent.RemoveScroll"),dR=p.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:m,sticky:w,hideWhenDetached:g,avoidCollisions:v,...b}=e,y=mi(so,r),[x,j]=p.useState(null),[_,S]=p.useState(null),N=Te(t,Y=>j(Y)),[C,R]=p.useState(null),[T,z]=p.useState(null),D=dm(r),[V,F]=p.useState(!1),q=p.useRef(!1);p.useEffect(()=>{if(x)return bx(x)},[x]),wx();const B=p.useCallback(Y=>{const[Ue,...De]=D().map(ze=>ze.ref.current),[Ie]=De.slice(-1),Le=document.activeElement;for(const ze of Y)if(ze===Le||(ze==null||ze.scrollIntoView({block:"nearest"}),ze===Ue&&_&&(_.scrollTop=0),ze===Ie&&_&&(_.scrollTop=_.scrollHeight),ze==null||ze.focus(),document.activeElement!==Le))return},[D,_]),ie=p.useCallback(()=>B([C,x]),[B,C,x]);p.useEffect(()=>{V&&ie()},[V,ie]);const{onOpenChange:I,triggerPointerDownPosRef:A}=y;p.useEffect(()=>{if(x){let Y={x:0,y:0};const Ue=Ie=>{var Le,ze;Y={x:Math.abs(Math.round(Ie.pageX)-(((Le=A.current)==null?void 0:Le.x)??0)),y:Math.abs(Math.round(Ie.pageY)-(((ze=A.current)==null?void 0:ze.y)??0))}},De=Ie=>{Y.x<=10&&Y.y<=10?Ie.preventDefault():x.contains(Ie.target)||I(!1),document.removeEventListener("pointermove",Ue),A.current=null};return A.current!==null&&(document.addEventListener("pointermove",Ue),document.addEventListener("pointerup",De,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ue),document.removeEventListener("pointerup",De,{capture:!0})}}},[x,I,A]),p.useEffect(()=>{const Y=()=>I(!1);return window.addEventListener("blur",Y),window.addEventListener("resize",Y),()=>{window.removeEventListener("blur",Y),window.removeEventListener("resize",Y)}},[I]);const[K,ae]=kR(Y=>{const Ue=D().filter(Le=>!Le.disabled),De=Ue.find(Le=>Le.ref.current===document.activeElement),Ie=PR(Ue,Y,De);Ie&&setTimeout(()=>Ie.ref.current.focus())}),re=p.useCallback((Y,Ue,De)=>{const Ie=!q.current&&!De;(y.value!==void 0&&y.value===Ue||Ie)&&(R(Y),Ie&&(q.current=!0))},[y.value]),xe=p.useCallback(()=>x==null?void 0:x.focus(),[x]),ye=p.useCallback((Y,Ue,De)=>{const Ie=!q.current&&!De;(y.value!==void 0&&y.value===Ue||Ie)&&z(Y)},[y.value]),qe=n==="popper"?Tv:hR,Qe=qe===Tv?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:m,sticky:w,hideWhenDetached:g,avoidCollisions:v}:{};return i.jsx(uR,{scope:r,content:x,viewport:_,onViewportChange:S,itemRefCallback:re,selectedItem:C,onItemLeave:xe,itemTextRefCallback:ye,focusSelectedItem:ie,selectedItemText:T,position:n,isPositioned:V,searchRef:K,children:i.jsx(Wf,{as:qV,allowPinchZoom:!0,children:i.jsx(Vf,{asChild:!0,trapped:y.open,onMountAutoFocus:Y=>{Y.preventDefault()},onUnmountAutoFocus:Z(s,Y=>{var Ue;(Ue=y.trigger)==null||Ue.focus({preventScroll:!0}),Y.preventDefault()}),children:i.jsx(zu,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:Y=>Y.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:i.jsx(qe,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:Y=>Y.preventDefault(),...b,...Qe,onPlaced:()=>F(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:Z(b.onKeyDown,Y=>{const Ue=Y.ctrlKey||Y.altKey||Y.metaKey;if(Y.key==="Tab"&&Y.preventDefault(),!Ue&&Y.key.length===1&&ae(Y.key),["ArrowUp","ArrowDown","Home","End"].includes(Y.key)){let Ie=D().filter(Le=>!Le.disabled).map(Le=>Le.ref.current);if(["ArrowUp","End"].includes(Y.key)&&(Ie=Ie.slice().reverse()),["ArrowUp","ArrowDown"].includes(Y.key)){const Le=Y.target,ze=Ie.indexOf(Le);Ie=Ie.slice(ze+1)}setTimeout(()=>B(Ie)),Y.preventDefault()}})})})})})})});dR.displayName=VV;var WV="SelectItemAlignedPosition",hR=p.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,a=mi(so,r),o=pi(so,r),[l,c]=p.useState(null),[u,d]=p.useState(null),h=Te(t,N=>d(N)),f=dm(r),m=p.useRef(!1),w=p.useRef(!0),{viewport:g,selectedItem:v,selectedItemText:b,focusSelectedItem:y}=o,x=p.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&g&&v&&b){const N=a.trigger.getBoundingClientRect(),C=u.getBoundingClientRect(),R=a.valueNode.getBoundingClientRect(),T=b.getBoundingClientRect();if(a.dir!=="rtl"){const Le=T.left-C.left,ze=R.left-Le,Bt=N.left-ze,or=N.width+Bt,Gn=Math.max(or,C.width),Yn=window.innerWidth-Pn,ks=Rv(ze,[Pn,Math.max(Pn,Yn-Gn)]);l.style.minWidth=or+"px",l.style.left=ks+"px"}else{const Le=C.right-T.right,ze=window.innerWidth-R.right-Le,Bt=window.innerWidth-N.right-ze,or=N.width+Bt,Gn=Math.max(or,C.width),Yn=window.innerWidth-Pn,ks=Rv(ze,[Pn,Math.max(Pn,Yn-Gn)]);l.style.minWidth=or+"px",l.style.right=ks+"px"}const z=f(),D=window.innerHeight-Pn*2,V=g.scrollHeight,F=window.getComputedStyle(u),q=parseInt(F.borderTopWidth,10),B=parseInt(F.paddingTop,10),ie=parseInt(F.borderBottomWidth,10),I=parseInt(F.paddingBottom,10),A=q+B+V+I+ie,K=Math.min(v.offsetHeight*5,A),ae=window.getComputedStyle(g),re=parseInt(ae.paddingTop,10),xe=parseInt(ae.paddingBottom,10),ye=N.top+N.height/2-Pn,qe=D-ye,Qe=v.offsetHeight/2,Y=v.offsetTop+Qe,Ue=q+B+Y,De=A-Ue;if(Ue<=ye){const Le=z.length>0&&v===z[z.length-1].ref.current;l.style.bottom="0px";const ze=u.clientHeight-g.offsetTop-g.offsetHeight,Bt=Math.max(qe,Qe+(Le?xe:0)+ze+ie),or=Ue+Bt;l.style.height=or+"px"}else{const Le=z.length>0&&v===z[0].ref.current;l.style.top="0px";const Bt=Math.max(ye,q+g.offsetTop+(Le?re:0)+Qe)+De;l.style.height=Bt+"px",g.scrollTop=Ue-ye+g.offsetTop}l.style.margin=`${Pn}px 0`,l.style.minHeight=K+"px",l.style.maxHeight=D+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[f,a.trigger,a.valueNode,l,u,g,v,b,a.dir,n]);Pt(()=>x(),[x]);const[j,_]=p.useState();Pt(()=>{u&&_(window.getComputedStyle(u).zIndex)},[u]);const S=p.useCallback(N=>{N&&w.current===!0&&(x(),y==null||y(),w.current=!1)},[x,y]);return i.jsx(KV,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:S,children:i.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:i.jsx(de.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});hR.displayName=WV;var HV="SelectPopperPosition",Tv=p.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=Pn,...a}=e,o=hm(r);return i.jsx(rP,{...o,...a,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Tv.displayName=HV;var[KV,tw]=tc(so,{}),Av="SelectViewport",fR=p.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,a=pi(Av,r),o=tw(Av,r),l=Te(t,a.onViewportChange),c=p.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),i.jsx(um.Slot,{scope:r,children:i.jsx(de.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Z(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&h){const m=Math.abs(c.current-d.scrollTop);if(m>0){const w=window.innerHeight-Pn*2,g=parseFloat(h.style.minHeight),v=parseFloat(h.style.height),b=Math.max(g,v);if(b<w){const y=b+m,x=Math.min(w,y),j=y-x;h.style.height=x+"px",h.style.bottom==="0px"&&(d.scrollTop=j>0?j:0,h.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});fR.displayName=Av;var mR="SelectGroup",[QV,GV]=tc(mR),YV=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=ys();return i.jsx(QV,{scope:r,id:s,children:i.jsx(de.div,{role:"group","aria-labelledby":s,...n,ref:t})})});YV.displayName=mR;var pR="SelectLabel",gR=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=GV(pR,r);return i.jsx(de.div,{id:s.id,...n,ref:t})});gR.displayName=pR;var lf="SelectItem",[JV,vR]=tc(lf),yR=p.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:a,...o}=e,l=mi(lf,r),c=pi(lf,r),u=l.value===n,[d,h]=p.useState(a??""),[f,m]=p.useState(!1),w=Te(t,y=>{var x;return(x=c.itemRefCallback)==null?void 0:x.call(c,y,n,s)}),g=ys(),v=p.useRef("touch"),b=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(JV,{scope:r,value:n,disabled:s,textId:g,isSelected:u,onItemTextChange:p.useCallback(y=>{h(x=>x||((y==null?void 0:y.textContent)??"").trim())},[]),children:i.jsx(um.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:i.jsx(de.div,{role:"option","aria-labelledby":g,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:w,onFocus:Z(o.onFocus,()=>m(!0)),onBlur:Z(o.onBlur,()=>m(!1)),onClick:Z(o.onClick,()=>{v.current!=="mouse"&&b()}),onPointerUp:Z(o.onPointerUp,()=>{v.current==="mouse"&&b()}),onPointerDown:Z(o.onPointerDown,y=>{v.current=y.pointerType}),onPointerMove:Z(o.onPointerMove,y=>{var x;v.current=y.pointerType,s?(x=c.onItemLeave)==null||x.call(c):v.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Z(o.onPointerLeave,y=>{var x;y.currentTarget===document.activeElement&&((x=c.onItemLeave)==null||x.call(c))}),onKeyDown:Z(o.onKeyDown,y=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&y.key===" "||(DV.includes(y.key)&&b(),y.key===" "&&y.preventDefault())})})})})});yR.displayName=lf;var Cc="SelectItemText",xR=p.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...a}=e,o=mi(Cc,r),l=pi(Cc,r),c=vR(Cc,r),u=UV(Cc,r),[d,h]=p.useState(null),f=Te(t,b=>h(b),c.onItemTextChange,b=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,b,c.value,c.disabled)}),m=d==null?void 0:d.textContent,w=p.useMemo(()=>i.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:v}=u;return Pt(()=>(g(w),()=>v(w)),[g,v,w]),i.jsxs(i.Fragment,{children:[i.jsx(de.span,{id:c.textId,...a,ref:f}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?oo.createPortal(a.children,o.valueNode):null]})});xR.displayName=Cc;var wR="SelectItemIndicator",bR=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return vR(wR,r).isSelected?i.jsx(de.span,{"aria-hidden":!0,...n,ref:t}):null});bR.displayName=wR;var Ov="SelectScrollUpButton",jR=p.forwardRef((e,t)=>{const r=pi(Ov,e.__scopeSelect),n=tw(Ov,e.__scopeSelect),[s,a]=p.useState(!1),o=Te(t,n.onScrollButtonChange);return Pt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?i.jsx(SR,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});jR.displayName=Ov;var Iv="SelectScrollDownButton",_R=p.forwardRef((e,t)=>{const r=pi(Iv,e.__scopeSelect),n=tw(Iv,e.__scopeSelect),[s,a]=p.useState(!1),o=Te(t,n.onScrollButtonChange);return Pt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;a(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?i.jsx(SR,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});_R.displayName=Iv;var SR=p.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,a=pi("SelectScrollButton",r),o=p.useRef(null),l=dm(r),c=p.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return p.useEffect(()=>()=>c(),[c]),Pt(()=>{var d;const u=l().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),i.jsx(de.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:Z(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Z(s.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Z(s.onPointerLeave,()=>{c()})})}),XV="SelectSeparator",NR=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return i.jsx(de.div,{"aria-hidden":!0,...n,ref:t})});NR.displayName=XV;var Mv="SelectArrow",ZV=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=hm(r),a=mi(Mv,r),o=pi(Mv,r);return a.open&&o.position==="popper"?i.jsx(nP,{...s,...n,ref:t}):null});ZV.displayName=Mv;var e8="SelectBubbleInput",CR=p.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const s=p.useRef(null),a=Te(n,s),o=fx(t);return p.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const h=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(h)}},[o,t]),i.jsx(de.select,{...r,style:{...tR,...r.style},ref:a,defaultValue:t})});CR.displayName=e8;function ER(e){return e===""||e===void 0}function kR(e){const t=jt(e),r=p.useRef(""),n=p.useRef(0),s=p.useCallback(o=>{const l=r.current+o;t(l),(function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))})(l)},[t]),a=p.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,a]}function PR(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let o=t8(e,Math.max(a,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function t8(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var r8=rR,RR=sR,n8=iR,s8=oR,a8=lR,TR=cR,i8=fR,AR=gR,OR=yR,o8=xR,l8=bR,IR=jR,MR=_R,DR=NR;const Ys=r8,Js=n8,ws=p.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(RR,{ref:n,className:J("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,i.jsx(s8,{asChild:!0,children:i.jsx(tE,{className:"h-4 w-4 opacity-50"})})]}));ws.displayName=RR.displayName;const LR=p.forwardRef(({className:e,...t},r)=>i.jsx(IR,{ref:r,className:J("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(W3,{className:"h-4 w-4"})}));LR.displayName=IR.displayName;const $R=p.forwardRef(({className:e,...t},r)=>i.jsx(MR,{ref:r,className:J("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(tE,{className:"h-4 w-4"})}));$R.displayName=MR.displayName;const bs=p.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>i.jsx(a8,{children:i.jsxs(TR,{ref:s,className:J("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[i.jsx(LR,{}),i.jsx(i8,{className:J("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),i.jsx($R,{})]})}));bs.displayName=TR.displayName;const c8=p.forwardRef(({className:e,...t},r)=>i.jsx(AR,{ref:r,className:J("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));c8.displayName=AR.displayName;const st=p.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(OR,{ref:n,className:J("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(l8,{children:i.jsx(Fu,{className:"h-4 w-4"})})}),i.jsx(o8,{children:t})]}));st.displayName=OR.displayName;const u8=p.forwardRef(({className:e,...t},r)=>i.jsx(DR,{ref:r,className:J("-mx-1 my-1 h-px bg-muted",e),...t}));u8.displayName=DR.displayName;function d8({user:e,showActions:t=!0,onStartChat:r,showConnectButton:n=!0}){var _,S,N;const{user:s}=Ct(),a=gt(),{data:o}=$x(e.id,{enabled:n&&(s==null?void 0:s.id)!==e.id}),{action:l,isLoading:c}=Lx(),{action:u,isLoading:d}=Hu(),{toast:h}=Ku(),f=C=>C?C.split(" ").map(R=>R[0]).join("").toUpperCase():"U",m=C=>{switch(C){case"admin":return"bg-red-100 text-red-800";case"mentor":return"bg-blue-100 text-blue-800";case"emprendedor":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},w=async()=>{try{await l({addressee_id:e.id}),h({title:"Solicitud enviada",description:`Solicitud de conexin enviada a ${e.name||"el usuario"}`,duration:3e3})}catch(C){h({title:"Error",description:C instanceof Error?C.message:"No se pudo enviar la solicitud",variant:"destructive",duration:5e3})}},g=async()=>{var R;const C=(R=o==null?void 0:o.connection)==null?void 0:R.id;if(C)try{await u({connection_id:C,status:"accepted"}),h({title:"Conexin aceptada",description:`Ahora ests conectado con ${e.name||"el usuario"}`,duration:3e3})}catch(T){h({title:"Error",description:T instanceof Error?T.message:"No se pudo aceptar la solicitud",variant:"destructive",duration:5e3})}},v=()=>{a(`/users/${e.id}`)},b=(s==null?void 0:s.id)===e.id,y=(o==null?void 0:o.status)||"none",x=((_=o==null?void 0:o.connection)==null?void 0:_.requester_id)===(s==null?void 0:s.id),j=((S=o==null?void 0:o.connection)==null?void 0:S.addressee_id)===(s==null?void 0:s.id);return i.jsxs(_e,{className:"w-full",children:[i.jsxs(ft,{className:"text-center",children:[i.jsxs(St,{className:"h-20 w-20 mx-auto mb-4 cursor-pointer hover:opacity-80 transition-opacity",onClick:v,children:[i.jsx(Dt,{src:e.avatar_url||""}),i.jsx(Nt,{className:"text-lg",children:f(e.name)})]}),i.jsx("h3",{className:"text-xl font-semibold cursor-pointer hover:text-primary transition-colors",onClick:v,children:e.name||"Usuario"}),i.jsx("div",{className:"flex justify-center gap-2 mt-2",children:(N=e.roles)==null?void 0:N.map(C=>i.jsx(Se,{className:m(C.name),children:C.name},C.id))}),e.location&&i.jsxs("div",{className:"flex items-center justify-center text-sm text-muted-foreground mt-2",children:[i.jsx(Mr,{className:"h-4 w-4 mr-1"}),e.location]})]}),i.jsxs(je,{className:"space-y-4",children:[e.bio&&i.jsx("p",{className:"text-sm text-muted-foreground",children:e.bio}),e.skills&&e.skills.length>0&&i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-sm mb-2",children:"Habilidades"}),i.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.skills.slice(0,6).map((C,R)=>i.jsx(Se,{variant:"secondary",className:"text-xs",children:C},R)),e.skills.length>6&&i.jsxs(Se,{variant:"secondary",className:"text-xs",children:["+",e.skills.length-6," ms"]})]})]}),e.interests&&e.interests.length>0&&i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-sm mb-2",children:"Intereses"}),i.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.interests.slice(0,4).map((C,R)=>i.jsx(Se,{variant:"outline",className:"text-xs",children:C},R)),e.interests.length>4&&i.jsxs(Se,{variant:"outline",className:"text-xs",children:["+",e.interests.length-4," ms"]})]})]}),i.jsxs("div",{className:"flex gap-2 pt-2",children:[e.linkedin_url&&i.jsx(nn,{href:e.linkedin_url,target:"_blank",children:i.jsx($,{variant:"outline",size:"sm",children:i.jsx(iE,{className:"h-4 w-4"})})}),e.website_url&&i.jsx(nn,{href:e.website_url,target:"_blank",children:i.jsx($,{variant:"outline",size:"sm",children:i.jsx(Q3,{className:"h-4 w-4"})})})]}),n&&!b&&i.jsxs("div",{className:"mt-4",children:[y==="none"&&i.jsxs($,{onClick:w,disabled:c,className:"w-full",variant:"default",children:[i.jsx(si,{className:"h-4 w-4 mr-2"}),c?"Conectando...":"Conectar"]}),y==="pending"&&x&&i.jsxs($,{variant:"secondary",disabled:!0,className:"w-full cursor-not-allowed",children:[i.jsx(fi,{className:"h-4 w-4 mr-2"}),"Solicitud enviada"]}),y==="pending"&&j&&i.jsxs($,{onClick:g,disabled:d,className:"w-full",variant:"default",children:[i.jsx(Ss,{className:"h-4 w-4 mr-2"}),d?"Aceptando...":"Aceptar solicitud"]}),y==="accepted"&&i.jsxs($,{variant:"outline",disabled:!0,className:"w-full",children:[i.jsx(Ss,{className:"h-4 w-4 mr-2"}),"Conectados"]})]}),t&&r&&i.jsxs($,{onClick:r,className:"w-full mt-4",variant:"outline",children:[i.jsx(Uu,{className:"h-4 w-4 mr-2"}),"Iniciar Chat"]}),i.jsxs($,{onClick:v,className:"w-full mt-2",variant:"outline",children:[i.jsx(vs,{className:"h-4 w-4 mr-2"}),"Ver Perfil"]}),i.jsxs("div",{className:"pt-2 border-t",children:[i.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[i.jsx("span",{children:"Perfil completado"}),i.jsxs("span",{children:[e.completed_pct,"%"]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-1",children:i.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${e.completed_pct}%`}})})]})]})]})}function h8({onUserSelect:e}){const[t,r]=p.useState(""),[n,s]=p.useState([]),[a,o]=p.useState(!1),[l,c]=p.useState(null),[u,d]=p.useState({role:"",location:"",skills:[]}),[h,f]=p.useState(""),[m,w]=p.useState(!1);p.useEffect(()=>{const x=setTimeout(async()=>{if(t.length>0||u.role||u.location||u.skills.length>0){o(!0),c(null);try{const j={role:u.role,location:u.location,skills:u.skills},{data:_,error:S}=await S6(t,j);S?(c("Error al buscar usuarios. Por favor, intenta de nuevo."),s([])):s(_)}catch{c("Error al buscar usuarios. Por favor, intenta de nuevo."),s([])}finally{o(!1)}}else s([]),c(null),o(!1)},500);return()=>clearTimeout(x)},[t,u.role,u.location,JSON.stringify(u.skills)]);const g=()=>{h.trim()&&!u.skills.includes(h.trim())&&(d(x=>({...x,skills:[...x.skills,h.trim()]})),f(""))},v=x=>{d(j=>({...j,skills:j.skills.filter(_=>_!==x)}))},b=()=>{d({role:"",location:"",skills:[]}),r(""),c(null),s([])},y=x=>{x.key==="Enter"&&(x.preventDefault(),g())};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs(_e,{children:[i.jsx(ft,{children:i.jsxs(bt,{className:"flex items-center",children:[i.jsx(aa,{className:"h-5 w-5 mr-2"}),"Buscar en la Red"]})}),i.jsxs(je,{className:"space-y-4",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsx("div",{className:"flex-1",children:i.jsx(ge,{placeholder:"Buscar por nombre, biografa o habilidades...",value:t,onChange:x=>r(x.target.value)})}),i.jsxs($,{variant:"outline",onClick:()=>w(!m),children:[i.jsx(K3,{className:"h-4 w-4 mr-2"}),"Filtros"]}),(t||u.role||u.location||u.skills.length>0)&&i.jsxs($,{variant:"outline",onClick:b,children:[i.jsx(pr,{className:"h-4 w-4 mr-2"}),"Limpiar"]})]}),m&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 p-4 bg-gray-50 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"Rol"}),i.jsxs(Ys,{value:u.role,onValueChange:x=>d(j=>({...j,role:x})),children:[i.jsx(ws,{children:i.jsx(Js,{placeholder:"Seleccionar rol"})}),i.jsxs(bs,{children:[i.jsx(st,{value:"",children:"Todos los roles"}),i.jsx(st,{value:"emprendedor",children:"Emprendedor"}),i.jsx(st,{value:"mentor",children:"Mentor"}),i.jsx(st,{value:"admin",children:"Admin"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"Ubicacin"}),i.jsx(ge,{placeholder:"Ciudad o regin",value:u.location,onChange:x=>d(j=>({...j,location:x.target.value}))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"Habilidades"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(ge,{placeholder:"Agregar habilidad",value:h,onChange:x=>f(x.target.value),onKeyPress:y}),i.jsx($,{type:"button",size:"sm",onClick:g,children:"+"})]}),u.skills.length>0&&i.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:u.skills.map((x,j)=>i.jsxs(Se,{variant:"secondary",className:"flex items-center gap-1",children:[x,i.jsx(pr,{className:"h-3 w-3 cursor-pointer",onClick:()=>v(x)})]},j))})]})]})]})]}),a&&i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),i.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Buscando..."})]}),l&&i.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-xl",children:i.jsx("p",{className:"text-red-600 text-center",children:l})}),!a&&!l&&n.length===0&&(t||u.role||u.location||u.skills.length>0)&&i.jsxs("div",{className:"text-center py-12 text-gray-500",children:[i.jsx(aa,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"No se encontraron usuarios con esos criterios"}),i.jsx("p",{className:"text-sm mt-2",children:"Intenta con otros filtros o trminos de bsqueda"})]}),!a&&!l&&n.length===0&&!t&&!u.role&&!u.location&&u.skills.length===0&&i.jsxs("div",{className:"text-center py-12 text-gray-500",children:[i.jsx(Dr,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"Usa la barra de bsqueda para encontrar miembros de la red"}),i.jsx("p",{className:"text-sm mt-2",children:"Busca por nombre, habilidades o usa los filtros avanzados"})]}),!a&&n.length>0&&i.jsxs("div",{children:[i.jsx("div",{className:"flex justify-between items-center mb-4",children:i.jsxs("p",{className:"text-sm text-gray-600",children:[n.length," ",n.length===1?"resultado encontrado":"resultados encontrados"]})}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(x=>i.jsx(d8,{user:x,onStartChat:e?()=>e(x):void 0},x.id))})]})]})}const Il=(e,t)=>{const r=e!=null&&e.status?["connections",e.status]:["connections","all"];return vt({queryKey:r,queryFn:async()=>(await Jl.getConnections(e)).connections,enabled:(t==null?void 0:t.enabled)!==!1,staleTime:120*1e3,gcTime:300*1e3})},rw=()=>{const e=Ke(),t=Ze({mutationFn:async r=>{await Jl.deleteConnection(r)},onSuccess:()=>{e.invalidateQueries({queryKey:["connections"]}),e.invalidateQueries({queryKey:["network-stats"]}),e.invalidateQueries({queryKey:["connection-status"]}),e.invalidateQueries({queryKey:["mutual-connections"]})}});return{action:t.mutate,isLoading:t.isPending,error:t.error,isSuccess:t.isSuccess,data:t.data}};function f8(){const{user:e}=Ct(),t=gt(),{data:r,isLoading:n}=Il({status:"pending"}),{data:s,isLoading:a}=Il({status:"accepted"}),{action:o,isLoading:l}=Hu(),{action:c,isLoading:u}=rw(),d=p.useMemo(()=>(r==null?void 0:r.filter(({connection:_})=>_.addressee_id===(e==null?void 0:e.id)))||[],[r,e==null?void 0:e.id]),h=p.useMemo(()=>(r==null?void 0:r.filter(({connection:_})=>_.requester_id===(e==null?void 0:e.id)))||[],[r,e==null?void 0:e.id]),f=d.length,m=h.length,w=(s==null?void 0:s.length)||0,g=_=>{o({connection_id:_,status:"accepted"},{onSuccess:()=>{Qt({title:"Solicitud aceptada",description:"Has aceptado la solicitud de conexin"})},onError:S=>{Qt({title:"Error",description:S.message||"No se pudo aceptar la solicitud",variant:"destructive"})}})},v=_=>{o({connection_id:_,status:"rejected"},{onSuccess:()=>{Qt({title:"Solicitud rechazada",description:"Has rechazado la solicitud de conexin"})},onError:S=>{Qt({title:"Error",description:S.message||"No se pudo rechazar la solicitud",variant:"destructive"})}})},b=_=>{c(_,{onSuccess:()=>{Qt({title:"Solicitud cancelada",description:"Tu solicitud de conexin ha sido cancelada"})},onError:S=>{Qt({title:"Error",description:S.message||"No se pudo cancelar la solicitud",variant:"destructive"})}})},y=_=>{c(_,{onSuccess:()=>{Qt({title:"Conexin eliminada",description:"La conexin ha sido eliminada correctamente"})},onError:S=>{Qt({title:"Error",description:S.message||"No se pudo eliminar la conexin",variant:"destructive"})}})};function x({connectionWithUser:_,type:S}){var z,D,V,F;const{connection:N,user:C}=_,R=l||u,T=()=>{t(`/users/${C.id}`)};return i.jsx(_e,{className:"hover:shadow-md transition-shadow cursor-pointer",children:i.jsx(je,{className:"p-6",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsxs(St,{className:"h-14 w-14 cursor-pointer",onClick:T,children:[i.jsx(Dt,{src:C.avatar_url||void 0,alt:C.name||""}),i.jsx(Nt,{className:"bg-gradient-to-br from-primary to-primary/80 text-white text-lg",children:((D=(z=C.name)==null?void 0:z.charAt(0))==null?void 0:D.toUpperCase())||((F=(V=C.email)==null?void 0:V.charAt(0))==null?void 0:F.toUpperCase())})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-base truncate cursor-pointer hover:text-primary transition-colors",onClick:T,children:C.name}),i.jsx("p",{className:"text-sm text-muted-foreground truncate",children:C.email}),C.bio&&i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mt-1",children:C.bio}),i.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:C.location&&i.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[i.jsx(Mr,{className:"h-3 w-3"}),i.jsx("span",{children:C.location})]})}),i.jsxs("div",{className:"flex flex-wrap gap-2 mt-4",children:[S==="received"&&i.jsxs(i.Fragment,{children:[i.jsxs($,{size:"sm",onClick:()=>g(N.id),disabled:R,className:"flex items-center gap-2",children:[l?i.jsx(_t,{className:"h-4 w-4 animate-spin"}):i.jsx(Fu,{className:"h-4 w-4"}),l?"Aceptando...":"Aceptar"]}),i.jsxs($,{size:"sm",variant:"destructive",onClick:()=>v(N.id),disabled:R,className:"flex items-center gap-2",children:[i.jsx(pr,{className:"h-4 w-4"}),"Rechazar"]})]}),S==="sent"&&i.jsxs(i.Fragment,{children:[i.jsxs(Se,{variant:"secondary",className:"flex items-center gap-1",children:[i.jsx(fi,{className:"h-3 w-3"}),"Pendiente"]}),i.jsxs($,{size:"sm",variant:"outline",onClick:()=>b(N.id),disabled:R,className:"flex items-center gap-2",children:[i.jsx(pr,{className:"h-4 w-4"}),"Cancelar"]})]}),S==="connected"&&i.jsxs(i.Fragment,{children:[i.jsxs(Se,{variant:"default",className:"flex items-center gap-1",children:[i.jsx(Ss,{className:"h-3 w-3"}),"Conectado"]}),i.jsxs($,{size:"sm",onClick:()=>t(`/messages/${C.id}`),className:"flex items-center gap-2",children:[i.jsx(pu,{className:"h-4 w-4"}),"Enviar mensaje"]}),i.jsxs($,{size:"sm",variant:"ghost",onClick:()=>y(N.id),disabled:R,className:"flex items-center gap-2",children:[i.jsx(Ql,{className:"h-4 w-4"}),"Eliminar"]})]}),i.jsxs($,{size:"sm",variant:"outline",onClick:T,className:"flex items-center gap-2",children:[i.jsx(vs,{className:"h-4 w-4"}),"Ver Perfil"]})]})]})]})})})}function j({icon:_,title:S,description:N}){return i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-muted mb-4",children:i.jsx(_,{className:"h-8 w-8 text-muted-foreground"})}),i.jsx("h3",{className:"font-semibold text-lg mb-2",children:S}),i.jsx("p",{className:"text-sm text-muted-foreground",children:N})]})}return i.jsxs(_e,{className:"w-full",children:[i.jsx(ft,{children:i.jsx(bt,{className:"text-2xl",children:"Mis Conexiones"})}),i.jsx(je,{children:i.jsxs(Yf,{defaultValue:"received",children:[i.jsxs(Wu,{className:"grid w-full grid-cols-3",children:[i.jsxs(zn,{value:"received",children:["Solicitudes recibidas (",f,")"]}),i.jsxs(zn,{value:"sent",children:["Solicitudes enviadas (",m,")"]}),i.jsxs(zn,{value:"connections",children:["Mis conexiones (",w,")"]})]}),i.jsx(Bn,{value:"received",className:"space-y-4 mt-6",children:n?i.jsx("div",{className:"text-center py-8",children:i.jsx(_t,{className:"h-8 w-8 animate-spin mx-auto text-muted-foreground"})}):d.length===0?i.jsx(j,{icon:aE,title:"No tienes solicitudes recibidas",description:"Las solicitudes de conexin que recibas aparecern aqu"}):d.map(_=>i.jsx(x,{connectionWithUser:_,type:"received"},_.connection.id))}),i.jsx(Bn,{value:"sent",className:"space-y-4 mt-6",children:n?i.jsx("div",{className:"text-center py-8",children:i.jsx(_t,{className:"h-8 w-8 animate-spin mx-auto text-muted-foreground"})}):h.length===0?i.jsx(j,{icon:vx,title:"No has enviado solicitudes",description:"Busca usuarios y envales una solicitud de conexin"}):h.map(_=>i.jsx(x,{connectionWithUser:_,type:"sent"},_.connection.id))}),i.jsx(Bn,{value:"connections",className:"space-y-4 mt-6",children:a?i.jsx("div",{className:"text-center py-8",children:i.jsx(_t,{className:"h-8 w-8 animate-spin mx-auto text-muted-foreground"})}):w===0?i.jsx(j,{icon:Dr,title:"An no tienes conexiones",description:"Comienza a conectar con otros miembros de Espaa Creativa"}):s==null?void 0:s.map(_=>i.jsx(x,{connectionWithUser:_,type:"connected"},_.connection.id))})]})})]})}const m8=e=>vt({queryKey:["network-stats"],queryFn:async()=>(await Jl.getNetworkStats()).stats,enabled:(e==null?void 0:e.enabled)!==!1,staleTime:300*1e3,gcTime:600*1e3});var p8="Separator",Uj="horizontal",g8=["horizontal","vertical"],FR=p.forwardRef((e,t)=>{const{decorative:r,orientation:n=Uj,...s}=e,a=v8(n)?n:Uj,l=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return i.jsx(de.div,{"data-orientation":a,...l,...s,ref:t})});FR.displayName=p8;function v8(e){return g8.includes(e)}var UR=FR;const ei=p.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},s)=>i.jsx(UR,{ref:s,decorative:r,orientation:t,className:J("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));ei.displayName=UR.displayName;function gc({icon:e,label:t,count:r,isLoading:n,href:s}){const a=i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 rounded-lg bg-muted flex items-center justify-center group-hover:bg-primary/10 transition-colors",children:i.jsx(e,{className:"h-4 w-4 text-muted-foreground group-hover:text-primary transition-colors"})}),i.jsx("span",{className:"text-sm font-medium text-foreground",children:t})]}),n?i.jsx(It,{className:"h-5 w-12"}):i.jsx("span",{className:"text-sm font-semibold text-foreground",children:(r==null?void 0:r.toLocaleString("es-ES"))||0})]}),o="w-full flex items-center justify-between py-3 px-2 rounded-lg hover:bg-muted/50 transition-colors text-left group";return s?i.jsx(nn,{to:s,className:o,children:a}):i.jsx("button",{className:o,disabled:!0,children:a})}function y8(){const{data:e,isLoading:t}=m8(),r=e?(e.pending_requests||0)+(e.sent_requests||0):void 0;return i.jsxs(_e,{className:"sticky top-4",children:[i.jsx(ft,{className:"pb-3",children:i.jsx(bt,{className:"text-lg",children:"Gestionar mi red"})}),i.jsx(ei,{}),i.jsx(je,{className:"pt-2 pb-4",children:i.jsxs("div",{className:"space-y-1",children:[i.jsx(gc,{icon:Dr,label:"Mi red",count:e==null?void 0:e.total_connections,isLoading:t,href:"/network/my-network"}),i.jsx(gc,{icon:si,label:"Siguiendo y seguidores",count:r,isLoading:t,href:"/network/followers"}),i.jsx(gc,{icon:Dr,label:"Grupos",count:0,isLoading:!1}),i.jsx(gc,{icon:_s,label:"Eventos",count:0,isLoading:!1}),i.jsx(gc,{icon:Bf,label:"Newsletters",count:0,isLoading:!1})]})})]})}class hh extends p.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("ErrorBoundary caught an error:",t,r)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:i.jsx("div",{className:"max-w-md w-full bg-white rounded-lg shadow-md p-6 text-center",children:i.jsxs("div",{className:"mb-4",children:[i.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),i.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Ha ocurrido un error"}),i.jsx("p",{className:"text-gray-600 mb-4",children:"Algo sali mal. Por favor, recarga la pgina para continuar."}),i.jsx("button",{onClick:()=>window.location.reload(),className:"bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary/80 transition-colors",children:"Recargar pgina"})]})})}):this.props.children}}function x8(){return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted",children:[i.jsx(Yt,{}),i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[i.jsx("div",{className:"mb-8",children:i.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary to-emerald-600 rounded-xl flex items-center justify-center",children:i.jsx(Dr,{className:"h-6 w-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Mi Red"}),i.jsx("p",{className:"text-muted-foreground",children:"Conecta con emprendedores y mentores de Espaa Creativa"})]})]})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[i.jsxs(_e,{children:[i.jsxs(ft,{children:[i.jsxs(bt,{className:"flex items-center",children:[i.jsx(aa,{className:"h-5 w-5 mr-2"}),"Buscar Miembros"]}),i.jsx(hr,{children:"Encuentra emprendedores, mentores y colaboradores por nombre, ubicacin o habilidades"})]}),i.jsx(je,{children:i.jsx(hh,{children:i.jsx(h8,{})})})]}),i.jsx(hh,{children:i.jsx(f8,{})})]}),i.jsx("div",{className:"lg:col-span-1",children:i.jsx(hh,{children:i.jsx(y8,{})})})]})]})]})}function w8(){const e=gt(),{data:t,isLoading:r}=Il({status:"accepted"}),{action:n,isLoading:s}=rw(),a=(t==null?void 0:t.length)||0,o=u=>{n(u,{onSuccess:()=>{Qt({title:"Conexin eliminada",description:"La conexin ha sido eliminada correctamente"})},onError:d=>{Qt({title:"Error",description:d.message||"No se pudo eliminar la conexin",variant:"destructive"})}})};function l({connectionWithUser:u}){var m,w,g,v;const{connection:d,user:h}=u,f=()=>{e(`/users/${h.id}`)};return i.jsx(_e,{className:"hover:shadow-md transition-shadow",children:i.jsx(je,{className:"p-6",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsxs(St,{className:"h-14 w-14 cursor-pointer",onClick:f,children:[i.jsx(Dt,{src:h.avatar_url||void 0,alt:h.name||""}),i.jsx(Nt,{className:"bg-gradient-to-br from-primary to-primary/80 text-white text-lg",children:((w=(m=h.name)==null?void 0:m.charAt(0))==null?void 0:w.toUpperCase())||((v=(g=h.email)==null?void 0:g.charAt(0))==null?void 0:v.toUpperCase())})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-base truncate cursor-pointer hover:text-primary transition-colors",onClick:f,children:h.name}),i.jsx("p",{className:"text-sm text-muted-foreground truncate",children:h.email}),h.bio&&i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mt-1",children:h.bio}),i.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:h.location&&i.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[i.jsx(Mr,{className:"h-3 w-3"}),i.jsx("span",{children:h.location})]})}),i.jsxs("div",{className:"flex flex-wrap gap-2 mt-4",children:[i.jsxs(Se,{variant:"default",className:"flex items-center gap-1",children:[i.jsx(Ss,{className:"h-3 w-3"}),"Conectado"]}),i.jsxs($,{size:"sm",variant:"ghost",onClick:()=>o(d.id),disabled:s,className:"flex items-center gap-2",children:[i.jsx(Ql,{className:"h-4 w-4"}),"Eliminar"]}),i.jsxs($,{size:"sm",variant:"outline",onClick:f,className:"flex items-center gap-2",children:[i.jsx(vs,{className:"h-4 w-4"}),"Ver Perfil"]})]})]})]})})})}function c(){return i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-muted mb-4",children:i.jsx(Dr,{className:"h-8 w-8 text-muted-foreground"})}),i.jsx("h3",{className:"font-semibold text-lg mb-2",children:"An no tienes conexiones"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Comienza a conectar con otros miembros de Espaa Creativa"}),i.jsx($,{onClick:()=>e("/network"),children:"Buscar miembros"})]})}return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted",children:[i.jsx(Yt,{}),i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs($,{variant:"ghost",size:"sm",onClick:()=>e("/network"),className:"mb-4 flex items-center gap-2",children:[i.jsx(qn,{className:"h-4 w-4"}),"Volver a Red"]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary to-emerald-600 rounded-xl flex items-center justify-center",children:i.jsx(Dr,{className:"h-6 w-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Mi Red"}),i.jsxs("p",{className:"text-muted-foreground",children:["Todas tus conexiones activas (",a,")"]})]})]})]}),i.jsxs(_e,{className:"w-full",children:[i.jsxs(ft,{children:[i.jsx(bt,{className:"text-2xl",children:"Mis Conexiones"}),i.jsx(hr,{children:"Gestiona tus contactos y mantente en contacto con la comunidad"})]}),i.jsx(je,{children:r?i.jsx("div",{className:"text-center py-8",children:i.jsx(_t,{className:"h-8 w-8 animate-spin mx-auto text-muted-foreground"})}):a===0?i.jsx(c,{}):i.jsx("div",{className:"space-y-4",children:t==null?void 0:t.map(u=>i.jsx(l,{connectionWithUser:u},u.connection.id))})})]})]})]})}function b8(){const e=gt(),{user:t}=Ct(),{data:r,isLoading:n}=Il({status:"pending"}),{action:s,isLoading:a}=Hu(),{action:o,isLoading:l}=rw(),c=p.useMemo(()=>(r==null?void 0:r.filter(({connection:b})=>b.addressee_id===(t==null?void 0:t.id)))||[],[r,t==null?void 0:t.id]),u=p.useMemo(()=>(r==null?void 0:r.filter(({connection:b})=>b.requester_id===(t==null?void 0:t.id)))||[],[r,t==null?void 0:t.id]),d=c.length,h=u.length,f=b=>{s({connection_id:b,status:"accepted"},{onSuccess:()=>{Qt({title:"Solicitud aceptada",description:"Has aceptado la solicitud de conexin"})},onError:y=>{Qt({title:"Error",description:y.message||"No se pudo aceptar la solicitud",variant:"destructive"})}})},m=b=>{s({connection_id:b,status:"rejected"},{onSuccess:()=>{Qt({title:"Solicitud rechazada",description:"Has rechazado la solicitud de conexin"})},onError:y=>{Qt({title:"Error",description:y.message||"No se pudo rechazar la solicitud",variant:"destructive"})}})},w=b=>{o(b,{onSuccess:()=>{Qt({title:"Solicitud cancelada",description:"Tu solicitud de conexin ha sido cancelada"})},onError:y=>{Qt({title:"Error",description:y.message||"No se pudo cancelar la solicitud",variant:"destructive"})}})};function g({connectionWithUser:b,type:y}){var N,C,R,T;const{connection:x,user:j}=b,_=a||l,S=()=>{e(`/users/${j.id}`)};return i.jsx(_e,{className:"hover:shadow-md transition-shadow",children:i.jsx(je,{className:"p-6",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsxs(St,{className:"h-14 w-14 cursor-pointer",onClick:S,children:[i.jsx(Dt,{src:j.avatar_url||void 0,alt:j.name||""}),i.jsx(Nt,{className:"bg-gradient-to-br from-primary to-primary/80 text-white text-lg",children:((C=(N=j.name)==null?void 0:N.charAt(0))==null?void 0:C.toUpperCase())||((T=(R=j.email)==null?void 0:R.charAt(0))==null?void 0:T.toUpperCase())})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-base truncate cursor-pointer hover:text-primary transition-colors",onClick:S,children:j.name}),i.jsx("p",{className:"text-sm text-muted-foreground truncate",children:j.email}),j.bio&&i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mt-1",children:j.bio}),i.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:j.location&&i.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[i.jsx(Mr,{className:"h-3 w-3"}),i.jsx("span",{children:j.location})]})}),i.jsxs("div",{className:"flex flex-wrap gap-2 mt-4",children:[y==="received"&&i.jsxs(i.Fragment,{children:[i.jsxs($,{size:"sm",onClick:()=>f(x.id),disabled:_,className:"flex items-center gap-2",children:[a?i.jsx(_t,{className:"h-4 w-4 animate-spin"}):i.jsx(Fu,{className:"h-4 w-4"}),a?"Aceptando...":"Aceptar"]}),i.jsxs($,{size:"sm",variant:"destructive",onClick:()=>m(x.id),disabled:_,className:"flex items-center gap-2",children:[i.jsx(pr,{className:"h-4 w-4"}),"Rechazar"]})]}),y==="sent"&&i.jsxs(i.Fragment,{children:[i.jsxs(Se,{variant:"secondary",className:"flex items-center gap-1",children:[i.jsx(fi,{className:"h-3 w-3"}),"Pendiente"]}),i.jsxs($,{size:"sm",variant:"outline",onClick:()=>w(x.id),disabled:_,className:"flex items-center gap-2",children:[i.jsx(pr,{className:"h-4 w-4"}),"Cancelar"]})]}),i.jsxs($,{size:"sm",variant:"outline",onClick:S,className:"flex items-center gap-2",children:[i.jsx(vs,{className:"h-4 w-4"}),"Ver Perfil"]})]})]})]})})})}function v({icon:b,title:y,description:x}){return i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-muted mb-4",children:i.jsx(b,{className:"h-8 w-8 text-muted-foreground"})}),i.jsx("h3",{className:"font-semibold text-lg mb-2",children:y}),i.jsx("p",{className:"text-sm text-muted-foreground",children:x})]})}return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted",children:[i.jsx(Yt,{}),i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs($,{variant:"ghost",size:"sm",onClick:()=>e("/network"),className:"mb-4 flex items-center gap-2",children:[i.jsx(qn,{className:"h-4 w-4"}),"Volver a Red"]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary to-emerald-600 rounded-xl flex items-center justify-center",children:i.jsx(si,{className:"h-6 w-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Siguiendo y Seguidores"}),i.jsx("p",{className:"text-muted-foreground",children:"Gestiona tus solicitudes de conexin pendientes"})]})]})]}),i.jsxs(_e,{className:"w-full",children:[i.jsxs(ft,{children:[i.jsx(bt,{className:"text-2xl",children:"Solicitudes de Conexin"}),i.jsx(hr,{children:"Revisa las solicitudes recibidas y las que has enviado"})]}),i.jsx(je,{children:i.jsxs(Yf,{defaultValue:"received",children:[i.jsxs(Wu,{className:"grid w-full grid-cols-2",children:[i.jsxs(zn,{value:"received",children:["Recibidas (",d,")"]}),i.jsxs(zn,{value:"sent",children:["Enviadas (",h,")"]})]}),i.jsx(Bn,{value:"received",className:"space-y-4 mt-6",children:n?i.jsx("div",{className:"text-center py-8",children:i.jsx(_t,{className:"h-8 w-8 animate-spin mx-auto text-muted-foreground"})}):c.length===0?i.jsx(v,{icon:aE,title:"No tienes solicitudes recibidas",description:"Las solicitudes de conexin que recibas aparecern aqu"}):c.map(b=>i.jsx(g,{connectionWithUser:b,type:"received"},b.connection.id))}),i.jsx(Bn,{value:"sent",className:"space-y-4 mt-6",children:n?i.jsx("div",{className:"text-center py-8",children:i.jsx(_t,{className:"h-8 w-8 animate-spin mx-auto text-muted-foreground"})}):u.length===0?i.jsx(v,{icon:vx,title:"No has enviado solicitudes",description:"Busca usuarios y envales una solicitud de conexin"}):u.map(b=>i.jsx(g,{connectionWithUser:b,type:"sent"},b.connection.id))})]})})]})]})]})}const zR=e=>vt({queryKey:["conversations"],queryFn:async()=>await ec.getConversations(),enabled:(e==null?void 0:e.enabled)!==!1,staleTime:60*1e3,gcTime:300*1e3});function Jt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function j8(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const $d=43200,zj=1440;let _8={};function S8(){return _8}function Bj(e){const t=Jt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function fh(e,t){const r=Jt(e),n=Jt(t),s=r.getTime()-n.getTime();return s<0?-1:s>0?1:s}function N8(e){return j8(e,Date.now())}function C8(e,t){const r=Jt(e),n=Jt(t),s=r.getFullYear()-n.getFullYear(),a=r.getMonth()-n.getMonth();return s*12+a}function E8(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function k8(e,t){return+Jt(e)-+Jt(t)}function P8(e){const t=Jt(e);return t.setHours(23,59,59,999),t}function R8(e){const t=Jt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function T8(e){const t=Jt(e);return+P8(t)==+R8(t)}function A8(e,t){const r=Jt(e),n=Jt(t),s=fh(r,n),a=Math.abs(C8(r,n));let o;if(a<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*a);let l=fh(r,n)===-s;T8(Jt(e))&&a===1&&fh(e,n)===1&&(l=!1),o=s*(a-Number(l))}return o===0?0:o}function O8(e,t,r){const n=k8(e,t)/1e3;return E8(r==null?void 0:r.roundingMethod)(n)}const I8={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},M8=(e,t,r)=>{let n;const s=I8[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function rl(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const D8={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},L8={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},$8={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},F8={date:rl({formats:D8,defaultWidth:"full"}),time:rl({formats:L8,defaultWidth:"full"}),dateTime:rl({formats:$8,defaultWidth:"full"})},U8={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},z8=(e,t,r,n)=>U8[e];function ds(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return s[a]}}const B8={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},V8={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},q8={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},W8={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},H8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},K8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Q8=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},G8={ordinalNumber:Q8,era:ds({values:B8,defaultWidth:"wide"}),quarter:ds({values:V8,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ds({values:q8,defaultWidth:"wide"}),day:ds({values:W8,defaultWidth:"wide"}),dayPeriod:ds({values:H8,defaultWidth:"wide",formattingValues:K8,defaultFormattingWidth:"wide"})};function hs(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(s);if(!a)return null;const o=a[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?J8(l,h=>h.test(o)):Y8(l,h=>h.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function Y8(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function J8(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function BR(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(s.length);return{value:o,rest:l}}}const X8=/^(\d+)(th|st|nd|rd)?/i,Z8=/\d+/i,eq={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},tq={any:[/^b/i,/^(a|c)/i]},rq={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},nq={any:[/1/i,/2/i,/3/i,/4/i]},sq={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},aq={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},iq={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},oq={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},lq={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},cq={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},uq={ordinalNumber:BR({matchPattern:X8,parsePattern:Z8,valueCallback:e=>parseInt(e,10)}),era:hs({matchPatterns:eq,defaultMatchWidth:"wide",parsePatterns:tq,defaultParseWidth:"any"}),quarter:hs({matchPatterns:rq,defaultMatchWidth:"wide",parsePatterns:nq,defaultParseWidth:"any",valueCallback:e=>e+1}),month:hs({matchPatterns:sq,defaultMatchWidth:"wide",parsePatterns:aq,defaultParseWidth:"any"}),day:hs({matchPatterns:iq,defaultMatchWidth:"wide",parsePatterns:oq,defaultParseWidth:"any"}),dayPeriod:hs({matchPatterns:lq,defaultMatchWidth:"any",parsePatterns:cq,defaultParseWidth:"any"})},dq={code:"en-US",formatDistance:M8,formatLong:F8,formatRelative:z8,localize:G8,match:uq,options:{weekStartsOn:0,firstWeekContainsDate:1}};function hq(e,t,r){const n=S8(),s=(r==null?void 0:r.locale)??n.locale??dq,a=2520,o=fh(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,u;o>0?(c=Jt(t),u=Jt(e)):(c=Jt(e),u=Jt(t));const d=O8(u,c),h=(Bj(u)-Bj(c))/1e3,f=Math.round((d-h)/60);let m;if(f<2)return r!=null&&r.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,l):d<10?s.formatDistance("lessThanXSeconds",10,l):d<20?s.formatDistance("lessThanXSeconds",20,l):d<40?s.formatDistance("halfAMinute",0,l):d<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):f===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",f,l);if(f<45)return s.formatDistance("xMinutes",f,l);if(f<90)return s.formatDistance("aboutXHours",1,l);if(f<zj){const w=Math.round(f/60);return s.formatDistance("aboutXHours",w,l)}else{if(f<a)return s.formatDistance("xDays",1,l);if(f<$d){const w=Math.round(f/zj);return s.formatDistance("xDays",w,l)}else if(f<$d*2)return m=Math.round(f/$d),s.formatDistance("aboutXMonths",m,l)}if(m=A8(u,c),m<12){const w=Math.round(f/$d);return s.formatDistance("xMonths",w,l)}else{const w=m%12,g=Math.trunc(m/12);return w<3?s.formatDistance("aboutXYears",g,l):w<9?s.formatDistance("overXYears",g,l):s.formatDistance("almostXYears",g+1,l)}}function nw(e,t){return hq(e,N8(e),t)}const fq={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},mq=(e,t,r)=>{let n;const s=fq[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"en "+n:"hace "+n:n},pq={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},gq={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},vq={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},yq={date:rl({formats:pq,defaultWidth:"full"}),time:rl({formats:gq,defaultWidth:"full"}),dateTime:rl({formats:vq,defaultWidth:"full"})},xq={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},wq={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},bq=(e,t,r,n)=>t.getHours()!==1?wq[e]:xq[e],jq={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},_q={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},Sq={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},Nq={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},Cq={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},Eq={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},kq=(e,t)=>Number(e)+"",Pq={ordinalNumber:kq,era:ds({values:jq,defaultWidth:"wide"}),quarter:ds({values:_q,defaultWidth:"wide",argumentCallback:e=>Number(e)-1}),month:ds({values:Sq,defaultWidth:"wide"}),day:ds({values:Nq,defaultWidth:"wide"}),dayPeriod:ds({values:Cq,defaultWidth:"wide",formattingValues:Eq,defaultFormattingWidth:"wide"})},Rq=/^(\d+)()?/i,Tq=/\d+/i,Aq={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},Oq={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},Iq={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},Mq={any:[/1/i,/2/i,/3/i,/4/i]},Dq={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},Lq={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},$q={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},Fq={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},Uq={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},zq={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},Bq={ordinalNumber:BR({matchPattern:Rq,parsePattern:Tq,valueCallback:function(e){return parseInt(e,10)}}),era:hs({matchPatterns:Aq,defaultMatchWidth:"wide",parsePatterns:Oq,defaultParseWidth:"any"}),quarter:hs({matchPatterns:Iq,defaultMatchWidth:"wide",parsePatterns:Mq,defaultParseWidth:"any",valueCallback:e=>e+1}),month:hs({matchPatterns:Dq,defaultMatchWidth:"wide",parsePatterns:Lq,defaultParseWidth:"any"}),day:hs({matchPatterns:$q,defaultMatchWidth:"wide",parsePatterns:Fq,defaultParseWidth:"any"}),dayPeriod:hs({matchPatterns:Uq,defaultMatchWidth:"any",parsePatterns:zq,defaultParseWidth:"any"})},sw={code:"es",formatDistance:mq,formatLong:yq,formatRelative:bq,localize:Pq,match:Bq,options:{weekStartsOn:1,firstWeekContainsDate:1}};function Vj({onSelectConversation:e,selectedUserId:t}){const{data:r,isLoading:n,error:s,refetch:a}=zR();return n?i.jsx("div",{className:"space-y-2",children:[1,2,3].map(o=>i.jsx(_e,{children:i.jsx(je,{className:"p-4",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(It,{className:"h-12 w-12 rounded-full"}),i.jsxs("div",{className:"flex-1 space-y-2",children:[i.jsx(It,{className:"h-4 w-24"}),i.jsx(It,{className:"h-3 w-full"}),i.jsx(It,{className:"h-3 w-16"})]})]})})},o))}):s?i.jsxs(Qs,{variant:"destructive",className:"m-4",children:[i.jsx(Hs,{className:"h-4 w-4"}),i.jsxs(Gs,{className:"flex flex-col gap-2",children:[i.jsx("p",{className:"text-sm",children:"Error al cargar conversaciones"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:s.message}),i.jsxs($,{variant:"outline",size:"sm",onClick:()=>a(),className:"w-fit",children:[i.jsx(r5,{className:"h-4 w-4 mr-2"}),"Reintentar"]})]})]}):!r||r.conversations.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center",children:[i.jsx(Uu,{className:"h-12 w-12 text-muted-foreground mb-4"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"No tienes conversaciones an"})]}):i.jsx("div",{className:"space-y-2",children:r.conversations.map(o=>{var u,d;const l=t===o.user.id,c=nw(new Date(o.last_message.created_at),{addSuffix:!0,locale:sw});return i.jsx(_e,{className:`cursor-pointer transition-colors hover:bg-green-50 ${l?"bg-green-50 border-green-500":""}`,onClick:()=>e==null?void 0:e(o.user.id),children:i.jsx(je,{className:"p-4",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsxs(St,{className:"h-12 w-12",children:[i.jsx(Dt,{src:o.user.avatar_url||void 0,alt:o.user.name}),i.jsx(Nt,{children:(d=(u=o.user.name)==null?void 0:u.charAt(0))==null?void 0:d.toUpperCase()})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[i.jsx("h4",{className:`font-semibold text-sm truncate ${l?"text-green-900":""}`,children:o.user.name}),o.unread_count>0&&i.jsx(Se,{variant:"default",className:"shrink-0",children:o.unread_count})]}),i.jsx("p",{className:`text-xs line-clamp-2 mb-1 ${l?"text-green-700":"text-muted-foreground"}`,children:o.last_message.content}),i.jsx("p",{className:`text-xs ${l?"text-green-600":"text-muted-foreground"}`,children:c})]})]})})},o.user.id)})})}function Vq(e,t){return p.useReducer((r,n)=>t[r][n]??r,e)}var aw="ScrollArea",[VR]=yr(aw),[qq,yn]=VR(aw),qR=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:a=600,...o}=e,[l,c]=p.useState(null),[u,d]=p.useState(null),[h,f]=p.useState(null),[m,w]=p.useState(null),[g,v]=p.useState(null),[b,y]=p.useState(0),[x,j]=p.useState(0),[_,S]=p.useState(!1),[N,C]=p.useState(!1),R=Te(t,z=>c(z)),T=Vu(s);return i.jsx(qq,{scope:r,type:n,dir:T,scrollHideDelay:a,scrollArea:l,viewport:u,onViewportChange:d,content:h,onContentChange:f,scrollbarX:m,onScrollbarXChange:w,scrollbarXEnabled:_,onScrollbarXEnabledChange:S,scrollbarY:g,onScrollbarYChange:v,scrollbarYEnabled:N,onScrollbarYEnabledChange:C,onCornerWidthChange:y,onCornerHeightChange:j,children:i.jsx(de.div,{dir:T,...o,ref:R,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":x+"px",...e.style}})})});qR.displayName=aw;var WR="ScrollAreaViewport",HR=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:s,...a}=e,o=yn(WR,r),l=p.useRef(null),c=Te(t,l,o.onViewportChange);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),i.jsx(de.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:i.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});HR.displayName=WR;var Es="ScrollAreaScrollbar",iw=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=yn(Es,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=s,l=e.orientation==="horizontal";return p.useEffect(()=>(l?a(!0):o(!0),()=>{l?a(!1):o(!1)}),[l,a,o]),s.type==="hover"?i.jsx(Wq,{...n,ref:t,forceMount:r}):s.type==="scroll"?i.jsx(Hq,{...n,ref:t,forceMount:r}):s.type==="auto"?i.jsx(KR,{...n,ref:t,forceMount:r}):s.type==="always"?i.jsx(ow,{...n,ref:t}):null});iw.displayName=Es;var Wq=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=yn(Es,e.__scopeScrollArea),[a,o]=p.useState(!1);return p.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),i.jsx(xr,{present:r||a,children:i.jsx(KR,{"data-state":a?"visible":"hidden",...n,ref:t})})}),Hq=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=yn(Es,e.__scopeScrollArea),a=e.orientation==="horizontal",o=mm(()=>c("SCROLL_END"),100),[l,c]=Vq("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),p.useEffect(()=>{const u=s.viewport,d=a?"scrollLeft":"scrollTop";if(u){let h=u[d];const f=()=>{const m=u[d];h!==m&&(c("SCROLL"),o()),h=m};return u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[s.viewport,a,c,o]),i.jsx(xr,{present:r||l!=="hidden",children:i.jsx(ow,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Z(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Z(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),KR=p.forwardRef((e,t)=>{const r=yn(Es,e.__scopeScrollArea),{forceMount:n,...s}=e,[a,o]=p.useState(!1),l=e.orientation==="horizontal",c=mm(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:d)}},10);return Ml(r.viewport,c),Ml(r.content,c),i.jsx(xr,{present:n||a,children:i.jsx(ow,{"data-state":a?"visible":"hidden",...s,ref:t})})}),ow=p.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,s=yn(Es,e.__scopeScrollArea),a=p.useRef(null),o=p.useRef(0),[l,c]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=XR(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:f=>a.current=f,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:f=>o.current=f};function h(f,m){return Xq(f,o.current,l,m)}return r==="horizontal"?i.jsx(Kq,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const f=s.viewport.scrollLeft,m=qj(f,l,s.dir);a.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollLeft=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollLeft=h(f,s.dir))}}):r==="vertical"?i.jsx(Qq,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const f=s.viewport.scrollTop,m=qj(f,l);a.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollTop=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollTop=h(f))}}):null}),Kq=p.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,a=yn(Es,e.__scopeScrollArea),[o,l]=p.useState(),c=p.useRef(null),u=Te(t,c,a.onScrollbarXChange);return p.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(GR,{"data-orientation":"horizontal",...s,ref:u,sizes:r,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":fm(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(a.viewport){const f=a.viewport.scrollLeft+d.deltaX;e.onWheelScroll(f),eT(f,h)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:uf(o.paddingLeft),paddingEnd:uf(o.paddingRight)}})}})}),Qq=p.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,a=yn(Es,e.__scopeScrollArea),[o,l]=p.useState(),c=p.useRef(null),u=Te(t,c,a.onScrollbarYChange);return p.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(GR,{"data-orientation":"vertical",...s,ref:u,sizes:r,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":fm(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(a.viewport){const f=a.viewport.scrollTop+d.deltaY;e.onWheelScroll(f),eT(f,h)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:uf(o.paddingTop),paddingEnd:uf(o.paddingBottom)}})}})}),[Gq,QR]=VR(Es),GR=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:h,...f}=e,m=yn(Es,r),[w,g]=p.useState(null),v=Te(t,R=>g(R)),b=p.useRef(null),y=p.useRef(""),x=m.viewport,j=n.content-n.viewport,_=jt(d),S=jt(c),N=mm(h,10);function C(R){if(b.current){const T=R.clientX-b.current.left,z=R.clientY-b.current.top;u({x:T,y:z})}}return p.useEffect(()=>{const R=T=>{const z=T.target;(w==null?void 0:w.contains(z))&&_(T,j)};return document.addEventListener("wheel",R,{passive:!1}),()=>document.removeEventListener("wheel",R,{passive:!1})},[x,w,j,_]),p.useEffect(S,[n,S]),Ml(w,N),Ml(m.content,N),i.jsx(Gq,{scope:r,scrollbar:w,hasThumb:s,onThumbChange:jt(a),onThumbPointerUp:jt(o),onThumbPositionChange:S,onThumbPointerDown:jt(l),children:i.jsx(de.div,{...f,ref:v,style:{position:"absolute",...f.style},onPointerDown:Z(e.onPointerDown,R=>{R.button===0&&(R.target.setPointerCapture(R.pointerId),b.current=w.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),C(R))}),onPointerMove:Z(e.onPointerMove,C),onPointerUp:Z(e.onPointerUp,R=>{const T=R.target;T.hasPointerCapture(R.pointerId)&&T.releasePointerCapture(R.pointerId),document.body.style.webkitUserSelect=y.current,m.viewport&&(m.viewport.style.scrollBehavior=""),b.current=null})})})}),cf="ScrollAreaThumb",YR=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=QR(cf,e.__scopeScrollArea);return i.jsx(xr,{present:r||s.hasThumb,children:i.jsx(Yq,{ref:t,...n})})}),Yq=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...s}=e,a=yn(cf,r),o=QR(cf,r),{onThumbPositionChange:l}=o,c=Te(t,h=>o.onThumbChange(h)),u=p.useRef(void 0),d=mm(()=>{u.current&&(u.current(),u.current=void 0)},100);return p.useEffect(()=>{const h=a.viewport;if(h){const f=()=>{if(d(),!u.current){const m=Zq(h,l);u.current=m,l()}};return l(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[a.viewport,d,l]),i.jsx(de.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Z(e.onPointerDownCapture,h=>{const m=h.target.getBoundingClientRect(),w=h.clientX-m.left,g=h.clientY-m.top;o.onThumbPointerDown({x:w,y:g})}),onPointerUp:Z(e.onPointerUp,o.onThumbPointerUp)})});YR.displayName=cf;var lw="ScrollAreaCorner",JR=p.forwardRef((e,t)=>{const r=yn(lw,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?i.jsx(Jq,{...e,ref:t}):null});JR.displayName=lw;var Jq=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,s=yn(lw,r),[a,o]=p.useState(0),[l,c]=p.useState(0),u=!!(a&&l);return Ml(s.scrollbarX,()=>{var h;const d=((h=s.scrollbarX)==null?void 0:h.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),Ml(s.scrollbarY,()=>{var h;const d=((h=s.scrollbarY)==null?void 0:h.offsetWidth)||0;s.onCornerWidthChange(d),o(d)}),u?i.jsx(de.div,{...n,ref:t,style:{width:a,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function uf(e){return e?parseInt(e,10):0}function XR(e,t){const r=e/t;return isNaN(r)?0:r}function fm(e){const t=XR(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function Xq(e,t,r,n="ltr"){const s=fm(r),a=s/2,o=t||a,l=s-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,h=n==="ltr"?[0,d]:[d*-1,0];return ZR([c,u],h)(e)}function qj(e,t,r="ltr"){const n=fm(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-s,o=t.content-t.viewport,l=a-n,c=r==="ltr"?[0,o]:[o*-1,0],u=Rv(e,c);return ZR([0,o],[0,l])(u)}function ZR(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function eT(e,t){return e>0&&e<t}var Zq=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return(function s(){const a={left:e.scrollLeft,top:e.scrollTop},o=r.left!==a.left,l=r.top!==a.top;(o||l)&&t(),r=a,n=window.requestAnimationFrame(s)})(),()=>window.cancelAnimationFrame(n)};function mm(e,t){const r=jt(e),n=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(n.current),[]),p.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Ml(e,t){const r=jt(t);Pt(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}var tT=qR,e9=HR,t9=JR;const rT=p.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(tT,{ref:n,className:J("relative overflow-hidden",e),...r,children:[i.jsx(e9,{className:"h-full w-full rounded-[inherit]",children:t}),i.jsx(nT,{}),i.jsx(t9,{})]}));rT.displayName=tT.displayName;const nT=p.forwardRef(({className:e,orientation:t="vertical",...r},n)=>i.jsx(iw,{ref:n,orientation:t,className:J("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:i.jsx(YR,{className:"relative flex-1 rounded-full bg-border"})}));nT.displayName=iw.displayName;const r9=()=>{const e=Ke(),t=Ze({mutationFn:async r=>{await ec.deleteMessage(r)},onSuccess:()=>{e.invalidateQueries({queryKey:["conversations"]}),e.invalidateQueries({queryKey:["conversation-messages"]})}});return{action:t.mutate,isLoading:t.isPending,error:t.error,isSuccess:t.isSuccess,data:t.data}};function n9({message:e,currentUserId:t,showActions:r=!1}){var u,d;const{action:n,isLoading:s}=r9(),a=e.sender_id===t,o=e.sender,l=()=>{confirm("Ests seguro de que quieres eliminar este mensaje?")&&n(e.id)},c=nw(new Date(e.created_at),{addSuffix:!0,locale:sw});return i.jsxs("div",{className:`flex gap-3 ${a?"flex-row-reverse":"flex-row"}`,children:[i.jsxs(St,{className:"h-8 w-8 shrink-0",children:[i.jsx(Dt,{src:o.avatar_url||void 0,alt:o.name}),i.jsx(Nt,{children:(d=(u=o.name)==null?void 0:u.charAt(0))==null?void 0:d.toUpperCase()})]}),i.jsxs("div",{className:`flex flex-col gap-1 max-w-[70%] ${a?"items-end":"items-start"}`,children:[i.jsx("div",{className:`rounded-lg px-4 py-2 ${a?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"}`,children:i.jsx("p",{className:"text-sm whitespace-pre-wrap break-words",children:e.content})}),i.jsxs("div",{className:"flex items-center gap-2 px-1",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:c}),a&&e.read_at&&i.jsx("p",{className:"text-xs text-muted-foreground",children:" Ledo"}),r&&a&&i.jsx($,{variant:"ghost",size:"sm",onClick:l,disabled:s,className:"h-6 px-2",children:i.jsx(Ql,{className:"h-3 w-3"})})]})]})]})}const s9=()=>{const e=Ke(),t=Ze({mutationFn:async r=>{console.log("[useMarkAsReadMutation] Sending request:",r);const n=await ec.markAsRead(r);return console.log("[useMarkAsReadMutation] Response:",n),n},onSuccess:r=>{console.log("[useMarkAsReadMutation] Success! Updated count:",r.updated_count),e.invalidateQueries({queryKey:["conversations"]}),e.invalidateQueries({queryKey:["conversation-messages"]}),e.invalidateQueries({queryKey:["unread-count"]}),console.log("[useMarkAsReadMutation] Queries invalidated")},onError:r=>{console.error("[useMarkAsReadMutation] Error marking messages as read:",r)}});return{action:t.mutate,isLoading:t.isPending,error:t.error,isSuccess:t.isSuccess,data:t.data}};function Wj({userId:e,messages:t,isLoading:r,error:n}){const{user:s}=Ct(),a=p.useRef(null),o=p.useRef(null),{action:l}=s9(),[c,u]=p.useState(!1),d=p.useRef(t.length);p.useEffect(()=>{if(!o.current||!a.current)return;const f=a.current.querySelector("[data-radix-scroll-area-viewport]");if(!f){o.current.scrollIntoView({behavior:"smooth"});return}const m=f.scrollHeight-f.scrollTop-f.clientHeight<100;t.length!==d.current&&(m?(o.current.scrollIntoView({behavior:"smooth"}),u(!1)):u(!0),d.current=t.length)},[t]);const h=()=>{o.current&&(o.current.scrollIntoView({behavior:"smooth"}),u(!1))};return p.useEffect(()=>{if(!e||!t||t.length===0)return;const f=t.filter(m=>m.recipient_id===(s==null?void 0:s.id)&&m.sender_id===e&&!m.read_at);if(console.log("[MessagesList] Checking unread messages:",{userId:e,currentUserId:s==null?void 0:s.id,totalMessages:t.length,unreadCount:f.length,unreadMessageIds:f.map(m=>m.id)}),f.length>0){const m=f.map(w=>w.id);console.log("[MessagesList] Marking messages as read:",m),l({message_ids:m})}},[e,t,s==null?void 0:s.id,l]),r?i.jsx("div",{className:"p-4 space-y-4",children:[1,2,3,4].map(f=>i.jsxs("div",{className:`flex gap-3 ${f%2===0?"flex-row-reverse":"flex-row"}`,children:[i.jsx(It,{className:"h-8 w-8 rounded-full shrink-0"}),i.jsxs("div",{className:"flex flex-col gap-1 max-w-[70%]",children:[i.jsx(It,{className:"h-16 w-48 rounded-lg"}),i.jsx(It,{className:"h-3 w-24"})]})]},f))}):n?i.jsx("div",{className:"flex flex-col items-center justify-center h-full p-8",children:i.jsxs(Qs,{variant:"destructive",children:[i.jsx(Hs,{className:"h-4 w-4"}),i.jsxs(Gs,{className:"flex flex-col gap-2",children:[i.jsx("p",{className:"text-sm font-medium",children:"Error al cargar mensajes"}),i.jsx("p",{className:"text-xs",children:n.message})]})]})}):!t||t.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-8 text-center",children:[i.jsx(Uu,{className:"h-12 w-12 text-muted-foreground mb-4"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"No hay mensajes an. S el primero en enviar un mensaje!"})]}):i.jsxs("div",{className:"relative h-full",children:[i.jsx(rT,{className:"h-full",ref:a,children:i.jsxs("div",{className:"p-4 space-y-4",children:[t.map(f=>i.jsx(n9,{message:f,currentUserId:(s==null?void 0:s.id)||"",showActions:!0},f.id)),i.jsx("div",{ref:o})]})}),c&&i.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2",children:i.jsxs($,{onClick:h,size:"sm",className:"shadow-lg",children:[i.jsx(V3,{className:"h-4 w-4 mr-2"}),"Nuevos mensajes"]})})]})}const la=p.forwardRef(({className:e,...t},r)=>i.jsx("textarea",{className:J("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));la.displayName="Textarea";const a9=()=>{const e=Ke(),t=Ze({mutationFn:async r=>(await ec.sendMessage(r)).message,onMutate:async r=>{var a;await e.cancelQueries({queryKey:["conversation-messages",r.recipient_id]});const n=["conversation-messages",r.recipient_id],s=e.getQueryData(n);if(s){const o={id:`temp-${Date.now()}`,content:r.content,sender_id:"",recipient_id:r.recipient_id,created_at:new Date().toISOString(),read_at:null,sender:{id:"",name:"Enviando...",email:"",avatar_url:null,headline:null,bio:null,location:null,website:null,linkedin_url:null,twitter_url:null,github_url:null,skills:[],interests:[],completed_pct:0,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),status:"pending_approval",approved_at:null,role:"user"},recipient:((a=s.messages[0])==null?void 0:a.recipient)||{id:r.recipient_id,name:"",email:"",avatar_url:null,headline:null,bio:null,location:null,website:null,linkedin_url:null,twitter_url:null,github_url:null,skills:[],interests:[],completed_pct:0,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),status:"pending_approval",approved_at:null,role:"user"}};e.setQueryData(["conversation-messages",r.recipient_id],{messages:[...s.messages,o]})}return{previousMessages:s}},onError:(r,n,s)=>{s!=null&&s.previousMessages&&e.setQueryData(["conversation-messages",n.recipient_id],s.previousMessages)},onSuccess:(r,n)=>{e.invalidateQueries({queryKey:["conversations"]}),e.invalidateQueries({queryKey:["conversation-messages",n.recipient_id]}),e.invalidateQueries({queryKey:["unread-count"]})}});return{action:t.mutate,isLoading:t.isPending,error:t.error,isSuccess:t.isSuccess,data:t.data}},Hj=5e3;function Kj({recipientId:e,onMessageSent:t}){const[r,n]=p.useState(""),{action:s,isLoading:a}=a9(),o=async d=>{d.preventDefault(),!(!r.trim()||a)&&s({recipient_id:e,content:r.trim()},{onSuccess:()=>{n(""),t==null||t()}})},l=d=>{d.key==="Enter"&&!d.shiftKey&&(d.preventDefault(),o(d))},c=Hj-r.length,u=c<0;return i.jsxs("form",{onSubmit:o,className:"space-y-2",children:[i.jsxs("div",{className:"relative",children:[i.jsx(la,{value:r,onChange:d=>n(d.target.value),onKeyDown:l,placeholder:"Escribe un mensaje...",className:"min-h-[100px] resize-none pr-20",disabled:a,maxLength:Hj}),i.jsx("div",{className:"absolute bottom-2 right-2",children:i.jsx("span",{className:`text-xs ${u?"text-destructive font-semibold":c<100?"text-warning":"text-muted-foreground"}`,children:c})})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:"Presiona Enter para enviar, Shift+Enter para nueva lnea"}),i.jsx($,{type:"submit",disabled:!r.trim()||a||u,size:"sm",children:a?i.jsxs(i.Fragment,{children:[i.jsx(_t,{className:"h-4 w-4 mr-2 animate-spin"}),"Enviando..."]}):i.jsxs(i.Fragment,{children:[i.jsx(vx,{className:"h-4 w-4 mr-2"}),"Enviar"]})})]})]})}function i9({children:e}){const[t,r]=p.useState(!1),[n,s]=p.useState(""),a=gt(),{data:o,isLoading:l}=Il({status:"accepted"},{enabled:t}),c=o==null?void 0:o.filter(d=>d.user.name.toLowerCase().includes(n.toLowerCase())),u=d=>{r(!1),s(""),a(`/messages/${d}`)};return i.jsxs(hn,{open:t,onOpenChange:r,children:[i.jsx(zE,{asChild:!0,children:e||i.jsxs($,{children:[i.jsx(eo,{className:"h-4 w-4 mr-2"}),"Nuevo mensaje"]})}),i.jsxs(Yr,{className:"sm:max-w-[500px]",children:[i.jsxs(fn,{children:[i.jsx(mn,{children:"Nueva conversacin"}),i.jsx(pn,{children:"Selecciona una persona de tu red para iniciar una conversacin"})]}),i.jsxs("div",{className:"relative",children:[i.jsx(aa,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),i.jsx(ge,{placeholder:"Buscar en tu red...",className:"pl-10",value:n,onChange:d=>s(d.target.value)})]}),i.jsx("div",{className:"h-[400px] overflow-y-auto pr-4",children:l?i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsx("p",{className:"text-sm text-muted-foreground",children:"Cargando..."})}):c&&c.length>0?i.jsx("div",{className:"space-y-2",children:c.map(d=>{var h,f;return i.jsxs("div",{onClick:()=>u(d.user.id),className:"w-full flex items-center space-x-3 p-3 rounded-lg hover:bg-accent transition-colors cursor-pointer",role:"button",tabIndex:0,onKeyDown:m=>{(m.key==="Enter"||m.key===" ")&&(m.preventDefault(),u(d.user.id))},children:[i.jsxs(St,{className:"h-10 w-10",children:[i.jsx(Dt,{src:d.user.avatar_url||void 0,alt:d.user.name}),i.jsx(Nt,{children:(f=(h=d.user.name)==null?void 0:h.charAt(0))==null?void 0:f.toUpperCase()})]}),i.jsxs("div",{className:"flex-1 text-left",children:[i.jsx("p",{className:"font-medium text-sm",children:d.user.name}),i.jsx("p",{className:"text-xs text-muted-foreground",children:d.user.headline||"Miembro de Espaa Creativa"})]})]},d.user.id)})}):n?i.jsxs("div",{className:"flex flex-col items-center justify-center py-8 space-y-3",children:[i.jsx(aa,{className:"h-12 w-12 text-muted-foreground"}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:['No se encontraron resultados para "',n,'"']})]}):i.jsxs("div",{className:"flex flex-col items-center justify-center py-8 space-y-3",children:[i.jsx(si,{className:"h-12 w-12 text-muted-foreground"}),i.jsxs("div",{className:"text-center space-y-1",children:[i.jsx("p",{className:"text-sm font-medium",children:"No tienes conexiones an"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Conctate con otros miembros para empezar a chatear"})]}),i.jsx($,{variant:"outline",size:"sm",onClick:()=>{r(!1),a("/network")},children:"Explorar red"})]})})]})]})}const o9=(e,t)=>vt({queryKey:["conversation-messages",e.user_id,e.limit,e.offset],queryFn:async()=>await ec.getConversationMessages(e),enabled:(t==null?void 0:t.enabled)!==!1&&!!e.user_id,staleTime:30*1e3,gcTime:300*1e3});function l9(){const e=Ke(),{user:t}=Ct();p.useEffect(()=>{if(!(t!=null&&t.id))return;const r=ar.channel("conversations-realtime").on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`recipient_id=eq.${t.id}`},()=>{e.invalidateQueries({queryKey:["conversations"]})}).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`sender_id=eq.${t.id}`},()=>{e.invalidateQueries({queryKey:["conversations"]})}).subscribe();return()=>{ar.removeChannel(r)}},[t==null?void 0:t.id,e])}function c9(e){const t=Ke(),{user:r}=Ct();p.useEffect(()=>{if(!(r!=null&&r.id)||!e)return;const n=ar.channel(`messages-${e}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`recipient_id=eq.${r.id},sender_id=eq.${e}`},()=>{t.invalidateQueries({queryKey:["conversation-messages",e]}),t.invalidateQueries({queryKey:["unread-count"]})}).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`sender_id=eq.${r.id},recipient_id=eq.${e}`},()=>{t.invalidateQueries({queryKey:["conversation-messages",e]})}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"messages",filter:`recipient_id=eq.${r.id},sender_id=eq.${e}`},()=>{t.invalidateQueries({queryKey:["conversation-messages",e]}),t.invalidateQueries({queryKey:["unread-count"]})}).subscribe();return()=>{ar.removeChannel(n)}},[r==null?void 0:r.id,e,t])}function Qj(){var h,f,m,w,g;const{userId:e}=zl(),t=gt(),[r,n]=p.useState("");l9(),c9(e),eR();const{data:s}=zR(),{data:a}=o9({user_id:e||""},{enabled:!!e}),{data:o}=Il({status:"accepted"},{enabled:!!e}),l=s==null?void 0:s.conversations.find(v=>v.user.id===e),c=(l==null?void 0:l.user)||(a!=null&&a.messages.length?a.messages[0].sender.id===e?a.messages[0].sender:a.messages[0].recipient:null)||((h=o==null?void 0:o.find(v=>v.user.id===e))==null?void 0:h.user)||null,u=v=>{t(`/messages/${v}`)},d=()=>{t("/messages")};return s==null||s.conversations.filter(v=>v.user.name.toLowerCase().includes(r.toLowerCase())),i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted",children:[i.jsx(Yt,{}),i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[i.jsx("div",{className:"mb-8",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary to-emerald-600 rounded-xl flex items-center justify-center",children:i.jsx(pu,{className:"h-6 w-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Mensajes"}),i.jsx("p",{className:"text-muted-foreground",children:"Chatea con otros miembros de la comunidad"})]})]}),i.jsx(i9,{})]})}),i.jsxs("div",{className:"hidden lg:grid lg:grid-cols-3 gap-6 h-[calc(100vh-200px)]",children:[i.jsxs(_e,{className:"lg:col-span-1 flex flex-col",children:[i.jsxs(ft,{children:[i.jsx(bt,{className:"text-lg",children:"Conversaciones"}),i.jsxs("div",{className:"relative",children:[i.jsx(aa,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),i.jsx(ge,{placeholder:"Buscar conversaciones...",className:"pl-10",value:r,onChange:v=>n(v.target.value)})]})]}),i.jsx(je,{className:"flex-1 overflow-y-auto p-4",children:i.jsx(Vj,{onSelectConversation:u,selectedUserId:e})})]}),i.jsx(_e,{className:"lg:col-span-2 flex flex-col",children:e?i.jsxs(i.Fragment,{children:[i.jsx(ft,{className:"border-b",children:i.jsx("div",{className:"flex items-center space-x-3",children:c?i.jsxs(i.Fragment,{children:[i.jsxs(St,{className:"h-10 w-10",children:[i.jsx(Dt,{src:c.avatar_url||void 0,alt:c.name}),i.jsx(Nt,{children:(m=(f=c.name)==null?void 0:f.charAt(0))==null?void 0:m.toUpperCase()})]}),i.jsxs("div",{children:[i.jsx(bt,{className:"text-lg",children:c.name}),i.jsx(hr,{children:c.headline||"Miembro de Espaa Creativa"})]})]}):i.jsxs("div",{children:[i.jsx(bt,{className:"text-lg",children:"Nueva conversacin"}),i.jsx(hr,{children:"Cargando informacin..."})]})})}),i.jsx(je,{className:"flex-1 overflow-hidden p-0",children:i.jsx(Wj,{userId:e,messages:(a==null?void 0:a.messages)||[]})}),i.jsx(je,{className:"border-t p-4",children:i.jsx(Kj,{recipientId:e})})]}):i.jsx(je,{className:"flex items-center justify-center h-full",children:i.jsxs("div",{className:"text-center",children:[i.jsx(pu,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"Selecciona una conversacin para empezar a chatear"})]})})})]}),i.jsx("div",{className:"lg:hidden",children:e?i.jsx(_e,{className:"min-h-[calc(100vh-200px)] flex flex-col",children:i.jsxs(i.Fragment,{children:[i.jsx(ft,{className:"border-b",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx($,{variant:"ghost",size:"sm",onClick:d,className:"mr-2",children:i.jsx(qn,{className:"h-4 w-4"})}),c?i.jsxs(i.Fragment,{children:[i.jsxs(St,{className:"h-10 w-10",children:[i.jsx(Dt,{src:c.avatar_url||void 0,alt:c.name}),i.jsx(Nt,{children:(g=(w=c.name)==null?void 0:w.charAt(0))==null?void 0:g.toUpperCase()})]}),i.jsxs("div",{children:[i.jsx(bt,{className:"text-lg",children:c.name}),i.jsx(hr,{children:c.headline||"Miembro de Espaa Creativa"})]})]}):i.jsxs("div",{children:[i.jsx(bt,{className:"text-lg",children:"Nueva conversacin"}),i.jsx(hr,{children:"Cargando informacin..."})]})]})}),i.jsx(je,{className:"flex-1 overflow-hidden p-0",children:i.jsx(Wj,{userId:e,messages:(a==null?void 0:a.messages)||[]})}),i.jsx(je,{className:"border-t p-4",children:i.jsx(Kj,{recipientId:e})})]})}):i.jsxs(_e,{children:[i.jsxs(ft,{children:[i.jsx(bt,{className:"text-lg",children:"Conversaciones"}),i.jsxs("div",{className:"relative",children:[i.jsx(aa,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),i.jsx(ge,{placeholder:"Buscar conversaciones...",className:"pl-10",value:r,onChange:v=>n(v.target.value)})]})]}),i.jsx(je,{className:"p-4",children:i.jsx(Vj,{onSelectConversation:u,selectedUserId:e})})]})})]})]})}const u9=(e,t)=>vt({queryKey:["opportunity",e],queryFn:async()=>{if(!e)throw new Error("Opportunity ID is required");return(await Gl.getOpportunity(e)).opportunity},enabled:!!e,staleTime:300*1e3,gcTime:600*1e3});var Ju=e=>e.type==="checkbox",Ti=e=>e instanceof Date,Cr=e=>e==null;const sT=e=>typeof e=="object";var Mt=e=>!Cr(e)&&!Array.isArray(e)&&sT(e)&&!Ti(e),aT=e=>Mt(e)&&e.target?Ju(e.target)?e.target.checked:e.target.value:e,d9=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,iT=(e,t)=>e.has(d9(t)),h9=e=>{const t=e.constructor&&e.constructor.prototype;return Mt(t)&&t.hasOwnProperty("isPrototypeOf")},cw=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function $t(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(cw&&(e instanceof Blob||n))&&(r||Mt(e)))if(t=r?[]:Object.create(Object.getPrototypeOf(e)),!r&&!h9(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=$t(e[s]));else return e;return t}var pm=e=>/^\w*$/.test(e),wt=e=>e===void 0,uw=e=>Array.isArray(e)?e.filter(Boolean):[],dw=e=>uw(e.replace(/["|']|\]/g,"").split(/\.|\[/)),te=(e,t,r)=>{if(!t||!Mt(e))return r;const n=(pm(t)?[t]:dw(t)).reduce((s,a)=>Cr(s)?s:s[a],e);return wt(n)||n===e?wt(e[t])?r:e[t]:n},zr=e=>typeof e=="boolean",Je=(e,t,r)=>{let n=-1;const s=pm(t)?[t]:dw(t),a=s.length,o=a-1;for(;++n<a;){const l=s[n];let c=r;if(n!==o){const u=e[l];c=Mt(u)||Array.isArray(u)?u:isNaN(+s[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const df={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ln={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Os={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},hw=U.createContext(null);hw.displayName="HookFormContext";const gm=()=>U.useContext(hw),f9=e=>{const{children:t,...r}=e;return U.createElement(hw.Provider,{value:r},t)};var oT=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(s,a,{get:()=>{const o=a;return t._proxyFormState[o]!==Ln.all&&(t._proxyFormState[o]=!n||Ln.all),r&&(r[o]=!0),e[o]}});return s};const fw=typeof window<"u"?U.useLayoutEffect:U.useEffect;function m9(e){const t=gm(),{control:r=t.control,disabled:n,name:s,exact:a}=e||{},[o,l]=U.useState(r._formState),c=U.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return fw(()=>r._subscribe({name:s,formState:c.current,exact:a,callback:u=>{!n&&l({...r._formState,...u})}}),[s,n,a]),U.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),U.useMemo(()=>oT(o,r,c.current,!1),[o,r])}var Wr=e=>typeof e=="string",lT=(e,t,r,n,s)=>Wr(e)?(n&&t.watch.add(e),te(r,e,s)):Array.isArray(e)?e.map(a=>(n&&t.watch.add(a),te(r,a))):(n&&(t.watchAll=!0),r),Dv=e=>Cr(e)||!sT(e);function Bs(e,t,r=new WeakSet){if(Dv(e)||Dv(t))return e===t;if(Ti(e)&&Ti(t))return e.getTime()===t.getTime();const n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const a of n){const o=e[a];if(!s.includes(a))return!1;if(a!=="ref"){const l=t[a];if(Ti(o)&&Ti(l)||Mt(o)&&Mt(l)||Array.isArray(o)&&Array.isArray(l)?!Bs(o,l,r):o!==l)return!1}}return!0}function p9(e){const t=gm(),{control:r=t.control,name:n,defaultValue:s,disabled:a,exact:o,compute:l}=e||{},c=U.useRef(s),u=U.useRef(l),d=U.useRef(void 0);u.current=l;const h=U.useMemo(()=>r._getWatch(n,c.current),[r,n]),[f,m]=U.useState(u.current?u.current(h):h);return fw(()=>r._subscribe({name:n,formState:{values:!0},exact:o,callback:w=>{if(!a){const g=lT(n,r._names,w.values||r._formValues,!1,c.current);if(u.current){const v=u.current(g);Bs(v,d.current)||(m(v),d.current=v)}else m(g)}}}),[r,a,n,o]),U.useEffect(()=>r._removeUnmounted()),f}function g9(e){const t=gm(),{name:r,disabled:n,control:s=t.control,shouldUnregister:a,defaultValue:o}=e,l=iT(s._names.array,r),c=U.useMemo(()=>te(s._formValues,r,te(s._defaultValues,r,o)),[s,r,o]),u=p9({control:s,name:r,defaultValue:c,exact:!0}),d=m9({control:s,name:r,exact:!0}),h=U.useRef(e),f=U.useRef(void 0),m=U.useRef(s.register(r,{...e.rules,value:u,...zr(e.disabled)?{disabled:e.disabled}:{}}));h.current=e;const w=U.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!te(d.errors,r)},isDirty:{enumerable:!0,get:()=>!!te(d.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!te(d.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!te(d.validatingFields,r)},error:{enumerable:!0,get:()=>te(d.errors,r)}}),[d,r]),g=U.useCallback(x=>m.current.onChange({target:{value:aT(x),name:r},type:df.CHANGE}),[r]),v=U.useCallback(()=>m.current.onBlur({target:{value:te(s._formValues,r),name:r},type:df.BLUR}),[r,s._formValues]),b=U.useCallback(x=>{const j=te(s._fields,r);j&&x&&(j._f.ref={focus:()=>x.focus&&x.focus(),select:()=>x.select&&x.select(),setCustomValidity:_=>x.setCustomValidity(_),reportValidity:()=>x.reportValidity()})},[s._fields,r]),y=U.useMemo(()=>({name:r,value:u,...zr(n)||d.disabled?{disabled:d.disabled||n}:{},onChange:g,onBlur:v,ref:b}),[r,n,d.disabled,g,v,b,u]);return U.useEffect(()=>{const x=s._options.shouldUnregister||a,j=f.current;j&&j!==r&&!l&&s.unregister(j),s.register(r,{...h.current.rules,...zr(h.current.disabled)?{disabled:h.current.disabled}:{}});const _=(S,N)=>{const C=te(s._fields,S);C&&C._f&&(C._f.mount=N)};if(_(r,!0),x){const S=$t(te(s._options.defaultValues,r,h.current.defaultValue));Je(s._defaultValues,r,S),wt(te(s._formValues,r))&&Je(s._formValues,r,S)}return!l&&s.register(r),f.current=r,()=>{(l?x&&!s._state.action:x)?s.unregister(r):_(r,!1)}},[r,s,l,a]),U.useEffect(()=>{s._setDisabledField({disabled:n,name:r})},[n,r,s]),U.useMemo(()=>({field:y,formState:d,fieldState:w}),[y,d,w])}const v9=e=>e.render(g9(e));var cT=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},Bc=e=>Array.isArray(e)?e:[e],Gj=()=>{let e=[];return{get observers(){return e},next:s=>{for(const a of e)a.next&&a.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(a=>a!==s)}}),unsubscribe:()=>{e=[]}}};function uT(e,t){const r={};for(const n in e)if(e.hasOwnProperty(n)){const s=e[n],a=t[n];if(s&&Mt(s)&&a){const o=uT(s,a);Mt(o)&&(r[n]=o)}else e[n]&&(r[n]=a)}return r}var Sr=e=>Mt(e)&&!Object.keys(e).length,mw=e=>e.type==="file",$n=e=>typeof e=="function",hf=e=>{if(!cw)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},dT=e=>e.type==="select-multiple",pw=e=>e.type==="radio",y9=e=>pw(e)||Ju(e),Dp=e=>hf(e)&&e.isConnected;function x9(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=wt(e)?n++:e[t[n++]];return e}function w9(e){for(const t in e)if(e.hasOwnProperty(t)&&!wt(e[t]))return!1;return!0}function Rt(e,t){const r=Array.isArray(t)?t:pm(t)?[t]:dw(t),n=r.length===1?e:x9(e,r),s=r.length-1,a=r[s];return n&&delete n[a],s!==0&&(Mt(n)&&Sr(n)||Array.isArray(n)&&w9(n))&&Rt(e,r.slice(0,-1)),e}var b9=e=>{for(const t in e)if($n(e[t]))return!0;return!1};function hT(e){return Array.isArray(e)||Mt(e)&&!b9(e)}function Lv(e,t={}){for(const r in e)hT(e[r])?(t[r]=Array.isArray(e[r])?[]:{},Lv(e[r],t[r])):wt(e[r])||(t[r]=!0);return t}function Oo(e,t,r){r||(r=Lv(t));for(const n in e)hT(e[n])?wt(t)||Dv(r[n])?r[n]=Lv(e[n],Array.isArray(e[n])?[]:{}):Oo(e[n],Cr(t)?{}:t[n],r[n]):r[n]=!Bs(e[n],t[n]);return r}const Yj={value:!1,isValid:!1},Jj={value:!0,isValid:!0};var fT=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!wt(e[0].attributes.value)?wt(e[0].value)||e[0].value===""?Jj:{value:e[0].value,isValid:!0}:Jj:Yj}return Yj},mT=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>wt(e)?e:t?e===""?NaN:e&&+e:r&&Wr(e)?new Date(e):n?n(e):e;const Xj={isValid:!1,value:null};var pT=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,Xj):Xj;function Zj(e){const t=e.ref;return mw(t)?t.files:pw(t)?pT(e.refs).value:dT(t)?[...t.selectedOptions].map(({value:r})=>r):Ju(t)?fT(e.refs).value:mT(wt(t.value)?e.ref.value:t.value,e)}var j9=(e,t,r,n)=>{const s={};for(const a of e){const o=te(t,a);o&&Je(s,a,o._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},ff=e=>e instanceof RegExp,vc=e=>wt(e)?e:ff(e)?e.source:Mt(e)?ff(e.value)?e.value.source:e.value:e,e_=e=>({isOnSubmit:!e||e===Ln.onSubmit,isOnBlur:e===Ln.onBlur,isOnChange:e===Ln.onChange,isOnAll:e===Ln.all,isOnTouch:e===Ln.onTouched});const t_="AsyncFunction";var _9=e=>!!e&&!!e.validate&&!!($n(e.validate)&&e.validate.constructor.name===t_||Mt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===t_)),S9=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),r_=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Vc=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const a=te(e,s);if(a){const{_f:o,...l}=a;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],s)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(Vc(l,t))break}else if(Mt(l)&&Vc(l,t))break}}};function n_(e,t,r){const n=te(e,r);if(n||pm(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const a=s.join("."),o=te(t,a),l=te(e,a);if(o&&!Array.isArray(o)&&r!==a)return{name:r};if(l&&l.type)return{name:a,error:l};if(l&&l.root&&l.root.type)return{name:`${a}.root`,error:l.root};s.pop()}return{name:r}}var N9=(e,t,r,n)=>{r(e);const{name:s,...a}=e;return Sr(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(o=>t[o]===(!n||Ln.all))},C9=(e,t,r)=>!e||!t||e===t||Bc(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),E9=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,k9=(e,t)=>!uw(te(e,t)).length&&Rt(e,t),P9=(e,t,r)=>{const n=Bc(te(e,r));return Je(n,"root",t[r]),Je(e,r,n),e};function s_(e,t,r="validate"){if(Wr(e)||Array.isArray(e)&&e.every(Wr)||zr(e)&&!e)return{type:r,message:Wr(e)?e:"",ref:t}}var Eo=e=>Mt(e)&&!ff(e)?e:{value:e,message:""},a_=async(e,t,r,n,s,a)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:h,max:f,pattern:m,validate:w,name:g,valueAsNumber:v,mount:b}=e._f,y=te(r,g);if(!b||t.has(g))return{};const x=l?l[0]:o,j=D=>{s&&x.reportValidity&&(x.setCustomValidity(zr(D)?"":D||""),x.reportValidity())},_={},S=pw(o),N=Ju(o),C=S||N,R=(v||mw(o))&&wt(o.value)&&wt(y)||hf(o)&&o.value===""||y===""||Array.isArray(y)&&!y.length,T=cT.bind(null,g,n,_),z=(D,V,F,q=Os.maxLength,B=Os.minLength)=>{const ie=D?V:F;_[g]={type:D?q:B,message:ie,ref:o,...T(D?q:B,ie)}};if(a?!Array.isArray(y)||!y.length:c&&(!C&&(R||Cr(y))||zr(y)&&!y||N&&!fT(l).isValid||S&&!pT(l).isValid)){const{value:D,message:V}=Wr(c)?{value:!!c,message:c}:Eo(c);if(D&&(_[g]={type:Os.required,message:V,ref:x,...T(Os.required,V)},!n))return j(V),_}if(!R&&(!Cr(h)||!Cr(f))){let D,V;const F=Eo(f),q=Eo(h);if(!Cr(y)&&!isNaN(y)){const B=o.valueAsNumber||y&&+y;Cr(F.value)||(D=B>F.value),Cr(q.value)||(V=B<q.value)}else{const B=o.valueAsDate||new Date(y),ie=K=>new Date(new Date().toDateString()+" "+K),I=o.type=="time",A=o.type=="week";Wr(F.value)&&y&&(D=I?ie(y)>ie(F.value):A?y>F.value:B>new Date(F.value)),Wr(q.value)&&y&&(V=I?ie(y)<ie(q.value):A?y<q.value:B<new Date(q.value))}if((D||V)&&(z(!!D,F.message,q.message,Os.max,Os.min),!n))return j(_[g].message),_}if((u||d)&&!R&&(Wr(y)||a&&Array.isArray(y))){const D=Eo(u),V=Eo(d),F=!Cr(D.value)&&y.length>+D.value,q=!Cr(V.value)&&y.length<+V.value;if((F||q)&&(z(F,D.message,V.message),!n))return j(_[g].message),_}if(m&&!R&&Wr(y)){const{value:D,message:V}=Eo(m);if(ff(D)&&!y.match(D)&&(_[g]={type:Os.pattern,message:V,ref:o,...T(Os.pattern,V)},!n))return j(V),_}if(w){if($n(w)){const D=await w(y,r),V=s_(D,x);if(V&&(_[g]={...V,...T(Os.validate,V.message)},!n))return j(V.message),_}else if(Mt(w)){let D={};for(const V in w){if(!Sr(D)&&!n)break;const F=s_(await w[V](y,r),x,V);F&&(D={...F,...T(V,F.message)},j(F.message),n&&(_[g]=D))}if(!Sr(D)&&(_[g]={ref:x,...D},!n))return _}}return j(!0),_};const R9={mode:Ln.onSubmit,reValidateMode:Ln.onChange,shouldFocusError:!0};function T9(e={}){let t={...R9,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:$n(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},s=Mt(t.defaultValues)||Mt(t.values)?$t(t.defaultValues||t.values)||{}:{},a=t.shouldUnregister?{}:$t(s),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...d};const f={array:Gj(),state:Gj()},m=t.criteriaMode===Ln.all,w=k=>O=>{clearTimeout(u),u=setTimeout(k,O)},g=async k=>{if(!t.disabled&&(d.isValid||h.isValid||k)){const O=t.resolver?Sr((await N()).errors):await R(n,!0);O!==r.isValid&&f.state.next({isValid:O})}},v=(k,O)=>{!t.disabled&&(d.isValidating||d.validatingFields||h.isValidating||h.validatingFields)&&((k||Array.from(l.mount)).forEach(L=>{L&&(O?Je(r.validatingFields,L,O):Rt(r.validatingFields,L))}),f.state.next({validatingFields:r.validatingFields,isValidating:!Sr(r.validatingFields)}))},b=(k,O=[],L,ee,X=!0,G=!0)=>{if(ee&&L&&!t.disabled){if(o.action=!0,G&&Array.isArray(te(n,k))){const oe=L(te(n,k),ee.argA,ee.argB);X&&Je(n,k,oe)}if(G&&Array.isArray(te(r.errors,k))){const oe=L(te(r.errors,k),ee.argA,ee.argB);X&&Je(r.errors,k,oe),k9(r.errors,k)}if((d.touchedFields||h.touchedFields)&&G&&Array.isArray(te(r.touchedFields,k))){const oe=L(te(r.touchedFields,k),ee.argA,ee.argB);X&&Je(r.touchedFields,k,oe)}(d.dirtyFields||h.dirtyFields)&&(r.dirtyFields=Oo(s,a)),f.state.next({name:k,isDirty:z(k,O),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Je(a,k,O)},y=(k,O)=>{Je(r.errors,k,O),f.state.next({errors:r.errors})},x=k=>{r.errors=k,f.state.next({errors:r.errors,isValid:!1})},j=(k,O,L,ee)=>{const X=te(n,k);if(X){const G=te(a,k,wt(L)?te(s,k):L);wt(G)||ee&&ee.defaultChecked||O?Je(a,k,O?G:Zj(X._f)):F(k,G),o.mount&&g()}},_=(k,O,L,ee,X)=>{let G=!1,oe=!1;const $e={name:k};if(!t.disabled){if(!L||ee){(d.isDirty||h.isDirty)&&(oe=r.isDirty,r.isDirty=$e.isDirty=z(),G=oe!==$e.isDirty);const et=Bs(te(s,k),O);oe=!!te(r.dirtyFields,k),et?Rt(r.dirtyFields,k):Je(r.dirtyFields,k,!0),$e.dirtyFields=r.dirtyFields,G=G||(d.dirtyFields||h.dirtyFields)&&oe!==!et}if(L){const et=te(r.touchedFields,k);et||(Je(r.touchedFields,k,L),$e.touchedFields=r.touchedFields,G=G||(d.touchedFields||h.touchedFields)&&et!==L)}G&&X&&f.state.next($e)}return G?$e:{}},S=(k,O,L,ee)=>{const X=te(r.errors,k),G=(d.isValid||h.isValid)&&zr(O)&&r.isValid!==O;if(t.delayError&&L?(c=w(()=>y(k,L)),c(t.delayError)):(clearTimeout(u),c=null,L?Je(r.errors,k,L):Rt(r.errors,k)),(L?!Bs(X,L):X)||!Sr(ee)||G){const oe={...ee,...G&&zr(O)?{isValid:O}:{},errors:r.errors,name:k};r={...r,...oe},f.state.next(oe)}},N=async k=>{v(k,!0);const O=await t.resolver(a,t.context,j9(k||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return v(k),O},C=async k=>{const{errors:O}=await N(k);if(k)for(const L of k){const ee=te(O,L);ee?Je(r.errors,L,ee):Rt(r.errors,L)}else r.errors=O;return O},R=async(k,O,L={valid:!0})=>{for(const ee in k){const X=k[ee];if(X){const{_f:G,...oe}=X;if(G){const $e=l.array.has(G.name),et=X._f&&_9(X._f);et&&d.validatingFields&&v([G.name],!0);const br=await a_(X,l.disabled,a,m,t.shouldUseNativeValidation&&!O,$e);if(et&&d.validatingFields&&v([G.name]),br[G.name]&&(L.valid=!1,O))break;!O&&(te(br,G.name)?$e?P9(r.errors,br,G.name):Je(r.errors,G.name,br[G.name]):Rt(r.errors,G.name))}!Sr(oe)&&await R(oe,O,L)}}return L.valid},T=()=>{for(const k of l.unMount){const O=te(n,k);O&&(O._f.refs?O._f.refs.every(L=>!Dp(L)):!Dp(O._f.ref))&&Y(k)}l.unMount=new Set},z=(k,O)=>!t.disabled&&(k&&O&&Je(a,k,O),!Bs(K(),s)),D=(k,O,L)=>lT(k,l,{...o.mount?a:wt(O)?s:Wr(k)?{[k]:O}:O},L,O),V=k=>uw(te(o.mount?a:s,k,t.shouldUnregister?te(s,k,[]):[])),F=(k,O,L={})=>{const ee=te(n,k);let X=O;if(ee){const G=ee._f;G&&(!G.disabled&&Je(a,k,mT(O,G)),X=hf(G.ref)&&Cr(O)?"":O,dT(G.ref)?[...G.ref.options].forEach(oe=>oe.selected=X.includes(oe.value)):G.refs?Ju(G.ref)?G.refs.forEach(oe=>{(!oe.defaultChecked||!oe.disabled)&&(Array.isArray(X)?oe.checked=!!X.find($e=>$e===oe.value):oe.checked=X===oe.value||!!X)}):G.refs.forEach(oe=>oe.checked=oe.value===X):mw(G.ref)?G.ref.value="":(G.ref.value=X,G.ref.type||f.state.next({name:k,values:$t(a)})))}(L.shouldDirty||L.shouldTouch)&&_(k,X,L.shouldTouch,L.shouldDirty,!0),L.shouldValidate&&A(k)},q=(k,O,L)=>{for(const ee in O){if(!O.hasOwnProperty(ee))return;const X=O[ee],G=k+"."+ee,oe=te(n,G);(l.array.has(k)||Mt(X)||oe&&!oe._f)&&!Ti(X)?q(G,X,L):F(G,X,L)}},B=(k,O,L={})=>{const ee=te(n,k),X=l.array.has(k),G=$t(O);Je(a,k,G),X?(f.array.next({name:k,values:$t(a)}),(d.isDirty||d.dirtyFields||h.isDirty||h.dirtyFields)&&L.shouldDirty&&f.state.next({name:k,dirtyFields:Oo(s,a),isDirty:z(k,G)})):ee&&!ee._f&&!Cr(G)?q(k,G,L):F(k,G,L),r_(k,l)&&f.state.next({...r,name:k}),f.state.next({name:o.mount?k:void 0,values:$t(a)})},ie=async k=>{o.mount=!0;const O=k.target;let L=O.name,ee=!0;const X=te(n,L),G=et=>{ee=Number.isNaN(et)||Ti(et)&&isNaN(et.getTime())||Bs(et,te(a,L,et))},oe=e_(t.mode),$e=e_(t.reValidateMode);if(X){let et,br;const Rs=O.type?Zj(X._f):aT(k),Jn=k.type===df.BLUR||k.type===df.FOCUS_OUT,Zu=!S9(X._f)&&!t.resolver&&!te(r.errors,L)&&!X._f.deps||E9(Jn,te(r.touchedFields,L),r.isSubmitted,$e,oe),gi=r_(L,l,Jn);Je(a,L,Rs),Jn?(!O||!O.readOnly)&&(X._f.onBlur&&X._f.onBlur(k),c&&c(0)):X._f.onChange&&X._f.onChange(k);const Xn=_(L,Rs,Jn),ed=!Sr(Xn)||gi;if(!Jn&&f.state.next({name:L,type:k.type,values:$t(a)}),Zu)return(d.isValid||h.isValid)&&(t.mode==="onBlur"?Jn&&g():Jn||g()),ed&&f.state.next({name:L,...gi?{}:Xn});if(!Jn&&gi&&f.state.next({...r}),t.resolver){const{errors:Ts}=await N([L]);if(G(Rs),ee){const Tm=n_(r.errors,n,L),td=n_(Ts,n,Tm.name||L);et=td.error,L=td.name,br=Sr(Ts)}}else v([L],!0),et=(await a_(X,l.disabled,a,m,t.shouldUseNativeValidation))[L],v([L]),G(Rs),ee&&(et?br=!1:(d.isValid||h.isValid)&&(br=await R(n,!0)));ee&&(X._f.deps&&(!Array.isArray(X._f.deps)||X._f.deps.length>0)&&A(X._f.deps),S(L,br,et,Xn))}},I=(k,O)=>{if(te(r.errors,O)&&k.focus)return k.focus(),1},A=async(k,O={})=>{let L,ee;const X=Bc(k);if(t.resolver){const G=await C(wt(k)?k:X);L=Sr(G),ee=k?!X.some(oe=>te(G,oe)):L}else k?(ee=(await Promise.all(X.map(async G=>{const oe=te(n,G);return await R(oe&&oe._f?{[G]:oe}:oe)}))).every(Boolean),!(!ee&&!r.isValid)&&g()):ee=L=await R(n);return f.state.next({...!Wr(k)||(d.isValid||h.isValid)&&L!==r.isValid?{}:{name:k},...t.resolver||!k?{isValid:L}:{},errors:r.errors}),O.shouldFocus&&!ee&&Vc(n,I,k?X:l.mount),ee},K=(k,O)=>{let L={...o.mount?a:s};return O&&(L=uT(O.dirtyFields?r.dirtyFields:r.touchedFields,L)),wt(k)?L:Wr(k)?te(L,k):k.map(ee=>te(L,ee))},ae=(k,O)=>({invalid:!!te((O||r).errors,k),isDirty:!!te((O||r).dirtyFields,k),error:te((O||r).errors,k),isValidating:!!te(r.validatingFields,k),isTouched:!!te((O||r).touchedFields,k)}),re=k=>{k&&Bc(k).forEach(O=>Rt(r.errors,O)),f.state.next({errors:k?r.errors:{}})},xe=(k,O,L)=>{const ee=(te(n,k,{_f:{}})._f||{}).ref,X=te(r.errors,k)||{},{ref:G,message:oe,type:$e,...et}=X;Je(r.errors,k,{...et,...O,ref:ee}),f.state.next({name:k,errors:r.errors,isValid:!1}),L&&L.shouldFocus&&ee&&ee.focus&&ee.focus()},ye=(k,O)=>$n(k)?f.state.subscribe({next:L=>"values"in L&&k(D(void 0,O),L)}):D(k,O,!0),qe=k=>f.state.subscribe({next:O=>{C9(k.name,O.name,k.exact)&&N9(O,k.formState||d,ks,k.reRenderRoot)&&k.callback({values:{...a},...r,...O,defaultValues:s})}}).unsubscribe,Qe=k=>(o.mount=!0,h={...h,...k.formState},qe({...k,formState:h})),Y=(k,O={})=>{for(const L of k?Bc(k):l.mount)l.mount.delete(L),l.array.delete(L),O.keepValue||(Rt(n,L),Rt(a,L)),!O.keepError&&Rt(r.errors,L),!O.keepDirty&&Rt(r.dirtyFields,L),!O.keepTouched&&Rt(r.touchedFields,L),!O.keepIsValidating&&Rt(r.validatingFields,L),!t.shouldUnregister&&!O.keepDefaultValue&&Rt(s,L);f.state.next({values:$t(a)}),f.state.next({...r,...O.keepDirty?{isDirty:z()}:{}}),!O.keepIsValid&&g()},Ue=({disabled:k,name:O})=>{(zr(k)&&o.mount||k||l.disabled.has(O))&&(k?l.disabled.add(O):l.disabled.delete(O))},De=(k,O={})=>{let L=te(n,k);const ee=zr(O.disabled)||zr(t.disabled);return Je(n,k,{...L||{},_f:{...L&&L._f?L._f:{ref:{name:k}},name:k,mount:!0,...O}}),l.mount.add(k),L?Ue({disabled:zr(O.disabled)?O.disabled:t.disabled,name:k}):j(k,!0,O.value),{...ee?{disabled:O.disabled||t.disabled}:{},...t.progressive?{required:!!O.required,min:vc(O.min),max:vc(O.max),minLength:vc(O.minLength),maxLength:vc(O.maxLength),pattern:vc(O.pattern)}:{},name:k,onChange:ie,onBlur:ie,ref:X=>{if(X){De(k,O),L=te(n,k);const G=wt(X.value)&&X.querySelectorAll&&X.querySelectorAll("input,select,textarea")[0]||X,oe=y9(G),$e=L._f.refs||[];if(oe?$e.find(et=>et===G):G===L._f.ref)return;Je(n,k,{_f:{...L._f,...oe?{refs:[...$e.filter(Dp),G,...Array.isArray(te(s,k))?[{}]:[]],ref:{type:G.type,name:k}}:{ref:G}}}),j(k,!1,void 0,G)}else L=te(n,k,{}),L._f&&(L._f.mount=!1),(t.shouldUnregister||O.shouldUnregister)&&!(iT(l.array,k)&&o.action)&&l.unMount.add(k)}}},Ie=()=>t.shouldFocusError&&Vc(n,I,l.mount),Le=k=>{zr(k)&&(f.state.next({disabled:k}),Vc(n,(O,L)=>{const ee=te(n,L);ee&&(O.disabled=ee._f.disabled||k,Array.isArray(ee._f.refs)&&ee._f.refs.forEach(X=>{X.disabled=ee._f.disabled||k}))},0,!1))},ze=(k,O)=>async L=>{let ee;L&&(L.preventDefault&&L.preventDefault(),L.persist&&L.persist());let X=$t(a);if(f.state.next({isSubmitting:!0}),t.resolver){const{errors:G,values:oe}=await N();r.errors=G,X=$t(oe)}else await R(n);if(l.disabled.size)for(const G of l.disabled)Rt(X,G);if(Rt(r.errors,"root"),Sr(r.errors)){f.state.next({errors:{}});try{await k(X,L)}catch(G){ee=G}}else O&&await O({...r.errors},L),Ie(),setTimeout(Ie);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Sr(r.errors)&&!ee,submitCount:r.submitCount+1,errors:r.errors}),ee)throw ee},Bt=(k,O={})=>{te(n,k)&&(wt(O.defaultValue)?B(k,$t(te(s,k))):(B(k,O.defaultValue),Je(s,k,$t(O.defaultValue))),O.keepTouched||Rt(r.touchedFields,k),O.keepDirty||(Rt(r.dirtyFields,k),r.isDirty=O.defaultValue?z(k,$t(te(s,k))):z()),O.keepError||(Rt(r.errors,k),d.isValid&&g()),f.state.next({...r}))},or=(k,O={})=>{const L=k?$t(k):s,ee=$t(L),X=Sr(k),G=X?s:ee;if(O.keepDefaultValues||(s=L),!O.keepValues){if(O.keepDirtyValues){const oe=new Set([...l.mount,...Object.keys(Oo(s,a))]);for(const $e of Array.from(oe))te(r.dirtyFields,$e)?Je(G,$e,te(a,$e)):B($e,te(G,$e))}else{if(cw&&wt(k))for(const oe of l.mount){const $e=te(n,oe);if($e&&$e._f){const et=Array.isArray($e._f.refs)?$e._f.refs[0]:$e._f.ref;if(hf(et)){const br=et.closest("form");if(br){br.reset();break}}}}if(O.keepFieldsRef)for(const oe of l.mount)B(oe,te(G,oe));else n={}}a=t.shouldUnregister?O.keepDefaultValues?$t(s):{}:$t(G),f.array.next({values:{...G}}),f.state.next({values:{...G}})}l={mount:O.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!O.keepIsValid||!!O.keepDirtyValues,o.watch=!!t.shouldUnregister,f.state.next({submitCount:O.keepSubmitCount?r.submitCount:0,isDirty:X?!1:O.keepDirty?r.isDirty:!!(O.keepDefaultValues&&!Bs(k,s)),isSubmitted:O.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:X?{}:O.keepDirtyValues?O.keepDefaultValues&&a?Oo(s,a):r.dirtyFields:O.keepDefaultValues&&k?Oo(s,k):O.keepDirty?r.dirtyFields:{},touchedFields:O.keepTouched?r.touchedFields:{},errors:O.keepErrors?r.errors:{},isSubmitSuccessful:O.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},Gn=(k,O)=>or($n(k)?k(a):k,O),Yn=(k,O={})=>{const L=te(n,k),ee=L&&L._f;if(ee){const X=ee.refs?ee.refs[0]:ee.ref;X.focus&&(X.focus(),O.shouldSelect&&$n(X.select)&&X.select())}},ks=k=>{r={...r,...k}},Ps={control:{register:De,unregister:Y,getFieldState:ae,handleSubmit:ze,setError:xe,_subscribe:qe,_runSchema:N,_focusError:Ie,_getWatch:D,_getDirty:z,_setValid:g,_setFieldArray:b,_setDisabledField:Ue,_setErrors:x,_getFieldArray:V,_reset:or,_resetDefaultValues:()=>$n(t.defaultValues)&&t.defaultValues().then(k=>{Gn(k,t.resetOptions),f.state.next({isLoading:!1})}),_removeUnmounted:T,_disableForm:Le,_subjects:f,_proxyFormState:d,get _fields(){return n},get _formValues(){return a},get _state(){return o},set _state(k){o=k},get _defaultValues(){return s},get _names(){return l},set _names(k){l=k},get _formState(){return r},get _options(){return t},set _options(k){t={...t,...k}}},subscribe:Qe,trigger:A,register:De,handleSubmit:ze,watch:ye,setValue:B,getValues:K,reset:Gn,resetField:Bt,clearErrors:re,unregister:Y,setError:xe,setFocus:Yn,getFieldState:ae};return{...Ps,formControl:Ps}}function vm(e={}){const t=U.useRef(void 0),r=U.useRef(void 0),[n,s]=U.useState({isDirty:!1,isValidating:!1,isLoading:$n(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:$n(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!$n(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=T9(e);t.current={...l,formState:n}}const a=t.current.control;return a._options=e,fw(()=>{const o=a._subscribe({formState:a._proxyFormState,callback:()=>s({...a._formState}),reRenderRoot:!0});return s(l=>({...l,isReady:!0})),a._formState.isReady=!0,o},[a]),U.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),U.useEffect(()=>{e.mode&&(a._options.mode=e.mode),e.reValidateMode&&(a._options.reValidateMode=e.reValidateMode)},[a,e.mode,e.reValidateMode]),U.useEffect(()=>{e.errors&&(a._setErrors(e.errors),a._focusError())},[a,e.errors]),U.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,e.shouldUnregister]),U.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==n.isDirty&&a._subjects.state.next({isDirty:o})}},[a,n.isDirty]),U.useEffect(()=>{e.values&&!Bs(e.values,r.current)?(a._reset(e.values,{keepFieldsRef:!0,...a._options.resetOptions}),r.current=e.values,s(o=>({...o}))):a._resetDefaultValues()},[a,e.values]),U.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),t.current.formState=oT(n,a),t.current}const i_=(e,t,r)=>{if(e&&"reportValidity"in e){const n=te(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},gT=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?i_(n.ref,r,e):n.refs&&n.refs.forEach(s=>i_(s,r,e))}},A9=(e,t)=>{t.shouldUseNativeValidation&&gT(e,t);const r={};for(const n in e){const s=te(t.fields,n),a=Object.assign(e[n]||{},{ref:s&&s.ref});if(O9(t.names||Object.keys(e),n)){const o=Object.assign({},te(r,n));Je(o,"root",a),Je(r,n,o)}else Je(r,n,a)}return r},O9=(e,t)=>e.some(r=>r.startsWith(t+"."));var I9=function(e,t){for(var r={};e.length;){var n=e[0],s=n.code,a=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:a,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(h){return e.push(h)})}),t){var c=r[o].types,u=c&&c[n.code];r[o]=cT(o,t,r,s,u?[].concat(u,n.message):n.message)}e.shift()}return r},ym=function(e,t,r){return r===void 0&&(r={}),function(n,s,a){try{return Promise.resolve((function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return a.shouldUseNativeValidation&&gT({},a),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c})(0,function(o){if((function(l){return Array.isArray(l==null?void 0:l.errors)})(o))return{values:{},errors:A9(I9(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}}};const M9=f9,vT=p.createContext({}),ts=({...e})=>i.jsx(vT.Provider,{value:{name:e.name},children:i.jsx(v9,{...e})}),xm=()=>{const e=p.useContext(vT),t=p.useContext(yT),{getFieldState:r,formState:n}=gm(),s=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:a}=t;return{id:a,name:e.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...s}},yT=p.createContext({}),Cn=p.forwardRef(({className:e,...t},r)=>{const n=p.useId();return i.jsx(yT.Provider,{value:{id:n},children:i.jsx("div",{ref:r,className:J("space-y-2",e),...t})})});Cn.displayName="FormItem";const En=p.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:s}=xm();return i.jsx(fe,{ref:r,className:J(n&&"text-destructive",e),htmlFor:s,...t})});En.displayName="FormLabel";const kn=p.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:s,formMessageId:a}=xm();return i.jsx(cx,{ref:t,id:n,"aria-describedby":r?`${s} ${a}`:`${s}`,"aria-invalid":!!r,...e})});kn.displayName="FormControl";const ns=p.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=xm();return i.jsx("p",{ref:r,id:n,className:J("text-sm text-muted-foreground",e),...t})});ns.displayName="FormDescription";const ss=p.forwardRef(({className:e,children:t,...r},n)=>{const{error:s,formMessageId:a}=xm(),o=s?String(s==null?void 0:s.message):t;return o?i.jsx("p",{ref:n,id:a,className:J("text-sm font-medium text-destructive",e),...r,children:o}):null});ss.displayName="FormMessage";const D9=()=>{const e=Ke(),t=Ze({mutationFn:async r=>(await Gl.createOpportunity(r)).opportunity,onSuccess:r=>{e.invalidateQueries({queryKey:["opportunities","by-city",r.city_id]}),e.invalidateQueries({queryKey:["opportunities"]}),e.invalidateQueries({queryKey:["my-opportunities"]}),e.invalidateQueries({queryKey:["cities"]})}});return{action:t.mutate,isLoading:t.isPending,error:t.error,isSuccess:t.isSuccess,data:t.data}},L9=()=>{const e=Ke(),t=Ze({mutationFn:async({id:r,data:n})=>(await Gl.updateOpportunity(r,n)).opportunity,onSuccess:(r,{id:n})=>{e.invalidateQueries({queryKey:["opportunities"]}),e.invalidateQueries({queryKey:["my-opportunities"]}),e.invalidateQueries({queryKey:["opportunity",n]})}});return{action:t.mutate,isLoading:t.isPending,error:t.error,isSuccess:t.isSuccess,data:t.data}},$9=P().regex(/^[a-z0-9]+(?:-[a-z0-9]+)*$/,"El slug debe ser lowercase con guiones").min(2,"El slug debe tener al menos 2 caracteres").max(100,"El slug no puede superar 100 caracteres"),xT=W({id:be(),name:P().min(2).max(100),slug:$9,image_url:P().url("Debe ser una URL vlida"),description:P().nullable(),active:Lr(),display_order:be().default(0),created_at:P(),updated_at:P()}),wT=xT.extend({opportunities_count:be().default(0),active_opportunities_count:be().default(0)});xT.extend({managers:Fe(W({id:P().uuid(),name:P(),avatar_url:P().nullable()}))});const F9=W({city:wT}),U9=W({cities:Fe(wT)}),z9=W({isCityManager:Lr(),managedCities:Fe(W({id:be(),name:P(),slug:P()}))}),gw={async getCities(){const e=await ve.get("/cities");return U9.parse(e.data)},async getCityBySlug(e){const t=await ve.get(`/cities/${e}`);return F9.parse(t.data)},async getIsCityManager(){const e=await ve.get("/cities/my-managed");return z9.parse(e.data)},async canManageCity(e){return(await ve.get(`/cities/${e}/can-manage`)).data.canManage}},bT=()=>{const{isAuthenticated:e,user:t}=Ct();return vt({queryKey:["city-manager",t==null?void 0:t.id],queryFn:async()=>await gw.getIsCityManager(),enabled:e,staleTime:180*1e3,gcTime:300*1e3,refetchOnWindowFocus:!0})},B9=()=>{const{data:e,isLoading:t,error:r}=bT();return{data:(e==null?void 0:e.managedCities)||[],isLoading:t,error:r,isCityManager:(e==null?void 0:e.isCityManager)||!1}},V9=fk.extend({status:da(["abierta","en_progreso","cerrada","cancelada"]).optional()}),q9=[{value:"proyecto",label:"Proyecto"},{value:"colaboracion",label:"Colaboracin"},{value:"empleo",label:"Empleo"},{value:"mentoria",label:"Mentora"},{value:"evento",label:"Evento"},{value:"otro",label:"Otro"}],W9=[{value:"abierta",label:"Abierta"},{value:"en_progreso",label:"En Progreso"},{value:"cerrada",label:"Cerrada"},{value:"cancelada",label:"Cancelada"}];function jT({open:e,onOpenChange:t,opportunity:r}){const[n,s]=p.useState(""),{action:a,isLoading:o}=D9(),{action:l,isLoading:c}=L9(),{data:u,isLoading:d,isCityManager:h}=B9(),{isAdmin:f}=fo(),m=!!r,w=o||c,g=f||h,v=vm({resolver:ym(m?V9:fk),defaultValues:{title:"",description:"",type:"proyecto",city_id:u.length>0?u[0].id:void 0,skills_required:[],location:null,remote:!1,duration:null,compensation:null,status:"abierta"}});p.useEffect(()=>{r?v.reset({title:r.title,description:r.description,type:r.type,city_id:r.city_id,skills_required:r.skills_required,location:r.location||null,remote:r.remote,duration:r.duration||null,compensation:r.compensation||null,status:r.status}):v.reset({title:"",description:"",type:"proyecto",city_id:u.length>0?u[0].id:void 0,skills_required:[],location:null,remote:!1,duration:null,compensation:null,status:"abierta"})},[r,v,u]);const b=v.watch("skills_required"),y=()=>{const S=n.trim();S&&!b.includes(S)&&(v.setValue("skills_required",[...b,S]),s(""))},x=S=>{v.setValue("skills_required",b.filter(N=>N!==S))},j=S=>{S.key==="Enter"&&(S.preventDefault(),y())},_=S=>{if(m&&r)l({id:r.id,data:S},{onSuccess:()=>{v.reset(),t(!1)},onError:N=>{console.error("Error al actualizar oportunidad:",N)}});else{const{status:N,...C}=S;a(C,{onSuccess:()=>{v.reset(),t(!1)},onError:R=>{console.error("Error al crear oportunidad:",R)}})}};return i.jsx(hn,{open:e,onOpenChange:t,children:i.jsxs(Yr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[i.jsxs(fn,{children:[i.jsxs(mn,{className:"flex items-center gap-2 text-2xl",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary to-emerald-600 rounded-xl flex items-center justify-center",children:i.jsx(sa,{className:"h-5 w-5 text-white"})}),m?"Editar oportunidad":"Publicar nueva oportunidad"]}),i.jsx(pn,{children:m?"Actualiza los detalles de tu oportunidad":"Completa los detalles de la oportunidad que quieres compartir con la comunidad"})]}),i.jsx(M9,{...v,children:i.jsxs("form",{onSubmit:v.handleSubmit(_),className:"space-y-6",children:[i.jsx(ts,{control:v.control,name:"title",render:({field:S})=>i.jsxs(Cn,{children:[i.jsx(En,{children:"Ttulo *"}),i.jsx(kn,{children:i.jsx(ge,{placeholder:"Ej: Desarrollador Frontend React para Startup Fintech",...S})}),i.jsx(ns,{children:"Un ttulo claro y descriptivo (5-100 caracteres)"}),i.jsx(ss,{})]})}),i.jsx(ts,{control:v.control,name:"type",render:({field:S})=>i.jsxs(Cn,{children:[i.jsx(En,{children:"Tipo de oportunidad *"}),i.jsxs(Ys,{onValueChange:S.onChange,defaultValue:S.value,children:[i.jsx(kn,{children:i.jsx(ws,{children:i.jsx(Js,{placeholder:"Selecciona un tipo"})})}),i.jsx(bs,{children:q9.map(N=>i.jsx(st,{value:N.value,children:N.label},N.value))})]}),i.jsx(ss,{})]})}),g&&i.jsx(ts,{control:v.control,name:"city_id",render:({field:S})=>{var N;return i.jsxs(Cn,{children:[i.jsxs(En,{children:[i.jsx(Mr,{className:"inline h-4 w-4 mr-1"}),"Ciudad *"]}),i.jsxs(Ys,{onValueChange:C=>S.onChange(parseInt(C)),value:(N=S.value)==null?void 0:N.toString(),disabled:d||u.length===0,children:[i.jsx(kn,{children:i.jsx(ws,{children:i.jsx(Js,{placeholder:"Selecciona una ciudad"})})}),i.jsx(bs,{children:u.map(C=>i.jsx(st,{value:C.id.toString(),children:C.name},C.id))})]}),i.jsx(ns,{children:u.length===0?"No tienes ciudades asignadas":"Selecciona la ciudad donde se publicar la oportunidad"}),i.jsx(ss,{})]})}}),m&&i.jsx(ts,{control:v.control,name:"status",render:({field:S})=>i.jsxs(Cn,{children:[i.jsx(En,{children:"Estado"}),i.jsxs(Ys,{onValueChange:S.onChange,defaultValue:S.value,children:[i.jsx(kn,{children:i.jsx(ws,{children:i.jsx(Js,{placeholder:"Selecciona un estado"})})}),i.jsx(bs,{children:W9.map(N=>i.jsx(st,{value:N.value,children:N.label},N.value))})]}),i.jsx(ns,{children:"Las oportunidades cerradas no aparecern en el listado principal"}),i.jsx(ss,{})]})}),i.jsx(ts,{control:v.control,name:"description",render:({field:S})=>i.jsxs(Cn,{children:[i.jsx(En,{children:"Descripcin *"}),i.jsx(kn,{children:i.jsx(la,{placeholder:"Describe los detalles de la oportunidad, qu buscas, requisitos, etc.",className:"min-h-[120px] resize-none",...S})}),i.jsx(ns,{children:"Mnimo 20 caracteres, mximo 2000"}),i.jsx(ss,{})]})}),i.jsx(ts,{control:v.control,name:"skills_required",render:()=>i.jsxs(Cn,{children:[i.jsx(En,{children:"Habilidades requeridas *"}),i.jsx(kn,{children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsx(ge,{placeholder:"Ej: React, TypeScript, Node.js...",value:n,onChange:S=>s(S.target.value),onKeyDown:j}),i.jsx($,{type:"button",variant:"outline",onClick:y,children:"Aadir"})]}),b.length>0&&i.jsx("div",{className:"flex flex-wrap gap-2",children:b.map(S=>i.jsxs(Se,{variant:"secondary",className:"text-sm pl-3 pr-1 py-1.5",children:[S,i.jsx("button",{type:"button",onClick:()=>x(S),className:"ml-2 hover:bg-muted rounded-full p-0.5",children:i.jsx(pr,{className:"h-3 w-3"})})]},S))})]})}),i.jsx(ns,{children:"Agrega al menos una habilidad requerida"}),i.jsx(ss,{})]})}),i.jsx(ts,{control:v.control,name:"location",render:({field:S})=>i.jsxs(Cn,{children:[i.jsxs(En,{children:[i.jsx(Mr,{className:"inline h-4 w-4 mr-1"}),"Ubicacin"]}),i.jsx(kn,{children:i.jsx(ge,{placeholder:"Ej: Madrid, Barcelona, Remoto...",...S,value:S.value||""})}),i.jsx(ns,{children:"Opcional - Dnde se realizar"}),i.jsx(ss,{})]})}),i.jsx(ts,{control:v.control,name:"remote",render:({field:S})=>i.jsxs(Cn,{className:"flex flex-row items-start space-x-3 space-y-0 rounded-md border p-4",children:[i.jsx(kn,{children:i.jsx(xx,{checked:S.value,onCheckedChange:S.onChange})}),i.jsxs("div",{className:"space-y-1 leading-none",children:[i.jsx(En,{children:"Trabajo remoto"}),i.jsx(ns,{children:"Esta oportunidad permite trabajar de forma remota"})]})]})}),i.jsx(ts,{control:v.control,name:"duration",render:({field:S})=>i.jsxs(Cn,{children:[i.jsxs(En,{children:[i.jsx(_s,{className:"inline h-4 w-4 mr-1"}),"Duracin estimada"]}),i.jsx(kn,{children:i.jsx(ge,{placeholder:"Ej: 3 meses, 6 meses, Indefinido...",...S,value:S.value||""})}),i.jsx(ns,{children:"Opcional - Cunto durar el proyecto"}),i.jsx(ss,{})]})}),i.jsx(ts,{control:v.control,name:"compensation",render:({field:S})=>i.jsxs(Cn,{children:[i.jsxs(En,{children:[i.jsx(zf,{className:"inline h-4 w-4 mr-1"}),"Compensacin"]}),i.jsx(kn,{children:i.jsx(ge,{placeholder:"Ej: 30.000-40.000/ao, Por proyecto, Voluntario...",...S,value:S.value||""})}),i.jsx(ns,{children:"Opcional - Tipo de compensacin ofrecida"}),i.jsx(ss,{})]})}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[i.jsx($,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:w,children:"Cancelar"}),i.jsxs($,{type:"submit",disabled:w,children:[w&&i.jsx(_t,{className:"mr-2 h-4 w-4 animate-spin"}),m?"Guardar cambios":"Publicar oportunidad"]})]})]})})]})})}const H9={proyecto:"Proyecto",colaboracion:"Colaboracin",empleo:"Empleo",mentoria:"Mentora",evento:"Evento",otro:"Otro"},K9={abierta:"Abierta",en_progreso:"En Progreso",cerrada:"Cerrada",cancelada:"Cancelada"},Q9={abierta:"default",en_progreso:"secondary",cerrada:"outline",cancelada:"destructive"};function G9(){var x,j;const{opportunityId:e}=zl(),t=gt(),{user:r}=Ct(),{toast:n}=Ku(),[s,a]=p.useState(!1),[o,l]=p.useState(!1),[c,u]=p.useState(!1),{data:d,isLoading:h,error:f}=u9(e),m=()=>{t("/opportunities")},w=()=>{d!=null&&d.creator.id&&t(`/messages/${d.creator.id}`)},g=async()=>{if(d){l(!0);try{await new Promise(_=>setTimeout(_,500)),a(!0),n({title:"Inters registrado!",description:`Hemos notificado a ${d.creator.name} sobre tu inters. Pronto te contactar.`})}catch{n({title:"Error",description:"No se pudo registrar tu inters. Intntalo de nuevo.",variant:"destructive"})}finally{l(!1)}}};if(h)return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted",children:[i.jsx(Yt,{}),i.jsx("div",{className:"container mx-auto px-4 py-8",children:i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx(_t,{className:"h-8 w-8 animate-spin text-primary"})})})]});if(f||!d)return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted",children:[i.jsx(Yt,{}),i.jsx("div",{className:"container mx-auto px-4 py-8",children:i.jsxs(_e,{className:"p-8 text-center",children:[i.jsx("p",{className:"text-destructive",children:"No se pudo cargar la oportunidad"}),i.jsx("p",{className:"text-muted-foreground text-sm mt-2",children:(f==null?void 0:f.message)||"Oportunidad no encontrada"}),i.jsxs($,{onClick:m,className:"mt-4",children:[i.jsx(qn,{className:"h-4 w-4 mr-2"}),"Volver a oportunidades"]})]})})]});const v=new Date(d.created_at),b=nw(v,{addSuffix:!0,locale:sw}),y=(r==null?void 0:r.id)===d.created_by;return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted",children:[i.jsx(Yt,{}),i.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[i.jsxs($,{variant:"ghost",onClick:m,className:"mb-6",children:[i.jsx(qn,{className:"h-4 w-4 mr-2"}),"Volver a oportunidades"]}),i.jsxs(_e,{className:"shadow-lg",children:[i.jsx(ft,{children:i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Se,{variant:Q9[d.status],children:K9[d.status]}),i.jsxs(Se,{variant:"outline",children:[i.jsx(sa,{className:"h-3 w-3 mr-1"}),H9[d.type]]})]}),i.jsx(bt,{className:"text-3xl",children:d.title}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs(St,{className:"h-12 w-12",children:[i.jsx(Dt,{src:d.creator.avatar_url||void 0,alt:d.creator.name}),i.jsx(Nt,{children:(j=(x=d.creator.name)==null?void 0:x.charAt(0))==null?void 0:j.toUpperCase()})]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:d.creator.name}),d.creator.professional_title&&i.jsx("p",{className:"text-sm text-muted-foreground",children:d.creator.professional_title})]})]}),i.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[i.jsx(fi,{className:"h-4 w-4 mr-1"}),b]})]})]})}),i.jsxs(je,{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold mb-2",children:"Descripcin"}),i.jsx("p",{className:"text-muted-foreground whitespace-pre-wrap",children:d.description})]}),i.jsx(ei,{}),d.skills_required.length>0&&i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold mb-3",children:"Habilidades requeridas"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:d.skills_required.map(_=>i.jsx(Se,{variant:"secondary",children:_},_))})]}),i.jsx(ei,{}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.location&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Mr,{className:"h-5 w-5 text-muted-foreground"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:"Ubicacin"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:d.location})]})]}),d.duration&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(_s,{className:"h-5 w-5 text-muted-foreground"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:"Duracin"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:d.duration})]})]}),d.remote&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(sa,{className:"h-5 w-5 text-muted-foreground"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:"Modalidad"}),i.jsx(Se,{variant:"secondary",children:"Remoto"})]})]}),d.compensation&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(zf,{className:"h-5 w-5 text-muted-foreground"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:"Compensacin"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:d.compensation})]})]})]}),i.jsx(ei,{}),!y&&i.jsxs("div",{className:"flex gap-3 pt-4",children:[i.jsxs($,{onClick:g,disabled:o||s,className:"flex-1",size:"lg",children:[i.jsx(G3,{className:`h-5 w-5 mr-2 ${s?"fill-current":""}`}),o?"Enviando...":s?"Te interesa!":"Me interesa"]}),i.jsxs($,{variant:"outline",onClick:w,className:"flex-1",size:"lg",children:[i.jsx(Uu,{className:"h-5 w-5 mr-2"}),"Contactar"]})]}),y&&i.jsx("div",{className:"flex gap-3 pt-4",children:i.jsxs($,{onClick:()=>u(!0),className:"flex-1",size:"lg",children:[i.jsx(cE,{className:"h-5 w-5 mr-2"}),"Editar oportunidad"]})})]})]})]}),i.jsx(jT,{open:c,onOpenChange:u,opportunity:d})]})}const Y9=()=>vt({queryKey:["cities"],queryFn:async()=>(await gw.getCities()).cities,staleTime:300*1e3,gcTime:600*1e3,refetchOnWindowFocus:!1});function J9({city:e,className:t}){return i.jsx(nn,{to:`/opportunities/${e.slug}`,children:i.jsxs(_e,{className:J("relative h-[280px] overflow-hidden cursor-pointer group","transition-all duration-300 hover:shadow-lg hover:scale-[1.02]","rounded-xl border border-border",t),role:"button",tabIndex:0,"aria-label":`Ver oportunidades en ${e.name}`,onKeyDown:r=>{(r.key==="Enter"||r.key===" ")&&(r.preventDefault(),window.location.href=`/opportunities/${e.slug}`)},children:[i.jsx("div",{className:"absolute inset-0 bg-cover bg-center transition-transform duration-300 group-hover:scale-110",style:{backgroundImage:`url(${e.image_url})`},"aria-hidden":"true"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-black/20","aria-hidden":"true"}),i.jsxs("div",{className:"relative h-full flex flex-col justify-between p-6",children:[i.jsx("div",{className:"flex justify-end",children:e.active_opportunities_count>0&&i.jsxs(Se,{variant:"secondary",className:"bg-white/90 text-foreground backdrop-blur-sm",children:[i.jsx(sa,{className:"h-3 w-3 mr-1"}),e.active_opportunities_count," ",e.active_opportunities_count===1?"oportunidad":"oportunidades"]})}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-white",children:[i.jsx(Mr,{className:"h-5 w-5"}),i.jsx("h3",{className:"text-2xl font-bold",children:e.name})]}),e.description&&i.jsx("p",{className:"text-white/90 text-sm line-clamp-2",children:e.description})]})]})]})})}function X9({count:e=6}){return i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:e}).map((t,r)=>i.jsxs(_e,{className:"relative h-[280px] overflow-hidden rounded-xl",children:[i.jsx(It,{className:"absolute inset-0"}),i.jsxs("div",{className:"relative h-full flex flex-col justify-between p-6",children:[i.jsx("div",{className:"flex justify-end",children:i.jsx(It,{className:"h-6 w-32 rounded-full"})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(It,{className:"h-8 w-40"}),i.jsx(It,{className:"h-4 w-full"}),i.jsx(It,{className:"h-4 w-3/4"})]})]})]},r))})}function Z9(){return i.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:i.jsxs(Qs,{className:"max-w-md",children:[i.jsx(Mr,{className:"h-4 w-4"}),i.jsx(Ak,{children:"No hay ciudades disponibles"}),i.jsx(Gs,{children:"Actualmente no hay ciudades configuradas. Contacta con un administrador para aadir nuevas ciudades."})]})})}function eW(){const{data:e,isLoading:t,isError:r,error:n}=Y9();return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted",children:[i.jsx(Yt,{}),i.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Oportunidades por Ciudad"}),i.jsx("p",{className:"text-muted-foreground",children:"Explora las oportunidades disponibles en cada ciudad"})]}),t&&i.jsx(X9,{count:6}),r&&i.jsxs(Qs,{variant:"destructive",className:"max-w-2xl",children:[i.jsx(Hs,{className:"h-4 w-4"}),i.jsxs(Gs,{children:["Error al cargar las ciudades:"," ",n instanceof Error?n.message:"Error desconocido"]})]}),!t&&!r&&e&&e.length===0&&i.jsx(Z9,{}),!t&&!r&&e&&e.length>0&&i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(s=>i.jsx(J9,{city:s},s.id))})]})]})}const tW=(e,t)=>vt({queryKey:["cities",e],queryFn:async()=>(await gw.getCityBySlug(e)).city,enabled:(t==null?void 0:t.enabled)!==!1&&!!e,staleTime:300*1e3,gcTime:600*1e3,retry:1,refetchOnWindowFocus:!1}),rW=(e,t,r)=>vt({queryKey:["opportunities","by-city",e,t||{}],queryFn:async()=>await Gl.getOpportunitiesByCity(e,t),enabled:(r==null?void 0:r.enabled)!==!1&&!!e,staleTime:120*1e3,gcTime:300*1e3}),nW=e=>{const{isAdmin:t}=fo(),{data:r,isLoading:n}=bT();return p.useMemo(()=>{if(n)return{canManageAnyCity:!1,canManageCity:!1,managedCities:[],isLoading:!0};const a=(r==null?void 0:r.isCityManager)||!1,o=(r==null?void 0:r.managedCities)||[];if(t)return{canManageAnyCity:!0,canManageCity:!0,managedCities:[],isLoading:!1};const l=e?o.some(c=>c.id===e):!1;return{canManageAnyCity:a,canManageCity:e?l:a,managedCities:o,isLoading:!1}},[t,r,e,n])},_T=p.forwardRef(({...e},t)=>i.jsx("nav",{ref:t,"aria-label":"breadcrumb",...e}));_T.displayName="Breadcrumb";const ST=p.forwardRef(({className:e,...t},r)=>i.jsx("ol",{ref:r,className:J("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",e),...t}));ST.displayName="BreadcrumbList";const $v=p.forwardRef(({className:e,...t},r)=>i.jsx("li",{ref:r,className:J("inline-flex items-center gap-1.5",e),...t}));$v.displayName="BreadcrumbItem";const NT=p.forwardRef(({asChild:e,className:t,...r},n)=>{const s=e?cx:"a";return i.jsx(s,{ref:n,className:J("transition-colors hover:text-foreground",t),...r})});NT.displayName="BreadcrumbLink";const CT=p.forwardRef(({className:e,...t},r)=>i.jsx("span",{ref:r,role:"link","aria-disabled":"true","aria-current":"page",className:J("font-normal text-foreground",e),...t}));CT.displayName="BreadcrumbPage";const ET=({children:e,className:t,...r})=>i.jsx("li",{role:"presentation","aria-hidden":"true",className:J("[&>svg]:size-3.5",t),...r,children:e??i.jsx(rE,{})});ET.displayName="BreadcrumbSeparator";function sW({city:e}){return i.jsxs("div",{className:"space-y-4",children:[i.jsx(_T,{children:i.jsxs(ST,{children:[i.jsx($v,{children:i.jsx(NT,{asChild:!0,children:i.jsx(nn,{to:"/opportunities",children:"Oportunidades"})})}),i.jsx(ET,{}),i.jsx($v,{children:i.jsx(CT,{children:e.name})})]})}),i.jsxs("div",{className:"relative h-[200px] rounded-2xl overflow-hidden shadow-sm",children:[i.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url(${e.image_url})`},"aria-hidden":"true"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/30 to-transparent","aria-hidden":"true"}),i.jsx("div",{className:"relative h-full flex flex-col justify-end p-8",children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-3 text-white",children:[i.jsx(Mr,{className:"h-6 w-6"}),i.jsx("h1",{className:"text-4xl font-bold",children:e.name})]}),e.description&&i.jsx("p",{className:"text-white/90 text-lg max-w-3xl",children:e.description}),e.active_opportunities_count>0&&i.jsxs("p",{className:"text-white/80 text-sm",children:[e.active_opportunities_count," ",e.active_opportunities_count===1?"oportunidad activa":"oportunidades activas"]})]})})]})]})}const aW=()=>{const e=Ke(),t=Ze({mutationFn:async r=>{await Gl.deleteOpportunity(r)},onSuccess:()=>{e.invalidateQueries({queryKey:["opportunities"]}),e.invalidateQueries({queryKey:["my-opportunities"]}),e.invalidateQueries({queryKey:["opportunity"]})}});return{action:t.mutate,isLoading:t.isPending,error:t.error,isSuccess:t.isSuccess,data:t.data}},iW={proyecto:"Proyecto",colaboracion:"Colaboracin",empleo:"Empleo",mentoria:"Mentora",evento:"Evento",otro:"Otro"},oW={abierta:"Abierta",en_progreso:"En Progreso",cerrada:"Cerrada",cancelada:"Cancelada"},lW={abierta:"default",en_progreso:"secondary",cerrada:"outline",cancelada:"destructive"};function cW({opportunity:e,onEdit:t,showActions:r=!1,isOwner:n=!1,showCityBadge:s=!1}){var d,h;const{action:a,isLoading:o}=aW(),l="city"in e&&e.city!==void 0,c=()=>{confirm("Ests seguro de que quieres eliminar esta oportunidad?")&&a(e.id)},u=()=>{t&&t(e)};return i.jsxs(_e,{className:"hover:shadow-lg transition-shadow",children:[i.jsx(ft,{children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[i.jsx(Se,{variant:lW[e.status],children:oW[e.status]}),i.jsxs(Se,{variant:"outline",children:[i.jsx(sa,{className:"h-3 w-3 mr-1"}),iW[e.type]]}),s&&l&&i.jsxs(Se,{variant:"secondary",className:"bg-primary/10 text-primary",children:[i.jsx(e5,{className:"h-3 w-3 mr-1"}),e.city.name]})]}),i.jsx("h3",{className:"text-xl font-semibold mb-2",children:e.title})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(St,{className:"h-10 w-10",children:[i.jsx(Dt,{src:e.creator.avatar_url||void 0,alt:e.creator.name}),i.jsx(Nt,{children:(h=(d=e.creator.name)==null?void 0:d.charAt(0))==null?void 0:h.toUpperCase()})]}),i.jsx("div",{className:"text-sm",children:i.jsx("p",{className:"font-medium",children:e.creator.name})})]})]})}),i.jsxs(je,{className:"space-y-4",children:[i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-3",children:e.description}),e.skills_required.length>0&&i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-2",children:"Habilidades requeridas:"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:e.skills_required.map(f=>i.jsx(Se,{variant:"secondary",className:"text-xs",children:f},f))})]}),i.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-muted-foreground",children:[e.location&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Mr,{className:"h-4 w-4"}),i.jsx("span",{children:e.location})]}),e.remote&&i.jsx(Se,{variant:"outline",className:"text-xs",children:"Remoto"}),e.duration&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(fi,{className:"h-4 w-4"}),i.jsx("span",{children:e.duration})]}),e.compensation&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(zf,{className:"h-4 w-4"}),i.jsx("span",{children:e.compensation})]})]})]}),r&&n&&i.jsxs(VE,{className:"flex justify-end gap-2 pt-4 border-t",children:[i.jsxs($,{variant:"outline",size:"sm",onClick:u,className:"flex items-center gap-2",children:[i.jsx(cE,{className:"h-4 w-4"}),"Editar"]}),i.jsxs($,{variant:"destructive",size:"sm",onClick:c,disabled:o,className:"flex items-center gap-2",children:[i.jsx(Ql,{className:"h-4 w-4"}),o?"Eliminando...":"Eliminar"]})]})]})}const o_={proyecto:"Proyecto",colaboracion:"Colaboracin",empleo:"Empleo",mentoria:"Mentora",evento:"Evento",otro:"Otro"};function uW(){const{citySlug:e}=zl(),t=gt(),[r,n]=p.useState("all"),[s,a]=p.useState(!1),[o,l]=p.useState(null),{data:c,isLoading:u,isError:d,error:h}=tW(e||"",{enabled:!!e}),{canManageCity:f,isLoading:m}=nW(c==null?void 0:c.id),w=r!=="all"?{type:r}:void 0,{data:g,isLoading:v,isError:b,error:y}=rW((c==null?void 0:c.id)||0,w,{enabled:!!(c!=null&&c.id)}),x=(g==null?void 0:g.opportunities)||[],j=()=>{l(null),a(!0)},_=N=>{l(N),a(!0)},S=()=>{a(!1),l(null)};return u?i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted",children:[i.jsx(Yt,{}),i.jsx("div",{className:"container mx-auto px-4 py-8",children:i.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:i.jsx(_t,{className:"h-8 w-8 animate-spin text-primary"})})})]}):d?i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted",children:[i.jsx(Yt,{}),i.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[i.jsxs($,{variant:"ghost",onClick:()=>t("/opportunities"),className:"mb-4",children:[i.jsx(cj,{className:"h-4 w-4 mr-2"}),"Volver a ciudades"]}),i.jsxs(Qs,{variant:"destructive",children:[i.jsx(Hs,{className:"h-4 w-4"}),i.jsx(Gs,{children:h instanceof Error?h.message:"No se pudo cargar la ciudad"})]})]})]}):c?i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted",children:[i.jsx(Yt,{}),i.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[i.jsx(sW,{city:c}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-start sm:items-center mt-8 mb-6",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Tipo:"}),i.jsxs(Ys,{value:r,onValueChange:N=>n(N),children:[i.jsx(ws,{className:"w-[180px]",children:i.jsx(Js,{placeholder:"Todos"})}),i.jsxs(bs,{children:[i.jsx(st,{value:"all",children:"Todos"}),Object.entries(o_).map(([N,C])=>i.jsx(st,{value:N,children:C},N))]})]})]}),!m&&f&&i.jsxs($,{onClick:j,children:[i.jsx(eo,{className:"h-4 w-4 mr-2"}),"Crear oportunidad"]})]}),b&&i.jsxs(Qs,{variant:"destructive",className:"mb-6",children:[i.jsx(Hs,{className:"h-4 w-4"}),i.jsxs(Gs,{children:["Error al cargar las oportunidades:"," ",y instanceof Error?y.message:"Error desconocido"]})]}),v&&i.jsx("div",{className:"flex items-center justify-center min-h-[300px]",children:i.jsx(_t,{className:"h-8 w-8 animate-spin text-primary"})}),!v&&!b&&x.length===0&&i.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[300px] text-center",children:[i.jsx("div",{className:"bg-muted rounded-full p-6 mb-4",children:i.jsx(Hs,{className:"h-12 w-12 text-muted-foreground"})}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No hay oportunidades disponibles"}),i.jsx("p",{className:"text-muted-foreground max-w-md",children:r!=="all"?`No se encontraron oportunidades de tipo "${o_[r]}" en ${c.name}.`:`An no hay oportunidades publicadas en ${c.name}.`}),f&&i.jsxs($,{onClick:j,className:"mt-6",children:[i.jsx(eo,{className:"h-4 w-4 mr-2"}),"Crear primera oportunidad"]})]}),!v&&!b&&x.length>0&&i.jsxs("div",{children:[i.jsx("div",{className:"mb-4",children:i.jsxs(Se,{variant:"secondary",children:[x.length," ",x.length===1?"oportunidad":"oportunidades"]})}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.map(N=>{const C=f;return i.jsx(cW,{opportunity:N,onEdit:C?_:void 0,showActions:C,isOwner:C},N.id)})})]}),i.jsx(jT,{open:s,onOpenChange:S,opportunity:o})]})]}):i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted",children:[i.jsx(Yt,{}),i.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[i.jsxs($,{variant:"ghost",onClick:()=>t("/opportunities"),className:"mb-4",children:[i.jsx(cj,{className:"h-4 w-4 mr-2"}),"Volver a ciudades"]}),i.jsxs(Qs,{children:[i.jsx(Hs,{className:"h-4 w-4"}),i.jsx(Gs,{children:"Ciudad no encontrada"})]})]})]})}const wm=da(["aceleracion","workshop","bootcamp","mentoria","curso","proyecto","otro"]),vw=da(["upcoming","active","completed","cancelled"]),yw=W({id:OC([P(),be()]).transform(e=>String(e)),title:P(),description:P(),type:wm,start_date:P(),end_date:P(),duration:P(),location:P().nullish(),participants:be(),max_participants:be().nullish(),instructor:P(),status:vw,featured:Lr(),skills:Fe(P()),price:P().nullish(),image_url:P().nullish(),created_by:P().uuid(),created_at:P(),updated_at:P()}),kT=yw.extend({creator:W({id:P().uuid(),name:P(),avatar_url:P().nullable().optional(),professional_title:P().nullable().optional()}),user_enrollment:W({id:P().uuid(),status:P()}).nullable().optional()}),dW=W({title:P().min(5,"El ttulo debe tener al menos 5 caracteres").max(255,"El ttulo no puede superar 255 caracteres"),description:P().min(20,"La descripcin debe tener al menos 20 caracteres"),type:wm,start_date:P(),end_date:P(),duration:P().min(1,"La duracin es requerida"),instructor:P().min(1,"El instructor es requerido"),skills:Fe(P()).min(1,"Debes especificar al menos una habilidad"),location:P().max(255).nullable().optional(),max_participants:be().positive().nullable().optional(),price:P().max(100).nullable().optional(),image_url:P().url().nullable().optional(),featured:Lr().optional()}),hW=W({title:P().min(5).max(255).optional(),description:P().min(20).optional(),type:wm.optional(),start_date:P().optional(),end_date:P().optional(),duration:P().optional(),location:P().max(255).nullable().optional(),max_participants:be().positive().nullable().optional(),instructor:P().optional(),status:vw.optional(),featured:Lr().optional(),skills:Fe(P()).min(1).optional(),price:P().max(100).nullable().optional(),image_url:P().url().nullable().optional()});W({type:wm.optional(),status:vw.optional(),skills:Fe(P()).optional(),featured:Lr().optional(),search:P().optional()});const fW=W({project:kT}),l_=W({projects:Fe(kT),total:be()}),mW=W({project:yw}),pW=W({project:yw}),go={async getProjects(e){var r;const t=await ve.get("/projects",{params:{type:e==null?void 0:e.type,status:e==null?void 0:e.status,skills:(r=e==null?void 0:e.skills)==null?void 0:r.join(","),featured:e==null?void 0:e.featured,search:e==null?void 0:e.search}});return l_.parse(t.data)},async getProject(e){const t=await ve.get(`/projects/${e}`);return fW.parse(t.data)},async getMyProjects(){const e=await ve.get("/projects/my");return l_.parse(e.data)},async createProject(e){const t=await ve.post("/projects",e);return mW.parse(t.data)},async updateProject(e,t){const r=await ve.put(`/projects/${e}`,t);return pW.parse(r.data)},async deleteProject(e){await ve.delete(`/projects/${e}`)},async enrollInProject(e){return(await ve.post(`/projects/${e}/enroll`)).data},async getMyEnrollments(){return(await ve.get("/projects/my/enrollments")).data},async cancelEnrollment(e){return(await ve.delete(`/projects/enrollments/${e}`)).data}};function gW(e){return vt({queryKey:["programs",e],queryFn:()=>go.getProjects(e),staleTime:1e3*60*5})}const xw=e=>vt({queryKey:["my-programs"],queryFn:async()=>await go.getMyEnrollments(),enabled:(e==null?void 0:e.enabled)!==!1,staleTime:0,gcTime:300*1e3});function PT(){const e=Ke(),t=Ze({mutationFn:r=>go.enrollInProject(r),onSuccess:async()=>{await Promise.all([e.invalidateQueries({queryKey:["programs"]}),e.invalidateQueries({queryKey:["my-programs"]}),e.invalidateQueries({queryKey:["enrollments"]})]),await e.refetchQueries({queryKey:["my-programs"]})},onError:r=>{console.error("[useEnrollInProjectMutation] Error enrolling:",r)}});return{enroll:t.mutate,enrollAsync:t.mutateAsync,isLoading:t.isPending,isError:t.isError,error:t.error,isSuccess:t.isSuccess,reset:t.reset}}function RT(){const e=Ke(),t=Ze({mutationFn:r=>go.cancelEnrollment(r),onSuccess:async()=>{await Promise.all([e.invalidateQueries({queryKey:["programs"]}),e.invalidateQueries({queryKey:["my-programs"]}),e.invalidateQueries({queryKey:["enrollments"]})]),await e.refetchQueries({queryKey:["my-programs"]})},onError:r=>{console.error("[useCancelEnrollmentMutation] Error canceling:",r)}});return{cancel:t.mutate,cancelAsync:t.mutateAsync,isLoading:t.isPending,isError:t.isError,error:t.error,isSuccess:t.isSuccess,reset:t.reset}}function vW(){const e=Ke(),t=Ze({mutationFn:r=>go.deleteProject(r),onSuccess:()=>{e.invalidateQueries({queryKey:["programs"]})}});return{action:t.mutate,actionAsync:t.mutateAsync,isLoading:t.isPending,isError:t.isError,error:t.error}}function yW(){const e=Ke(),t=Ze({mutationFn:({id:r,data:n})=>go.updateProject(r,n),onSuccess:()=>{e.invalidateQueries({queryKey:["programs"]}),e.invalidateQueries({queryKey:["project"]})}});return{action:t.mutate,actionAsync:t.mutateAsync,isLoading:t.isPending,isError:t.isError,error:t.error}}function xW({program:e,open:t,onOpenChange:r}){const{action:n,isLoading:s}=yW(),{register:a,handleSubmit:o,formState:{errors:l},reset:c,setValue:u,watch:d}=vm({resolver:ym(hW),defaultValues:{title:e.title,description:e.description,type:e.type,start_date:e.start_date.split("T")[0],end_date:e.end_date.split("T")[0],duration:e.duration,instructor:e.instructor,location:e.location,price:e.price,max_participants:e.max_participants,skills:e.skills,featured:e.featured}}),[h,f]=p.useState(""),m=d("skills")||[];p.useEffect(()=>{c({title:e.title,description:e.description,type:e.type,start_date:e.start_date.split("T")[0],end_date:e.end_date.split("T")[0],duration:e.duration,instructor:e.instructor,location:e.location,price:e.price,max_participants:e.max_participants,skills:e.skills,featured:e.featured})},[e,c]);const w=()=>{h.trim()&&!m.includes(h.trim())&&(u("skills",[...m,h.trim()]),f(""))},g=b=>{u("skills",m.filter(y=>y!==b))},v=async b=>{try{await n({id:String(e.id),data:b}),r(!1)}catch(y){console.error("Error updating program:",y)}};return i.jsx(hn,{open:t,onOpenChange:r,children:i.jsxs(Yr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[i.jsxs(fn,{children:[i.jsx(mn,{children:"Editar Projecta"}),i.jsx(pn,{children:"Actualiza la informacin del programa"})]}),i.jsxs("form",{onSubmit:o(v),className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{htmlFor:"title",children:"Ttulo *"}),i.jsx(ge,{id:"title",...a("title"),placeholder:"Ej: Workshop de Design Thinking"}),l.title&&i.jsx("p",{className:"text-sm text-destructive",children:l.title.message})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{htmlFor:"description",children:"Descripcin *"}),i.jsx(la,{id:"description",...a("description"),placeholder:"Describe el programa, qu aprendern los participantes...",rows:4}),l.description&&i.jsx("p",{className:"text-sm text-destructive",children:l.description.message})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{htmlFor:"type",children:"Tipo *"}),i.jsxs(Ys,{onValueChange:b=>u("type",b),defaultValue:e.type,children:[i.jsx(ws,{children:i.jsx(Js,{placeholder:"Selecciona tipo"})}),i.jsxs(bs,{children:[i.jsx(st,{value:"aceleracion",children:"Aceleracin"}),i.jsx(st,{value:"workshop",children:"Workshop"}),i.jsx(st,{value:"bootcamp",children:"Bootcamp"}),i.jsx(st,{value:"mentoria",children:"Mentora"}),i.jsx(st,{value:"curso",children:"Curso"}),i.jsx(st,{value:"proyecto",children:"Proyecto"}),i.jsx(st,{value:"otro",children:"Otro"})]})]}),l.type&&i.jsx("p",{className:"text-sm text-destructive",children:l.type.message})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{htmlFor:"instructor",children:"Instructor *"}),i.jsx(ge,{id:"instructor",...a("instructor"),placeholder:"Nombre del instructor"}),l.instructor&&i.jsx("p",{className:"text-sm text-destructive",children:l.instructor.message})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{htmlFor:"start_date",children:"Fecha inicio *"}),i.jsx(ge,{id:"start_date",type:"date",...a("start_date")}),l.start_date&&i.jsx("p",{className:"text-sm text-destructive",children:l.start_date.message})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{htmlFor:"end_date",children:"Fecha fin *"}),i.jsx(ge,{id:"end_date",type:"date",...a("end_date")}),l.end_date&&i.jsx("p",{className:"text-sm text-destructive",children:l.end_date.message})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{htmlFor:"duration",children:"Duracin *"}),i.jsx(ge,{id:"duration",...a("duration"),placeholder:"Ej: 2 semanas"}),l.duration&&i.jsx("p",{className:"text-sm text-destructive",children:l.duration.message})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{htmlFor:"location",children:"Ubicacin"}),i.jsx(ge,{id:"location",...a("location"),placeholder:"Madrid, Online..."})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{htmlFor:"price",children:"Precio"}),i.jsx(ge,{id:"price",...a("price"),placeholder:"150, Gratuito..."})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{htmlFor:"max_participants",children:"Plazas mximas"}),i.jsx(ge,{id:"max_participants",type:"number",...a("max_participants",{valueAsNumber:!0}),placeholder:"30"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{children:"Habilidades *"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(ge,{value:h,onChange:b=>f(b.target.value),onKeyPress:b=>{b.key==="Enter"&&(b.preventDefault(),w())},placeholder:"Aade una habilidad y presiona Enter"}),i.jsx($,{type:"button",onClick:w,variant:"outline",children:"Aadir"})]}),i.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:m.map(b=>i.jsxs("div",{className:"bg-primary/10 text-primary px-3 py-1 rounded-full text-sm flex items-center gap-2",children:[b,i.jsx("button",{type:"button",onClick:()=>g(b),className:"hover:text-destructive",children:""})]},b))}),l.skills&&i.jsx("p",{className:"text-sm text-destructive",children:l.skills.message})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",id:"featured",...a("featured"),className:"rounded"}),i.jsx(fe,{htmlFor:"featured",className:"cursor-pointer",children:"Destacar este programa"})]}),i.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[i.jsx($,{type:"button",variant:"outline",onClick:()=>r(!1),children:"Cancelar"}),i.jsx($,{type:"submit",disabled:s,children:s?"Guardando...":"Guardar Cambios"})]})]})]})})}var TT="AlertDialog",[wW]=yr(TT,[jE]),ha=jE(),AT=e=>{const{__scopeAlertDialog:t,...r}=e,n=ha(t);return i.jsx($E,{...n,...r,modal:!0})};AT.displayName=TT;var bW="AlertDialogTrigger",jW=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=ha(r);return i.jsx(FE,{...s,...n,ref:t})});jW.displayName=bW;var _W="AlertDialogPortal",OT=e=>{const{__scopeAlertDialog:t,...r}=e,n=ha(t);return i.jsx(UE,{...n,...r})};OT.displayName=_W;var SW="AlertDialogOverlay",IT=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=ha(r);return i.jsx(Nx,{...s,...n,ref:t})});IT.displayName=SW;var nl="AlertDialogContent",[NW,CW]=wW(nl),EW=VF("AlertDialogContent"),MT=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...s}=e,a=ha(r),o=p.useRef(null),l=Te(t,o),c=p.useRef(null);return i.jsx(gU,{contentName:nl,titleName:DT,docsSlug:"alert-dialog",children:i.jsx(NW,{scope:r,cancelRef:c,children:i.jsxs(Cx,{role:"alertdialog",...a,...s,ref:l,onOpenAutoFocus:Z(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[i.jsx(EW,{children:n}),i.jsx(PW,{contentRef:o})]})})})});MT.displayName=nl;var DT="AlertDialogTitle",LT=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=ha(r);return i.jsx(Ex,{...s,...n,ref:t})});LT.displayName=DT;var $T="AlertDialogDescription",FT=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=ha(r);return i.jsx(kx,{...s,...n,ref:t})});FT.displayName=$T;var kW="AlertDialogAction",UT=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=ha(r);return i.jsx(Px,{...s,...n,ref:t})});UT.displayName=kW;var zT="AlertDialogCancel",BT=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:s}=CW(zT,r),a=ha(r),o=Te(t,s);return i.jsx(Px,{...a,...n,ref:o})});BT.displayName=zT;var PW=({contentRef:e})=>{const t=`\`${nl}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${nl}\` by passing a \`${$T}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${nl}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return p.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},RW=AT,TW=OT,VT=IT,qT=MT,WT=UT,HT=BT,KT=LT,QT=FT;const ww=RW,AW=TW,GT=p.forwardRef(({className:e,...t},r)=>i.jsx(VT,{className:J("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));GT.displayName=VT.displayName;const bm=p.forwardRef(({className:e,...t},r)=>i.jsxs(AW,{children:[i.jsx(GT,{}),i.jsx(qT,{ref:r,className:J("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));bm.displayName=qT.displayName;const jm=({className:e,...t})=>i.jsx("div",{className:J("flex flex-col space-y-2 text-center sm:text-left",e),...t});jm.displayName="AlertDialogHeader";const _m=({className:e,...t})=>i.jsx("div",{className:J("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});_m.displayName="AlertDialogFooter";const Sm=p.forwardRef(({className:e,...t},r)=>i.jsx(KT,{ref:r,className:J("text-lg font-semibold",e),...t}));Sm.displayName=KT.displayName;const Nm=p.forwardRef(({className:e,...t},r)=>i.jsx(QT,{ref:r,className:J("text-sm text-muted-foreground",e),...t}));Nm.displayName=QT.displayName;const Cm=p.forwardRef(({className:e,...t},r)=>i.jsx(WT,{ref:r,className:J(dx(),e),...t}));Cm.displayName=WT.displayName;const Em=p.forwardRef(({className:e,...t},r)=>i.jsx(HT,{ref:r,className:J(dx({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Em.displayName=HT.displayName;const OW={aceleracion:"Aceleracin",workshop:"Workshop",bootcamp:"Bootcamp",mentoria:"Mentora",curso:"Curso",proyecto:"Proyecto",otro:"Otro"},IW={upcoming:"Prximo",active:"En curso",completed:"Completado",cancelled:"Cancelado"},MW={upcoming:"default",active:"default",completed:"secondary",cancelled:"destructive"},DW={upcoming:"bg-blue-500",active:"bg-green-500",completed:"bg-gray-500",cancelled:"bg-red-500"};function LW({program:e,onViewDetails:t}){const{user:r}=Ct(),{enroll:n,isLoading:s}=PT(),{cancel:a,isLoading:o}=RT(),{action:l,isLoading:c}=vW(),{data:u}=xw({enabled:!!r}),[d,h]=p.useState(!1),[f,m]=p.useState(!1),w=p.useMemo(()=>u!=null&&u.enrollments?u.enrollments.find(T=>T.project?String(T.project.id)===String(e.id):!1):null,[u==null?void 0:u.enrollments,e.id]),g=!!w,v=w==null?void 0:w.id,b=()=>{n(String(e.id))},y=()=>{v&&a(String(v))},x=()=>{t&&t(e)},j=()=>{l(String(e.id)),m(!1)},_=e.max_participants&&e.participants>=e.max_participants,S=e.status==="upcoming"&&!_&&!g,N=g&&e.status==="upcoming",C=r&&e.created_by===r.id;return i.jsxs(_e,{className:`hover:shadow-lg transition-shadow ${e.featured?"ring-2 ring-primary/20":""}`,children:[i.jsx(ft,{children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(Se,{variant:"outline",className:"text-xs",children:OW[e.type]}),i.jsx(Se,{variant:MW[e.status],className:DW[e.status],children:IW[e.status]}),e.featured&&i.jsx(Se,{variant:"default",className:"bg-yellow-500 text-white text-xs",children:"Destacado"})]}),i.jsx("h3",{className:"text-xl font-semibold mb-2",children:e.title})]}),i.jsxs("div",{className:"text-right flex items-start gap-2",children:[i.jsx("div",{className:"text-lg font-bold text-primary",children:e.price||"Gratuito"}),C&&i.jsxs("div",{className:"flex gap-1",children:[i.jsx($,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>h(!0),title:"Editar programa",children:i.jsx(lE,{className:"h-4 w-4"})}),i.jsx($,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",onClick:()=>m(!0),title:"Eliminar programa",children:i.jsx(Ql,{className:"h-4 w-4"})})]})]})]})}),i.jsxs(je,{className:"space-y-4",children:[i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-3",children:e.description}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{className:"flex items-center text-muted-foreground",children:[i.jsx(fi,{className:"h-4 w-4 mr-2"}),e.duration]}),i.jsxs("div",{className:"flex items-center text-muted-foreground",children:[i.jsx(Mr,{className:"h-4 w-4 mr-2"}),e.location||"Online"]}),i.jsxs("div",{className:"flex items-center text-muted-foreground",children:[i.jsx(Dr,{className:"h-4 w-4 mr-2"}),e.participants,"/",e.max_participants||""," plazas"]}),i.jsxs("div",{className:"flex items-center text-muted-foreground",children:[i.jsx(_s,{className:"h-4 w-4 mr-2"}),new Date(e.start_date).toLocaleDateString("es-ES")]})]}),e.skills.length>0&&i.jsx("div",{className:"flex flex-wrap gap-2",children:e.skills.map(R=>i.jsx(Se,{variant:"secondary",className:"text-xs",children:R},R))}),i.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(St,{className:"h-6 w-6",children:i.jsx(Nt,{className:"text-xs",children:e.instructor.split(" ").map(R=>R[0]).join("")})}),i.jsx("span",{className:"text-sm text-muted-foreground",children:e.instructor})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx($,{variant:"outline",size:"sm",onClick:x,children:"Ver detalles"}),S&&r&&i.jsx($,{size:"sm",onClick:b,disabled:s,children:s?"Inscribiendo...":"Inscribirse"}),N&&i.jsx($,{size:"sm",variant:"destructive",onClick:y,disabled:o,children:o?"Cancelando...":"Cancelar"}),g&&!N&&i.jsx(Se,{variant:"default",className:"bg-green-500",children:"Inscrito "}),_&&e.status==="upcoming"&&!g&&i.jsx(Se,{variant:"secondary",children:"Completo"})]})]})]}),C&&i.jsx(xW,{program:e,open:d,onOpenChange:h}),i.jsx(ww,{open:f,onOpenChange:m,children:i.jsxs(bm,{children:[i.jsxs(jm,{children:[i.jsx(Sm,{children:"Eliminar programa?"}),i.jsxs(Nm,{children:['Esta accin no se puede deshacer. Se eliminar el programa "',e.title,'" permanentemente.']})]}),i.jsxs(_m,{children:[i.jsx(Em,{children:"Cancelar"}),i.jsx(Cm,{onClick:j,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",disabled:c,children:c?"Eliminando...":"Eliminar"})]})]})})]})}function $W(){const e=Ke(),t=Ze({mutationFn:r=>go.createProject(r),onSuccess:()=>{e.invalidateQueries({queryKey:["programs"]})}});return{action:t.mutate,actionAsync:t.mutateAsync,isLoading:t.isPending,isError:t.isError,error:t.error}}function FW(){const[e,t]=p.useState(!1),{action:r,isLoading:n}=$W(),{register:s,handleSubmit:a,formState:{errors:o},reset:l,setValue:c,watch:u}=vm({resolver:ym(dW),defaultValues:{type:"workshop",skills:[],featured:!1}}),[d,h]=p.useState(""),f=u("skills")||[],m=()=>{d.trim()&&!f.includes(d.trim())&&(c("skills",[...f,d.trim()]),h(""))},w=v=>{c("skills",f.filter(b=>b!==v))},g=async v=>{try{await r(v),l(),t(!1)}catch(b){console.error("Error creating program:",b)}};return i.jsxs(hn,{open:e,onOpenChange:t,children:[i.jsx(zE,{asChild:!0,children:i.jsxs($,{className:"gap-2",children:[i.jsx(eo,{className:"h-4 w-4"}),"Crear Proyecto"]})}),i.jsxs(Yr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[i.jsxs(fn,{children:[i.jsx(mn,{children:"Crear Nuevo Proyecto"}),i.jsx(pn,{children:"Crea un nuevo programa educativo para la comunidad"})]}),i.jsxs("form",{onSubmit:a(g),className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{htmlFor:"title",children:"Ttulo *"}),i.jsx(ge,{id:"title",...s("title"),placeholder:"Ej: Workshop de Design Thinking"}),o.title&&i.jsx("p",{className:"text-sm text-destructive",children:o.title.message})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{htmlFor:"description",children:"Descripcin *"}),i.jsx(la,{id:"description",...s("description"),placeholder:"Describe el programa, qu aprendern los participantes...",rows:4}),o.description&&i.jsx("p",{className:"text-sm text-destructive",children:o.description.message})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{htmlFor:"type",children:"Tipo *"}),i.jsxs(Ys,{onValueChange:v=>c("type",v),defaultValue:"workshop",children:[i.jsx(ws,{children:i.jsx(Js,{placeholder:"Selecciona tipo"})}),i.jsxs(bs,{children:[i.jsx(st,{value:"aceleracion",children:"Aceleracin"}),i.jsx(st,{value:"workshop",children:"Workshop"}),i.jsx(st,{value:"bootcamp",children:"Bootcamp"}),i.jsx(st,{value:"mentoria",children:"Mentora"}),i.jsx(st,{value:"curso",children:"Curso"}),i.jsx(st,{value:"proyecto",children:"Proyecto"}),i.jsx(st,{value:"otro",children:"Otro"})]})]}),o.type&&i.jsx("p",{className:"text-sm text-destructive",children:o.type.message})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{htmlFor:"instructor",children:"Instructor *"}),i.jsx(ge,{id:"instructor",...s("instructor"),placeholder:"Nombre del instructor"}),o.instructor&&i.jsx("p",{className:"text-sm text-destructive",children:o.instructor.message})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{htmlFor:"start_date",children:"Fecha inicio *"}),i.jsx(ge,{id:"start_date",type:"date",...s("start_date")}),o.start_date&&i.jsx("p",{className:"text-sm text-destructive",children:o.start_date.message})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{htmlFor:"end_date",children:"Fecha fin *"}),i.jsx(ge,{id:"end_date",type:"date",...s("end_date")}),o.end_date&&i.jsx("p",{className:"text-sm text-destructive",children:o.end_date.message})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{htmlFor:"duration",children:"Duracin *"}),i.jsx(ge,{id:"duration",...s("duration"),placeholder:"Ej: 2 semanas"}),o.duration&&i.jsx("p",{className:"text-sm text-destructive",children:o.duration.message})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{htmlFor:"location",children:"Ubicacin"}),i.jsx(ge,{id:"location",...s("location"),placeholder:"Madrid, Online..."})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{htmlFor:"price",children:"Precio"}),i.jsx(ge,{id:"price",...s("price"),placeholder:"150, Gratuito..."})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{htmlFor:"max_participants",children:"Plazas mximas"}),i.jsx(ge,{id:"max_participants",type:"number",...s("max_participants",{valueAsNumber:!0}),placeholder:"30"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{children:"Habilidades *"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(ge,{value:d,onChange:v=>h(v.target.value),onKeyPress:v=>{v.key==="Enter"&&(v.preventDefault(),m())},placeholder:"Aade una habilidad y presiona Enter"}),i.jsx($,{type:"button",onClick:m,variant:"outline",children:"Aadir"})]}),i.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:f.map(v=>i.jsxs("div",{className:"bg-primary/10 text-primary px-3 py-1 rounded-full text-sm flex items-center gap-2",children:[v,i.jsx("button",{type:"button",onClick:()=>w(v),className:"hover:text-destructive",children:""})]},v))}),o.skills&&i.jsx("p",{className:"text-sm text-destructive",children:o.skills.message})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",id:"featured",...s("featured"),className:"rounded"}),i.jsx(fe,{htmlFor:"featured",className:"cursor-pointer",children:"Destacar este programa"})]}),i.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[i.jsx($,{type:"button",variant:"outline",onClick:()=>{l(),t(!1)},children:"Cancelar"}),i.jsx($,{type:"submit",disabled:n,children:n?"Creando...":"Crear Proyecto"})]})]})]})]})}const UW={aceleracion:"Aceleracin",workshop:"Workshop",bootcamp:"Bootcamp",mentoria:"Mentora",curso:"Curso",otro:"Otro"},zW={upcoming:"Prximo",active:"En curso",completed:"Completado",cancelled:"Cancelado"},BW={upcoming:"bg-blue-500",active:"bg-green-500",completed:"bg-gray-500",cancelled:"bg-red-500"};function VW({program:e,open:t,onOpenChange:r}){var y;const{user:n}=Ct(),{enroll:s,isLoading:a}=PT(),{cancel:o,isLoading:l}=RT(),{data:c}=xw({enabled:!!n}),u=p.useMemo(()=>!(c!=null&&c.enrollments)||!e?null:c.enrollments.find(x=>x.project?String(x.project.id)===String(e.id):!1),[c,e]);if(!e)return null;const d=!!u,h=u==null?void 0:u.id,f=()=>{if(!n){alert("Debes iniciar sesin para inscribirte");return}s(String(e.id))},m=()=>{h&&o(String(h))},w=e.max_participants&&e.participants>=e.max_participants,g=e.status==="upcoming"&&!w&&!d,v=d&&e.status==="upcoming",b=x=>new Date(x).toLocaleDateString("es-ES",{day:"numeric",month:"long",year:"numeric"});return i.jsx(hn,{open:t,onOpenChange:r,children:i.jsxs(Yr,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[i.jsxs(fn,{children:[i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(Se,{variant:"outline",className:"text-xs",children:UW[e.type]}),i.jsx(Se,{variant:"default",className:BW[e.status],children:zW[e.status]}),e.featured&&i.jsx(Se,{variant:"default",className:"bg-yellow-500 text-white text-xs",children:" Destacado"})]}),i.jsx(mn,{className:"text-2xl mb-2",children:e.title})]}),i.jsx("div",{className:"text-right",children:i.jsxs("div",{className:"flex items-center text-2xl font-bold text-primary",children:[i.jsx(zf,{className:"h-5 w-5"}),e.price||"Gratuito"]})})]}),i.jsx(pn,{className:"text-base",children:e.description})]}),i.jsxs("div",{className:"space-y-6 mt-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-muted rounded-lg",children:[i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(_s,{className:"h-5 w-5 text-primary mt-1"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",children:"Fecha de inicio"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:b(e.start_date)})]})]}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(_s,{className:"h-5 w-5 text-primary mt-1"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",children:"Fecha de fin"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:b(e.end_date)})]})]}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(fi,{className:"h-5 w-5 text-primary mt-1"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",children:"Duracin"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:e.duration})]})]}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(Mr,{className:"h-5 w-5 text-primary mt-1"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",children:"Ubicacin"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:e.location||"Online"})]})]}),i.jsxs("div",{className:"flex items-start gap-3 col-span-2",children:[i.jsx(Dr,{className:"h-5 w-5 text-primary mt-1"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",children:"Plazas disponibles"}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.participants," / ",e.max_participants||""," inscritos",w&&i.jsx("span",{className:"text-destructive ml-2",children:"(Completo)"})]})]})]})]}),e.skills.length>0&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(q3,{className:"h-5 w-5 text-primary"}),i.jsx("h3",{className:"font-semibold",children:"Habilidades que desarrollars"})]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:e.skills.map(x=>i.jsx(Se,{variant:"secondary",children:x},x))})]}),i.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[i.jsx("h3",{className:"font-semibold mb-3",children:"Instructor"}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(St,{className:"h-12 w-12",children:i.jsx(Nt,{className:"text-lg font-semibold",children:e.instructor.split(" ").map(x=>x[0]).join("")})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:e.instructor}),((y=e.creator)==null?void 0:y.professional_title)&&i.jsx("p",{className:"text-sm text-muted-foreground",children:e.creator.professional_title})]})]})]}),i.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:d&&!v?i.jsx("span",{className:"text-green-600 font-medium",children:" Ya ests inscrito en este programa"}):g?n?"Inscrbete ahora para reservar tu plaza":"Inicia sesin para inscribirte":v?"Puedes cancelar tu inscripcin si ya no deseas participar":w?"Este programa est completo":e.status==="active"?"Este programa ya est en curso":e.status==="completed"?"Este programa ha finalizado":null}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx($,{variant:"outline",onClick:()=>r(!1),children:"Cerrar"}),g&&n&&i.jsx($,{onClick:f,disabled:a,children:a?"Inscribiendo...":"Inscribirse ahora"}),v&&i.jsx($,{variant:"destructive",onClick:m,disabled:l,children:l?"Cancelando...":"Cancelar inscripcin"}),d&&!v&&i.jsx(Se,{variant:"default",className:"bg-green-500 text-white px-4 py-2",children:"Inscrito "})]})]})]})]})})}function qW(){const[e,t]=p.useState("upcoming"),[r,n]=p.useState(null),[s,a]=p.useState(!1),o=e==="all"||e==="my-projects"?{}:{status:e},{data:l,isLoading:c,isError:u}=gW(o),{data:d,isLoading:h,isError:f}=xw(),m=e==="my-projects"?((d==null?void 0:d.enrollments)||[]).map(x=>x.project):(l==null?void 0:l.projects)||[],w=e==="my-projects"?((d==null?void 0:d.enrollments)||[]).length:(l==null?void 0:l.total)||0;d!=null&&d.enrollments;const g=e==="my-projects"?h:c,v=e==="my-projects"?f:u,b=x=>{n(x),a(!0)},y={active:m.filter(x=>x.status==="active").length,participants:m.reduce((x,j)=>x+j.participants,0),completionRate:85,averageRating:4.8};return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted",children:[i.jsx(Yt,{}),i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary to-emerald-600 rounded-xl flex items-center justify-center",children:i.jsx(_s,{className:"h-6 w-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Proyectos"}),i.jsx("p",{className:"text-muted-foreground",children:"Descubre cursos, talleres y proyectos de aceleracin"})]})]}),i.jsx(FW,{})]}),i.jsxs("div",{className:"flex space-x-1 bg-muted p-1 rounded-lg w-fit",children:[i.jsx($,{variant:e==="upcoming"?"default":"ghost",size:"sm",onClick:()=>t("upcoming"),children:"Prximos"}),i.jsx($,{variant:e==="active"?"default":"ghost",size:"sm",onClick:()=>t("active"),children:"En curso"}),i.jsx($,{variant:e==="completed"?"default":"ghost",size:"sm",onClick:()=>t("completed"),children:"Completados"}),i.jsx($,{variant:e==="my-projects"?"default":"ghost",size:"sm",onClick:()=>t("my-projects"),children:"Mis Proyectos"}),i.jsx($,{variant:e==="all"?"default":"ghost",size:"sm",onClick:()=>t("all"),children:"Todos"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[i.jsx(_e,{children:i.jsxs(je,{className:"p-6 text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-primary mb-2",children:y.active}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Proyectos activos"})]})}),i.jsx(_e,{children:i.jsxs(je,{className:"p-6 text-center",children:[i.jsxs("div",{className:"text-2xl font-bold text-primary mb-2",children:[y.participants,"+"]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Participantes"})]})}),i.jsx(_e,{children:i.jsxs(je,{className:"p-6 text-center",children:[i.jsxs("div",{className:"text-2xl font-bold text-primary mb-2",children:[y.completionRate,"%"]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Tasa de finalizacin"})]})}),i.jsx(_e,{children:i.jsxs(je,{className:"p-6 text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-primary mb-2",children:y.averageRating}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Puntuacin media"})]})})]}),g&&i.jsx("div",{className:"text-center py-12",children:i.jsx("p",{className:"text-muted-foreground",children:"Cargando proyectos..."})}),v&&i.jsx(_e,{className:"text-center py-12",children:i.jsx(je,{children:i.jsx("p",{className:"text-destructive",children:"Error al cargar los proyectos. Por favor, intenta de nuevo."})})}),!g&&!v&&i.jsxs(i.Fragment,{children:[m.length>0?i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:m.map(x=>i.jsx(LW,{program:x,onViewDetails:b},x.id))}):i.jsx(_e,{className:"text-center py-12",children:i.jsxs(je,{children:[i.jsx(_s,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"No hay proyectos disponibles en esta categora"}),e!=="all"&&i.jsx($,{variant:"link",onClick:()=>t("all"),className:"mt-2",children:"Ver todos los proyectos"})]})}),m.length>0&&i.jsxs("div",{className:"text-center mt-8 text-sm text-muted-foreground",children:["Mostrando ",m.length," de ",w," proyectos"]})]})]}),i.jsx(VW,{program:r,open:s,onOpenChange:a})]})}const WW=W({name:P().min(1,"El nombre es requerido").max(100,"El nombre es demasiado largo"),bio:P().max(500,"La biografa es demasiado larga").optional().nullable(),location:P().max(100,"La ubicacin es demasiado larga").optional().nullable(),linkedin_url:P().url("URL invlida").or(Fc("")).optional().nullable(),website_url:P().url("URL invlida").or(Fc("")).optional().nullable()});function HW({user:e}){var R,T,z,D,V,F;const{toast:t}=Ku(),r=Ke(),[n,s]=p.useState(e.skills||[]),[a,o]=p.useState(""),[l,c]=p.useState(e.interests||[]),[u,d]=p.useState(""),[h,f]=p.useState(!1),[m,w]=p.useState(!1),{register:g,handleSubmit:v,formState:{errors:b,isDirty:y}}=vm({resolver:ym(WW),defaultValues:{name:e.name||"",bio:e.bio||"",location:e.location||"",linkedin_url:e.linkedin_url||"",website_url:e.website_url||""}}),x=()=>{a.trim()&&!n.includes(a.trim())&&(s([...n,a.trim()]),o(""))},j=q=>{s(n.filter(B=>B!==q))},_=()=>{u.trim()&&!l.includes(u.trim())&&(c([...l,u.trim()]),d(""))},S=q=>{c(l.filter(B=>B!==q))},N=async q=>{f(!0);try{await ve.put(`/users/${e.id}`,{name:q.name,bio:q.bio||null,location:q.location||null,linkedin_url:q.linkedin_url||null,website_url:q.website_url||null,skills:n,interests:l}),await r.invalidateQueries({queryKey:["auth","currentUser"]}),t({title:"Perfil actualizado",description:"Tu perfil se ha actualizado correctamente"})}catch(B){console.error("Error updating profile:",B),t({title:"Error",description:"No se pudo actualizar el perfil. Por favor, intntalo de nuevo.",variant:"destructive"})}finally{f(!1)}},C=async()=>{await r.invalidateQueries({queryKey:["auth","currentUser"]}),t({title:"Foto actualizada",description:"Tu foto de perfil se ha actualizado correctamente"})};return i.jsxs("form",{onSubmit:v(N),className:"space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{htmlFor:"name",children:"Nombre *"}),i.jsx(ge,{id:"name",...g("name"),placeholder:"Tu nombre completo"}),b.name&&i.jsx("p",{className:"text-sm text-destructive",children:b.name.message})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{htmlFor:"email",children:"Correo electrnico"}),i.jsx(ge,{id:"email",value:e.email||"",disabled:!0,className:"bg-muted cursor-not-allowed"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Para modificar tu correo, contacta al administrador"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{children:"Foto de perfil"}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs(St,{className:"w-20 h-20",children:[i.jsx(Dt,{src:e.avatar_url||"",alt:e.name||"Usuario"}),i.jsx(Nt,{className:"text-xl bg-gradient-to-br from-primary to-primary/80 text-white",children:((T=(R=e.name)==null?void 0:R.charAt(0))==null?void 0:T.toUpperCase())||((D=(z=e.email)==null?void 0:z.charAt(0))==null?void 0:D.toUpperCase())||"U"})]}),i.jsxs("div",{className:"flex-1",children:[i.jsxs($,{type:"button",variant:"outline",onClick:()=>w(!0),className:"w-full sm:w-auto",children:[i.jsx(ZC,{className:"h-4 w-4 mr-2"}),e.avatar_url?"Cambiar foto":"Subir foto"]}),i.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"JPG, PNG o GIF. Mximo 5MB."})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{htmlFor:"bio",children:"Biografa"}),i.jsx(la,{id:"bio",...g("bio"),placeholder:"Cuntanos sobre ti...",rows:4}),b.bio&&i.jsx("p",{className:"text-sm text-destructive",children:b.bio.message})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{htmlFor:"location",children:"Ubicacin"}),i.jsx(ge,{id:"location",...g("location"),placeholder:"Ciudad, Pas"}),b.location&&i.jsx("p",{className:"text-sm text-destructive",children:b.location.message})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{htmlFor:"linkedin_url",children:"LinkedIn"}),i.jsx(ge,{id:"linkedin_url",...g("linkedin_url"),placeholder:"https://linkedin.com/in/tu-perfil",type:"url"}),b.linkedin_url&&i.jsx("p",{className:"text-sm text-destructive",children:b.linkedin_url.message})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{htmlFor:"website_url",children:"Sitio web"}),i.jsx(ge,{id:"website_url",...g("website_url"),placeholder:"https://tu-sitio.com",type:"url"}),b.website_url&&i.jsx("p",{className:"text-sm text-destructive",children:b.website_url.message})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{children:"Habilidades"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(ge,{value:a,onChange:q=>o(q.target.value),placeholder:"Aade una habilidad",onKeyDown:q=>{q.key==="Enter"&&(q.preventDefault(),x())}}),i.jsx($,{type:"button",variant:"outline",size:"icon",onClick:x,children:i.jsx(eo,{className:"h-4 w-4"})})]}),i.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:n.map(q=>i.jsxs(Se,{variant:"secondary",className:"gap-1",children:[q,i.jsx("button",{type:"button",onClick:()=>j(q),className:"ml-1 hover:text-destructive",children:i.jsx(pr,{className:"h-3 w-3"})})]},q))})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{children:"Intereses"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(ge,{value:u,onChange:q=>d(q.target.value),placeholder:"Aade un inters",onKeyDown:q=>{q.key==="Enter"&&(q.preventDefault(),_())}}),i.jsx($,{type:"button",variant:"outline",size:"icon",onClick:_,children:i.jsx(eo,{className:"h-4 w-4"})})]}),i.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:l.map(q=>i.jsxs(Se,{variant:"secondary",className:"gap-1",children:[q,i.jsx("button",{type:"button",onClick:()=>S(q),className:"ml-1 hover:text-destructive",children:i.jsx(pr,{className:"h-3 w-3"})})]},q))})]}),i.jsx("div",{className:"flex justify-end",children:i.jsx($,{type:"submit",disabled:h||!y&&n.length===(((V=e.skills)==null?void 0:V.length)||0)&&l.length===(((F=e.interests)==null?void 0:F.length)||0),children:h?i.jsxs(i.Fragment,{children:[i.jsx(_t,{className:"mr-2 h-4 w-4 animate-spin"}),"Guardando..."]}):"Guardar cambios"})}),i.jsx(Tk,{open:m,onOpenChange:w,onPhotoUpdated:C})]})}function KW(){const e=Ze({mutationFn:t=>ho.changePassword(t)});return{action:e.mutate,isLoading:e.isPending,error:e.error,isSuccess:e.isSuccess,data:e.data}}function QW({open:e,onOpenChange:t}){const{action:r,isLoading:n,error:s,isSuccess:a}=KW(),[o,l]=p.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[c,u]=p.useState({}),[d,h]=p.useState(!1),[f,m]=p.useState(!1),[w,g]=p.useState(!1);p.useEffect(()=>{e||(l({currentPassword:"",newPassword:"",confirmPassword:""}),u({}),h(!1),m(!1),g(!1))},[e]),p.useEffect(()=>{a&&setTimeout(()=>{t(!1)},1500)},[a,t]);const v=y=>x=>{l(j=>({...j,[y]:x.target.value})),c[y]&&u(j=>{const _={...j};return delete _[y],_})},b=y=>{y.preventDefault(),u({});try{const x=NF.parse(o);r(x)}catch(x){if(x instanceof dn){const j={};x.errors.forEach(_=>{_.path[0]&&(j[_.path[0]]=_.message)}),u(j)}}};return i.jsx(hn,{open:e,onOpenChange:t,children:i.jsxs(Yr,{className:"sm:max-w-md",children:[i.jsxs(fn,{children:[i.jsxs(mn,{className:"flex items-center gap-2",children:[i.jsx(Tl,{className:"h-5 w-5 text-primary"}),"Cambiar Contrasea"]}),i.jsx(pn,{children:"Introduce tu contrasea actual y elige una nueva contrasea segura"})]}),i.jsxs("form",{onSubmit:b,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{htmlFor:"currentPassword",children:"Contrasea actual"}),i.jsxs("div",{className:"relative",children:[i.jsx(ge,{id:"currentPassword",type:d?"text":"password",value:o.currentPassword,onChange:v("currentPassword"),disabled:n||a,className:c.currentPassword?"border-red-500":""}),i.jsx("button",{type:"button",onClick:()=>h(!d),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:d?i.jsx(Uc,{className:"h-4 w-4"}):i.jsx(vs,{className:"h-4 w-4"})})]}),c.currentPassword&&i.jsx("p",{className:"text-sm text-red-600",children:c.currentPassword})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{htmlFor:"newPassword",children:"Nueva contrasea"}),i.jsxs("div",{className:"relative",children:[i.jsx(ge,{id:"newPassword",type:f?"text":"password",value:o.newPassword,onChange:v("newPassword"),disabled:n||a,className:c.newPassword?"border-red-500":""}),i.jsx("button",{type:"button",onClick:()=>m(!f),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:f?i.jsx(Uc,{className:"h-4 w-4"}):i.jsx(vs,{className:"h-4 w-4"})})]}),c.newPassword&&i.jsx("p",{className:"text-sm text-red-600",children:c.newPassword}),i.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[i.jsx("p",{className:"font-medium",children:"La contrasea debe contener:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-0.5 ml-2",children:[i.jsx("li",{children:"Mnimo 8 caracteres"}),i.jsx("li",{children:"Al menos una letra mayscula"}),i.jsx("li",{children:"Al menos una letra minscula"}),i.jsx("li",{children:"Al menos un nmero"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{htmlFor:"confirmPassword",children:"Confirmar nueva contrasea"}),i.jsxs("div",{className:"relative",children:[i.jsx(ge,{id:"confirmPassword",type:w?"text":"password",value:o.confirmPassword,onChange:v("confirmPassword"),disabled:n||a,className:c.confirmPassword?"border-red-500":""}),i.jsx("button",{type:"button",onClick:()=>g(!w),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:w?i.jsx(Uc,{className:"h-4 w-4"}):i.jsx(vs,{className:"h-4 w-4"})})]}),c.confirmPassword&&i.jsx("p",{className:"text-sm text-red-600",children:c.confirmPassword})]}),s&&i.jsx("div",{className:"text-sm text-red-600 bg-red-50 border border-red-200 rounded-xl p-4",children:s instanceof Error?s.message:"Error al cambiar la contrasea"}),a&&i.jsx("div",{className:"text-sm text-green-600 bg-green-50 border border-green-200 rounded-xl p-4",children:"Contrasea cambiada exitosamente!"}),i.jsxs("div",{className:"flex gap-3 pt-4",children:[i.jsx($,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:n,className:"flex-1",children:"Cancelar"}),i.jsx($,{type:"submit",disabled:n||a,className:"flex-1",children:n?"Cambiando...":"Cambiar Contrasea"})]})]})]})})}function GW(){var n,s;const{user:e}=Ct(),[t,r]=p.useState(!1);return e?i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted",children:[i.jsx(Yt,{}),i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[i.jsx("div",{className:"mb-8",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary to-emerald-600 rounded-xl flex items-center justify-center",children:i.jsx(vu,{className:"h-6 w-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Mi Perfil"}),i.jsx("p",{className:"text-muted-foreground",children:"Completa tu informacin para conectar mejor con otros miembros"})]})]})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[i.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[i.jsxs(_e,{children:[i.jsxs(ft,{children:[i.jsxs(bt,{className:"flex items-center",children:[i.jsx(gu,{className:"h-5 w-5 mr-2"}),"Completado del perfil"]}),i.jsx(hr,{children:"Mejora tu visibilidad completando toda tu informacin"})]}),i.jsx(je,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"text-3xl font-bold text-primary mb-2",children:[e.completed_pct||30,"%"]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Completado"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{children:"Informacin bsica"}),i.jsx("span",{className:e.name?"text-green-600":"text-yellow-600",children:e.name?"":""})]}),i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{children:"Foto de perfil"}),i.jsx("span",{className:e.avatar_url?"text-green-600":"text-yellow-600",children:e.avatar_url?"":""})]}),i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{children:"Biografa"}),i.jsx("span",{className:e.bio?"text-green-600":"text-yellow-600",children:e.bio?"":""})]}),i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{children:"Habilidades"}),i.jsx("span",{className:(n=e.skills)!=null&&n.length?"text-green-600":"text-yellow-600",children:(s=e.skills)!=null&&s.length?"":""})]}),i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{children:"Enlaces sociales"}),i.jsx("span",{className:e.linkedin_url||e.website_url?"text-green-600":"text-yellow-600",children:e.linkedin_url||e.website_url?"":""})]})]})]})})]}),i.jsxs(_e,{children:[i.jsxs(ft,{children:[i.jsxs(bt,{className:"flex items-center",children:[i.jsx(Tl,{className:"h-5 w-5 mr-2"}),"Seguridad"]}),i.jsx(hr,{children:"Gestiona la seguridad de tu cuenta"})]}),i.jsx(je,{children:i.jsxs($,{onClick:()=>r(!0),variant:"outline",className:"w-full",children:[i.jsx(Tl,{className:"h-4 w-4 mr-2"}),"Cambiar Contrasea"]})})]})]}),i.jsx("div",{className:"lg:col-span-2",children:i.jsxs(_e,{children:[i.jsxs(ft,{children:[i.jsx(bt,{children:"Informacin del perfil"}),i.jsx(hr,{children:"Actualiza tu informacin personal y profesional"})]}),i.jsx(je,{children:i.jsx(HW,{user:e})})]})})]})]}),i.jsx(QW,{open:t,onOpenChange:r})]}):i.jsx("div",{children:"Cargando..."})}function YW({open:e,onClose:t,avatarUrl:r,userName:n}){var s;return i.jsx(hn,{open:e,onOpenChange:t,children:i.jsx(Yr,{className:"max-w-2xl p-0 overflow-hidden",children:i.jsxs("div",{className:"relative",children:[i.jsx($,{variant:"ghost",size:"icon",className:"absolute top-4 right-4 z-10 bg-black/50 hover:bg-black/70 text-white rounded-full",onClick:t,children:i.jsx(pr,{className:"h-5 w-5"})}),i.jsx("div",{className:"flex items-center justify-center bg-gradient-to-br from-muted to-background p-8",children:r?i.jsx("img",{src:r,alt:n,className:"max-w-full max-h-[70vh] object-contain rounded-lg"}):i.jsxs(St,{className:"h-64 w-64",children:[i.jsx(Dt,{src:r||void 0,alt:n}),i.jsx(Nt,{className:"bg-gradient-to-br from-primary to-primary/80 text-white text-6xl",children:(s=n==null?void 0:n.charAt(0))==null?void 0:s.toUpperCase()})]})})]})})})}function JW(){var j,_,S,N,C,R,T;const{userId:e}=zl(),t=gt(),{user:r}=Ct(),[n,s]=p.useState(!1),{data:a,isLoading:o}=vt({queryKey:["user-profile",e],queryFn:async()=>(await ve.get(`/users/${e}`)).data.user,enabled:!!e}),{data:l}=$x(e||""),{action:c,isLoading:u}=Lx(),{action:d,isLoading:h}=Hu(),f=(r==null?void 0:r.id)===e,m=l==null?void 0:l.status,w=(j=l==null?void 0:l.connection)==null?void 0:j.id,g=((_=l==null?void 0:l.connection)==null?void 0:_.requester_id)===(r==null?void 0:r.id),v=((S=l==null?void 0:l.connection)==null?void 0:S.addressee_id)===(r==null?void 0:r.id),b=()=>{e&&c({addressee_id:e})},y=()=>{w&&d({connection_id:w,status:"accepted"})},x=()=>{t(`/messages?userId=${e}`)};return o?i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted",children:[i.jsx(Yt,{}),i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[i.jsx(It,{className:"h-8 w-48 mb-8"}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[i.jsx("div",{className:"lg:col-span-1",children:i.jsx(It,{className:"h-96"})}),i.jsx("div",{className:"lg:col-span-2",children:i.jsx(It,{className:"h-64"})})]})]})]}):a?i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted",children:[i.jsx(Yt,{}),i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[i.jsxs($,{variant:"ghost",onClick:()=>t(-1),className:"mb-6",children:[i.jsx(qn,{className:"h-4 w-4 mr-2"}),"Volver"]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[i.jsx("div",{className:"lg:col-span-1",children:i.jsx(_e,{children:i.jsx(je,{className:"p-6",children:i.jsxs("div",{className:"flex flex-col items-center text-center",children:[i.jsxs(St,{className:"h-32 w-32 mb-4 cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>s(!0),children:[i.jsx(Dt,{src:a.avatar_url||void 0,alt:a.name}),i.jsx(Nt,{className:"bg-gradient-to-br from-primary to-primary/80 text-white text-3xl",children:((C=(N=a.name)==null?void 0:N.charAt(0))==null?void 0:C.toUpperCase())||((T=(R=a.email)==null?void 0:R.charAt(0))==null?void 0:T.toUpperCase())})]}),i.jsx("h1",{className:"text-2xl font-bold mb-1",children:a.name}),i.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:a.email}),!f&&i.jsxs("div",{className:"w-full space-y-2 mb-6",children:[m===null&&i.jsx($,{className:"w-full",onClick:b,disabled:u,children:u?i.jsxs(i.Fragment,{children:[i.jsx(_t,{className:"h-4 w-4 mr-2 animate-spin"}),"Enviando..."]}):i.jsxs(i.Fragment,{children:[i.jsx(si,{className:"h-4 w-4 mr-2"}),"Conectar"]})}),m==="pending"&&v&&i.jsx($,{className:"w-full",onClick:y,disabled:h,children:h?i.jsxs(i.Fragment,{children:[i.jsx(_t,{className:"h-4 w-4 mr-2 animate-spin"}),"Aceptando..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Ss,{className:"h-4 w-4 mr-2"}),"Aceptar solicitud"]})}),m==="pending"&&g&&i.jsxs(Se,{variant:"secondary",className:"w-full py-2 justify-center",children:[i.jsx(si,{className:"h-4 w-4 mr-2"}),"Solicitud enviada"]}),m==="accepted"&&i.jsxs(Se,{variant:"default",className:"w-full py-2 justify-center",children:[i.jsx(Ss,{className:"h-4 w-4 mr-2"}),"Conectado"]}),i.jsxs($,{variant:"outline",className:"w-full",onClick:x,children:[i.jsx(Uu,{className:"h-4 w-4 mr-2"}),"Enviar mensaje"]})]}),a.location&&i.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-4",children:[i.jsx(Mr,{className:"h-4 w-4"}),i.jsx("span",{className:"text-sm",children:a.location})]}),i.jsxs("div",{className:"w-full space-y-2",children:[a.linkedin_url&&i.jsxs("a",{href:a.linkedin_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm text-primary hover:underline",children:[i.jsx(iE,{className:"h-4 w-4"}),"LinkedIn"]}),a.website_url&&i.jsxs("a",{href:a.website_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm text-primary hover:underline",children:[i.jsx(Z3,{className:"h-4 w-4"}),"Sitio web"]})]})]})})})}),i.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.bio&&i.jsx(_e,{children:i.jsxs(je,{className:"p-6",children:[i.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Acerca de"}),i.jsx("p",{className:"text-muted-foreground whitespace-pre-wrap",children:a.bio})]})}),a.skills&&a.skills.length>0&&i.jsx(_e,{children:i.jsxs(je,{className:"p-6",children:[i.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Habilidades"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:a.skills.map(z=>i.jsx(Se,{variant:"secondary",children:z},z))})]})}),a.interests&&a.interests.length>0&&i.jsx(_e,{children:i.jsxs(je,{className:"p-6",children:[i.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Intereses"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:a.interests.map(z=>i.jsx(Se,{variant:"outline",children:z},z))})]})})]})]})]}),i.jsx(YW,{open:n,onClose:()=>s(!1),avatarUrl:a.avatar_url,userName:a.name})]}):i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted",children:[i.jsx(Yt,{}),i.jsx("div",{className:"container mx-auto px-4 py-8",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Usuario no encontrado"}),i.jsx($,{onClick:()=>t("/network"),children:"Volver a Mi Red"})]})})]})}function XW(){const{isAdmin:e,isLoading:t}=fo(),r=gt();return p.useEffect(()=>{!t&&!e&&r("/")},[e,t,r]),t?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):e?i.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[i.jsxs($,{variant:"ghost",onClick:()=>r("/dashboard"),className:"mb-6 hover:bg-gray-100",children:[i.jsx(qn,{className:"h-4 w-4 mr-2"}),"Volver al Dashboard"]}),i.jsxs("div",{className:"mb-8",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx(yx,{className:"h-8 w-8 text-primary"}),i.jsx("h1",{className:"text-3xl font-bold",children:"Panel de Gestin"})]}),i.jsx("p",{className:"text-muted-foreground",children:"Herramientas de administracin y gestin del sistema"})]}),i.jsxs("div",{className:"bg-primary/10 border border-primary/20 rounded-xl p-4 mb-8 flex items-start gap-3",children:[i.jsx(Hs,{className:"h-5 w-5 text-primary mt-0.5 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-primary",children:"Acceso de Administrador"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Ests visualizando esta pgina con permisos de administrador. Ten cuidado con las acciones que realices."})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:i.jsx(Dr,{className:"h-6 w-6 text-blue-600"})}),i.jsx("h2",{className:"text-xl font-semibold",children:"Usuarios"})]}),i.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"Administra usuarios, roles y permisos del sistema"}),i.jsx("button",{onClick:()=>r("/gestion/usuarios"),className:"text-primary hover:underline text-sm font-medium",children:"Ver usuarios "})]}),i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:i.jsx(uj,{className:"h-6 w-6 text-green-600"})}),i.jsx("h2",{className:"text-xl font-semibold",children:"Aprobaciones"})]}),i.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"Gestiona solicitudes de registro pendientes"}),i.jsx("button",{onClick:()=>r("/signup-approval"),className:"text-primary hover:underline text-sm font-medium",children:"Ver solicitudes "})]}),i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:i.jsx(eE,{className:"h-6 w-6 text-purple-600"})}),i.jsx("h2",{className:"text-xl font-semibold",children:"Estadsticas"})]}),i.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"Mtricas y anlisis de uso de la plataforma"}),i.jsx("button",{onClick:()=>r("/gestion/estadisticas"),className:"text-primary hover:underline text-sm font-medium",children:"Ver estadsticas "})]}),i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:i.jsx(gu,{className:"h-6 w-6 text-orange-600"})}),i.jsx("h2",{className:"text-xl font-semibold",children:"Configuracin"})]}),i.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"Ajustes generales del sistema y plataforma"}),i.jsx("button",{onClick:()=>r("/gestion/configuracion"),className:"text-primary hover:underline text-sm font-medium",children:"Configurar "})]}),i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"p-3 bg-indigo-100 rounded-lg",children:i.jsx(uj,{className:"h-6 w-6 text-indigo-600"})}),i.jsx("h2",{className:"text-xl font-semibold",children:"Contenido"})]}),i.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"Gestiona oportunidades, proyectos y recursos"}),i.jsx("button",{className:"text-primary hover:underline text-sm font-medium",children:"Gestionar contenido "})]}),i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"p-3 bg-red-100 rounded-lg",children:i.jsx(Hs,{className:"h-6 w-6 text-red-600"})}),i.jsx("h2",{className:"text-xl font-semibold",children:"Reportes"})]}),i.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"Revisa reportes y contenido denunciado"}),i.jsx("button",{className:"text-primary hover:underline text-sm font-medium",children:"Ver reportes "})]})]}),i.jsxs("div",{className:"mt-8 bg-gray-50 rounded-xl border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Informacin del Sistema"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Versin"}),i.jsx("p",{className:"font-medium",children:"1.0.0"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Entorno"}),i.jsx("p",{className:"font-medium",children:"production"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Base de Datos"}),i.jsx("p",{className:"font-medium",children:"Supabase PostgreSQL"})]})]})]})]}):null}const ZW=W({id:P().uuid(),email:P().email(),name:P(),avatar_url:P().nullable().optional(),bio:P().nullable().optional(),location:P().nullable().optional(),linkedin_url:P().nullable().optional(),website_url:P().nullable().optional(),skills:Fe(P()).default([]),interests:Fe(P()).default([]),roles:Fe(P()).default([]),completed_pct:be().min(0).max(100),created_at:P(),updated_at:P()}),eH=W({users:Fe(ZW),count:be()}),tH={async getAllUsers(){const e=await ve.get("/admin/users");return eH.parse(e.data)}},rH=["admin","users"];function YT(){return vt({queryKey:rH,queryFn:()=>tH.getAllUsers(),staleTime:1e3*60*5,retry:1})}function nH(){const{data:e,isLoading:t,error:r}=YT(),[n,s]=p.useState("");if(t)return i.jsx("div",{className:"flex items-center justify-center p-12",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Cargando usuarios..."})]})});if(r)return i.jsx("div",{className:"p-6 bg-red-50 border border-red-200 rounded-xl",children:i.jsxs("p",{className:"text-red-800",children:["Error al cargar usuarios: ",r.message]})});const o=((e==null?void 0:e.users)||[]).filter(c=>{const u=n.toLowerCase();return c.name.toLowerCase().includes(u)||c.email.toLowerCase().includes(u)||c.roles.some(d=>d.toLowerCase().includes(u))||c.location&&c.location.toLowerCase().includes(u)}),l=c=>{switch(c.toLowerCase()){case"admin":return"bg-red-100 text-red-800 hover:bg-red-100";case"mentor":return"bg-blue-100 text-blue-800 hover:bg-blue-100";case"emprendedor":return"bg-green-100 text-green-800 hover:bg-green-100";default:return"bg-gray-100 text-gray-800 hover:bg-gray-100"}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Gestin de Usuarios"}),i.jsxs("p",{className:"text-gray-600 mt-1",children:["Total: ",o.length," usuarios"]})]}),i.jsxs("div",{className:"relative w-full max-w-md",children:[i.jsx(aa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),i.jsx(ge,{type:"text",placeholder:"Buscar por nombre, email, rol o ubicacin...",value:n,onChange:c=>s(c.target.value),className:"pl-10"})]})]}),o.length===0?i.jsx("div",{className:"text-center p-12 bg-gray-50 rounded-xl",children:i.jsx("p",{className:"text-gray-600",children:n?"No se encontraron usuarios que coincidan con la bsqueda.":"No hay usuarios registrados."})}):i.jsx("div",{className:"border rounded-xl bg-white overflow-hidden",children:i.jsxs(Jf,{children:[i.jsx(Xf,{children:i.jsxs(Za,{children:[i.jsx(nr,{children:"Nombre"}),i.jsx(nr,{children:"Email"}),i.jsx(nr,{children:"Roles"}),i.jsx(nr,{children:"Ubicacin"}),i.jsx(nr,{children:"Perfil"}),i.jsx(nr,{children:"Fecha de Registro"})]})}),i.jsx(Zf,{children:o.map(c=>i.jsxs(Za,{children:[i.jsx(Gt,{className:"font-medium",children:c.name}),i.jsx(Gt,{className:"text-gray-600",children:c.email}),i.jsx(Gt,{children:i.jsx("div",{className:"flex gap-1 flex-wrap",children:c.roles.length>0?c.roles.map(u=>i.jsx(Se,{variant:"secondary",className:l(u),children:u},u)):i.jsx("span",{className:"text-gray-400 text-sm",children:"Sin roles"})})}),i.jsx(Gt,{className:"text-gray-600",children:c.location||i.jsx("span",{className:"text-gray-400",children:"-"})}),i.jsx(Gt,{children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 max-w-[80px]",children:i.jsx("div",{className:"bg-primary h-2 rounded-full transition-all",style:{width:`${c.completed_pct}%`}})}),i.jsxs("span",{className:"text-sm text-gray-600 min-w-[40px]",children:[c.completed_pct,"%"]})]})}),i.jsx(Gt,{className:"text-gray-600",children:new Date(c.created_at).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric"})})]},c.id))})]})})]})}function sH(){const{isAdmin:e,isLoading:t}=fo(),r=gt();return p.useEffect(()=>{!t&&!e&&r("/")},[e,t,r]),t?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):e?i.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[i.jsxs($,{variant:"ghost",onClick:()=>r("/gestion"),className:"mb-6 hover:bg-gray-100",children:[i.jsx(qn,{className:"h-4 w-4 mr-2"}),"Volver a Gestin"]}),i.jsxs("div",{className:"mb-8",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx(Dr,{className:"h-8 w-8 text-primary"}),i.jsx("h1",{className:"text-3xl font-bold",children:"Gestin de Usuarios"})]}),i.jsx("p",{className:"text-muted-foreground",children:"Visualiza y administra los usuarios del sistema"})]}),i.jsx(nH,{})]}):null}const aH=W({totalUsers:be().int().min(0),usersByRole:bF(P(),be().int().min(0)),totalOpportunities:be().int().min(0),activeConnections:be().int().min(0),pendingSignups:be().int().min(0)}),iH=W({statistics:aH}),oH={async getStatistics(){const e=await ve.get("/admin/statistics");return iH.parse(e.data)}},lH=["admin","statistics"];function cH(){return vt({queryKey:lH,queryFn:()=>oH.getStatistics(),staleTime:1e3*60*2,retry:1})}function uH(){const{data:e,isLoading:t,error:r}=cH();if(t)return i.jsx("div",{className:"flex items-center justify-center p-12",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Cargando estadsticas..."})]})});if(r)return i.jsx("div",{className:"p-6 bg-red-50 border border-red-200 rounded-xl",children:i.jsxs("p",{className:"text-red-800",children:["Error al cargar estadsticas: ",r.message]})});const n=e==null?void 0:e.statistics;if(!n)return null;const s=Object.entries(n.usersByRole),a=o=>{switch(o.toLowerCase()){case"admin":return"bg-red-100 text-red-800";case"mentor":return"bg-blue-100 text-blue-800";case"emprendedor":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:i.jsx(Dr,{className:"h-6 w-6 text-blue-600"})}),i.jsx("span",{className:"text-3xl font-bold text-gray-900",children:n.totalUsers})]}),i.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Total Usuarios"})]}),i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:i.jsx(sa,{className:"h-6 w-6 text-purple-600"})}),i.jsx("span",{className:"text-3xl font-bold text-gray-900",children:n.totalOpportunities})]}),i.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Oportunidades"})]}),i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:i.jsx(X3,{className:"h-6 w-6 text-green-600"})}),i.jsx("span",{className:"text-3xl font-bold text-gray-900",children:n.activeConnections})]}),i.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Conexiones Activas"})]}),i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:i.jsx(fi,{className:"h-6 w-6 text-yellow-600"})}),i.jsx("span",{className:"text-3xl font-bold text-gray-900",children:n.pendingSignups})]}),i.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Solicitudes Pendientes"})]})]}),i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx(Ss,{className:"h-6 w-6 text-primary"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Usuarios por Rol"})]}),s.length===0?i.jsx("p",{className:"text-gray-500 text-center py-4",children:"No hay roles asignados"}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:s.map(([o,l])=>i.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-gray-200",children:[i.jsx("div",{children:i.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${a(o)}`,children:o})}),i.jsx("span",{className:"text-2xl font-bold text-gray-900",children:l})]},o))})]})]})}function dH(){const{isAdmin:e,isLoading:t}=fo(),r=gt();return p.useEffect(()=>{!t&&!e&&r("/")},[e,t,r]),t?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):e?i.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[i.jsxs($,{variant:"ghost",onClick:()=>r("/gestion"),className:"mb-6 hover:bg-gray-100",children:[i.jsx(qn,{className:"h-4 w-4 mr-2"}),"Volver a Gestin"]}),i.jsxs("div",{className:"mb-8",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx(eE,{className:"h-8 w-8 text-primary"}),i.jsx("h1",{className:"text-3xl font-bold",children:"Estadsticas de la Plataforma"})]}),i.jsx("p",{className:"text-muted-foreground",children:"Mtricas y anlisis de uso del sistema"})]}),i.jsx(uH,{})]}):null}const JT=W({id:be(),name:P().min(1),description:P().nullable(),created_at:P()});W({name:P().min(1,"El nombre es requerido"),description:P().optional()});W({name:P().min(1,"El nombre es requerido"),description:P().optional()});const XT=W({key:P(),value:$f(),description:P().nullable(),data_type:da(["boolean","number","string","text","json"]),updated_at:P()});W({key:P().min(1,"La clave es requerida"),value:$f(),description:P().optional(),data_type:da(["boolean","number","string","text","json"])});W({value:$f()});const hH=W({user_id:P().uuid(),role_id:be(),created_at:P()}),fH=W({roles:Fe(JT)}),c_=W({role:JT}),mH=W({settings:Fe(XT)}),Lp=W({setting:XT}),pH=W({userRole:hH}),km={async getAll(){const e=await ve.get("/admin/config/roles");return fH.parse(e.data).roles},async create(e){const t=await ve.post("/admin/config/roles",e);return c_.parse(t.data).role},async update(e,t){const r=await ve.put(`/admin/config/roles/${e}`,t);return c_.parse(r.data).role},async delete(e){await ve.delete(`/admin/config/roles/${e}`)}},ZT={async getAll(){const e=await ve.get("/admin/config/settings");return mH.parse(e.data).settings},async getByKey(e){const t=await ve.get(`/admin/config/settings/${e}`);return Lp.parse(t.data).setting},async update(e,t){const r=await ve.put(`/admin/config/settings/${e}`,t);return Lp.parse(r.data).setting},async create(e){const t=await ve.post("/admin/config/settings",e);return Lp.parse(t.data).setting}},e2={async assign(e,t){const r=await ve.post(`/admin/config/users/${e}/roles/${t}`);return pH.parse(r.data).userRole},async remove(e,t){await ve.delete(`/admin/config/users/${e}/roles/${t}`)}},t2=()=>vt({queryKey:["admin","config","roles"],queryFn:()=>km.getAll(),staleTime:1e3*60*5});var gH=e=>{switch(e){case"success":return xH;case"info":return bH;case"warning":return wH;case"error":return jH;default:return null}},vH=Array(12).fill(0),yH=({visible:e,className:t})=>U.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},U.createElement("div",{className:"sonner-spinner"},vH.map((r,n)=>U.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),xH=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),wH=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),bH=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),jH=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),_H=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},U.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),U.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),SH=()=>{let[e,t]=U.useState(document.hidden);return U.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},Fv=1,NH=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Fv++,a=this.toasts.find(l=>l.id===s),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),a?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0,a,o=n.then(async c=>{if(a=["resolve",c],U.isValidElement(c))s=!1,this.create({id:r,type:"default",message:c});else if(EH(c)&&!c.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:d})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:d})}}).catch(async c=>{if(a=["reject",c],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:d})}}).finally(()=>{var c;s&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>o.then(()=>a[0]==="reject"?u(a[1]):c(a[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||Fv++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Nr=new NH,CH=(e,t)=>{let r=(t==null?void 0:t.id)||Fv++;return Nr.addToast({title:e,...t,id:r}),r},EH=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",kH=CH,PH=()=>Nr.toasts,RH=()=>Nr.getActiveToasts(),gn=Object.assign(kH,{success:Nr.success,info:Nr.info,warning:Nr.warning,error:Nr.error,custom:Nr.custom,message:Nr.message,promise:Nr.promise,dismiss:Nr.dismiss,loading:Nr.loading},{getHistory:PH,getToasts:RH});function TH(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}TH(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Fd(e){return e.label!==void 0}var AH=3,OH="32px",IH="16px",u_=4e3,MH=356,DH=14,LH=20,$H=200;function Sn(...e){return e.filter(Boolean).join(" ")}function FH(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var UH=e=>{var t,r,n,s,a,o,l,c,u,d,h;let{invert:f,toast:m,unstyled:w,interacting:g,setHeights:v,visibleToasts:b,heights:y,index:x,toasts:j,expanded:_,removeToast:S,defaultRichColors:N,closeButton:C,style:R,cancelButtonStyle:T,actionButtonStyle:z,className:D="",descriptionClassName:V="",duration:F,position:q,gap:B,loadingIcon:ie,expandByDefault:I,classNames:A,icons:K,closeButtonAriaLabel:ae="Close toast",pauseWhenPageIsHidden:re}=e,[xe,ye]=U.useState(null),[qe,Qe]=U.useState(null),[Y,Ue]=U.useState(!1),[De,Ie]=U.useState(!1),[Le,ze]=U.useState(!1),[Bt,or]=U.useState(!1),[Gn,Yn]=U.useState(!1),[ks,vo]=U.useState(0),[Ps,k]=U.useState(0),O=U.useRef(m.duration||F||u_),L=U.useRef(null),ee=U.useRef(null),X=x===0,G=x+1<=b,oe=m.type,$e=m.dismissible!==!1,et=m.className||"",br=m.descriptionClassName||"",Rs=U.useMemo(()=>y.findIndex(ke=>ke.toastId===m.id)||0,[y,m.id]),Jn=U.useMemo(()=>{var ke;return(ke=m.closeButton)!=null?ke:C},[m.closeButton,C]),Zu=U.useMemo(()=>m.duration||F||u_,[m.duration,F]),gi=U.useRef(0),Xn=U.useRef(0),ed=U.useRef(0),Ts=U.useRef(null),[Tm,td]=q.split("-"),Sw=U.useMemo(()=>y.reduce((ke,tt,ct)=>ct>=Rs?ke:ke+tt.height,0),[y,Rs]),Nw=SH(),O2=m.invert||f,Am=oe==="loading";Xn.current=U.useMemo(()=>Rs*B+Sw,[Rs,Sw]),U.useEffect(()=>{O.current=Zu},[Zu]),U.useEffect(()=>{Ue(!0)},[]),U.useEffect(()=>{let ke=ee.current;if(ke){let tt=ke.getBoundingClientRect().height;return k(tt),v(ct=>[{toastId:m.id,height:tt,position:m.position},...ct]),()=>v(ct=>ct.filter(xn=>xn.toastId!==m.id))}},[v,m.id]),U.useLayoutEffect(()=>{if(!Y)return;let ke=ee.current,tt=ke.style.height;ke.style.height="auto";let ct=ke.getBoundingClientRect().height;ke.style.height=tt,k(ct),v(xn=>xn.find(wn=>wn.toastId===m.id)?xn.map(wn=>wn.toastId===m.id?{...wn,height:ct}:wn):[{toastId:m.id,height:ct,position:m.position},...xn])},[Y,m.title,m.description,v,m.id]);let fa=U.useCallback(()=>{Ie(!0),vo(Xn.current),v(ke=>ke.filter(tt=>tt.toastId!==m.id)),setTimeout(()=>{S(m)},$H)},[m,S,v,Xn]);U.useEffect(()=>{if(m.promise&&oe==="loading"||m.duration===1/0||m.type==="loading")return;let ke;return _||g||re&&Nw?(()=>{if(ed.current<gi.current){let tt=new Date().getTime()-gi.current;O.current=O.current-tt}ed.current=new Date().getTime()})():O.current!==1/0&&(gi.current=new Date().getTime(),ke=setTimeout(()=>{var tt;(tt=m.onAutoClose)==null||tt.call(m,m),fa()},O.current)),()=>clearTimeout(ke)},[_,g,m,oe,re,Nw,fa]),U.useEffect(()=>{m.delete&&fa()},[fa,m.delete]);function I2(){var ke,tt,ct;return K!=null&&K.loading?U.createElement("div",{className:Sn(A==null?void 0:A.loader,(ke=m==null?void 0:m.classNames)==null?void 0:ke.loader,"sonner-loader"),"data-visible":oe==="loading"},K.loading):ie?U.createElement("div",{className:Sn(A==null?void 0:A.loader,(tt=m==null?void 0:m.classNames)==null?void 0:tt.loader,"sonner-loader"),"data-visible":oe==="loading"},ie):U.createElement(yH,{className:Sn(A==null?void 0:A.loader,(ct=m==null?void 0:m.classNames)==null?void 0:ct.loader),visible:oe==="loading"})}return U.createElement("li",{tabIndex:0,ref:ee,className:Sn(D,et,A==null?void 0:A.toast,(t=m==null?void 0:m.classNames)==null?void 0:t.toast,A==null?void 0:A.default,A==null?void 0:A[oe],(r=m==null?void 0:m.classNames)==null?void 0:r[oe]),"data-sonner-toast":"","data-rich-colors":(n=m.richColors)!=null?n:N,"data-styled":!(m.jsx||m.unstyled||w),"data-mounted":Y,"data-promise":!!m.promise,"data-swiped":Gn,"data-removed":De,"data-visible":G,"data-y-position":Tm,"data-x-position":td,"data-index":x,"data-front":X,"data-swiping":Le,"data-dismissible":$e,"data-type":oe,"data-invert":O2,"data-swipe-out":Bt,"data-swipe-direction":qe,"data-expanded":!!(_||I&&Y),style:{"--index":x,"--toasts-before":x,"--z-index":j.length-x,"--offset":`${De?ks:Xn.current}px`,"--initial-height":I?"auto":`${Ps}px`,...R,...m.style},onDragEnd:()=>{ze(!1),ye(null),Ts.current=null},onPointerDown:ke=>{Am||!$e||(L.current=new Date,vo(Xn.current),ke.target.setPointerCapture(ke.pointerId),ke.target.tagName!=="BUTTON"&&(ze(!0),Ts.current={x:ke.clientX,y:ke.clientY}))},onPointerUp:()=>{var ke,tt,ct,xn;if(Bt||!$e)return;Ts.current=null;let wn=Number(((ke=ee.current)==null?void 0:ke.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ma=Number(((tt=ee.current)==null?void 0:tt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),vi=new Date().getTime()-((ct=L.current)==null?void 0:ct.getTime()),bn=xe==="x"?wn:ma,pa=Math.abs(bn)/vi;if(Math.abs(bn)>=LH||pa>.11){vo(Xn.current),(xn=m.onDismiss)==null||xn.call(m,m),Qe(xe==="x"?wn>0?"right":"left":ma>0?"down":"up"),fa(),or(!0),Yn(!1);return}ze(!1),ye(null)},onPointerMove:ke=>{var tt,ct,xn,wn;if(!Ts.current||!$e||((tt=window.getSelection())==null?void 0:tt.toString().length)>0)return;let ma=ke.clientY-Ts.current.y,vi=ke.clientX-Ts.current.x,bn=(ct=e.swipeDirections)!=null?ct:FH(q);!xe&&(Math.abs(vi)>1||Math.abs(ma)>1)&&ye(Math.abs(vi)>Math.abs(ma)?"x":"y");let pa={x:0,y:0};xe==="y"?(bn.includes("top")||bn.includes("bottom"))&&(bn.includes("top")&&ma<0||bn.includes("bottom")&&ma>0)&&(pa.y=ma):xe==="x"&&(bn.includes("left")||bn.includes("right"))&&(bn.includes("left")&&vi<0||bn.includes("right")&&vi>0)&&(pa.x=vi),(Math.abs(pa.x)>0||Math.abs(pa.y)>0)&&Yn(!0),(xn=ee.current)==null||xn.style.setProperty("--swipe-amount-x",`${pa.x}px`),(wn=ee.current)==null||wn.style.setProperty("--swipe-amount-y",`${pa.y}px`)}},Jn&&!m.jsx?U.createElement("button",{"aria-label":ae,"data-disabled":Am,"data-close-button":!0,onClick:Am||!$e?()=>{}:()=>{var ke;fa(),(ke=m.onDismiss)==null||ke.call(m,m)},className:Sn(A==null?void 0:A.closeButton,(s=m==null?void 0:m.classNames)==null?void 0:s.closeButton)},(a=K==null?void 0:K.close)!=null?a:_H):null,m.jsx||p.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:U.createElement(U.Fragment,null,oe||m.icon||m.promise?U.createElement("div",{"data-icon":"",className:Sn(A==null?void 0:A.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||I2():null,m.type!=="loading"?m.icon||(K==null?void 0:K[oe])||gH(oe):null):null,U.createElement("div",{"data-content":"",className:Sn(A==null?void 0:A.content,(l=m==null?void 0:m.classNames)==null?void 0:l.content)},U.createElement("div",{"data-title":"",className:Sn(A==null?void 0:A.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?U.createElement("div",{"data-description":"",className:Sn(V,br,A==null?void 0:A.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),p.isValidElement(m.cancel)?m.cancel:m.cancel&&Fd(m.cancel)?U.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||T,onClick:ke=>{var tt,ct;Fd(m.cancel)&&$e&&((ct=(tt=m.cancel).onClick)==null||ct.call(tt,ke),fa())},className:Sn(A==null?void 0:A.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,p.isValidElement(m.action)?m.action:m.action&&Fd(m.action)?U.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||z,onClick:ke=>{var tt,ct;Fd(m.action)&&((ct=(tt=m.action).onClick)==null||ct.call(tt,ke),!ke.defaultPrevented&&fa())},className:Sn(A==null?void 0:A.actionButton,(h=m==null?void 0:m.classNames)==null?void 0:h.actionButton)},m.action.label):null))};function d_(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function zH(e,t){let r={};return[e,t].forEach((n,s)=>{let a=s===1,o=a?"--mobile-offset":"--offset",l=a?IH:OH;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=l:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}p.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:a,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:h,duration:f,style:m,visibleToasts:w=AH,toastOptions:g,dir:v=d_(),gap:b=DH,loadingIcon:y,icons:x,containerAriaLabel:j="Notifications",pauseWhenPageIsHidden:_}=e,[S,N]=U.useState([]),C=U.useMemo(()=>Array.from(new Set([n].concat(S.filter(re=>re.position).map(re=>re.position)))),[S,n]),[R,T]=U.useState([]),[z,D]=U.useState(!1),[V,F]=U.useState(!1),[q,B]=U.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ie=U.useRef(null),I=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),A=U.useRef(null),K=U.useRef(!1),ae=U.useCallback(re=>{N(xe=>{var ye;return(ye=xe.find(qe=>qe.id===re.id))!=null&&ye.delete||Nr.dismiss(re.id),xe.filter(({id:qe})=>qe!==re.id)})},[]);return U.useEffect(()=>Nr.subscribe(re=>{if(re.dismiss){N(xe=>xe.map(ye=>ye.id===re.id?{...ye,delete:!0}:ye));return}setTimeout(()=>{$N.flushSync(()=>{N(xe=>{let ye=xe.findIndex(qe=>qe.id===re.id);return ye!==-1?[...xe.slice(0,ye),{...xe[ye],...re},...xe.slice(ye+1)]:[re,...xe]})})})}),[]),U.useEffect(()=>{if(d!=="system"){B(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?B("dark"):B("light")),typeof window>"u")return;let re=window.matchMedia("(prefers-color-scheme: dark)");try{re.addEventListener("change",({matches:xe})=>{B(xe?"dark":"light")})}catch{re.addListener(({matches:ye})=>{try{B(ye?"dark":"light")}catch(qe){console.error(qe)}})}},[d]),U.useEffect(()=>{S.length<=1&&D(!1)},[S]),U.useEffect(()=>{let re=xe=>{var ye,qe;s.every(Qe=>xe[Qe]||xe.code===Qe)&&(D(!0),(ye=ie.current)==null||ye.focus()),xe.code==="Escape"&&(document.activeElement===ie.current||(qe=ie.current)!=null&&qe.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",re),()=>document.removeEventListener("keydown",re)},[s]),U.useEffect(()=>{if(ie.current)return()=>{A.current&&(A.current.focus({preventScroll:!0}),A.current=null,K.current=!1)}},[ie.current]),U.createElement("section",{ref:t,"aria-label":`${j} ${I}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},C.map((re,xe)=>{var ye;let[qe,Qe]=re.split("-");return S.length?U.createElement("ol",{key:re,dir:v==="auto"?d_():v,tabIndex:-1,ref:ie,className:l,"data-sonner-toaster":!0,"data-theme":q,"data-y-position":qe,"data-lifted":z&&S.length>1&&!a,"data-x-position":Qe,style:{"--front-toast-height":`${((ye=R[0])==null?void 0:ye.height)||0}px`,"--width":`${MH}px`,"--gap":`${b}px`,...m,...zH(c,u)},onBlur:Y=>{K.current&&!Y.currentTarget.contains(Y.relatedTarget)&&(K.current=!1,A.current&&(A.current.focus({preventScroll:!0}),A.current=null))},onFocus:Y=>{Y.target instanceof HTMLElement&&Y.target.dataset.dismissible==="false"||K.current||(K.current=!0,A.current=Y.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{V||D(!1)},onDragEnd:()=>D(!1),onPointerDown:Y=>{Y.target instanceof HTMLElement&&Y.target.dataset.dismissible==="false"||F(!0)},onPointerUp:()=>F(!1)},S.filter(Y=>!Y.position&&xe===0||Y.position===re).map((Y,Ue)=>{var De,Ie;return U.createElement(UH,{key:Y.id,icons:x,index:Ue,toast:Y,defaultRichColors:h,duration:(De=g==null?void 0:g.duration)!=null?De:f,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:r,visibleToasts:w,closeButton:(Ie=g==null?void 0:g.closeButton)!=null?Ie:o,interacting:V,position:re,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:ae,toasts:S.filter(Le=>Le.position==Y.position),heights:R.filter(Le=>Le.position==Y.position),setHeights:T,expandByDefault:a,gap:b,loadingIcon:y,expanded:z,pauseWhenPageIsHidden:_,swipeDirections:e.swipeDirections})})):null}))});const BH=()=>{const e=Ke();return Ze({mutationFn:t=>km.create(t),onSuccess:()=>{e.invalidateQueries({queryKey:["admin","config","roles"]}),gn.success("Rol creado exitosamente")},onError:t=>{var r,n;console.error("Error creating role:",t),gn.error(((n=(r=t.response)==null?void 0:r.data)==null?void 0:n.error)||"Error al crear rol")}})},VH=()=>{const e=Ke();return Ze({mutationFn:({id:t,data:r})=>km.update(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:["admin","config","roles"]}),gn.success("Rol actualizado exitosamente")},onError:t=>{var r,n;console.error("Error updating role:",t),gn.error(((n=(r=t.response)==null?void 0:r.data)==null?void 0:n.error)||"Error al actualizar rol")}})},qH=()=>{const e=Ke();return Ze({mutationFn:t=>km.delete(t),onSuccess:()=>{e.invalidateQueries({queryKey:["admin","config","roles"]}),gn.success("Rol eliminado exitosamente")},onError:t=>{var n,s;console.error("Error deleting role:",t);const r=((s=(n=t.response)==null?void 0:n.data)==null?void 0:s.error)||"Error al eliminar rol";gn.error(r)}})},WH=()=>{const{data:e,isLoading:t}=t2(),r=BH(),n=VH(),s=qH(),[a,o]=p.useState(!1),[l,c]=p.useState(!1),[u,d]=p.useState(!1),[h,f]=p.useState(null),[m,w]=p.useState({name:"",description:""}),g=()=>{w({name:"",description:""}),o(!0)},v=_=>{f(_),w({name:_.name,description:_.description||""}),c(!0)},b=_=>{f(_),d(!0)},y=async()=>{await r.mutateAsync(m),o(!1),w({name:"",description:""})},x=async()=>{h&&(await n.mutateAsync({id:h.id,data:m}),c(!1),f(null),w({name:"",description:""}))},j=async()=>{h&&(await s.mutateAsync(h.id),d(!1),f(null))};return t?i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsx("div",{className:"text-muted-foreground",children:"Cargando roles..."})}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Gestin de Roles"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Crea, edita o elimina roles del sistema"})]}),i.jsxs($,{onClick:g,children:[i.jsx(eo,{className:"mr-2 h-4 w-4"}),"Crear Rol"]})]}),i.jsx("div",{className:"border rounded-xl overflow-hidden",children:i.jsxs(Jf,{children:[i.jsx(Xf,{children:i.jsxs(Za,{children:[i.jsx(nr,{children:"Nombre"}),i.jsx(nr,{children:"Descripcin"}),i.jsx(nr,{children:"Fecha de Creacin"}),i.jsx(nr,{className:"text-right",children:"Acciones"})]})}),i.jsxs(Zf,{children:[e==null?void 0:e.map(_=>i.jsxs(Za,{children:[i.jsx(Gt,{className:"font-medium",children:_.name}),i.jsx(Gt,{className:"text-muted-foreground",children:_.description||"Sin descripcin"}),i.jsx(Gt,{className:"text-muted-foreground",children:new Date(_.created_at).toLocaleDateString("es-ES")}),i.jsx(Gt,{className:"text-right",children:i.jsxs("div",{className:"flex items-center justify-end gap-2",children:[i.jsx($,{variant:"ghost",size:"sm",onClick:()=>v(_),children:i.jsx(lE,{className:"h-4 w-4"})}),i.jsx($,{variant:"ghost",size:"sm",onClick:()=>b(_),disabled:_.name==="admin",children:i.jsx(Ql,{className:"h-4 w-4"})})]})})]},_.id)),(!e||e.length===0)&&i.jsx(Za,{children:i.jsx(Gt,{colSpan:4,className:"text-center py-8 text-muted-foreground",children:"No hay roles creados"})})]})]})}),i.jsx(hn,{open:a,onOpenChange:o,children:i.jsxs(Yr,{children:[i.jsxs(fn,{children:[i.jsx(mn,{children:"Crear Nuevo Rol"}),i.jsx(pn,{children:"Define un nuevo rol para el sistema"})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{htmlFor:"name",children:"Nombre *"}),i.jsx(ge,{id:"name",value:m.name,onChange:_=>w({...m,name:_.target.value}),placeholder:"ej: mentor, emprendedor"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{htmlFor:"description",children:"Descripcin"}),i.jsx(la,{id:"description",value:m.description,onChange:_=>w({...m,description:_.target.value}),placeholder:"Describe el propsito de este rol",rows:3})]})]}),i.jsxs(Zh,{children:[i.jsx($,{variant:"outline",onClick:()=>o(!1),children:"Cancelar"}),i.jsx($,{onClick:y,disabled:!m.name||r.isPending,children:r.isPending?"Creando...":"Crear Rol"})]})]})}),i.jsx(hn,{open:l,onOpenChange:c,children:i.jsxs(Yr,{children:[i.jsxs(fn,{children:[i.jsx(mn,{children:"Editar Rol"}),i.jsx(pn,{children:"Modifica la informacin del rol"})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{htmlFor:"edit-name",children:"Nombre *"}),i.jsx(ge,{id:"edit-name",value:m.name,onChange:_=>w({...m,name:_.target.value}),placeholder:"ej: mentor, emprendedor"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{htmlFor:"edit-description",children:"Descripcin"}),i.jsx(la,{id:"edit-description",value:m.description,onChange:_=>w({...m,description:_.target.value}),placeholder:"Describe el propsito de este rol",rows:3})]})]}),i.jsxs(Zh,{children:[i.jsx($,{variant:"outline",onClick:()=>c(!1),children:"Cancelar"}),i.jsx($,{onClick:x,disabled:!m.name||n.isPending,children:n.isPending?"Guardando...":"Guardar Cambios"})]})]})}),i.jsx(ww,{open:u,onOpenChange:d,children:i.jsxs(bm,{children:[i.jsxs(jm,{children:[i.jsx(Sm,{children:"Ests seguro?"}),i.jsxs(Nm,{children:['Esta accin eliminar el rol "',h==null?void 0:h.name,'". Solo podrs eliminar roles que no estn asignados a ningn usuario.']})]}),i.jsxs(_m,{children:[i.jsx(Em,{children:"Cancelar"}),i.jsx(Cm,{onClick:j,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:s.isPending?"Eliminando...":"Eliminar"})]})]})})]})},HH=()=>{const e=Ke();return Ze({mutationFn:({userId:t,roleId:r})=>e2.assign(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:["admin","users"]}),e.invalidateQueries({queryKey:["admin","config","roles"]}),gn.success("Rol asignado exitosamente")},onError:t=>{var r,n;console.error("Error assigning role:",t),gn.error(((n=(r=t.response)==null?void 0:r.data)==null?void 0:n.error)||"Error al asignar rol")}})},KH=()=>{const e=Ke();return Ze({mutationFn:({userId:t,roleId:r})=>e2.remove(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:["admin","users"]}),e.invalidateQueries({queryKey:["admin","config","roles"]}),gn.success("Rol removido exitosamente")},onError:t=>{var n,s;console.error("Error removing role:",t);const r=((s=(n=t.response)==null?void 0:n.data)==null?void 0:s.error)||"Error al remover rol";gn.error(r)}})},QH=()=>{const{data:e,isLoading:t}=YT(),{data:r,isLoading:n}=t2(),s=HH(),a=KH(),[o,l]=p.useState(!1),[c,u]=p.useState(!1),[d,h]=p.useState(""),[f,m]=p.useState(""),[w,g]=p.useState(""),[v,b]=p.useState(null),y=(e==null?void 0:e.users)||[],x=y.filter(R=>R.name.toLowerCase().includes(d.toLowerCase())||R.email.toLowerCase().includes(d.toLowerCase())),j=()=>{m(""),g(""),l(!0)},_=async()=>{!f||!w||(await s.mutateAsync({userId:f,roleId:w}),l(!1),m(""),g(""))},S=(R,T,z,D)=>{b({userId:R,roleId:T,roleName:z,userName:D}),u(!0)},N=async()=>{v&&(await a.mutateAsync({userId:v.userId,roleId:v.roleId}),u(!1),b(null))},C=R=>{switch(R.toLowerCase()){case"admin":return"bg-red-100 text-red-800 hover:bg-red-100";case"mentor":return"bg-blue-100 text-blue-800 hover:bg-blue-100";case"emprendedor":return"bg-green-100 text-green-800 hover:bg-green-100";default:return"bg-gray-100 text-gray-800 hover:bg-gray-100"}};return t||n?i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsx("div",{className:"text-muted-foreground",children:"Cargando datos..."})}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Asignacin de Roles"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Asigna o remueve roles de los usuarios"})]}),i.jsxs($,{onClick:j,children:[i.jsx(si,{className:"mr-2 h-4 w-4"}),"Asignar Rol"]})]}),i.jsxs("div",{className:"relative",children:[i.jsx(aa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(ge,{placeholder:"Buscar usuarios por nombre o email...",value:d,onChange:R=>h(R.target.value),className:"pl-9"})]}),i.jsxs("div",{className:"border rounded-xl divide-y",children:[x.map(R=>i.jsx("div",{className:"p-4 hover:bg-muted/50 transition-colors",children:i.jsx("div",{className:"flex items-start justify-between",children:i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"font-medium truncate",children:R.name}),i.jsx("div",{className:"text-sm text-muted-foreground truncate",children:R.email}),i.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:R.roles&&R.roles.length>0?R.roles.map(T=>{const z=r==null?void 0:r.find(D=>D.name===T);return i.jsxs(Se,{variant:"secondary",className:`${C(T)} flex items-center gap-1`,children:[T,i.jsx("button",{onClick:()=>S(R.id,(z==null?void 0:z.id)||"",T,R.name),className:"ml-1 hover:bg-black/10 rounded-full p-0.5",children:i.jsx(pr,{className:"h-3 w-3"})})]},T)}):i.jsx("span",{className:"text-sm text-muted-foreground italic",children:"Sin roles asignados"})})]})})},R.id)),x.length===0&&i.jsx("div",{className:"p-8 text-center text-muted-foreground",children:"No se encontraron usuarios"})]}),i.jsx(hn,{open:o,onOpenChange:l,children:i.jsxs(Yr,{children:[i.jsxs(fn,{children:[i.jsx(mn,{children:"Asignar Rol a Usuario"}),i.jsx(pn,{children:"Selecciona un usuario y el rol que deseas asignarle"})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{htmlFor:"user-select",children:"Usuario *"}),i.jsxs(Ys,{value:f,onValueChange:m,children:[i.jsx(ws,{id:"user-select",children:i.jsx(Js,{placeholder:"Selecciona un usuario"})}),i.jsx(bs,{children:y.map(R=>i.jsxs(st,{value:R.id,children:[R.name," (",R.email,")"]},R.id))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{htmlFor:"role-select",children:"Rol *"}),i.jsxs(Ys,{value:w,onValueChange:g,children:[i.jsx(ws,{id:"role-select",children:i.jsx(Js,{placeholder:"Selecciona un rol"})}),i.jsx(bs,{children:r==null?void 0:r.map(R=>i.jsxs(st,{value:R.id,children:[R.name,R.description&&i.jsxs("span",{className:"text-muted-foreground",children:[" - ",R.description]})]},R.id))})]})]})]}),i.jsxs(Zh,{children:[i.jsx($,{variant:"outline",onClick:()=>l(!1),children:"Cancelar"}),i.jsx($,{onClick:_,disabled:!f||!w||s.isPending,children:s.isPending?"Asignando...":"Asignar Rol"})]})]})}),i.jsx(ww,{open:c,onOpenChange:u,children:i.jsxs(bm,{children:[i.jsxs(jm,{children:[i.jsx(Sm,{children:"Remover rol de usuario?"}),i.jsxs(Nm,{children:['Ests a punto de remover el rol "',v==null?void 0:v.roleName,'" del usuario "',v==null?void 0:v.userName,'". Esta accin puede ser revertida asignando el rol nuevamente.']})]}),i.jsxs(_m,{children:[i.jsx(Em,{children:"Cancelar"}),i.jsx(Cm,{onClick:N,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:a.isPending?"Removiendo...":"Remover Rol"})]})]})})]})};var Pm="Switch",[GH]=yr(Pm),[YH,JH]=GH(Pm),r2=p.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...h}=e,[f,m]=p.useState(null),w=Te(t,x=>m(x)),g=p.useRef(!1),v=f?d||!!f.closest("form"):!0,[b,y]=na({prop:s,defaultProp:a??!1,onChange:u,caller:Pm});return i.jsxs(YH,{scope:r,checked:b,disabled:l,children:[i.jsx(de.button,{type:"button",role:"switch","aria-checked":b,"aria-required":o,"data-state":i2(b),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:w,onClick:Z(e.onClick,x=>{y(j=>!j),v&&(g.current=x.isPropagationStopped(),g.current||x.stopPropagation())})}),v&&i.jsx(a2,{control:f,bubbles:!g.current,name:n,value:c,checked:b,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});r2.displayName=Pm;var n2="SwitchThumb",s2=p.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=JH(n2,r);return i.jsx(de.span,{"data-state":i2(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});s2.displayName=n2;var XH="SwitchBubbleInput",a2=p.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...s},a)=>{const o=p.useRef(null),l=Te(o,a),c=fx(r),u=mx(t);return p.useEffect(()=>{const d=o.current;if(!d)return;const h=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==r&&m){const w=new Event("click",{bubbles:n});m.call(d,r),d.dispatchEvent(w)}},[c,r,n]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});a2.displayName=XH;function i2(e){return e?"checked":"unchecked"}var o2=r2,ZH=s2;const l2=p.forwardRef(({className:e,...t},r)=>i.jsx(o2,{className:J("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:i.jsx(ZH,{className:J("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));l2.displayName=o2.displayName;const e7=()=>vt({queryKey:["admin","config","settings"],queryFn:()=>ZT.getAll(),staleTime:1e3*60*5}),t7=()=>{const e=Ke();return Ze({mutationFn:({key:t,data:r})=>ZT.update(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:["admin","config","settings"]}),gn.success("Configuracin actualizada exitosamente")},onError:t=>{var r,n;console.error("Error updating setting:",t),gn.error(((n=(r=t.response)==null?void 0:r.data)==null?void 0:n.error)||"Error al actualizar configuracin")}})},r7=()=>{const{data:e,isLoading:t}=e7(),r=t7(),[n,s]=p.useState({}),a=(c,u)=>{s(d=>({...d,[c]:u}))},o=async c=>{const u=n[c.key];if(u===void 0)return;let d=u;c.data_type==="boolean"?d=u:c.data_type==="number"?d=Number(u):(c.data_type==="string"||c.data_type==="text")&&(d=JSON.stringify(u)),await r.mutateAsync({key:c.key,data:{value:d}}),s(h=>{const f={...h};return delete f[c.key],f})},l=c=>{const u=n[c.key]!==void 0?n[c.key]:n7(c.value,c.data_type),d=n[c.key]!==void 0;switch(c.data_type){case"boolean":return i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(fe,{children:Ud(c.key)}),i.jsx("p",{className:"text-sm text-muted-foreground",children:c.description})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(l2,{checked:u,onCheckedChange:h=>a(c.key,h)}),d&&i.jsx($,{size:"sm",onClick:()=>o(c),disabled:r.isPending,children:i.jsx(Ad,{className:"h-4 w-4"})})]})]});case"number":return i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{htmlFor:c.key,children:Ud(c.key)}),i.jsx("p",{className:"text-sm text-muted-foreground",children:c.description}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ge,{id:c.key,type:"number",value:u,onChange:h=>a(c.key,h.target.value),className:"flex-1"}),d&&i.jsxs($,{size:"sm",onClick:()=>o(c),disabled:r.isPending,children:[i.jsx(Ad,{className:"h-4 w-4 mr-2"}),"Guardar"]})]})]});case"text":return i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{htmlFor:c.key,children:Ud(c.key)}),i.jsx("p",{className:"text-sm text-muted-foreground",children:c.description}),i.jsx(la,{id:c.key,value:u,onChange:h=>a(c.key,h.target.value),rows:3}),d&&i.jsxs($,{size:"sm",onClick:()=>o(c),disabled:r.isPending,className:"mt-2",children:[i.jsx(Ad,{className:"h-4 w-4 mr-2"}),"Guardar"]})]});case"string":default:return i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{htmlFor:c.key,children:Ud(c.key)}),i.jsx("p",{className:"text-sm text-muted-foreground",children:c.description}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ge,{id:c.key,type:"text",value:u,onChange:h=>a(c.key,h.target.value),className:"flex-1"}),d&&i.jsxs($,{size:"sm",onClick:()=>o(c),disabled:r.isPending,children:[i.jsx(Ad,{className:"h-4 w-4 mr-2"}),"Guardar"]})]})]})}};return t?i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsx("div",{className:"text-muted-foreground",children:"Cargando configuraciones..."})}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Configuraciones del Sistema"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Gestiona las configuraciones globales de la plataforma"})]}),i.jsxs("div",{className:"grid gap-4",children:[e==null?void 0:e.map(c=>i.jsx(_e,{children:i.jsx(je,{className:"pt-6",children:l(c)})},c.key)),(!e||e.length===0)&&i.jsx(_e,{children:i.jsx(je,{className:"py-8 text-center text-muted-foreground",children:"No hay configuraciones disponibles"})})]}),i.jsxs(_e,{className:"border-blue-200 bg-blue-50/50",children:[i.jsx(ft,{children:i.jsxs(bt,{className:"flex items-center gap-2 text-blue-900",children:[i.jsx(J3,{className:"h-5 w-5"}),"Informacin Importante"]})}),i.jsx(je,{children:i.jsxs("ul",{className:"space-y-2 text-sm text-blue-800",children:[i.jsx("li",{children:" Los cambios en las configuraciones afectan inmediatamente a toda la plataforma"}),i.jsx("li",{children:" Asegrate de entender el impacto antes de modificar valores crticos"}),i.jsx("li",{children:" Todos los cambios quedan registrados con tu usuario"})]})})]})]})};function n7(e,t){return t==="boolean"?!!e:t==="number"?Number(e):(t==="string"||t==="text")&&typeof e=="string"?e.replace(/^"(.*)"$/,"$1"):e}function Ud(e){return e.split("_").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}const s7=()=>{const[e,t]=p.useState("roles"),r=gt();return i.jsxs("div",{className:"container mx-auto py-8 px-4 max-w-7xl",children:[i.jsxs($,{variant:"ghost",onClick:()=>r("/gestion"),className:"mb-6 hover:bg-gray-100",children:[i.jsx(qn,{className:"h-4 w-4 mr-2"}),"Volver a Gestin"]}),i.jsx("div",{className:"mb-8",children:i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:i.jsx(gu,{className:"h-6 w-6 text-primary"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Configuracin del Sistema"}),i.jsx("p",{className:"text-muted-foreground",children:"Gestiona roles, asignaciones y configuraciones generales de la plataforma"})]})]})}),i.jsxs(Yf,{value:e,onValueChange:t,className:"space-y-6",children:[i.jsxs(Wu,{className:"grid w-full grid-cols-3 lg:w-auto lg:inline-grid",children:[i.jsxs(zn,{value:"roles",className:"flex items-center gap-2",children:[i.jsx(yx,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Roles"})]}),i.jsxs(zn,{value:"assignments",className:"flex items-center gap-2",children:[i.jsx(s5,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Asignaciones"})]}),i.jsxs(zn,{value:"settings",className:"flex items-center gap-2",children:[i.jsx(gu,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Configuraciones"})]})]}),i.jsx(Bn,{value:"roles",className:"space-y-6",children:i.jsx(WH,{})}),i.jsx(Bn,{value:"assignments",className:"space-y-6",children:i.jsx(QH,{})}),i.jsx(Bn,{value:"settings",className:"space-y-6",children:i.jsx(r7,{})})]})]})};function a7(){const e=new Date().getFullYear();return i.jsx("div",{className:"container max-w-5xl mx-auto py-8 px-4",children:i.jsx(_e,{className:"shadow-lg",children:i.jsx(je,{className:"p-8",children:i.jsxs("article",{children:[i.jsxs("header",{className:"mb-8",children:[i.jsx("h1",{className:"text-4xl font-bold text-primary mb-4",children:"Aviso Legal, Poltica de Privacidad y Cookies"}),i.jsxs("p",{className:"text-muted-foreground",children:[i.jsx("strong",{children:"ltima actualizacin:"})," ",i.jsx("time",{dateTime:"2025-11-01",children:"1 de noviembre de 2025"})]}),i.jsxs("p",{className:"text-muted-foreground mt-2",children:["Este documento aplica a ",i.jsx("strong",{children:"Red Espaa Creativa"})," (",i.jsx("a",{href:"https://elcaminocreativo.es",className:"text-primary hover:underline",children:"elcaminocreativo.es"}),")."]})]}),i.jsxs("nav",{"aria-label":"ndice de secciones",className:"mb-8",children:[i.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"ndice"}),i.jsxs("ul",{className:"space-y-2 list-none pl-0",children:[i.jsx("li",{children:i.jsx("a",{href:"#privacidad",className:"text-primary hover:underline",children:"1. Poltica de Privacidad"})}),i.jsx("li",{children:i.jsx("a",{href:"#terminos",className:"text-primary hover:underline",children:"2. Trminos de Servicio"})}),i.jsx("li",{children:i.jsx("a",{href:"#cookies",className:"text-primary hover:underline",children:"3. Poltica de Cookies"})})]})]}),i.jsx(ei,{className:"my-8"}),i.jsxs("section",{id:"privacidad",className:"mb-12",children:[i.jsx("h2",{className:"text-3xl font-bold text-primary mb-6",children:"1. Poltica de Privacidad"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold mb-3",children:"1.1 Responsable del tratamiento"}),i.jsxs("div",{className:"space-y-2 text-muted-foreground",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Titular:"})," Asoc Espaa Creativa Innovacion En Red"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Forma jurdica:"})," Asociacin u otros tipos no definidos"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"CIF/NIF:"})," G87600359"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Domicilio:"})," CIFUENTES. N 5 28021, MADRID, MADRID"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Correo de contacto:"})," ",i.jsx("a",{href:"mailto:privacidad@espanacreativa.com",className:"text-primary hover:underline",children:"privacidad@espanacreativa.com"})]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Actividad:"})," Red privada para emprendedores que permite conectar, colaborar y compartir recursos."]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold mb-3",children:"1.2 Finalidad del tratamiento"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[i.jsx("li",{children:"Gestionar el registro, autenticacin y acceso a la plataforma."}),i.jsx("li",{children:"Facilitar la comunicacin y colaboracin entre usuarios autorizados."}),i.jsx("li",{children:"Enviar notificaciones operativas o relacionadas con el servicio."})]}),i.jsx("p",{className:"mt-3 text-muted-foreground",children:"No se realizarn tratamientos adicionales incompatibles con estas finalidades."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold mb-3",children:"1.3 Base jurdica"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Ejecucin de un contrato"})," (art. 6.1.b RGPD) para crear y mantener la cuenta."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Cumplimiento de obligaciones legales"})," (art. 6.1.c RGPD)."]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold mb-3",children:"1.4 Conservacin"}),i.jsx("p",{className:"text-muted-foreground",children:"Los datos se conservarn mientras dure la relacin contractual y, posteriormente, durante los plazos exigidos por ley o hasta que solicites su supresin."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold mb-3",children:"1.5 Comunicacin y encargados"}),i.jsxs("p",{className:"text-muted-foreground mb-3",children:["Podrn tratar datos proveedores que prestan servicios necesarios para el funcionamiento del SaaS (alojamiento, soporte tcnico, correo electrnico, etc.), con los que mantenemos los correspondientes ",i.jsx("em",{children:"contratos de encargo de tratamiento"})," conforme al art. 28 RGPD."]}),i.jsx("p",{className:"text-muted-foreground",children:"No se realizarn transferencias internacionales fuera del EEE salvo que existan garantas adecuadas (por ejemplo, clusulas contractuales tipo de la Comisin Europea)."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold mb-3",children:"1.6 Derechos"}),i.jsxs("p",{className:"text-muted-foreground mb-3",children:["Puedes ejercer los derechos de acceso, rectificacin, supresin, limitacin, portabilidad y oposicin enviando un correo a"," ",i.jsx("a",{href:"mailto:privacidad@espanacreativa.com",className:"text-primary hover:underline",children:"privacidad@espanacreativa.com"})," ","y acreditando tu identidad."]}),i.jsxs("p",{className:"text-muted-foreground",children:["Si consideras que no se han atendido correctamente tus derechos, puedes reclamar ante la"," ",i.jsx("a",{href:"https://www.aepd.es/",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"Agencia Espaola de Proteccin de Datos"}),"."]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold mb-3",children:"1.7 Seguridad"}),i.jsx("p",{className:"text-muted-foreground",children:"Aplicamos medidas tcnicas y organizativas adecuadas para garantizar la confidencialidad, integridad y disponibilidad de la informacin, incluyendo cifrado, control de accesos y auditoras peridicas."})]})]})]}),i.jsx(ei,{className:"my-8"}),i.jsxs("section",{id:"terminos",className:"mb-12",children:[i.jsx("h2",{className:"text-3xl font-bold text-primary mb-6",children:"2. Trminos de Servicio"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold mb-3",children:"2.1 Objeto"}),i.jsxs("p",{className:"text-muted-foreground",children:["Estos Trminos regulan el uso de la plataforma SaaS"," ",i.jsx("strong",{children:"Red Espaa Creativa"}),", que permite a emprendedores registrados conectarse y colaborar en un entorno privado moderado."]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold mb-3",children:"2.2 Registro y acceso"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[i.jsx("li",{children:"El acceso requiere solicitud mediante el formulario correspondiente."}),i.jsx("li",{children:"El acceso efectivo requiere aprobacin previa por un administrador."}),i.jsx("li",{children:"El usuario se compromete a proporcionar informacin veraz y mantenerla actualizada."})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold mb-3",children:"2.3 Uso correcto del servicio"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[i.jsx("li",{children:"No utilizar la plataforma para actividades ilcitas ni vulnerar derechos de terceros."}),i.jsx("li",{children:"No publicar contenidos ofensivos, ilegales o confidenciales sin autorizacin."}),i.jsx("li",{children:"No intentar acceder sin permiso a sistemas o datos."})]}),i.jsx("p",{className:"mt-3 text-muted-foreground",children:"Podremos suspender o cancelar cuentas por incumplimiento de estos Trminos o por motivos de seguridad."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold mb-3",children:"2.4 Propiedad intelectual"}),i.jsx("p",{className:"text-muted-foreground",children:"Software, diseos, marcas y contenidos son propiedad de Asoc Espaa Creativa Innovacion En Red o de sus licenciantes, protegidos por la legislacin de propiedad intelectual e industrial."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold mb-3",children:"2.5 Limitacin de responsabilidad"}),i.jsx("p",{className:"text-muted-foreground",children:"No seremos responsables de fallos tcnicos ajenos a nuestro control, de usos indebidos del servicio por parte del usuario ni de contenidos publicados por terceros."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold mb-3",children:"2.6 Modificaciones"}),i.jsx("p",{className:"text-muted-foreground",children:"Podremos modificar estos Trminos para adaptarlos a cambios legales o mejoras del servicio. Las modificaciones relevantes se comunicarn con antelacin razonable."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold mb-3",children:"2.7 Baja del servicio"}),i.jsxs("p",{className:"text-muted-foreground",children:["El usuario puede solicitar la baja escribiendo a"," ",i.jsx("a",{href:"mailto:privacidad@espanacreativa.com",className:"text-primary hover:underline",children:"privacidad@espanacreativa.com"}),". Podemos suspender o eliminar cuentas por incumplimiento o inactividad prolongada."]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold mb-3",children:"2.8 Legislacin aplicable y jurisdiccin"}),i.jsxs("p",{className:"text-muted-foreground",children:["Se aplica la legislacin espaola. Para cualquier controversia, las partes se someten a los Juzgados y Tribunales de"," ",i.jsx("strong",{children:"Madrid"}),", salvo disposicin legal imperativa en contrario."]})]})]})]}),i.jsx(ei,{className:"my-8"}),i.jsxs("section",{id:"cookies",className:"mb-12",children:[i.jsx("h2",{className:"text-3xl font-bold text-primary mb-6",children:"3. Poltica de Cookies"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold mb-3",children:"3.1 Qu son las cookies?"}),i.jsx("p",{className:"text-muted-foreground",children:"Pequeos archivos que el sitio web guarda en tu dispositivo para recordar informacin y garantizar el correcto funcionamiento del servicio."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold mb-3",children:"3.2 Cookies utilizadas (solo tcnicas)"}),i.jsxs("p",{className:"text-muted-foreground mb-3",children:["En ",i.jsx("strong",{children:"Red Espaa Creativa"})," usamos exclusivamente"," ",i.jsx("strong",{children:"cookies tcnicas"})," necesarias para:"]}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[i.jsx("li",{children:"Mantener la sesin iniciada y la seguridad de la autenticacin."}),i.jsx("li",{children:"Recordar preferencias bsicas (como el idioma)."}),i.jsx("li",{children:"Garantizar el funcionamiento esencial de la plataforma."})]}),i.jsx("p",{className:"mt-3 text-muted-foreground",children:"Estas cookies no requieren consentimiento previo (art. 22.2 LSSI-CE) y no se utilizan con fines analticos ni publicitarios."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold mb-3",children:"3.3 Gestin o desactivacin"}),i.jsx("p",{className:"text-muted-foreground",children:"Puedes configurar tu navegador para bloquear o eliminar cookies. Si desactivas las cookies tcnicas, algunas funciones pueden no estar disponibles."})]})]})]}),i.jsx("footer",{className:"mt-12 pt-8 border-t text-sm text-muted-foreground",children:i.jsxs("p",{children:[" ",e," Asoc Espaa Creativa Innovacion En Red "," ",i.jsx("a",{href:"mailto:privacidad@espanacreativa.com",className:"text-primary hover:underline",children:"privacidad@espanacreativa.com"})]})})]})})})})}var bw="ToastProvider",[jw,i7,o7]=Kf("Toast"),[c2]=yr("Toast",[o7]),[l7,Rm]=c2(bw),u2=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:a=50,children:o}=e,[l,c]=p.useState(null),[u,d]=p.useState(0),h=p.useRef(!1),f=p.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${bw}\`. Expected non-empty \`string\`.`),i.jsx(jw.Provider,{scope:t,children:i.jsx(l7,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:a,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:p.useCallback(()=>d(m=>m+1),[]),onToastRemove:p.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};u2.displayName=bw;var d2="ToastViewport",c7=["F8"],Uv="toast.viewportPause",zv="toast.viewportResume",h2=p.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=c7,label:s="Notifications ({hotkey})",...a}=e,o=Rm(d2,r),l=i7(r),c=p.useRef(null),u=p.useRef(null),d=p.useRef(null),h=p.useRef(null),f=Te(t,h,o.onViewportChange),m=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=o.toastCount>0;p.useEffect(()=>{const v=b=>{var x;n.length!==0&&n.every(j=>b[j]||b.code===j)&&((x=h.current)==null||x.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[n]),p.useEffect(()=>{const v=c.current,b=h.current;if(w&&v&&b){const y=()=>{if(!o.isClosePausedRef.current){const S=new CustomEvent(Uv);b.dispatchEvent(S),o.isClosePausedRef.current=!0}},x=()=>{if(o.isClosePausedRef.current){const S=new CustomEvent(zv);b.dispatchEvent(S),o.isClosePausedRef.current=!1}},j=S=>{!v.contains(S.relatedTarget)&&x()},_=()=>{v.contains(document.activeElement)||x()};return v.addEventListener("focusin",y),v.addEventListener("focusout",j),v.addEventListener("pointermove",y),v.addEventListener("pointerleave",_),window.addEventListener("blur",y),window.addEventListener("focus",x),()=>{v.removeEventListener("focusin",y),v.removeEventListener("focusout",j),v.removeEventListener("pointermove",y),v.removeEventListener("pointerleave",_),window.removeEventListener("blur",y),window.removeEventListener("focus",x)}}},[w,o.isClosePausedRef]);const g=p.useCallback(({tabbingDirection:v})=>{const y=l().map(x=>{const j=x.ref.current,_=[j,...j7(j)];return v==="forwards"?_:_.reverse()});return(v==="forwards"?y.reverse():y).flat()},[l]);return p.useEffect(()=>{const v=h.current;if(v){const b=y=>{var _,S,N;const x=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!x){const C=document.activeElement,R=y.shiftKey;if(y.target===v&&R){(_=u.current)==null||_.focus();return}const D=g({tabbingDirection:R?"backwards":"forwards"}),V=D.findIndex(F=>F===C);$p(D.slice(V+1))?y.preventDefault():R?(S=u.current)==null||S.focus():(N=d.current)==null||N.focus()}};return v.addEventListener("keydown",b),()=>v.removeEventListener("keydown",b)}},[l,g]),i.jsxs(v5,{ref:c,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&i.jsx(Bv,{ref:u,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"forwards"});$p(v)}}),i.jsx(jw.Slot,{scope:r,children:i.jsx(de.ol,{tabIndex:-1,...a,ref:f})}),w&&i.jsx(Bv,{ref:d,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"backwards"});$p(v)}})]})});h2.displayName=d2;var f2="ToastFocusProxy",Bv=p.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,a=Rm(f2,r);return i.jsx(ew,{tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=a.viewport)!=null&&u.contains(l))&&n()}})});Bv.displayName=f2;var Xu="Toast",u7="toast.swipeStart",d7="toast.swipeMove",h7="toast.swipeCancel",f7="toast.swipeEnd",m2=p.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:a,...o}=e,[l,c]=na({prop:n,defaultProp:s??!0,onChange:a,caller:Xu});return i.jsx(xr,{present:r||l,children:i.jsx(g7,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:jt(e.onPause),onResume:jt(e.onResume),onSwipeStart:Z(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Z(e.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Z(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Z(e.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});m2.displayName=Xu;var[m7,p7]=c2(Xu,{onClose(){}}),g7=p.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:m,...w}=e,g=Rm(Xu,r),[v,b]=p.useState(null),y=Te(t,F=>b(F)),x=p.useRef(null),j=p.useRef(null),_=s||g.duration,S=p.useRef(0),N=p.useRef(_),C=p.useRef(0),{onToastAdd:R,onToastRemove:T}=g,z=jt(()=>{var q;(v==null?void 0:v.contains(document.activeElement))&&((q=g.viewport)==null||q.focus()),o()}),D=p.useCallback(F=>{!F||F===1/0||(window.clearTimeout(C.current),S.current=new Date().getTime(),C.current=window.setTimeout(z,F))},[z]);p.useEffect(()=>{const F=g.viewport;if(F){const q=()=>{D(N.current),u==null||u()},B=()=>{const ie=new Date().getTime()-S.current;N.current=N.current-ie,window.clearTimeout(C.current),c==null||c()};return F.addEventListener(Uv,B),F.addEventListener(zv,q),()=>{F.removeEventListener(Uv,B),F.removeEventListener(zv,q)}}},[g.viewport,_,c,u,D]),p.useEffect(()=>{a&&!g.isClosePausedRef.current&&D(_)},[a,_,g.isClosePausedRef,D]),p.useEffect(()=>(R(),()=>T()),[R,T]);const V=p.useMemo(()=>v?b2(v):null,[v]);return g.viewport?i.jsxs(i.Fragment,{children:[V&&i.jsx(v7,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:V}),i.jsx(m7,{scope:r,onClose:z,children:oo.createPortal(i.jsx(jw.ItemSlot,{scope:r,children:i.jsx(g5,{asChild:!0,onEscapeKeyDown:Z(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||z(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:i.jsx(de.li,{tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":g.swipeDirection,...w,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Z(e.onKeyDown,F=>{F.key==="Escape"&&(l==null||l(F.nativeEvent),F.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,z()))}),onPointerDown:Z(e.onPointerDown,F=>{F.button===0&&(x.current={x:F.clientX,y:F.clientY})}),onPointerMove:Z(e.onPointerMove,F=>{if(!x.current)return;const q=F.clientX-x.current.x,B=F.clientY-x.current.y,ie=!!j.current,I=["left","right"].includes(g.swipeDirection),A=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,K=I?A(0,q):0,ae=I?0:A(0,B),re=F.pointerType==="touch"?10:2,xe={x:K,y:ae},ye={originalEvent:F,delta:xe};ie?(j.current=xe,zd(d7,h,ye,{discrete:!1})):h_(xe,g.swipeDirection,re)?(j.current=xe,zd(u7,d,ye,{discrete:!1}),F.target.setPointerCapture(F.pointerId)):(Math.abs(q)>re||Math.abs(B)>re)&&(x.current=null)}),onPointerUp:Z(e.onPointerUp,F=>{const q=j.current,B=F.target;if(B.hasPointerCapture(F.pointerId)&&B.releasePointerCapture(F.pointerId),j.current=null,x.current=null,q){const ie=F.currentTarget,I={originalEvent:F,delta:q};h_(q,g.swipeDirection,g.swipeThreshold)?zd(f7,m,I,{discrete:!0}):zd(h7,f,I,{discrete:!0}),ie.addEventListener("click",A=>A.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),v7=e=>{const{__scopeToast:t,children:r,...n}=e,s=Rm(Xu,t),[a,o]=p.useState(!1),[l,c]=p.useState(!1);return w7(()=>o(!0)),p.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:i.jsx(Bu,{asChild:!0,children:i.jsx(ew,{...n,children:a&&i.jsxs(i.Fragment,{children:[s.label," ",r]})})})},y7="ToastTitle",p2=p.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return i.jsx(de.div,{...n,ref:t})});p2.displayName=y7;var x7="ToastDescription",g2=p.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return i.jsx(de.div,{...n,ref:t})});g2.displayName=x7;var v2="ToastAction",y2=p.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?i.jsx(w2,{altText:r,asChild:!0,children:i.jsx(_w,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${v2}\`. Expected non-empty \`string\`.`),null)});y2.displayName=v2;var x2="ToastClose",_w=p.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=p7(x2,r);return i.jsx(w2,{asChild:!0,children:i.jsx(de.button,{type:"button",...n,ref:t,onClick:Z(e.onClick,s.onClose)})})});_w.displayName=x2;var w2=p.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return i.jsx(de.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function b2(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),b7(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!s)if(a){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...b2(n))}}),t}function zd(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?hx(s,a):s.dispatchEvent(a)}var h_=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),a=n>s;return t==="left"||t==="right"?a&&n>r:!a&&s>r};function w7(e=()=>{}){const t=jt(e);Pt(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function b7(e){return e.nodeType===e.ELEMENT_NODE}function j7(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function $p(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var _7=u2,j2=h2,_2=m2,S2=p2,N2=g2,C2=y2,E2=_w;const S7=_7,k2=p.forwardRef(({className:e,...t},r)=>i.jsx(j2,{ref:r,className:J("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));k2.displayName=j2.displayName;const N7=$u("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),P2=p.forwardRef(({className:e,variant:t,...r},n)=>i.jsx(_2,{ref:n,className:J(N7({variant:t}),e),...r}));P2.displayName=_2.displayName;const C7=p.forwardRef(({className:e,...t},r)=>i.jsx(C2,{ref:r,className:J("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));C7.displayName=C2.displayName;const R2=p.forwardRef(({className:e,...t},r)=>i.jsx(E2,{ref:r,className:J("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:i.jsx(pr,{className:"h-4 w-4"})}));R2.displayName=E2.displayName;const T2=p.forwardRef(({className:e,...t},r)=>i.jsx(S2,{ref:r,className:J("text-sm font-semibold",e),...t}));T2.displayName=S2.displayName;const A2=p.forwardRef(({className:e,...t},r)=>i.jsx(N2,{ref:r,className:J("text-sm opacity-90",e),...t}));A2.displayName=N2.displayName;function E7(){const{toasts:e}=Ku();return i.jsxs(S7,{children:[e.map(function({id:t,title:r,description:n,action:s,...a}){return i.jsxs(P2,{...a,children:[i.jsxs("div",{className:"grid gap-1",children:[r&&i.jsx(T2,{children:r}),n&&i.jsx(A2,{children:n})]}),s,i.jsx(R2,{})]},t)}),i.jsx(k2,{})]})}function k7(){const{user:e,isLoading:t}=Ct();return t?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 border-4 border-primary/30 border-t-primary rounded-full animate-spin mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})]})}):i.jsxs(hh,{children:[i.jsxs(ZI,{children:[i.jsx(Ye,{path:"/auth",element:e?i.jsx(Po,{to:"/dashboard"}):i.jsx(LU,{})}),i.jsx(Ye,{path:"/auth/pending",element:i.jsx(zU,{})}),i.jsx(Ye,{path:"/auth/set-password/:token",element:i.jsx($U,{})}),i.jsx(Ye,{path:"/auth/reset-password",element:i.jsx(UU,{})}),i.jsx(Ye,{path:"/admin/signup-approval/:action/:token",element:i.jsx(KU,{})}),i.jsx(Ye,{path:"/signup-approval",element:i.jsx(Vt,{children:i.jsx(_j,{})})}),i.jsx(Ye,{path:"/admin/pending-signups",element:i.jsx(Vt,{children:i.jsx(_j,{})})}),i.jsx(Ye,{path:"/dashboard",element:i.jsx(Vt,{children:i.jsx(H6,{})})}),i.jsx(Ye,{path:"/network",element:i.jsx(Vt,{children:i.jsx(x8,{})})}),i.jsx(Ye,{path:"/network/my-network",element:i.jsx(Vt,{children:i.jsx(w8,{})})}),i.jsx(Ye,{path:"/network/followers",element:i.jsx(Vt,{children:i.jsx(b8,{})})}),i.jsx(Ye,{path:"/messages",element:i.jsx(Vt,{children:i.jsx(Qj,{})})}),i.jsx(Ye,{path:"/messages/:userId",element:i.jsx(Vt,{children:i.jsx(Qj,{})})}),i.jsx(Ye,{path:"/opportunities",element:i.jsx(Vt,{children:i.jsx(eW,{})})}),i.jsx(Ye,{path:"/opportunities/:citySlug",element:i.jsx(Vt,{children:i.jsx(uW,{})})}),i.jsx(Ye,{path:"/opportunity/:opportunityId",element:i.jsx(Vt,{children:i.jsx(G9,{})})}),i.jsx(Ye,{path:"/proyectos",element:i.jsx(Vt,{children:i.jsx(qW,{})})}),i.jsx(Ye,{path:"/programs",element:i.jsx(Po,{to:"/proyectos",replace:!0})}),i.jsx(Ye,{path:"/projects",element:i.jsx(Po,{to:"/proyectos",replace:!0})}),i.jsx(Ye,{path:"/my-programs",element:i.jsx(Po,{to:"/proyectos",replace:!0})}),i.jsx(Ye,{path:"/profile",element:i.jsx(Vt,{children:i.jsx(GW,{})})}),i.jsx(Ye,{path:"/users/:userId",element:i.jsx(Vt,{children:i.jsx(JW,{})})}),i.jsx(Ye,{path:"/gestion",element:i.jsx(Vt,{children:i.jsx(XW,{})})}),i.jsx(Ye,{path:"/gestion/usuarios",element:i.jsx(Vt,{children:i.jsx(sH,{})})}),i.jsx(Ye,{path:"/gestion/estadisticas",element:i.jsx(Vt,{children:i.jsx(dH,{})})}),i.jsx(Ye,{path:"/gestion/configuracion",element:i.jsx(Vt,{children:i.jsx(s7,{})})}),i.jsx(Ye,{path:"/privacidad",element:i.jsx(a7,{})}),i.jsx(Ye,{path:"/",element:i.jsx(Po,{to:e?"/dashboard":"/auth"})})]}),i.jsx(E7,{})]})}class P7{constructor(){jn(this,"isDevelopment");jn(this,"logQueue",[]);jn(this,"isFlushingLogs",!1);jn(this,"sessionId");jn(this,"originalConsole",{});this.isDevelopment=!1,this.sessionId=this.generateSessionId(),this.isDevelopment&&(this.interceptConsole(),this.setupPeriodicFlush())}generateSessionId(){return`${Date.now()}-${Math.random().toString(36).substr(2,9)}`}interceptConsole(){this.originalConsole={log:console.log,warn:console.warn,error:console.error,info:console.info,debug:console.debug},console.log=(...t)=>{this.originalConsole.log(...t),this.queueLog("info","CONSOLE",this.formatLogMessage(t))},console.warn=(...t)=>{this.originalConsole.warn(...t),this.queueLog("warn","CONSOLE",this.formatLogMessage(t))},console.error=(...t)=>{this.originalConsole.error(...t),this.queueLog("error","CONSOLE",this.formatLogMessage(t))},console.info=(...t)=>{this.originalConsole.info(...t),this.queueLog("info","CONSOLE",this.formatLogMessage(t))},console.debug=(...t)=>{this.originalConsole.debug(...t),this.queueLog("debug","CONSOLE",this.formatLogMessage(t))}}formatLogMessage(t){return t.map(r=>{if(typeof r=="object"&&r!==null)try{return JSON.stringify(r,null,2)}catch{return String(r)}return String(r)}).join(" ")}shouldSkipLog(t){return["runtime.lastError","Extension context invalidated","chrome-extension://","moz-extension://","The message port closed before a response was received","Non-Error promise rejection captured"].some(n=>t.toLowerCase().includes(n.toLowerCase()))}queueLog(t,r,n,s){if(!this.isDevelopment||this.shouldSkipLog(n))return;const a={level:t,component:r,message:n,data:s,timestamp:new Date().toISOString(),session:this.sessionId,url:window.location.href,userAgent:navigator.userAgent.substring(0,100)};this.logQueue.push(a),this.logQueue.length>=10&&this.flushLogs()}log(t,r,n,s){this.queueLog(t,r,n,s)}async flushLogs(){if(!this.isDevelopment||this.isFlushingLogs||this.logQueue.length===0)return;this.isFlushingLogs=!0;const t=[...this.logQueue];this.logQueue=[];try{const r=await fetch("/api/dev/logs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({logs:t,batchTimestamp:new Date().toISOString(),sessionId:this.sessionId})});r.ok||(this.logQueue.unshift(...t),this.originalConsole.warn("ClientLogger: Failed to send logs to server",r.status))}catch(r){this.logQueue.unshift(...t),this.originalConsole.warn("ClientLogger: Error sending logs to server",r)}finally{this.isFlushingLogs=!1}}setupPeriodicFlush(){setInterval(()=>{this.flushLogs()},5e3),window.addEventListener("beforeunload",()=>{if(this.logQueue.length>0)try{navigator.sendBeacon("/api/dev/logs",JSON.stringify({logs:this.logQueue,batchTimestamp:new Date().toISOString(),sessionId:this.sessionId,unload:!0}))}catch{}}),document.addEventListener("visibilitychange",()=>{document.hidden||this.flushLogs()})}disable(){this.isDevelopment=!1,this.originalConsole.log&&(console.log=this.originalConsole.log,console.warn=this.originalConsole.warn,console.error=this.originalConsole.error,console.info=this.originalConsole.info,console.debug=this.originalConsole.debug)}}const ko=new P7;ko.isDevelopment&&(window.addEventListener("error",e=>{var r,n;const t=((r=e.error)==null?void 0:r.message)||e.message||"";ko.shouldSkipLog(t)||ko.shouldSkipLog(e.filename||"")||ko.log("error","WINDOW",`Uncaught error: ${t}`,{filename:e.filename,lineno:e.lineno,colno:e.colno,stack:(n=e.error)==null?void 0:n.stack})}),window.addEventListener("unhandledrejection",e=>{const t=String(e.reason||"");ko.shouldSkipLog(t)||ko.log("error","PROMISE",`Unhandled promise rejection: ${t}`,{reason:e.reason,promise:e.promise})}));FN(document.getElementById("root")).render(i.jsx(p.StrictMode,{children:i.jsx(QM,{children:i.jsx(MF,{children:i.jsx(oM,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:i.jsx(k7,{})})})})}));
