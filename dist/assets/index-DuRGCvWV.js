var v2=Object.defineProperty;var ww=e=>{throw TypeError(e)};var y2=(e,t,r)=>t in e?v2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var gn=(e,t,r)=>y2(e,typeof t!="symbol"?t+"":t,r),jm=(e,t,r)=>t.has(e)||ww("Cannot "+r);var E=(e,t,r)=>(jm(e,t,"read from private field"),r?r.call(e):t.get(e)),he=(e,t,r)=>t.has(e)?ww("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),se=(e,t,r,n)=>(jm(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Pe=(e,t,r)=>(jm(e,t,"access private method"),r);var Yu=(e,t,r,n)=>({set _(s){se(e,t,s,r)},get _(){return E(e,t,n)}});function x2(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();function y_(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function x_(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var w_={exports:{}},uh={},b_={exports:{}},Me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wu=Symbol.for("react.element"),w2=Symbol.for("react.portal"),b2=Symbol.for("react.fragment"),j2=Symbol.for("react.strict_mode"),_2=Symbol.for("react.profiler"),S2=Symbol.for("react.provider"),N2=Symbol.for("react.context"),E2=Symbol.for("react.forward_ref"),C2=Symbol.for("react.suspense"),k2=Symbol.for("react.memo"),R2=Symbol.for("react.lazy"),bw=Symbol.iterator;function P2(e){return e===null||typeof e!="object"?null:(e=bw&&e[bw]||e["@@iterator"],typeof e=="function"?e:null)}var j_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},__=Object.assign,S_={};function Pl(e,t,r){this.props=e,this.context=t,this.refs=S_,this.updater=r||j_}Pl.prototype.isReactComponent={};Pl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Pl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function N_(){}N_.prototype=Pl.prototype;function Av(e,t,r){this.props=e,this.context=t,this.refs=S_,this.updater=r||j_}var Ov=Av.prototype=new N_;Ov.constructor=Av;__(Ov,Pl.prototype);Ov.isPureReactComponent=!0;var jw=Array.isArray,E_=Object.prototype.hasOwnProperty,Iv={current:null},C_={key:!0,ref:!0,__self:!0,__source:!0};function k_(e,t,r){var n,s={},a=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)E_.call(t,n)&&!C_.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:wu,type:e,key:a,ref:o,props:s,_owner:Iv.current}}function T2(e,t){return{$$typeof:wu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Mv(e){return typeof e=="object"&&e!==null&&e.$$typeof===wu}function A2(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var _w=/\/+/g;function _m(e,t){return typeof e=="object"&&e!==null&&e.key!=null?A2(""+e.key):t.toString(36)}function Ld(e,t,r,n,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case wu:case w2:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+_m(o,0):n,jw(s)?(r="",e!=null&&(r=e.replace(_w,"$&/")+"/"),Ld(s,t,r,"",function(u){return u})):s!=null&&(Mv(s)&&(s=T2(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(_w,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",jw(e))for(var l=0;l<e.length;l++){a=e[l];var c=n+_m(a,l);o+=Ld(a,t,r,c,s)}else if(c=P2(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=n+_m(a,l++),o+=Ld(a,t,r,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Xu(e,t,r){if(e==null)return e;var n=[],s=0;return Ld(e,n,"","",function(a){return t.call(r,a,s++)}),n}function O2(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var mr={current:null},$d={transition:null},I2={ReactCurrentDispatcher:mr,ReactCurrentBatchConfig:$d,ReactCurrentOwner:Iv};function R_(){throw Error("act(...) is not supported in production builds of React.")}Me.Children={map:Xu,forEach:function(e,t,r){Xu(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Xu(e,function(){t++}),t},toArray:function(e){return Xu(e,function(t){return t})||[]},only:function(e){if(!Mv(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Me.Component=Pl;Me.Fragment=b2;Me.Profiler=_2;Me.PureComponent=Av;Me.StrictMode=j2;Me.Suspense=C2;Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I2;Me.act=R_;Me.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=__({},e.props),s=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=Iv.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)E_.call(t,c)&&!C_.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:wu,type:e.type,key:s,ref:a,props:n,_owner:o}};Me.createContext=function(e){return e={$$typeof:N2,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:S2,_context:e},e.Consumer=e};Me.createElement=k_;Me.createFactory=function(e){var t=k_.bind(null,e);return t.type=e,t};Me.createRef=function(){return{current:null}};Me.forwardRef=function(e){return{$$typeof:E2,render:e}};Me.isValidElement=Mv;Me.lazy=function(e){return{$$typeof:R2,_payload:{_status:-1,_result:e},_init:O2}};Me.memo=function(e,t){return{$$typeof:k2,type:e,compare:t===void 0?null:t}};Me.startTransition=function(e){var t=$d.transition;$d.transition={};try{e()}finally{$d.transition=t}};Me.unstable_act=R_;Me.useCallback=function(e,t){return mr.current.useCallback(e,t)};Me.useContext=function(e){return mr.current.useContext(e)};Me.useDebugValue=function(){};Me.useDeferredValue=function(e){return mr.current.useDeferredValue(e)};Me.useEffect=function(e,t){return mr.current.useEffect(e,t)};Me.useId=function(){return mr.current.useId()};Me.useImperativeHandle=function(e,t,r){return mr.current.useImperativeHandle(e,t,r)};Me.useInsertionEffect=function(e,t){return mr.current.useInsertionEffect(e,t)};Me.useLayoutEffect=function(e,t){return mr.current.useLayoutEffect(e,t)};Me.useMemo=function(e,t){return mr.current.useMemo(e,t)};Me.useReducer=function(e,t,r){return mr.current.useReducer(e,t,r)};Me.useRef=function(e){return mr.current.useRef(e)};Me.useState=function(e){return mr.current.useState(e)};Me.useSyncExternalStore=function(e,t,r){return mr.current.useSyncExternalStore(e,t,r)};Me.useTransition=function(){return mr.current.useTransition()};Me.version="18.3.1";b_.exports=Me;var m=b_.exports;const U=y_(m),Dv=x2({__proto__:null,default:U},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M2=m,D2=Symbol.for("react.element"),L2=Symbol.for("react.fragment"),$2=Object.prototype.hasOwnProperty,F2=M2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,U2={key:!0,ref:!0,__self:!0,__source:!0};function P_(e,t,r){var n,s={},a=null,o=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)$2.call(t,n)&&!U2.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:D2,type:e,key:a,ref:o,props:s,_owner:F2.current}}uh.Fragment=L2;uh.jsx=P_;uh.jsxs=P_;w_.exports=uh;var i=w_.exports,T_={exports:{}},Qr={},A_={exports:{}},O_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,A){var H=I.length;I.push(A);e:for(;0<H;){var ie=H-1>>>1,ne=I[ie];if(0<s(ne,A))I[ie]=A,I[H]=ne,H=ie;else break e}}function r(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var A=I[0],H=I.pop();if(H!==A){I[0]=H;e:for(var ie=0,ne=I.length,ge=ne>>>1;ie<ge;){var me=2*(ie+1)-1,Ve=I[me],Ke=me+1,J=I[Ke];if(0>s(Ve,H))Ke<ne&&0>s(J,Ve)?(I[ie]=J,I[Ke]=H,ie=Ke):(I[ie]=Ve,I[me]=H,ie=me);else if(Ke<ne&&0>s(J,H))I[ie]=J,I[Ke]=H,ie=Ke;else break e}}return A}function s(I,A){var H=I.sortIndex-A.sortIndex;return H!==0?H:I.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,b=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(I){for(var A=r(u);A!==null;){if(A.callback===null)n(u);else if(A.startTime<=I)n(u),A.sortIndex=A.expirationTime,t(c,A);else break;A=r(u)}}function j(I){if(g=!1,w(I),!b)if(r(c)!==null)b=!0,V(_);else{var A=r(u);A!==null&&Z(j,A.startTime-I)}}function _(I,A){b=!1,g&&(g=!1,x(C),C=-1),p=!0;var H=h;try{for(w(A),f=r(c);f!==null&&(!(f.expirationTime>A)||I&&!z());){var ie=f.callback;if(typeof ie=="function"){f.callback=null,h=f.priorityLevel;var ne=ie(f.expirationTime<=A);A=e.unstable_now(),typeof ne=="function"?f.callback=ne:f===r(c)&&n(c),w(A)}else n(c);f=r(c)}if(f!==null)var ge=!0;else{var me=r(u);me!==null&&Z(j,me.startTime-A),ge=!1}return ge}finally{f=null,h=H,p=!1}}var S=!1,N=null,C=-1,R=5,T=-1;function z(){return!(e.unstable_now()-T<R)}function D(){if(N!==null){var I=e.unstable_now();T=I;var A=!0;try{A=N(!0,I)}finally{A?q():(S=!1,N=null)}}else S=!1}var q;if(typeof v=="function")q=function(){v(D)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,M=F.port2;F.port1.onmessage=D,q=function(){M.postMessage(null)}}else q=function(){y(D,0)};function V(I){N=I,S||(S=!0,q())}function Z(I,A){C=y(function(){I(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){b||p||(b=!0,V(_))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(I){switch(h){case 1:case 2:case 3:var A=3;break;default:A=h}var H=h;h=A;try{return I()}finally{h=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,A){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var H=h;h=I;try{return A()}finally{h=H}},e.unstable_scheduleCallback=function(I,A,H){var ie=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?ie+H:ie):H=ie,I){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=H+ne,I={id:d++,callback:A,priorityLevel:I,startTime:H,expirationTime:ne,sortIndex:-1},H>ie?(I.sortIndex=H,t(u,I),r(c)===null&&I===r(u)&&(g?(x(C),C=-1):g=!0,Z(j,H-ie))):(I.sortIndex=ne,t(c,I),b||p||(b=!0,V(_))),I},e.unstable_shouldYield=z,e.unstable_wrapCallback=function(I){var A=h;return function(){var H=h;h=A;try{return I.apply(this,arguments)}finally{h=H}}}})(O_);A_.exports=O_;var z2=A_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B2=m,Kr=z2;function W(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var I_=new Set,Lc={};function to(e,t){ul(e,t),ul(e+"Capture",t)}function ul(e,t){for(Lc[e]=t,e=0;e<t.length;e++)I_.add(t[e])}var qs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cp=Object.prototype.hasOwnProperty,V2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Sw={},Nw={};function q2(e){return Cp.call(Nw,e)?!0:Cp.call(Sw,e)?!1:V2.test(e)?Nw[e]=!0:(Sw[e]=!0,!1)}function W2(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function H2(e,t,r,n){if(t===null||typeof t>"u"||W2(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function pr(e,t,r,n,s,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Yt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Yt[e]=new pr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Yt[t]=new pr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Yt[e]=new pr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Yt[e]=new pr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Yt[e]=new pr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Yt[e]=new pr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Yt[e]=new pr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Yt[e]=new pr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Yt[e]=new pr(e,5,!1,e.toLowerCase(),null,!1,!1)});var Lv=/[\-:]([a-z])/g;function $v(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Lv,$v);Yt[t]=new pr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Lv,$v);Yt[t]=new pr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Lv,$v);Yt[t]=new pr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Yt[e]=new pr(e,1,!1,e.toLowerCase(),null,!1,!1)});Yt.xlinkHref=new pr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Yt[e]=new pr(e,1,!1,e.toLowerCase(),null,!0,!0)});function Fv(e,t,r,n){var s=Yt.hasOwnProperty(t)?Yt[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(H2(t,r,s,n)&&(r=null),n||s===null?q2(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var ra=B2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zu=Symbol.for("react.element"),ko=Symbol.for("react.portal"),Ro=Symbol.for("react.fragment"),Uv=Symbol.for("react.strict_mode"),kp=Symbol.for("react.profiler"),M_=Symbol.for("react.provider"),D_=Symbol.for("react.context"),zv=Symbol.for("react.forward_ref"),Rp=Symbol.for("react.suspense"),Pp=Symbol.for("react.suspense_list"),Bv=Symbol.for("react.memo"),va=Symbol.for("react.lazy"),L_=Symbol.for("react.offscreen"),Ew=Symbol.iterator;function Ql(e){return e===null||typeof e!="object"?null:(e=Ew&&e[Ew]||e["@@iterator"],typeof e=="function"?e:null)}var gt=Object.assign,Sm;function dc(e){if(Sm===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Sm=t&&t[1]||""}return`
`+Sm+e}var Nm=!1;function Em(e,t){if(!e||Nm)return"";Nm=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=n.stack.split(`
`),o=s.length-1,l=a.length-1;1<=o&&0<=l&&s[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==a[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Nm=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?dc(e):""}function K2(e){switch(e.tag){case 5:return dc(e.type);case 16:return dc("Lazy");case 13:return dc("Suspense");case 19:return dc("SuspenseList");case 0:case 2:case 15:return e=Em(e.type,!1),e;case 11:return e=Em(e.type.render,!1),e;case 1:return e=Em(e.type,!0),e;default:return""}}function Tp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ro:return"Fragment";case ko:return"Portal";case kp:return"Profiler";case Uv:return"StrictMode";case Rp:return"Suspense";case Pp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case D_:return(e.displayName||"Context")+".Consumer";case M_:return(e._context.displayName||"Context")+".Provider";case zv:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Bv:return t=e.displayName||null,t!==null?t:Tp(e.type)||"Memo";case va:t=e._payload,e=e._init;try{return Tp(e(t))}catch{}}return null}function G2(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Tp(t);case 8:return t===Uv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Qa(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Q2(e){var t=$_(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ed(e){e._valueTracker||(e._valueTracker=Q2(e))}function F_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=$_(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function uf(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ap(e,t){var r=t.checked;return gt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Cw(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Qa(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function U_(e,t){t=t.checked,t!=null&&Fv(e,"checked",t,!1)}function Op(e,t){U_(e,t);var r=Qa(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ip(e,t.type,r):t.hasOwnProperty("defaultValue")&&Ip(e,t.type,Qa(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function kw(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Ip(e,t,r){(t!=="number"||uf(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var fc=Array.isArray;function Uo(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Qa(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Mp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(W(91));return gt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Rw(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(W(92));if(fc(r)){if(1<r.length)throw Error(W(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Qa(r)}}function z_(e,t){var r=Qa(t.value),n=Qa(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Pw(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function B_(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Dp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?B_(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var td,V_=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(td=td||document.createElement("div"),td.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=td.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function $c(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var wc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},J2=["Webkit","ms","Moz","O"];Object.keys(wc).forEach(function(e){J2.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),wc[t]=wc[e]})});function q_(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||wc.hasOwnProperty(e)&&wc[e]?(""+t).trim():t+"px"}function W_(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=q_(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Y2=gt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Lp(e,t){if(t){if(Y2[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(W(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(W(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(W(61))}if(t.style!=null&&typeof t.style!="object")throw Error(W(62))}}function $p(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fp=null;function Vv(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Up=null,zo=null,Bo=null;function Tw(e){if(e=_u(e)){if(typeof Up!="function")throw Error(W(280));var t=e.stateNode;t&&(t=ph(t),Up(e.stateNode,e.type,t))}}function H_(e){zo?Bo?Bo.push(e):Bo=[e]:zo=e}function K_(){if(zo){var e=zo,t=Bo;if(Bo=zo=null,Tw(e),t)for(e=0;e<t.length;e++)Tw(t[e])}}function G_(e,t){return e(t)}function Q_(){}var Cm=!1;function J_(e,t,r){if(Cm)return e(t,r);Cm=!0;try{return G_(e,t,r)}finally{Cm=!1,(zo!==null||Bo!==null)&&(Q_(),K_())}}function Fc(e,t){var r=e.stateNode;if(r===null)return null;var n=ph(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(W(231,t,typeof r));return r}var zp=!1;if(qs)try{var Jl={};Object.defineProperty(Jl,"passive",{get:function(){zp=!0}}),window.addEventListener("test",Jl,Jl),window.removeEventListener("test",Jl,Jl)}catch{zp=!1}function X2(e,t,r,n,s,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var bc=!1,df=null,ff=!1,Bp=null,Z2={onError:function(e){bc=!0,df=e}};function eA(e,t,r,n,s,a,o,l,c){bc=!1,df=null,X2.apply(Z2,arguments)}function tA(e,t,r,n,s,a,o,l,c){if(eA.apply(this,arguments),bc){if(bc){var u=df;bc=!1,df=null}else throw Error(W(198));ff||(ff=!0,Bp=u)}}function ro(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Y_(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Aw(e){if(ro(e)!==e)throw Error(W(188))}function rA(e){var t=e.alternate;if(!t){if(t=ro(e),t===null)throw Error(W(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return Aw(s),e;if(a===n)return Aw(s),t;a=a.sibling}throw Error(W(188))}if(r.return!==n.return)r=s,n=a;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=a;break}if(l===n){o=!0,n=s,r=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===r){o=!0,r=a,n=s;break}if(l===n){o=!0,n=a,r=s;break}l=l.sibling}if(!o)throw Error(W(189))}}if(r.alternate!==n)throw Error(W(190))}if(r.tag!==3)throw Error(W(188));return r.stateNode.current===r?e:t}function X_(e){return e=rA(e),e!==null?Z_(e):null}function Z_(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Z_(e);if(t!==null)return t;e=e.sibling}return null}var eS=Kr.unstable_scheduleCallback,Ow=Kr.unstable_cancelCallback,nA=Kr.unstable_shouldYield,sA=Kr.unstable_requestPaint,jt=Kr.unstable_now,aA=Kr.unstable_getCurrentPriorityLevel,qv=Kr.unstable_ImmediatePriority,tS=Kr.unstable_UserBlockingPriority,hf=Kr.unstable_NormalPriority,iA=Kr.unstable_LowPriority,rS=Kr.unstable_IdlePriority,dh=null,as=null;function oA(e){if(as&&typeof as.onCommitFiberRoot=="function")try{as.onCommitFiberRoot(dh,e,void 0,(e.current.flags&128)===128)}catch{}}var Pn=Math.clz32?Math.clz32:uA,lA=Math.log,cA=Math.LN2;function uA(e){return e>>>=0,e===0?32:31-(lA(e)/cA|0)|0}var rd=64,nd=4194304;function hc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function mf(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,a=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=hc(l):(a&=o,a!==0&&(n=hc(a)))}else o=r&~s,o!==0?n=hc(o):a!==0&&(n=hc(a));if(n===0)return 0;if(t!==0&&t!==n&&(t&s)===0&&(s=n&-n,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if((n&4)!==0&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Pn(t),s=1<<r,n|=e[r],t&=~s;return n}function dA(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fA(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Pn(a),l=1<<o,c=s[o];c===-1?((l&r)===0||(l&n)!==0)&&(s[o]=dA(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function Vp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function nS(){var e=rd;return rd<<=1,(rd&4194240)===0&&(rd=64),e}function km(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function bu(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Pn(t),e[t]=r}function hA(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Pn(r),a=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~a}}function Wv(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Pn(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Je=0;function sS(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var aS,Hv,iS,oS,lS,qp=!1,sd=[],Ma=null,Da=null,La=null,Uc=new Map,zc=new Map,wa=[],mA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Iw(e,t){switch(e){case"focusin":case"focusout":Ma=null;break;case"dragenter":case"dragleave":Da=null;break;case"mouseover":case"mouseout":La=null;break;case"pointerover":case"pointerout":Uc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zc.delete(t.pointerId)}}function Yl(e,t,r,n,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},t!==null&&(t=_u(t),t!==null&&Hv(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function pA(e,t,r,n,s){switch(t){case"focusin":return Ma=Yl(Ma,e,t,r,n,s),!0;case"dragenter":return Da=Yl(Da,e,t,r,n,s),!0;case"mouseover":return La=Yl(La,e,t,r,n,s),!0;case"pointerover":var a=s.pointerId;return Uc.set(a,Yl(Uc.get(a)||null,e,t,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,zc.set(a,Yl(zc.get(a)||null,e,t,r,n,s)),!0}return!1}function cS(e){var t=bi(e.target);if(t!==null){var r=ro(t);if(r!==null){if(t=r.tag,t===13){if(t=Y_(r),t!==null){e.blockedOn=t,lS(e.priority,function(){iS(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Fd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Wp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Fp=n,r.target.dispatchEvent(n),Fp=null}else return t=_u(r),t!==null&&Hv(t),e.blockedOn=r,!1;t.shift()}return!0}function Mw(e,t,r){Fd(e)&&r.delete(t)}function gA(){qp=!1,Ma!==null&&Fd(Ma)&&(Ma=null),Da!==null&&Fd(Da)&&(Da=null),La!==null&&Fd(La)&&(La=null),Uc.forEach(Mw),zc.forEach(Mw)}function Xl(e,t){e.blockedOn===t&&(e.blockedOn=null,qp||(qp=!0,Kr.unstable_scheduleCallback(Kr.unstable_NormalPriority,gA)))}function Bc(e){function t(s){return Xl(s,e)}if(0<sd.length){Xl(sd[0],e);for(var r=1;r<sd.length;r++){var n=sd[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Ma!==null&&Xl(Ma,e),Da!==null&&Xl(Da,e),La!==null&&Xl(La,e),Uc.forEach(t),zc.forEach(t),r=0;r<wa.length;r++)n=wa[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<wa.length&&(r=wa[0],r.blockedOn===null);)cS(r),r.blockedOn===null&&wa.shift()}var Vo=ra.ReactCurrentBatchConfig,pf=!0;function vA(e,t,r,n){var s=Je,a=Vo.transition;Vo.transition=null;try{Je=1,Kv(e,t,r,n)}finally{Je=s,Vo.transition=a}}function yA(e,t,r,n){var s=Je,a=Vo.transition;Vo.transition=null;try{Je=4,Kv(e,t,r,n)}finally{Je=s,Vo.transition=a}}function Kv(e,t,r,n){if(pf){var s=Wp(e,t,r,n);if(s===null)$m(e,t,n,gf,r),Iw(e,n);else if(pA(s,e,t,r,n))n.stopPropagation();else if(Iw(e,n),t&4&&-1<mA.indexOf(e)){for(;s!==null;){var a=_u(s);if(a!==null&&aS(a),a=Wp(e,t,r,n),a===null&&$m(e,t,n,gf,r),a===s)break;s=a}s!==null&&n.stopPropagation()}else $m(e,t,n,null,r)}}var gf=null;function Wp(e,t,r,n){if(gf=null,e=Vv(n),e=bi(e),e!==null)if(t=ro(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Y_(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return gf=e,null}function uS(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(aA()){case qv:return 1;case tS:return 4;case hf:case iA:return 16;case rS:return 536870912;default:return 16}default:return 16}}var Aa=null,Gv=null,Ud=null;function dS(){if(Ud)return Ud;var e,t=Gv,r=t.length,n,s="value"in Aa?Aa.value:Aa.textContent,a=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[a-n];n++);return Ud=s.slice(e,1<n?1-n:void 0)}function zd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ad(){return!0}function Dw(){return!1}function Jr(e){function t(r,n,s,a,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?ad:Dw,this.isPropagationStopped=Dw,this}return gt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ad)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ad)},persist:function(){},isPersistent:ad}),t}var Tl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qv=Jr(Tl),ju=gt({},Tl,{view:0,detail:0}),xA=Jr(ju),Rm,Pm,Zl,fh=gt({},ju,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jv,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zl&&(Zl&&e.type==="mousemove"?(Rm=e.screenX-Zl.screenX,Pm=e.screenY-Zl.screenY):Pm=Rm=0,Zl=e),Rm)},movementY:function(e){return"movementY"in e?e.movementY:Pm}}),Lw=Jr(fh),wA=gt({},fh,{dataTransfer:0}),bA=Jr(wA),jA=gt({},ju,{relatedTarget:0}),Tm=Jr(jA),_A=gt({},Tl,{animationName:0,elapsedTime:0,pseudoElement:0}),SA=Jr(_A),NA=gt({},Tl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),EA=Jr(NA),CA=gt({},Tl,{data:0}),$w=Jr(CA),kA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},RA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},PA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function TA(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=PA[e])?!!t[e]:!1}function Jv(){return TA}var AA=gt({},ju,{key:function(e){if(e.key){var t=kA[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=zd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?RA[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jv,charCode:function(e){return e.type==="keypress"?zd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?zd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),OA=Jr(AA),IA=gt({},fh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fw=Jr(IA),MA=gt({},ju,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jv}),DA=Jr(MA),LA=gt({},Tl,{propertyName:0,elapsedTime:0,pseudoElement:0}),$A=Jr(LA),FA=gt({},fh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),UA=Jr(FA),zA=[9,13,27,32],Yv=qs&&"CompositionEvent"in window,jc=null;qs&&"documentMode"in document&&(jc=document.documentMode);var BA=qs&&"TextEvent"in window&&!jc,fS=qs&&(!Yv||jc&&8<jc&&11>=jc),Uw=" ",zw=!1;function hS(e,t){switch(e){case"keyup":return zA.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mS(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Po=!1;function VA(e,t){switch(e){case"compositionend":return mS(t);case"keypress":return t.which!==32?null:(zw=!0,Uw);case"textInput":return e=t.data,e===Uw&&zw?null:e;default:return null}}function qA(e,t){if(Po)return e==="compositionend"||!Yv&&hS(e,t)?(e=dS(),Ud=Gv=Aa=null,Po=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return fS&&t.locale!=="ko"?null:t.data;default:return null}}var WA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!WA[e.type]:t==="textarea"}function pS(e,t,r,n){H_(n),t=vf(t,"onChange"),0<t.length&&(r=new Qv("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var _c=null,Vc=null;function HA(e){ES(e,0)}function hh(e){var t=Oo(e);if(F_(t))return e}function KA(e,t){if(e==="change")return t}var gS=!1;if(qs){var Am;if(qs){var Om="oninput"in document;if(!Om){var Vw=document.createElement("div");Vw.setAttribute("oninput","return;"),Om=typeof Vw.oninput=="function"}Am=Om}else Am=!1;gS=Am&&(!document.documentMode||9<document.documentMode)}function qw(){_c&&(_c.detachEvent("onpropertychange",vS),Vc=_c=null)}function vS(e){if(e.propertyName==="value"&&hh(Vc)){var t=[];pS(t,Vc,e,Vv(e)),J_(HA,t)}}function GA(e,t,r){e==="focusin"?(qw(),_c=t,Vc=r,_c.attachEvent("onpropertychange",vS)):e==="focusout"&&qw()}function QA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return hh(Vc)}function JA(e,t){if(e==="click")return hh(t)}function YA(e,t){if(e==="input"||e==="change")return hh(t)}function XA(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var On=typeof Object.is=="function"?Object.is:XA;function qc(e,t){if(On(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Cp.call(t,s)||!On(e[s],t[s]))return!1}return!0}function Ww(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Hw(e,t){var r=Ww(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ww(r)}}function yS(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?yS(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function xS(){for(var e=window,t=uf();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=uf(e.document)}return t}function Xv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ZA(e){var t=xS(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&yS(r.ownerDocument.documentElement,r)){if(n!==null&&Xv(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=n.end===void 0?a:Math.min(n.end,s),!e.extend&&a>n&&(s=n,n=a,a=s),s=Hw(r,a);var o=Hw(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var eO=qs&&"documentMode"in document&&11>=document.documentMode,To=null,Hp=null,Sc=null,Kp=!1;function Kw(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Kp||To==null||To!==uf(n)||(n=To,"selectionStart"in n&&Xv(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Sc&&qc(Sc,n)||(Sc=n,n=vf(Hp,"onSelect"),0<n.length&&(t=new Qv("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=To)))}function id(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ao={animationend:id("Animation","AnimationEnd"),animationiteration:id("Animation","AnimationIteration"),animationstart:id("Animation","AnimationStart"),transitionend:id("Transition","TransitionEnd")},Im={},wS={};qs&&(wS=document.createElement("div").style,"AnimationEvent"in window||(delete Ao.animationend.animation,delete Ao.animationiteration.animation,delete Ao.animationstart.animation),"TransitionEvent"in window||delete Ao.transitionend.transition);function mh(e){if(Im[e])return Im[e];if(!Ao[e])return e;var t=Ao[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in wS)return Im[e]=t[r];return e}var bS=mh("animationend"),jS=mh("animationiteration"),_S=mh("animationstart"),SS=mh("transitionend"),NS=new Map,Gw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function si(e,t){NS.set(e,t),to(t,[e])}for(var Mm=0;Mm<Gw.length;Mm++){var Dm=Gw[Mm],tO=Dm.toLowerCase(),rO=Dm[0].toUpperCase()+Dm.slice(1);si(tO,"on"+rO)}si(bS,"onAnimationEnd");si(jS,"onAnimationIteration");si(_S,"onAnimationStart");si("dblclick","onDoubleClick");si("focusin","onFocus");si("focusout","onBlur");si(SS,"onTransitionEnd");ul("onMouseEnter",["mouseout","mouseover"]);ul("onMouseLeave",["mouseout","mouseover"]);ul("onPointerEnter",["pointerout","pointerover"]);ul("onPointerLeave",["pointerout","pointerover"]);to("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));to("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));to("onBeforeInput",["compositionend","keypress","textInput","paste"]);to("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));to("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));to("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nO=new Set("cancel close invalid load scroll toggle".split(" ").concat(mc));function Qw(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,tA(n,t,void 0,e),e.currentTarget=null}function ES(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;Qw(s,l,u),a=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;Qw(s,l,u),a=c}}}if(ff)throw e=Bp,ff=!1,Bp=null,e}function it(e,t){var r=t[Xp];r===void 0&&(r=t[Xp]=new Set);var n=e+"__bubble";r.has(n)||(CS(t,e,2,!1),r.add(n))}function Lm(e,t,r){var n=0;t&&(n|=4),CS(r,e,n,t)}var od="_reactListening"+Math.random().toString(36).slice(2);function Wc(e){if(!e[od]){e[od]=!0,I_.forEach(function(r){r!=="selectionchange"&&(nO.has(r)||Lm(r,!1,e),Lm(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[od]||(t[od]=!0,Lm("selectionchange",!1,t))}}function CS(e,t,r,n){switch(uS(t)){case 1:var s=vA;break;case 4:s=yA;break;default:s=Kv}r=s.bind(null,t,r,e),s=void 0,!zp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function $m(e,t,r,n,s){var a=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=bi(l),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}l=l.parentNode}}n=n.return}J_(function(){var u=a,d=Vv(r),f=[];e:{var h=NS.get(e);if(h!==void 0){var p=Qv,b=e;switch(e){case"keypress":if(zd(r)===0)break e;case"keydown":case"keyup":p=OA;break;case"focusin":b="focus",p=Tm;break;case"focusout":b="blur",p=Tm;break;case"beforeblur":case"afterblur":p=Tm;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Lw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=bA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=DA;break;case bS:case jS:case _S:p=SA;break;case SS:p=$A;break;case"scroll":p=xA;break;case"wheel":p=UA;break;case"copy":case"cut":case"paste":p=EA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Fw}var g=(t&4)!==0,y=!g&&e==="scroll",x=g?h!==null?h+"Capture":null:h;g=[];for(var v=u,w;v!==null;){w=v;var j=w.stateNode;if(w.tag===5&&j!==null&&(w=j,x!==null&&(j=Fc(v,x),j!=null&&g.push(Hc(v,j,w)))),y)break;v=v.return}0<g.length&&(h=new p(h,b,null,r,d),f.push({event:h,listeners:g}))}}if((t&7)===0){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==Fp&&(b=r.relatedTarget||r.fromElement)&&(bi(b)||b[Ws]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(b=r.relatedTarget||r.toElement,p=u,b=b?bi(b):null,b!==null&&(y=ro(b),b!==y||b.tag!==5&&b.tag!==6)&&(b=null)):(p=null,b=u),p!==b)){if(g=Lw,j="onMouseLeave",x="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(g=Fw,j="onPointerLeave",x="onPointerEnter",v="pointer"),y=p==null?h:Oo(p),w=b==null?h:Oo(b),h=new g(j,v+"leave",p,r,d),h.target=y,h.relatedTarget=w,j=null,bi(d)===u&&(g=new g(x,v+"enter",b,r,d),g.target=w,g.relatedTarget=y,j=g),y=j,p&&b)t:{for(g=p,x=b,v=0,w=g;w;w=ho(w))v++;for(w=0,j=x;j;j=ho(j))w++;for(;0<v-w;)g=ho(g),v--;for(;0<w-v;)x=ho(x),w--;for(;v--;){if(g===x||x!==null&&g===x.alternate)break t;g=ho(g),x=ho(x)}g=null}else g=null;p!==null&&Jw(f,h,p,g,!1),b!==null&&y!==null&&Jw(f,y,b,g,!0)}}e:{if(h=u?Oo(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var _=KA;else if(Bw(h))if(gS)_=YA;else{_=QA;var S=GA}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=JA);if(_&&(_=_(e,u))){pS(f,_,r,d);break e}S&&S(e,h,u),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&Ip(h,"number",h.value)}switch(S=u?Oo(u):window,e){case"focusin":(Bw(S)||S.contentEditable==="true")&&(To=S,Hp=u,Sc=null);break;case"focusout":Sc=Hp=To=null;break;case"mousedown":Kp=!0;break;case"contextmenu":case"mouseup":case"dragend":Kp=!1,Kw(f,r,d);break;case"selectionchange":if(eO)break;case"keydown":case"keyup":Kw(f,r,d)}var N;if(Yv)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Po?hS(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(fS&&r.locale!=="ko"&&(Po||C!=="onCompositionStart"?C==="onCompositionEnd"&&Po&&(N=dS()):(Aa=d,Gv="value"in Aa?Aa.value:Aa.textContent,Po=!0)),S=vf(u,C),0<S.length&&(C=new $w(C,e,null,r,d),f.push({event:C,listeners:S}),N?C.data=N:(N=mS(r),N!==null&&(C.data=N)))),(N=BA?VA(e,r):qA(e,r))&&(u=vf(u,"onBeforeInput"),0<u.length&&(d=new $w("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=N))}ES(f,t)})}function Hc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function vf(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=Fc(e,r),a!=null&&n.unshift(Hc(e,a,s)),a=Fc(e,t),a!=null&&n.push(Hc(e,a,s))),e=e.return}return n}function ho(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Jw(e,t,r,n,s){for(var a=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=Fc(r,a),c!=null&&o.unshift(Hc(r,c,l))):s||(c=Fc(r,a),c!=null&&o.push(Hc(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var sO=/\r\n?/g,aO=/\u0000|\uFFFD/g;function Yw(e){return(typeof e=="string"?e:""+e).replace(sO,`
`).replace(aO,"")}function ld(e,t,r){if(t=Yw(t),Yw(e)!==t&&r)throw Error(W(425))}function yf(){}var Gp=null,Qp=null;function Jp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Yp=typeof setTimeout=="function"?setTimeout:void 0,iO=typeof clearTimeout=="function"?clearTimeout:void 0,Xw=typeof Promise=="function"?Promise:void 0,oO=typeof queueMicrotask=="function"?queueMicrotask:typeof Xw<"u"?function(e){return Xw.resolve(null).then(e).catch(lO)}:Yp;function lO(e){setTimeout(function(){throw e})}function Fm(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Bc(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Bc(t)}function $a(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Zw(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Al=Math.random().toString(36).slice(2),es="__reactFiber$"+Al,Kc="__reactProps$"+Al,Ws="__reactContainer$"+Al,Xp="__reactEvents$"+Al,cO="__reactListeners$"+Al,uO="__reactHandles$"+Al;function bi(e){var t=e[es];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ws]||r[es]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Zw(e);e!==null;){if(r=e[es])return r;e=Zw(e)}return t}e=r,r=e.parentNode}return null}function _u(e){return e=e[es]||e[Ws],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Oo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(W(33))}function ph(e){return e[Kc]||null}var Zp=[],Io=-1;function ai(e){return{current:e}}function ot(e){0>Io||(e.current=Zp[Io],Zp[Io]=null,Io--)}function st(e,t){Io++,Zp[Io]=e.current,e.current=t}var Ja={},sr=ai(Ja),kr=ai(!1),Ui=Ja;function dl(e,t){var r=e.type.contextTypes;if(!r)return Ja;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Rr(e){return e=e.childContextTypes,e!=null}function xf(){ot(kr),ot(sr)}function e0(e,t,r){if(sr.current!==Ja)throw Error(W(168));st(sr,t),st(kr,r)}function kS(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(W(108,G2(e)||"Unknown",s));return gt({},r,n)}function wf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ja,Ui=sr.current,st(sr,e),st(kr,kr.current),!0}function t0(e,t,r){var n=e.stateNode;if(!n)throw Error(W(169));r?(e=kS(e,t,Ui),n.__reactInternalMemoizedMergedChildContext=e,ot(kr),ot(sr),st(sr,e)):ot(kr),st(kr,r)}var Os=null,gh=!1,Um=!1;function RS(e){Os===null?Os=[e]:Os.push(e)}function dO(e){gh=!0,RS(e)}function ii(){if(!Um&&Os!==null){Um=!0;var e=0,t=Je;try{var r=Os;for(Je=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Os=null,gh=!1}catch(s){throw Os!==null&&(Os=Os.slice(e+1)),eS(qv,ii),s}finally{Je=t,Um=!1}}return null}var Mo=[],Do=0,bf=null,jf=0,Zr=[],en=0,zi=null,Fs=1,Us="";function gi(e,t){Mo[Do++]=jf,Mo[Do++]=bf,bf=e,jf=t}function PS(e,t,r){Zr[en++]=Fs,Zr[en++]=Us,Zr[en++]=zi,zi=e;var n=Fs;e=Us;var s=32-Pn(n)-1;n&=~(1<<s),r+=1;var a=32-Pn(t)+s;if(30<a){var o=s-s%5;a=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Fs=1<<32-Pn(t)+s|r<<s|n,Us=a+e}else Fs=1<<a|r<<s|n,Us=e}function Zv(e){e.return!==null&&(gi(e,1),PS(e,1,0))}function ey(e){for(;e===bf;)bf=Mo[--Do],Mo[Do]=null,jf=Mo[--Do],Mo[Do]=null;for(;e===zi;)zi=Zr[--en],Zr[en]=null,Us=Zr[--en],Zr[en]=null,Fs=Zr[--en],Zr[en]=null}var Vr=null,Br=null,ut=!1,Cn=null;function TS(e,t){var r=rn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function r0(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Vr=e,Br=$a(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Vr=e,Br=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=zi!==null?{id:Fs,overflow:Us}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=rn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Vr=e,Br=null,!0):!1;default:return!1}}function eg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function tg(e){if(ut){var t=Br;if(t){var r=t;if(!r0(e,t)){if(eg(e))throw Error(W(418));t=$a(r.nextSibling);var n=Vr;t&&r0(e,t)?TS(n,r):(e.flags=e.flags&-4097|2,ut=!1,Vr=e)}}else{if(eg(e))throw Error(W(418));e.flags=e.flags&-4097|2,ut=!1,Vr=e}}}function n0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Vr=e}function cd(e){if(e!==Vr)return!1;if(!ut)return n0(e),ut=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Jp(e.type,e.memoizedProps)),t&&(t=Br)){if(eg(e))throw AS(),Error(W(418));for(;t;)TS(e,t),t=$a(t.nextSibling)}if(n0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(W(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Br=$a(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Br=null}}else Br=Vr?$a(e.stateNode.nextSibling):null;return!0}function AS(){for(var e=Br;e;)e=$a(e.nextSibling)}function fl(){Br=Vr=null,ut=!1}function ty(e){Cn===null?Cn=[e]:Cn.push(e)}var fO=ra.ReactCurrentBatchConfig;function ec(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(W(309));var n=r.stateNode}if(!n)throw Error(W(147,e));var s=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=s.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(W(284));if(!r._owner)throw Error(W(290,e))}return e}function ud(e,t){throw e=Object.prototype.toString.call(t),Error(W(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function s0(e){var t=e._init;return t(e._payload)}function OS(e){function t(x,v){if(e){var w=x.deletions;w===null?(x.deletions=[v],x.flags|=16):w.push(v)}}function r(x,v){if(!e)return null;for(;v!==null;)t(x,v),v=v.sibling;return null}function n(x,v){for(x=new Map;v!==null;)v.key!==null?x.set(v.key,v):x.set(v.index,v),v=v.sibling;return x}function s(x,v){return x=Ba(x,v),x.index=0,x.sibling=null,x}function a(x,v,w){return x.index=w,e?(w=x.alternate,w!==null?(w=w.index,w<v?(x.flags|=2,v):w):(x.flags|=2,v)):(x.flags|=1048576,v)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,v,w,j){return v===null||v.tag!==6?(v=Km(w,x.mode,j),v.return=x,v):(v=s(v,w),v.return=x,v)}function c(x,v,w,j){var _=w.type;return _===Ro?d(x,v,w.props.children,j,w.key):v!==null&&(v.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===va&&s0(_)===v.type)?(j=s(v,w.props),j.ref=ec(x,v,w),j.return=x,j):(j=Gd(w.type,w.key,w.props,null,x.mode,j),j.ref=ec(x,v,w),j.return=x,j)}function u(x,v,w,j){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=Gm(w,x.mode,j),v.return=x,v):(v=s(v,w.children||[]),v.return=x,v)}function d(x,v,w,j,_){return v===null||v.tag!==7?(v=$i(w,x.mode,j,_),v.return=x,v):(v=s(v,w),v.return=x,v)}function f(x,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Km(""+v,x.mode,w),v.return=x,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Zu:return w=Gd(v.type,v.key,v.props,null,x.mode,w),w.ref=ec(x,null,v),w.return=x,w;case ko:return v=Gm(v,x.mode,w),v.return=x,v;case va:var j=v._init;return f(x,j(v._payload),w)}if(fc(v)||Ql(v))return v=$i(v,x.mode,w,null),v.return=x,v;ud(x,v)}return null}function h(x,v,w,j){var _=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return _!==null?null:l(x,v,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Zu:return w.key===_?c(x,v,w,j):null;case ko:return w.key===_?u(x,v,w,j):null;case va:return _=w._init,h(x,v,_(w._payload),j)}if(fc(w)||Ql(w))return _!==null?null:d(x,v,w,j,null);ud(x,w)}return null}function p(x,v,w,j,_){if(typeof j=="string"&&j!==""||typeof j=="number")return x=x.get(w)||null,l(v,x,""+j,_);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Zu:return x=x.get(j.key===null?w:j.key)||null,c(v,x,j,_);case ko:return x=x.get(j.key===null?w:j.key)||null,u(v,x,j,_);case va:var S=j._init;return p(x,v,w,S(j._payload),_)}if(fc(j)||Ql(j))return x=x.get(w)||null,d(v,x,j,_,null);ud(v,j)}return null}function b(x,v,w,j){for(var _=null,S=null,N=v,C=v=0,R=null;N!==null&&C<w.length;C++){N.index>C?(R=N,N=null):R=N.sibling;var T=h(x,N,w[C],j);if(T===null){N===null&&(N=R);break}e&&N&&T.alternate===null&&t(x,N),v=a(T,v,C),S===null?_=T:S.sibling=T,S=T,N=R}if(C===w.length)return r(x,N),ut&&gi(x,C),_;if(N===null){for(;C<w.length;C++)N=f(x,w[C],j),N!==null&&(v=a(N,v,C),S===null?_=N:S.sibling=N,S=N);return ut&&gi(x,C),_}for(N=n(x,N);C<w.length;C++)R=p(N,x,C,w[C],j),R!==null&&(e&&R.alternate!==null&&N.delete(R.key===null?C:R.key),v=a(R,v,C),S===null?_=R:S.sibling=R,S=R);return e&&N.forEach(function(z){return t(x,z)}),ut&&gi(x,C),_}function g(x,v,w,j){var _=Ql(w);if(typeof _!="function")throw Error(W(150));if(w=_.call(w),w==null)throw Error(W(151));for(var S=_=null,N=v,C=v=0,R=null,T=w.next();N!==null&&!T.done;C++,T=w.next()){N.index>C?(R=N,N=null):R=N.sibling;var z=h(x,N,T.value,j);if(z===null){N===null&&(N=R);break}e&&N&&z.alternate===null&&t(x,N),v=a(z,v,C),S===null?_=z:S.sibling=z,S=z,N=R}if(T.done)return r(x,N),ut&&gi(x,C),_;if(N===null){for(;!T.done;C++,T=w.next())T=f(x,T.value,j),T!==null&&(v=a(T,v,C),S===null?_=T:S.sibling=T,S=T);return ut&&gi(x,C),_}for(N=n(x,N);!T.done;C++,T=w.next())T=p(N,x,C,T.value,j),T!==null&&(e&&T.alternate!==null&&N.delete(T.key===null?C:T.key),v=a(T,v,C),S===null?_=T:S.sibling=T,S=T);return e&&N.forEach(function(D){return t(x,D)}),ut&&gi(x,C),_}function y(x,v,w,j){if(typeof w=="object"&&w!==null&&w.type===Ro&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Zu:e:{for(var _=w.key,S=v;S!==null;){if(S.key===_){if(_=w.type,_===Ro){if(S.tag===7){r(x,S.sibling),v=s(S,w.props.children),v.return=x,x=v;break e}}else if(S.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===va&&s0(_)===S.type){r(x,S.sibling),v=s(S,w.props),v.ref=ec(x,S,w),v.return=x,x=v;break e}r(x,S);break}else t(x,S);S=S.sibling}w.type===Ro?(v=$i(w.props.children,x.mode,j,w.key),v.return=x,x=v):(j=Gd(w.type,w.key,w.props,null,x.mode,j),j.ref=ec(x,v,w),j.return=x,x=j)}return o(x);case ko:e:{for(S=w.key;v!==null;){if(v.key===S)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){r(x,v.sibling),v=s(v,w.children||[]),v.return=x,x=v;break e}else{r(x,v);break}else t(x,v);v=v.sibling}v=Gm(w,x.mode,j),v.return=x,x=v}return o(x);case va:return S=w._init,y(x,v,S(w._payload),j)}if(fc(w))return b(x,v,w,j);if(Ql(w))return g(x,v,w,j);ud(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(r(x,v.sibling),v=s(v,w),v.return=x,x=v):(r(x,v),v=Km(w,x.mode,j),v.return=x,x=v),o(x)):r(x,v)}return y}var hl=OS(!0),IS=OS(!1),_f=ai(null),Sf=null,Lo=null,ry=null;function ny(){ry=Lo=Sf=null}function sy(e){var t=_f.current;ot(_f),e._currentValue=t}function rg(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function qo(e,t){Sf=e,ry=Lo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Cr=!0),e.firstContext=null)}function an(e){var t=e._currentValue;if(ry!==e)if(e={context:e,memoizedValue:t,next:null},Lo===null){if(Sf===null)throw Error(W(308));Lo=e,Sf.dependencies={lanes:0,firstContext:e}}else Lo=Lo.next=e;return t}var ji=null;function ay(e){ji===null?ji=[e]:ji.push(e)}function MS(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,ay(t)):(r.next=s.next,s.next=r),t.interleaved=r,Hs(e,n)}function Hs(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var ya=!1;function iy(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function DS(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Bs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fa(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,(qe&2)!==0){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Hs(e,r)}return s=n.interleaved,s===null?(t.next=t,ay(n)):(t.next=s.next,s.next=t),n.interleaved=t,Hs(e,r)}function Bd(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Wv(e,r)}}function a0(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?s=a=t:a=a.next=t}else s=a=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Nf(e,t,r,n){var s=e.updateQueue;ya=!1;var a=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var f=s.baseState;o=0,d=u=c=null,l=a;do{var h=l.lane,p=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=e,g=l;switch(h=t,p=r,g.tag){case 1:if(b=g.payload,typeof b=="function"){f=b.call(p,f,h);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=g.payload,h=typeof b=="function"?b.call(p,f,h):b,h==null)break e;f=gt({},f,h);break e;case 2:ya=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);Vi|=o,e.lanes=o,e.memoizedState=f}}function i0(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(W(191,s));s.call(n)}}}var Su={},is=ai(Su),Gc=ai(Su),Qc=ai(Su);function _i(e){if(e===Su)throw Error(W(174));return e}function oy(e,t){switch(st(Qc,t),st(Gc,e),st(is,Su),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Dp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Dp(t,e)}ot(is),st(is,t)}function ml(){ot(is),ot(Gc),ot(Qc)}function LS(e){_i(Qc.current);var t=_i(is.current),r=Dp(t,e.type);t!==r&&(st(Gc,e),st(is,r))}function ly(e){Gc.current===e&&(ot(is),ot(Gc))}var ft=ai(0);function Ef(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var zm=[];function cy(){for(var e=0;e<zm.length;e++)zm[e]._workInProgressVersionPrimary=null;zm.length=0}var Vd=ra.ReactCurrentDispatcher,Bm=ra.ReactCurrentBatchConfig,Bi=0,pt=null,Dt=null,qt=null,Cf=!1,Nc=!1,Jc=0,hO=0;function Xt(){throw Error(W(321))}function uy(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!On(e[r],t[r]))return!1;return!0}function dy(e,t,r,n,s,a){if(Bi=a,pt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Vd.current=e===null||e.memoizedState===null?vO:yO,e=r(n,s),Nc){a=0;do{if(Nc=!1,Jc=0,25<=a)throw Error(W(301));a+=1,qt=Dt=null,t.updateQueue=null,Vd.current=xO,e=r(n,s)}while(Nc)}if(Vd.current=kf,t=Dt!==null&&Dt.next!==null,Bi=0,qt=Dt=pt=null,Cf=!1,t)throw Error(W(300));return e}function fy(){var e=Jc!==0;return Jc=0,e}function Qn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?pt.memoizedState=qt=e:qt=qt.next=e,qt}function on(){if(Dt===null){var e=pt.alternate;e=e!==null?e.memoizedState:null}else e=Dt.next;var t=qt===null?pt.memoizedState:qt.next;if(t!==null)qt=t,Dt=e;else{if(e===null)throw Error(W(310));Dt=e,e={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},qt===null?pt.memoizedState=qt=e:qt=qt.next=e}return qt}function Yc(e,t){return typeof t=="function"?t(e):t}function Vm(e){var t=on(),r=t.queue;if(r===null)throw Error(W(311));r.lastRenderedReducer=e;var n=Dt,s=n.baseQueue,a=r.pending;if(a!==null){if(s!==null){var o=s.next;s.next=a.next,a.next=o}n.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,n=n.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((Bi&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,pt.lanes|=d,Vi|=d}u=u.next}while(u!==null&&u!==a);c===null?o=n:c.next=l,On(n,t.memoizedState)||(Cr=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do a=s.lane,pt.lanes|=a,Vi|=a,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function qm(e){var t=on(),r=t.queue;if(r===null)throw Error(W(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,a=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do a=e(a,o.action),o=o.next;while(o!==s);On(a,t.memoizedState)||(Cr=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function $S(){}function FS(e,t){var r=pt,n=on(),s=t(),a=!On(n.memoizedState,s);if(a&&(n.memoizedState=s,Cr=!0),n=n.queue,hy(BS.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||qt!==null&&qt.memoizedState.tag&1){if(r.flags|=2048,Xc(9,zS.bind(null,r,n,s,t),void 0,null),Wt===null)throw Error(W(349));(Bi&30)!==0||US(r,t,s)}return s}function US(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=pt.updateQueue,t===null?(t={lastEffect:null,stores:null},pt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function zS(e,t,r,n){t.value=r,t.getSnapshot=n,VS(t)&&qS(e)}function BS(e,t,r){return r(function(){VS(t)&&qS(e)})}function VS(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!On(e,r)}catch{return!0}}function qS(e){var t=Hs(e,1);t!==null&&Tn(t,e,1,-1)}function o0(e){var t=Qn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yc,lastRenderedState:e},t.queue=e,e=e.dispatch=gO.bind(null,pt,e),[t.memoizedState,e]}function Xc(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=pt.updateQueue,t===null?(t={lastEffect:null,stores:null},pt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function WS(){return on().memoizedState}function qd(e,t,r,n){var s=Qn();pt.flags|=e,s.memoizedState=Xc(1|t,r,void 0,n===void 0?null:n)}function vh(e,t,r,n){var s=on();n=n===void 0?null:n;var a=void 0;if(Dt!==null){var o=Dt.memoizedState;if(a=o.destroy,n!==null&&uy(n,o.deps)){s.memoizedState=Xc(t,r,a,n);return}}pt.flags|=e,s.memoizedState=Xc(1|t,r,a,n)}function l0(e,t){return qd(8390656,8,e,t)}function hy(e,t){return vh(2048,8,e,t)}function HS(e,t){return vh(4,2,e,t)}function KS(e,t){return vh(4,4,e,t)}function GS(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function QS(e,t,r){return r=r!=null?r.concat([e]):null,vh(4,4,GS.bind(null,t,e),r)}function my(){}function JS(e,t){var r=on();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&uy(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function YS(e,t){var r=on();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&uy(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function XS(e,t,r){return(Bi&21)===0?(e.baseState&&(e.baseState=!1,Cr=!0),e.memoizedState=r):(On(r,t)||(r=nS(),pt.lanes|=r,Vi|=r,e.baseState=!0),t)}function mO(e,t){var r=Je;Je=r!==0&&4>r?r:4,e(!0);var n=Bm.transition;Bm.transition={};try{e(!1),t()}finally{Je=r,Bm.transition=n}}function ZS(){return on().memoizedState}function pO(e,t,r){var n=za(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},eN(e))tN(t,r);else if(r=MS(e,t,r,n),r!==null){var s=fr();Tn(r,e,n,s),rN(r,t,n)}}function gO(e,t,r){var n=za(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(eN(e))tN(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,r);if(s.hasEagerState=!0,s.eagerState=l,On(l,o)){var c=t.interleaved;c===null?(s.next=s,ay(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=MS(e,t,s,n),r!==null&&(s=fr(),Tn(r,e,n,s),rN(r,t,n))}}function eN(e){var t=e.alternate;return e===pt||t!==null&&t===pt}function tN(e,t){Nc=Cf=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function rN(e,t,r){if((r&4194240)!==0){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Wv(e,r)}}var kf={readContext:an,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useInsertionEffect:Xt,useLayoutEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useMutableSource:Xt,useSyncExternalStore:Xt,useId:Xt,unstable_isNewReconciler:!1},vO={readContext:an,useCallback:function(e,t){return Qn().memoizedState=[e,t===void 0?null:t],e},useContext:an,useEffect:l0,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,qd(4194308,4,GS.bind(null,t,e),r)},useLayoutEffect:function(e,t){return qd(4194308,4,e,t)},useInsertionEffect:function(e,t){return qd(4,2,e,t)},useMemo:function(e,t){var r=Qn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Qn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=pO.bind(null,pt,e),[n.memoizedState,e]},useRef:function(e){var t=Qn();return e={current:e},t.memoizedState=e},useState:o0,useDebugValue:my,useDeferredValue:function(e){return Qn().memoizedState=e},useTransition:function(){var e=o0(!1),t=e[0];return e=mO.bind(null,e[1]),Qn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=pt,s=Qn();if(ut){if(r===void 0)throw Error(W(407));r=r()}else{if(r=t(),Wt===null)throw Error(W(349));(Bi&30)!==0||US(n,t,r)}s.memoizedState=r;var a={value:r,getSnapshot:t};return s.queue=a,l0(BS.bind(null,n,a,e),[e]),n.flags|=2048,Xc(9,zS.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=Qn(),t=Wt.identifierPrefix;if(ut){var r=Us,n=Fs;r=(n&~(1<<32-Pn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Jc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=hO++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},yO={readContext:an,useCallback:JS,useContext:an,useEffect:hy,useImperativeHandle:QS,useInsertionEffect:HS,useLayoutEffect:KS,useMemo:YS,useReducer:Vm,useRef:WS,useState:function(){return Vm(Yc)},useDebugValue:my,useDeferredValue:function(e){var t=on();return XS(t,Dt.memoizedState,e)},useTransition:function(){var e=Vm(Yc)[0],t=on().memoizedState;return[e,t]},useMutableSource:$S,useSyncExternalStore:FS,useId:ZS,unstable_isNewReconciler:!1},xO={readContext:an,useCallback:JS,useContext:an,useEffect:hy,useImperativeHandle:QS,useInsertionEffect:HS,useLayoutEffect:KS,useMemo:YS,useReducer:qm,useRef:WS,useState:function(){return qm(Yc)},useDebugValue:my,useDeferredValue:function(e){var t=on();return Dt===null?t.memoizedState=e:XS(t,Dt.memoizedState,e)},useTransition:function(){var e=qm(Yc)[0],t=on().memoizedState;return[e,t]},useMutableSource:$S,useSyncExternalStore:FS,useId:ZS,unstable_isNewReconciler:!1};function bn(e,t){if(e&&e.defaultProps){t=gt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ng(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:gt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var yh={isMounted:function(e){return(e=e._reactInternals)?ro(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=fr(),s=za(e),a=Bs(n,s);a.payload=t,r!=null&&(a.callback=r),t=Fa(e,a,s),t!==null&&(Tn(t,e,s,n),Bd(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=fr(),s=za(e),a=Bs(n,s);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Fa(e,a,s),t!==null&&(Tn(t,e,s,n),Bd(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=fr(),n=za(e),s=Bs(r,n);s.tag=2,t!=null&&(s.callback=t),t=Fa(e,s,n),t!==null&&(Tn(t,e,n,r),Bd(t,e,n))}};function c0(e,t,r,n,s,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,o):t.prototype&&t.prototype.isPureReactComponent?!qc(r,n)||!qc(s,a):!0}function nN(e,t,r){var n=!1,s=Ja,a=t.contextType;return typeof a=="object"&&a!==null?a=an(a):(s=Rr(t)?Ui:sr.current,n=t.contextTypes,a=(n=n!=null)?dl(e,s):Ja),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=yh,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function u0(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&yh.enqueueReplaceState(t,t.state,null)}function sg(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},iy(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=an(a):(a=Rr(t)?Ui:sr.current,s.context=dl(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(ng(e,t,a,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&yh.enqueueReplaceState(s,s.state,null),Nf(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function pl(e,t){try{var r="",n=t;do r+=K2(n),n=n.return;while(n);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function Wm(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function ag(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var wO=typeof WeakMap=="function"?WeakMap:Map;function sN(e,t,r){r=Bs(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Pf||(Pf=!0,pg=n),ag(e,t)},r}function aN(e,t,r){r=Bs(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){ag(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){ag(e,t),typeof n!="function"&&(Ua===null?Ua=new Set([this]):Ua.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function d0(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new wO;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=IO.bind(null,e,t,r),t.then(e,e))}function f0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function h0(e,t,r,n,s){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Bs(-1,1),t.tag=2,Fa(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=s,e)}var bO=ra.ReactCurrentOwner,Cr=!1;function lr(e,t,r,n){t.child=e===null?IS(t,null,r,n):hl(t,e.child,r,n)}function m0(e,t,r,n,s){r=r.render;var a=t.ref;return qo(t,s),n=dy(e,t,r,n,a,s),r=fy(),e!==null&&!Cr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ks(e,t,s)):(ut&&r&&Zv(t),t.flags|=1,lr(e,t,n,s),t.child)}function p0(e,t,r,n,s){if(e===null){var a=r.type;return typeof a=="function"&&!jy(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,iN(e,t,a,n,s)):(e=Gd(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,(e.lanes&s)===0){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:qc,r(o,n)&&e.ref===t.ref)return Ks(e,t,s)}return t.flags|=1,e=Ba(a,n),e.ref=t.ref,e.return=t,t.child=e}function iN(e,t,r,n,s){if(e!==null){var a=e.memoizedProps;if(qc(a,n)&&e.ref===t.ref)if(Cr=!1,t.pendingProps=n=a,(e.lanes&s)!==0)(e.flags&131072)!==0&&(Cr=!0);else return t.lanes=e.lanes,Ks(e,t,s)}return ig(e,t,r,n,s)}function oN(e,t,r){var n=t.pendingProps,s=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},st(Fo,Dr),Dr|=r;else{if((r&1073741824)===0)return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,st(Fo,Dr),Dr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,st(Fo,Dr),Dr|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,st(Fo,Dr),Dr|=n;return lr(e,t,s,r),t.child}function lN(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ig(e,t,r,n,s){var a=Rr(r)?Ui:sr.current;return a=dl(t,a),qo(t,s),r=dy(e,t,r,n,a,s),n=fy(),e!==null&&!Cr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ks(e,t,s)):(ut&&n&&Zv(t),t.flags|=1,lr(e,t,r,s),t.child)}function g0(e,t,r,n,s){if(Rr(r)){var a=!0;wf(t)}else a=!1;if(qo(t,s),t.stateNode===null)Wd(e,t),nN(t,r,n),sg(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=an(u):(u=Rr(r)?Ui:sr.current,u=dl(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&u0(t,o,n,u),ya=!1;var h=t.memoizedState;o.state=h,Nf(t,n,o,s),c=t.memoizedState,l!==n||h!==c||kr.current||ya?(typeof d=="function"&&(ng(t,r,d,n),c=t.memoizedState),(l=ya||c0(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,DS(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:bn(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=an(c):(c=Rr(r)?Ui:sr.current,c=dl(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&u0(t,o,n,c),ya=!1,h=t.memoizedState,o.state=h,Nf(t,n,o,s);var b=t.memoizedState;l!==f||h!==b||kr.current||ya?(typeof p=="function"&&(ng(t,r,p,n),b=t.memoizedState),(u=ya||c0(t,r,u,n,h,b,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,b,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,b,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=b),o.props=n,o.state=b,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return og(e,t,r,n,a,s)}function og(e,t,r,n,s,a){lN(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&t0(t,r,!1),Ks(e,t,a);n=t.stateNode,bO.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=hl(t,e.child,null,a),t.child=hl(t,null,l,a)):lr(e,t,l,a),t.memoizedState=n.state,s&&t0(t,r,!0),t.child}function cN(e){var t=e.stateNode;t.pendingContext?e0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&e0(e,t.context,!1),oy(e,t.containerInfo)}function v0(e,t,r,n,s){return fl(),ty(s),t.flags|=256,lr(e,t,r,n),t.child}var lg={dehydrated:null,treeContext:null,retryLane:0};function cg(e){return{baseLanes:e,cachePool:null,transitions:null}}function uN(e,t,r){var n=t.pendingProps,s=ft.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),st(ft,s&1),e===null)return tg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(o=n.children,e=n.fallback,a?(n=t.mode,a=t.child,o={mode:"hidden",children:o},(n&1)===0&&a!==null?(a.childLanes=0,a.pendingProps=o):a=bh(o,n,0,null),e=$i(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=cg(r),t.memoizedState=lg,e):py(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return jO(e,t,o,n,l,s,r);if(a){a=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return(o&1)===0&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Ba(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=Ba(l,a):(a=$i(a,o,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,o=e.child.memoizedState,o=o===null?cg(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~r,t.memoizedState=lg,n}return a=e.child,e=a.sibling,n=Ba(a,{mode:"visible",children:n.children}),(t.mode&1)===0&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function py(e,t){return t=bh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function dd(e,t,r,n){return n!==null&&ty(n),hl(t,e.child,null,r),e=py(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function jO(e,t,r,n,s,a,o){if(r)return t.flags&256?(t.flags&=-257,n=Wm(Error(W(422))),dd(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,s=t.mode,n=bh({mode:"visible",children:n.children},s,0,null),a=$i(a,s,o,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,(t.mode&1)!==0&&hl(t,e.child,null,o),t.child.memoizedState=cg(o),t.memoizedState=lg,a);if((t.mode&1)===0)return dd(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(W(419)),n=Wm(a,n,void 0),dd(e,t,o,n)}if(l=(o&e.childLanes)!==0,Cr||l){if(n=Wt,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=(s&(n.suspendedLanes|o))!==0?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Hs(e,s),Tn(n,e,s,-1))}return by(),n=Wm(Error(W(421))),dd(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=MO.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,Br=$a(s.nextSibling),Vr=t,ut=!0,Cn=null,e!==null&&(Zr[en++]=Fs,Zr[en++]=Us,Zr[en++]=zi,Fs=e.id,Us=e.overflow,zi=t),t=py(t,n.children),t.flags|=4096,t)}function y0(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),rg(e.return,t,r)}function Hm(e,t,r,n,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function dN(e,t,r){var n=t.pendingProps,s=n.revealOrder,a=n.tail;if(lr(e,t,n.children,r),n=ft.current,(n&2)!==0)n=n&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&y0(e,r,t);else if(e.tag===19)y0(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(st(ft,n),(t.mode&1)===0)t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Ef(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Hm(t,!1,s,r,a);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ef(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Hm(t,!0,r,null,a);break;case"together":Hm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wd(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ks(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Vi|=t.lanes,(r&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(W(153));if(t.child!==null){for(e=t.child,r=Ba(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ba(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function _O(e,t,r){switch(t.tag){case 3:cN(t),fl();break;case 5:LS(t);break;case 1:Rr(t.type)&&wf(t);break;case 4:oy(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;st(_f,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(st(ft,ft.current&1),t.flags|=128,null):(r&t.child.childLanes)!==0?uN(e,t,r):(st(ft,ft.current&1),e=Ks(e,t,r),e!==null?e.sibling:null);st(ft,ft.current&1);break;case 19:if(n=(r&t.childLanes)!==0,(e.flags&128)!==0){if(n)return dN(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),st(ft,ft.current),n)break;return null;case 22:case 23:return t.lanes=0,oN(e,t,r)}return Ks(e,t,r)}var fN,ug,hN,mN;fN=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ug=function(){};hN=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,_i(is.current);var a=null;switch(r){case"input":s=Ap(e,s),n=Ap(e,n),a=[];break;case"select":s=gt({},s,{value:void 0}),n=gt({},n,{value:void 0}),a=[];break;case"textarea":s=Mp(e,s),n=Mp(e,n),a=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=yf)}Lp(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Lc.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Lc.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&it("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};mN=function(e,t,r,n){r!==n&&(t.flags|=4)};function tc(e,t){if(!ut)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Zt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function SO(e,t,r){var n=t.pendingProps;switch(ey(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(t),null;case 1:return Rr(t.type)&&xf(),Zt(t),null;case 3:return n=t.stateNode,ml(),ot(kr),ot(sr),cy(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(cd(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Cn!==null&&(yg(Cn),Cn=null))),ug(e,t),Zt(t),null;case 5:ly(t);var s=_i(Qc.current);if(r=t.type,e!==null&&t.stateNode!=null)hN(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(W(166));return Zt(t),null}if(e=_i(is.current),cd(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[es]=t,n[Kc]=a,e=(t.mode&1)!==0,r){case"dialog":it("cancel",n),it("close",n);break;case"iframe":case"object":case"embed":it("load",n);break;case"video":case"audio":for(s=0;s<mc.length;s++)it(mc[s],n);break;case"source":it("error",n);break;case"img":case"image":case"link":it("error",n),it("load",n);break;case"details":it("toggle",n);break;case"input":Cw(n,a),it("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},it("invalid",n);break;case"textarea":Rw(n,a),it("invalid",n)}Lp(r,a),s=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&ld(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&ld(n.textContent,l,e),s=["children",""+l]):Lc.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&it("scroll",n)}switch(r){case"input":ed(n),kw(n,a,!0);break;case"textarea":ed(n),Pw(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=yf)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=B_(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[es]=t,e[Kc]=n,fN(e,t,!1,!1),t.stateNode=e;e:{switch(o=$p(r,n),r){case"dialog":it("cancel",e),it("close",e),s=n;break;case"iframe":case"object":case"embed":it("load",e),s=n;break;case"video":case"audio":for(s=0;s<mc.length;s++)it(mc[s],e);s=n;break;case"source":it("error",e),s=n;break;case"img":case"image":case"link":it("error",e),it("load",e),s=n;break;case"details":it("toggle",e),s=n;break;case"input":Cw(e,n),s=Ap(e,n),it("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=gt({},n,{value:void 0}),it("invalid",e);break;case"textarea":Rw(e,n),s=Mp(e,n),it("invalid",e);break;default:s=n}Lp(r,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?W_(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&V_(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&$c(e,c):typeof c=="number"&&$c(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Lc.hasOwnProperty(a)?c!=null&&a==="onScroll"&&it("scroll",e):c!=null&&Fv(e,a,c,o))}switch(r){case"input":ed(e),kw(e,n,!1);break;case"textarea":ed(e),Pw(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Qa(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Uo(e,!!n.multiple,a,!1):n.defaultValue!=null&&Uo(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=yf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Zt(t),null;case 6:if(e&&t.stateNode!=null)mN(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(W(166));if(r=_i(Qc.current),_i(is.current),cd(t)){if(n=t.stateNode,r=t.memoizedProps,n[es]=t,(a=n.nodeValue!==r)&&(e=Vr,e!==null))switch(e.tag){case 3:ld(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ld(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[es]=t,t.stateNode=n}return Zt(t),null;case 13:if(ot(ft),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ut&&Br!==null&&(t.mode&1)!==0&&(t.flags&128)===0)AS(),fl(),t.flags|=98560,a=!1;else if(a=cd(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(W(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(W(317));a[es]=t}else fl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Zt(t),a=!1}else Cn!==null&&(yg(Cn),Cn=null),a=!0;if(!a)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(ft.current&1)!==0?$t===0&&($t=3):by())),t.updateQueue!==null&&(t.flags|=4),Zt(t),null);case 4:return ml(),ug(e,t),e===null&&Wc(t.stateNode.containerInfo),Zt(t),null;case 10:return sy(t.type._context),Zt(t),null;case 17:return Rr(t.type)&&xf(),Zt(t),null;case 19:if(ot(ft),a=t.memoizedState,a===null)return Zt(t),null;if(n=(t.flags&128)!==0,o=a.rendering,o===null)if(n)tc(a,!1);else{if($t!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(o=Ef(e),o!==null){for(t.flags|=128,tc(a,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return st(ft,ft.current&1|2),t.child}e=e.sibling}a.tail!==null&&jt()>gl&&(t.flags|=128,n=!0,tc(a,!1),t.lanes=4194304)}else{if(!n)if(e=Ef(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),tc(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!ut)return Zt(t),null}else 2*jt()-a.renderingStartTime>gl&&r!==1073741824&&(t.flags|=128,n=!0,tc(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(r=a.last,r!==null?r.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=jt(),t.sibling=null,r=ft.current,st(ft,n?r&1|2:r&1),t):(Zt(t),null);case 22:case 23:return wy(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&(t.mode&1)!==0?(Dr&1073741824)!==0&&(Zt(t),t.subtreeFlags&6&&(t.flags|=8192)):Zt(t),null;case 24:return null;case 25:return null}throw Error(W(156,t.tag))}function NO(e,t){switch(ey(t),t.tag){case 1:return Rr(t.type)&&xf(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ml(),ot(kr),ot(sr),cy(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return ly(t),null;case 13:if(ot(ft),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(W(340));fl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ot(ft),null;case 4:return ml(),null;case 10:return sy(t.type._context),null;case 22:case 23:return wy(),null;case 24:return null;default:return null}}var fd=!1,er=!1,EO=typeof WeakSet=="function"?WeakSet:Set,le=null;function $o(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){xt(e,t,n)}else r.current=null}function dg(e,t,r){try{r()}catch(n){xt(e,t,n)}}var x0=!1;function CO(e,t){if(Gp=pf,e=xS(),Xv(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||s!==0&&f.nodeType!==3||(l=o+s),f!==a||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++u===s&&(l=o),h===a&&++d===n&&(c=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Qp={focusedElem:e,selectionRange:r},pf=!1,le=t;le!==null;)if(t=le,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,le=e;else for(;le!==null;){t=le;try{var b=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var g=b.memoizedProps,y=b.memoizedState,x=t.stateNode,v=x.getSnapshotBeforeUpdate(t.elementType===t.type?g:bn(t.type,g),y);x.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(j){xt(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,le=e;break}le=t.return}return b=x0,x0=!1,b}function Ec(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&dg(t,r,a)}s=s.next}while(s!==n)}}function xh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function fg(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function pN(e){var t=e.alternate;t!==null&&(e.alternate=null,pN(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[es],delete t[Kc],delete t[Xp],delete t[cO],delete t[uO])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function gN(e){return e.tag===5||e.tag===3||e.tag===4}function w0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||gN(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function hg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=yf));else if(n!==4&&(e=e.child,e!==null))for(hg(e,t,r),e=e.sibling;e!==null;)hg(e,t,r),e=e.sibling}function mg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(mg(e,t,r),e=e.sibling;e!==null;)mg(e,t,r),e=e.sibling}var Ht=null,Nn=!1;function ua(e,t,r){for(r=r.child;r!==null;)vN(e,t,r),r=r.sibling}function vN(e,t,r){if(as&&typeof as.onCommitFiberUnmount=="function")try{as.onCommitFiberUnmount(dh,r)}catch{}switch(r.tag){case 5:er||$o(r,t);case 6:var n=Ht,s=Nn;Ht=null,ua(e,t,r),Ht=n,Nn=s,Ht!==null&&(Nn?(e=Ht,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ht.removeChild(r.stateNode));break;case 18:Ht!==null&&(Nn?(e=Ht,r=r.stateNode,e.nodeType===8?Fm(e.parentNode,r):e.nodeType===1&&Fm(e,r),Bc(e)):Fm(Ht,r.stateNode));break;case 4:n=Ht,s=Nn,Ht=r.stateNode.containerInfo,Nn=!0,ua(e,t,r),Ht=n,Nn=s;break;case 0:case 11:case 14:case 15:if(!er&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var a=s,o=a.destroy;a=a.tag,o!==void 0&&((a&2)!==0||(a&4)!==0)&&dg(r,t,o),s=s.next}while(s!==n)}ua(e,t,r);break;case 1:if(!er&&($o(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){xt(r,t,l)}ua(e,t,r);break;case 21:ua(e,t,r);break;case 22:r.mode&1?(er=(n=er)||r.memoizedState!==null,ua(e,t,r),er=n):ua(e,t,r);break;default:ua(e,t,r)}}function b0(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new EO),t.forEach(function(n){var s=DO.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function vn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ht=l.stateNode,Nn=!1;break e;case 3:Ht=l.stateNode.containerInfo,Nn=!0;break e;case 4:Ht=l.stateNode.containerInfo,Nn=!0;break e}l=l.return}if(Ht===null)throw Error(W(160));vN(a,o,s),Ht=null,Nn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){xt(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)yN(t,e),t=t.sibling}function yN(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vn(t,e),Vn(e),n&4){try{Ec(3,e,e.return),xh(3,e)}catch(g){xt(e,e.return,g)}try{Ec(5,e,e.return)}catch(g){xt(e,e.return,g)}}break;case 1:vn(t,e),Vn(e),n&512&&r!==null&&$o(r,r.return);break;case 5:if(vn(t,e),Vn(e),n&512&&r!==null&&$o(r,r.return),e.flags&32){var s=e.stateNode;try{$c(s,"")}catch(g){xt(e,e.return,g)}}if(n&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,o=r!==null?r.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&U_(s,a),$p(l,o);var u=$p(l,a);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?W_(s,f):d==="dangerouslySetInnerHTML"?V_(s,f):d==="children"?$c(s,f):Fv(s,d,f,u)}switch(l){case"input":Op(s,a);break;case"textarea":z_(s,a);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?Uo(s,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?Uo(s,!!a.multiple,a.defaultValue,!0):Uo(s,!!a.multiple,a.multiple?[]:"",!1))}s[Kc]=a}catch(g){xt(e,e.return,g)}}break;case 6:if(vn(t,e),Vn(e),n&4){if(e.stateNode===null)throw Error(W(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(g){xt(e,e.return,g)}}break;case 3:if(vn(t,e),Vn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Bc(t.containerInfo)}catch(g){xt(e,e.return,g)}break;case 4:vn(t,e),Vn(e);break;case 13:vn(t,e),Vn(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(yy=jt())),n&4&&b0(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(er=(u=er)||d,vn(t,e),er=u):vn(t,e),Vn(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&(e.mode&1)!==0)for(le=e,d=e.child;d!==null;){for(f=le=d;le!==null;){switch(h=le,p=h.child,h.tag){case 0:case 11:case 14:case 15:Ec(4,h,h.return);break;case 1:$o(h,h.return);var b=h.stateNode;if(typeof b.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(g){xt(n,r,g)}}break;case 5:$o(h,h.return);break;case 22:if(h.memoizedState!==null){_0(f);continue}}p!==null?(p.return=h,le=p):_0(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=q_("display",o))}catch(g){xt(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){xt(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:vn(t,e),Vn(e),n&4&&b0(e);break;case 21:break;default:vn(t,e),Vn(e)}}function Vn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(gN(r)){var n=r;break e}r=r.return}throw Error(W(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&($c(s,""),n.flags&=-33);var a=w0(e);mg(e,a,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=w0(e);hg(e,l,o);break;default:throw Error(W(161))}}catch(c){xt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function kO(e,t,r){le=e,xN(e)}function xN(e,t,r){for(var n=(e.mode&1)!==0;le!==null;){var s=le,a=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||fd;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||er;l=fd;var u=er;if(fd=o,(er=c)&&!u)for(le=s;le!==null;)o=le,c=o.child,o.tag===22&&o.memoizedState!==null?S0(s):c!==null?(c.return=o,le=c):S0(s);for(;a!==null;)le=a,xN(a),a=a.sibling;le=s,fd=l,er=u}j0(e)}else(s.subtreeFlags&8772)!==0&&a!==null?(a.return=s,le=a):j0(e)}}function j0(e){for(;le!==null;){var t=le;if((t.flags&8772)!==0){var r=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:er||xh(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!er)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:bn(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&i0(t,a,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}i0(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Bc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}er||t.flags&512&&fg(t)}catch(h){xt(t,t.return,h)}}if(t===e){le=null;break}if(r=t.sibling,r!==null){r.return=t.return,le=r;break}le=t.return}}function _0(e){for(;le!==null;){var t=le;if(t===e){le=null;break}var r=t.sibling;if(r!==null){r.return=t.return,le=r;break}le=t.return}}function S0(e){for(;le!==null;){var t=le;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{xh(4,t)}catch(c){xt(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){xt(t,s,c)}}var a=t.return;try{fg(t)}catch(c){xt(t,a,c)}break;case 5:var o=t.return;try{fg(t)}catch(c){xt(t,o,c)}}}catch(c){xt(t,t.return,c)}if(t===e){le=null;break}var l=t.sibling;if(l!==null){l.return=t.return,le=l;break}le=t.return}}var RO=Math.ceil,Rf=ra.ReactCurrentDispatcher,gy=ra.ReactCurrentOwner,nn=ra.ReactCurrentBatchConfig,qe=0,Wt=null,Pt=null,Jt=0,Dr=0,Fo=ai(0),$t=0,Zc=null,Vi=0,wh=0,vy=0,Cc=null,Nr=null,yy=0,gl=1/0,Ts=null,Pf=!1,pg=null,Ua=null,hd=!1,Oa=null,Tf=0,kc=0,gg=null,Hd=-1,Kd=0;function fr(){return(qe&6)!==0?jt():Hd!==-1?Hd:Hd=jt()}function za(e){return(e.mode&1)===0?1:(qe&2)!==0&&Jt!==0?Jt&-Jt:fO.transition!==null?(Kd===0&&(Kd=nS()),Kd):(e=Je,e!==0||(e=window.event,e=e===void 0?16:uS(e.type)),e)}function Tn(e,t,r,n){if(50<kc)throw kc=0,gg=null,Error(W(185));bu(e,r,n),((qe&2)===0||e!==Wt)&&(e===Wt&&((qe&2)===0&&(wh|=r),$t===4&&ba(e,Jt)),Pr(e,n),r===1&&qe===0&&(t.mode&1)===0&&(gl=jt()+500,gh&&ii()))}function Pr(e,t){var r=e.callbackNode;fA(e,t);var n=mf(e,e===Wt?Jt:0);if(n===0)r!==null&&Ow(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Ow(r),t===1)e.tag===0?dO(N0.bind(null,e)):RS(N0.bind(null,e)),oO(function(){(qe&6)===0&&ii()}),r=null;else{switch(sS(n)){case 1:r=qv;break;case 4:r=tS;break;case 16:r=hf;break;case 536870912:r=rS;break;default:r=hf}r=CN(r,wN.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function wN(e,t){if(Hd=-1,Kd=0,(qe&6)!==0)throw Error(W(327));var r=e.callbackNode;if(Wo()&&e.callbackNode!==r)return null;var n=mf(e,e===Wt?Jt:0);if(n===0)return null;if((n&30)!==0||(n&e.expiredLanes)!==0||t)t=Af(e,n);else{t=n;var s=qe;qe|=2;var a=jN();(Wt!==e||Jt!==t)&&(Ts=null,gl=jt()+500,Li(e,t));do try{AO();break}catch(l){bN(e,l)}while(!0);ny(),Rf.current=a,qe=s,Pt!==null?t=0:(Wt=null,Jt=0,t=$t)}if(t!==0){if(t===2&&(s=Vp(e),s!==0&&(n=s,t=vg(e,s))),t===1)throw r=Zc,Li(e,0),ba(e,n),Pr(e,jt()),r;if(t===6)ba(e,n);else{if(s=e.current.alternate,(n&30)===0&&!PO(s)&&(t=Af(e,n),t===2&&(a=Vp(e),a!==0&&(n=a,t=vg(e,a))),t===1))throw r=Zc,Li(e,0),ba(e,n),Pr(e,jt()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(W(345));case 2:vi(e,Nr,Ts);break;case 3:if(ba(e,n),(n&130023424)===n&&(t=yy+500-jt(),10<t)){if(mf(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){fr(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Yp(vi.bind(null,e,Nr,Ts),t);break}vi(e,Nr,Ts);break;case 4:if(ba(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-Pn(n);a=1<<o,o=t[o],o>s&&(s=o),n&=~a}if(n=s,n=jt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*RO(n/1960))-n,10<n){e.timeoutHandle=Yp(vi.bind(null,e,Nr,Ts),n);break}vi(e,Nr,Ts);break;case 5:vi(e,Nr,Ts);break;default:throw Error(W(329))}}}return Pr(e,jt()),e.callbackNode===r?wN.bind(null,e):null}function vg(e,t){var r=Cc;return e.current.memoizedState.isDehydrated&&(Li(e,t).flags|=256),e=Af(e,t),e!==2&&(t=Nr,Nr=r,t!==null&&yg(t)),e}function yg(e){Nr===null?Nr=e:Nr.push.apply(Nr,e)}function PO(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!On(a(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ba(e,t){for(t&=~vy,t&=~wh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Pn(t),n=1<<r;e[r]=-1,t&=~n}}function N0(e){if((qe&6)!==0)throw Error(W(327));Wo();var t=mf(e,0);if((t&1)===0)return Pr(e,jt()),null;var r=Af(e,t);if(e.tag!==0&&r===2){var n=Vp(e);n!==0&&(t=n,r=vg(e,n))}if(r===1)throw r=Zc,Li(e,0),ba(e,t),Pr(e,jt()),r;if(r===6)throw Error(W(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,vi(e,Nr,Ts),Pr(e,jt()),null}function xy(e,t){var r=qe;qe|=1;try{return e(t)}finally{qe=r,qe===0&&(gl=jt()+500,gh&&ii())}}function qi(e){Oa!==null&&Oa.tag===0&&(qe&6)===0&&Wo();var t=qe;qe|=1;var r=nn.transition,n=Je;try{if(nn.transition=null,Je=1,e)return e()}finally{Je=n,nn.transition=r,qe=t,(qe&6)===0&&ii()}}function wy(){Dr=Fo.current,ot(Fo)}function Li(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,iO(r)),Pt!==null)for(r=Pt.return;r!==null;){var n=r;switch(ey(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&xf();break;case 3:ml(),ot(kr),ot(sr),cy();break;case 5:ly(n);break;case 4:ml();break;case 13:ot(ft);break;case 19:ot(ft);break;case 10:sy(n.type._context);break;case 22:case 23:wy()}r=r.return}if(Wt=e,Pt=e=Ba(e.current,null),Jt=Dr=t,$t=0,Zc=null,vy=wh=Vi=0,Nr=Cc=null,ji!==null){for(t=0;t<ji.length;t++)if(r=ji[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=s,n.next=o}r.pending=n}ji=null}return e}function bN(e,t){do{var r=Pt;try{if(ny(),Vd.current=kf,Cf){for(var n=pt.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Cf=!1}if(Bi=0,qt=Dt=pt=null,Nc=!1,Jc=0,gy.current=null,r===null||r.return===null){$t=1,Zc=t,Pt=null;break}e:{var a=e,o=r.return,l=r,c=t;if(t=Jt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if((d.mode&1)===0&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=f0(o);if(p!==null){p.flags&=-257,h0(p,o,l,a,t),p.mode&1&&d0(a,u,t),t=p,c=u;var b=t.updateQueue;if(b===null){var g=new Set;g.add(c),t.updateQueue=g}else b.add(c);break e}else{if((t&1)===0){d0(a,u,t),by();break e}c=Error(W(426))}}else if(ut&&l.mode&1){var y=f0(o);if(y!==null){(y.flags&65536)===0&&(y.flags|=256),h0(y,o,l,a,t),ty(pl(c,l));break e}}a=c=pl(c,l),$t!==4&&($t=2),Cc===null?Cc=[a]:Cc.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var x=sN(a,c,t);a0(a,x);break e;case 1:l=c;var v=a.type,w=a.stateNode;if((a.flags&128)===0&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ua===null||!Ua.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t;var j=aN(a,l,t);a0(a,j);break e}}a=a.return}while(a!==null)}SN(r)}catch(_){t=_,Pt===r&&r!==null&&(Pt=r=r.return);continue}break}while(!0)}function jN(){var e=Rf.current;return Rf.current=kf,e===null?kf:e}function by(){($t===0||$t===3||$t===2)&&($t=4),Wt===null||(Vi&268435455)===0&&(wh&268435455)===0||ba(Wt,Jt)}function Af(e,t){var r=qe;qe|=2;var n=jN();(Wt!==e||Jt!==t)&&(Ts=null,Li(e,t));do try{TO();break}catch(s){bN(e,s)}while(!0);if(ny(),qe=r,Rf.current=n,Pt!==null)throw Error(W(261));return Wt=null,Jt=0,$t}function TO(){for(;Pt!==null;)_N(Pt)}function AO(){for(;Pt!==null&&!nA();)_N(Pt)}function _N(e){var t=EN(e.alternate,e,Dr);e.memoizedProps=e.pendingProps,t===null?SN(e):Pt=t,gy.current=null}function SN(e){var t=e;do{var r=t.alternate;if(e=t.return,(t.flags&32768)===0){if(r=SO(r,t,Dr),r!==null){Pt=r;return}}else{if(r=NO(r,t),r!==null){r.flags&=32767,Pt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{$t=6,Pt=null;return}}if(t=t.sibling,t!==null){Pt=t;return}Pt=t=e}while(t!==null);$t===0&&($t=5)}function vi(e,t,r){var n=Je,s=nn.transition;try{nn.transition=null,Je=1,OO(e,t,r,n)}finally{nn.transition=s,Je=n}return null}function OO(e,t,r,n){do Wo();while(Oa!==null);if((qe&6)!==0)throw Error(W(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(W(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(hA(e,a),e===Wt&&(Pt=Wt=null,Jt=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||hd||(hd=!0,CN(hf,function(){return Wo(),null})),a=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||a){a=nn.transition,nn.transition=null;var o=Je;Je=1;var l=qe;qe|=4,gy.current=null,CO(e,r),yN(r,e),ZA(Qp),pf=!!Gp,Qp=Gp=null,e.current=r,kO(r),sA(),qe=l,Je=o,nn.transition=a}else e.current=r;if(hd&&(hd=!1,Oa=e,Tf=s),a=e.pendingLanes,a===0&&(Ua=null),oA(r.stateNode),Pr(e,jt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Pf)throw Pf=!1,e=pg,pg=null,e;return(Tf&1)!==0&&e.tag!==0&&Wo(),a=e.pendingLanes,(a&1)!==0?e===gg?kc++:(kc=0,gg=e):kc=0,ii(),null}function Wo(){if(Oa!==null){var e=sS(Tf),t=nn.transition,r=Je;try{if(nn.transition=null,Je=16>e?16:e,Oa===null)var n=!1;else{if(e=Oa,Oa=null,Tf=0,(qe&6)!==0)throw Error(W(331));var s=qe;for(qe|=4,le=e.current;le!==null;){var a=le,o=a.child;if((le.flags&16)!==0){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(le=u;le!==null;){var d=le;switch(d.tag){case 0:case 11:case 15:Ec(8,d,a)}var f=d.child;if(f!==null)f.return=d,le=f;else for(;le!==null;){d=le;var h=d.sibling,p=d.return;if(pN(d),d===u){le=null;break}if(h!==null){h.return=p,le=h;break}le=p}}}var b=a.alternate;if(b!==null){var g=b.child;if(g!==null){b.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}le=a}}if((a.subtreeFlags&2064)!==0&&o!==null)o.return=a,le=o;else e:for(;le!==null;){if(a=le,(a.flags&2048)!==0)switch(a.tag){case 0:case 11:case 15:Ec(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,le=x;break e}le=a.return}}var v=e.current;for(le=v;le!==null;){o=le;var w=o.child;if((o.subtreeFlags&2064)!==0&&w!==null)w.return=o,le=w;else e:for(o=v;le!==null;){if(l=le,(l.flags&2048)!==0)try{switch(l.tag){case 0:case 11:case 15:xh(9,l)}}catch(_){xt(l,l.return,_)}if(l===o){le=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,le=j;break e}le=l.return}}if(qe=s,ii(),as&&typeof as.onPostCommitFiberRoot=="function")try{as.onPostCommitFiberRoot(dh,e)}catch{}n=!0}return n}finally{Je=r,nn.transition=t}}return!1}function E0(e,t,r){t=pl(r,t),t=sN(e,t,1),e=Fa(e,t,1),t=fr(),e!==null&&(bu(e,1,t),Pr(e,t))}function xt(e,t,r){if(e.tag===3)E0(e,e,r);else for(;t!==null;){if(t.tag===3){E0(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ua===null||!Ua.has(n))){e=pl(r,e),e=aN(t,e,1),t=Fa(t,e,1),e=fr(),t!==null&&(bu(t,1,e),Pr(t,e));break}}t=t.return}}function IO(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=fr(),e.pingedLanes|=e.suspendedLanes&r,Wt===e&&(Jt&r)===r&&($t===4||$t===3&&(Jt&130023424)===Jt&&500>jt()-yy?Li(e,0):vy|=r),Pr(e,t)}function NN(e,t){t===0&&((e.mode&1)===0?t=1:(t=nd,nd<<=1,(nd&130023424)===0&&(nd=4194304)));var r=fr();e=Hs(e,t),e!==null&&(bu(e,t,r),Pr(e,r))}function MO(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),NN(e,r)}function DO(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(W(314))}n!==null&&n.delete(t),NN(e,r)}var EN;EN=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||kr.current)Cr=!0;else{if((e.lanes&r)===0&&(t.flags&128)===0)return Cr=!1,_O(e,t,r);Cr=(e.flags&131072)!==0}else Cr=!1,ut&&(t.flags&1048576)!==0&&PS(t,jf,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Wd(e,t),e=t.pendingProps;var s=dl(t,sr.current);qo(t,r),s=dy(null,t,n,e,s,r);var a=fy();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Rr(n)?(a=!0,wf(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,iy(t),s.updater=yh,t.stateNode=s,s._reactInternals=t,sg(t,n,e,r),t=og(null,t,n,!0,a,r)):(t.tag=0,ut&&a&&Zv(t),lr(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Wd(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=$O(n),e=bn(n,e),s){case 0:t=ig(null,t,n,e,r);break e;case 1:t=g0(null,t,n,e,r);break e;case 11:t=m0(null,t,n,e,r);break e;case 14:t=p0(null,t,n,bn(n.type,e),r);break e}throw Error(W(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:bn(n,s),ig(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:bn(n,s),g0(e,t,n,s,r);case 3:e:{if(cN(t),e===null)throw Error(W(387));n=t.pendingProps,a=t.memoizedState,s=a.element,DS(e,t),Nf(t,n,null,r);var o=t.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=pl(Error(W(423)),t),t=v0(e,t,n,r,s);break e}else if(n!==s){s=pl(Error(W(424)),t),t=v0(e,t,n,r,s);break e}else for(Br=$a(t.stateNode.containerInfo.firstChild),Vr=t,ut=!0,Cn=null,r=IS(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(fl(),n===s){t=Ks(e,t,r);break e}lr(e,t,n,r)}t=t.child}return t;case 5:return LS(t),e===null&&tg(t),n=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,o=s.children,Jp(n,s)?o=null:a!==null&&Jp(n,a)&&(t.flags|=32),lN(e,t),lr(e,t,o,r),t.child;case 6:return e===null&&tg(t),null;case 13:return uN(e,t,r);case 4:return oy(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=hl(t,null,n,r):lr(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:bn(n,s),m0(e,t,n,s,r);case 7:return lr(e,t,t.pendingProps,r),t.child;case 8:return lr(e,t,t.pendingProps.children,r),t.child;case 12:return lr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,a=t.memoizedProps,o=s.value,st(_f,n._currentValue),n._currentValue=o,a!==null)if(On(a.value,o)){if(a.children===s.children&&!kr.current){t=Ks(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=Bs(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),rg(a.return,r,t),l.lanes|=r;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(W(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),rg(o,r,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}lr(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,qo(t,r),s=an(s),n=n(s),t.flags|=1,lr(e,t,n,r),t.child;case 14:return n=t.type,s=bn(n,t.pendingProps),s=bn(n.type,s),p0(e,t,n,s,r);case 15:return iN(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:bn(n,s),Wd(e,t),t.tag=1,Rr(n)?(e=!0,wf(t)):e=!1,qo(t,r),nN(t,n,s),sg(t,n,s,r),og(null,t,n,!0,e,r);case 19:return dN(e,t,r);case 22:return oN(e,t,r)}throw Error(W(156,t.tag))};function CN(e,t){return eS(e,t)}function LO(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rn(e,t,r,n){return new LO(e,t,r,n)}function jy(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $O(e){if(typeof e=="function")return jy(e)?1:0;if(e!=null){if(e=e.$$typeof,e===zv)return 11;if(e===Bv)return 14}return 2}function Ba(e,t){var r=e.alternate;return r===null?(r=rn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Gd(e,t,r,n,s,a){var o=2;if(n=e,typeof e=="function")jy(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ro:return $i(r.children,s,a,t);case Uv:o=8,s|=8;break;case kp:return e=rn(12,r,t,s|2),e.elementType=kp,e.lanes=a,e;case Rp:return e=rn(13,r,t,s),e.elementType=Rp,e.lanes=a,e;case Pp:return e=rn(19,r,t,s),e.elementType=Pp,e.lanes=a,e;case L_:return bh(r,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case M_:o=10;break e;case D_:o=9;break e;case zv:o=11;break e;case Bv:o=14;break e;case va:o=16,n=null;break e}throw Error(W(130,e==null?e:typeof e,""))}return t=rn(o,r,t,s),t.elementType=e,t.type=n,t.lanes=a,t}function $i(e,t,r,n){return e=rn(7,e,n,t),e.lanes=r,e}function bh(e,t,r,n){return e=rn(22,e,n,t),e.elementType=L_,e.lanes=r,e.stateNode={isHidden:!1},e}function Km(e,t,r){return e=rn(6,e,null,t),e.lanes=r,e}function Gm(e,t,r){return t=rn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function FO(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=km(0),this.expirationTimes=km(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=km(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function _y(e,t,r,n,s,a,o,l,c){return e=new FO(e,t,r,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=rn(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},iy(a),e}function UO(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ko,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function kN(e){if(!e)return Ja;e=e._reactInternals;e:{if(ro(e)!==e||e.tag!==1)throw Error(W(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Rr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(W(171))}if(e.tag===1){var r=e.type;if(Rr(r))return kS(e,r,t)}return t}function RN(e,t,r,n,s,a,o,l,c){return e=_y(r,n,!0,e,s,a,o,l,c),e.context=kN(null),r=e.current,n=fr(),s=za(r),a=Bs(n,s),a.callback=t??null,Fa(r,a,s),e.current.lanes=s,bu(e,s,n),Pr(e,n),e}function jh(e,t,r,n){var s=t.current,a=fr(),o=za(s);return r=kN(r),t.context===null?t.context=r:t.pendingContext=r,t=Bs(a,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Fa(s,t,o),e!==null&&(Tn(e,s,o,a),Bd(e,s,o)),o}function Of(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function C0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Sy(e,t){C0(e,t),(e=e.alternate)&&C0(e,t)}function zO(){return null}var PN=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ny(e){this._internalRoot=e}_h.prototype.render=Ny.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(W(409));jh(e,t,null,null)};_h.prototype.unmount=Ny.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;qi(function(){jh(null,e,null,null)}),t[Ws]=null}};function _h(e){this._internalRoot=e}_h.prototype.unstable_scheduleHydration=function(e){if(e){var t=oS();e={blockedOn:null,target:e,priority:t};for(var r=0;r<wa.length&&t!==0&&t<wa[r].priority;r++);wa.splice(r,0,e),r===0&&cS(e)}};function Ey(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Sh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function k0(){}function BO(e,t,r,n,s){if(s){if(typeof n=="function"){var a=n;n=function(){var u=Of(o);a.call(u)}}var o=RN(t,n,e,0,null,!1,!1,"",k0);return e._reactRootContainer=o,e[Ws]=o.current,Wc(e.nodeType===8?e.parentNode:e),qi(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=Of(c);l.call(u)}}var c=_y(e,0,!1,null,null,!1,!1,"",k0);return e._reactRootContainer=c,e[Ws]=c.current,Wc(e.nodeType===8?e.parentNode:e),qi(function(){jh(t,c,r,n)}),c}function Nh(e,t,r,n,s){var a=r._reactRootContainer;if(a){var o=a;if(typeof s=="function"){var l=s;s=function(){var c=Of(o);l.call(c)}}jh(t,o,e,s)}else o=BO(r,t,e,s,n);return Of(o)}aS=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=hc(t.pendingLanes);r!==0&&(Wv(t,r|1),Pr(t,jt()),(qe&6)===0&&(gl=jt()+500,ii()))}break;case 13:qi(function(){var n=Hs(e,1);if(n!==null){var s=fr();Tn(n,e,1,s)}}),Sy(e,1)}};Hv=function(e){if(e.tag===13){var t=Hs(e,134217728);if(t!==null){var r=fr();Tn(t,e,134217728,r)}Sy(e,134217728)}};iS=function(e){if(e.tag===13){var t=za(e),r=Hs(e,t);if(r!==null){var n=fr();Tn(r,e,t,n)}Sy(e,t)}};oS=function(){return Je};lS=function(e,t){var r=Je;try{return Je=e,t()}finally{Je=r}};Up=function(e,t,r){switch(t){case"input":if(Op(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=ph(n);if(!s)throw Error(W(90));F_(n),Op(n,s)}}}break;case"textarea":z_(e,r);break;case"select":t=r.value,t!=null&&Uo(e,!!r.multiple,t,!1)}};G_=xy;Q_=qi;var VO={usingClientEntryPoint:!1,Events:[_u,Oo,ph,H_,K_,xy]},rc={findFiberByHostInstance:bi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qO={bundleType:rc.bundleType,version:rc.version,rendererPackageName:rc.rendererPackageName,rendererConfig:rc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ra.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=X_(e),e===null?null:e.stateNode},findFiberByHostInstance:rc.findFiberByHostInstance||zO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var md=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!md.isDisabled&&md.supportsFiber)try{dh=md.inject(qO),as=md}catch{}}Qr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VO;Qr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ey(t))throw Error(W(200));return UO(e,t,null,r)};Qr.createRoot=function(e,t){if(!Ey(e))throw Error(W(299));var r=!1,n="",s=PN;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=_y(e,1,!1,null,null,r,!1,n,s),e[Ws]=t.current,Wc(e.nodeType===8?e.parentNode:e),new Ny(t)};Qr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(W(188)):(e=Object.keys(e).join(","),Error(W(268,e)));return e=X_(t),e=e===null?null:e.stateNode,e};Qr.flushSync=function(e){return qi(e)};Qr.hydrate=function(e,t,r){if(!Sh(t))throw Error(W(200));return Nh(null,e,t,!0,r)};Qr.hydrateRoot=function(e,t,r){if(!Ey(e))throw Error(W(405));var n=r!=null&&r.hydratedSources||null,s=!1,a="",o=PN;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=RN(t,null,e,1,r??null,s,!1,a,o),e[Ws]=t.current,Wc(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new _h(t)};Qr.render=function(e,t,r){if(!Sh(t))throw Error(W(200));return Nh(null,e,t,!1,r)};Qr.unmountComponentAtNode=function(e){if(!Sh(e))throw Error(W(40));return e._reactRootContainer?(qi(function(){Nh(null,null,e,!1,function(){e._reactRootContainer=null,e[Ws]=null})}),!0):!1};Qr.unstable_batchedUpdates=xy;Qr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Sh(r))throw Error(W(200));if(e==null||e._reactInternals===void 0)throw Error(W(38));return Nh(e,t,r,!1,n)};Qr.version="18.3.1-next-f1338f8080-20240426";function TN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(TN)}catch(e){console.error(e)}}TN(),T_.exports=Qr;var no=T_.exports;const AN=y_(no);var ON,R0=no;ON=R0.createRoot,R0.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function eu(){return eu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eu.apply(this,arguments)}var Ia;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ia||(Ia={}));const P0="popstate";function WO(e){e===void 0&&(e={});function t(n,s){let{pathname:a,search:o,hash:l}=n.location;return xg("",{pathname:a,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:If(s)}return KO(t,r,null,e)}function St(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function IN(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function HO(){return Math.random().toString(36).substr(2,8)}function T0(e,t){return{usr:e.state,key:e.key,idx:t}}function xg(e,t,r,n){return r===void 0&&(r=null),eu({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ol(t):t,{state:r,key:t&&t.key||n||HO()})}function If(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ol(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function KO(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:a=!1}=n,o=s.history,l=Ia.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(eu({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=Ia.Pop;let y=d(),x=y==null?null:y-u;u=y,c&&c({action:l,location:g.location,delta:x})}function h(y,x){l=Ia.Push;let v=xg(g.location,y,x);u=d()+1;let w=T0(v,u),j=g.createHref(v);try{o.pushState(w,"",j)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;s.location.assign(j)}a&&c&&c({action:l,location:g.location,delta:1})}function p(y,x){l=Ia.Replace;let v=xg(g.location,y,x);u=d();let w=T0(v,u),j=g.createHref(v);o.replaceState(w,"",j),a&&c&&c({action:l,location:g.location,delta:0})}function b(y){let x=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof y=="string"?y:If(y);return v=v.replace(/ $/,"%20"),St(x,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,x)}let g={get action(){return l},get location(){return e(s,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(P0,f),c=y,()=>{s.removeEventListener(P0,f),c=null}},createHref(y){return t(s,y)},createURL:b,encodeLocation(y){let x=b(y);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:p,go(y){return o.go(y)}};return g}var A0;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(A0||(A0={}));function GO(e,t,r){return r===void 0&&(r="/"),QO(e,t,r)}function QO(e,t,r,n){let s=typeof t=="string"?Ol(t):t,a=Cy(s.pathname||"/",r);if(a==null)return null;let o=MN(e);JO(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=lI(a);l=aI(o[c],u)}return l}function MN(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(St(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Va([n,c.relativePath]),d=r.concat(c);a.children&&a.children.length>0&&(St(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),MN(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:nI(u,a.index),routesMeta:d})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,o);else for(let c of DN(a.path))s(a,o,c)}),t}function DN(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let o=DN(n.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function JO(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:sI(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const YO=/^:[\w-]+$/,XO=3,ZO=2,eI=1,tI=10,rI=-2,O0=e=>e==="*";function nI(e,t){let r=e.split("/"),n=r.length;return r.some(O0)&&(n+=rI),t&&(n+=ZO),r.filter(s=>!O0(s)).reduce((s,a)=>s+(YO.test(a)?XO:a===""?eI:tI),n)}function sI(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function aI(e,t,r){let{routesMeta:n}=e,s={},a="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=a==="/"?t:t.slice(a.length)||"/",f=iI({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Va([a,f.pathname]),pathnameBase:fI(Va([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=Va([a,f.pathnameBase]))}return o}function iI(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=oI(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let a=s[0],o=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let g=l[f]||"";o=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const b=l[f];return p&&!b?u[h]=void 0:u[h]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:e}}function oI(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),IN(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function lI(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return IN(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Cy(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function cI(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Ol(e):e;return{pathname:r?r.startsWith("/")?r:uI(r,t):t,search:hI(n),hash:mI(s)}}function uI(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Qm(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function dI(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function ky(e,t){let r=dI(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Ry(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Ol(e):(s=eu({},e),St(!s.pathname||!s.pathname.includes("?"),Qm("?","pathname","search",s)),St(!s.pathname||!s.pathname.includes("#"),Qm("#","pathname","hash",s)),St(!s.search||!s.search.includes("#"),Qm("#","search","hash",s)));let a=e===""||s.pathname==="",o=a?"/":s.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=cI(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Va=e=>e.join("/").replace(/\/\/+/g,"/"),fI=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),hI=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,mI=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function pI(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const LN=["post","put","patch","delete"];new Set(LN);const gI=["get",...LN];new Set(gI);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tu(){return tu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tu.apply(this,arguments)}const Py=m.createContext(null),vI=m.createContext(null),oi=m.createContext(null),Eh=m.createContext(null),na=m.createContext({outlet:null,matches:[],isDataRoute:!1}),$N=m.createContext(null);function yI(e,t){let{relative:r}=t===void 0?{}:t;Il()||St(!1);let{basename:n,navigator:s}=m.useContext(oi),{hash:a,pathname:o,search:l}=UN(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Va([n,o])),s.createHref({pathname:c,search:l,hash:a})}function Il(){return m.useContext(Eh)!=null}function so(){return Il()||St(!1),m.useContext(Eh).location}function FN(e){m.useContext(oi).static||m.useLayoutEffect(e)}function vt(){let{isDataRoute:e}=m.useContext(na);return e?TI():xI()}function xI(){Il()||St(!1);let e=m.useContext(Py),{basename:t,future:r,navigator:n}=m.useContext(oi),{matches:s}=m.useContext(na),{pathname:a}=so(),o=JSON.stringify(ky(s,r.v7_relativeSplatPath)),l=m.useRef(!1);return FN(()=>{l.current=!0}),m.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=Ry(u,JSON.parse(o),a,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Va([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,a,e])}function Nu(){let{matches:e}=m.useContext(na),t=e[e.length-1];return t?t.params:{}}function UN(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=m.useContext(oi),{matches:s}=m.useContext(na),{pathname:a}=so(),o=JSON.stringify(ky(s,n.v7_relativeSplatPath));return m.useMemo(()=>Ry(e,JSON.parse(o),a,r==="path"),[e,o,a,r])}function wI(e,t){return bI(e,t)}function bI(e,t,r,n){Il()||St(!1);let{navigator:s}=m.useContext(oi),{matches:a}=m.useContext(na),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=so(),d;if(t){var f;let y=typeof t=="string"?Ol(t):t;c==="/"||(f=y.pathname)!=null&&f.startsWith(c)||St(!1),d=y}else d=u;let h=d.pathname||"/",p=h;if(c!=="/"){let y=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let b=GO(e,{pathname:p}),g=EI(b&&b.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:Va([c,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:Va([c,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,r,n);return t&&g?m.createElement(Eh.Provider,{value:{location:tu({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ia.Pop}},g):g}function jI(){let e=PI(),t=pI(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),r?m.createElement("pre",{style:s},r):null,null)}const _I=m.createElement(jI,null);class SI extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?m.createElement(na.Provider,{value:this.props.routeContext},m.createElement($N.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function NI(e){let{routeContext:t,match:r,children:n}=e,s=m.useContext(Py);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),m.createElement(na.Provider,{value:t},n)}function EI(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||St(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=r,b=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||b){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let p,b=!1,g=null,y=null;r&&(p=l&&f.route.id?l[f.route.id]:void 0,g=f.route.errorElement||_I,c&&(u<0&&h===0?(AI("route-fallback"),b=!0,y=null):u===h&&(b=!0,y=f.route.hydrateFallbackElement||null)));let x=t.concat(o.slice(0,h+1)),v=()=>{let w;return p?w=g:b?w=y:f.route.Component?w=m.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,m.createElement(NI,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?m.createElement(SI,{location:r.location,revalidation:r.revalidation,component:g,error:p,children:v(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):v()},null)}var zN=(function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e})(zN||{}),BN=(function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e})(BN||{});function CI(e){let t=m.useContext(Py);return t||St(!1),t}function kI(e){let t=m.useContext(vI);return t||St(!1),t}function RI(e){let t=m.useContext(na);return t||St(!1),t}function VN(e){let t=RI(),r=t.matches[t.matches.length-1];return r.route.id||St(!1),r.route.id}function PI(){var e;let t=m.useContext($N),r=kI(),n=VN();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function TI(){let{router:e}=CI(zN.UseNavigateStable),t=VN(BN.UseNavigateStable),r=m.useRef(!1);return FN(()=>{r.current=!0}),m.useCallback(function(s,a){a===void 0&&(a={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,tu({fromRouteId:t},a)))},[e,t])}const I0={};function AI(e,t,r){I0[e]||(I0[e]=!0)}function OI(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function wg(e){let{to:t,replace:r,state:n,relative:s}=e;Il()||St(!1);let{future:a,static:o}=m.useContext(oi),{matches:l}=m.useContext(na),{pathname:c}=so(),u=vt(),d=Ry(t,ky(l,a.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return m.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:s}),[u,f,s,r,n]),null}function rt(e){St(!1)}function II(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Ia.Pop,navigator:a,static:o=!1,future:l}=e;Il()&&St(!1);let c=t.replace(/^\/*/,"/"),u=m.useMemo(()=>({basename:c,navigator:a,static:o,future:tu({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof n=="string"&&(n=Ol(n));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:b="default"}=n,g=m.useMemo(()=>{let y=Cy(d,c);return y==null?null:{location:{pathname:y,search:f,hash:h,state:p,key:b},navigationType:s}},[c,d,f,h,p,b,s]);return g==null?null:m.createElement(oi.Provider,{value:u},m.createElement(Eh.Provider,{children:r,value:g}))}function MI(e){let{children:t,location:r}=e;return wI(bg(t),r)}new Promise(()=>{});function bg(e,t){t===void 0&&(t=[]);let r=[];return m.Children.forEach(e,(n,s)=>{if(!m.isValidElement(n))return;let a=[...t,s];if(n.type===m.Fragment){r.push.apply(r,bg(n.props.children,a));return}n.type!==rt&&St(!1),!n.props.index||!n.props.children||St(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=bg(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jg(){return jg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jg.apply(this,arguments)}function DI(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,a;for(a=0;a<n.length;a++)s=n[a],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function LI(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function $I(e,t){return e.button===0&&(!t||t==="_self")&&!LI(e)}function _g(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function FI(e,t){let r=_g(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(a=>{r.append(s,a)})}),r}const UI=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],zI="6";try{window.__reactRouterVersion=zI}catch{}const BI="startTransition",M0=Dv[BI];function VI(e){let{basename:t,children:r,future:n,window:s}=e,a=m.useRef();a.current==null&&(a.current=WO({window:s,v5Compat:!0}));let o=a.current,[l,c]=m.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=m.useCallback(f=>{u&&M0?M0(()=>c(f)):c(f)},[c,u]);return m.useLayoutEffect(()=>o.listen(d),[o,d]),m.useEffect(()=>OI(n),[n]),m.createElement(II,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const qI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",WI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ts=m.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=DI(t,UI),{basename:p}=m.useContext(oi),b,g=!1;if(typeof u=="string"&&WI.test(u)&&(b=u,qI))try{let w=new URL(window.location.href),j=u.startsWith("//")?new URL(w.protocol+u):new URL(u),_=Cy(j.pathname,p);j.origin===w.origin&&_!=null?u=_+j.search+j.hash:g=!0}catch{}let y=yI(u,{relative:s}),x=HI(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function v(w){n&&n(w),w.defaultPrevented||x(w)}return m.createElement("a",jg({},h,{href:b||y,onClick:g||a?n:v,ref:r,target:c}))});var D0;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(D0||(D0={}));var L0;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(L0||(L0={}));function HI(e,t){let{target:r,replace:n,state:s,preventScrollReset:a,relative:o,viewTransition:l}=t===void 0?{}:t,c=vt(),u=so(),d=UN(e,{relative:o});return m.useCallback(f=>{if($I(f,r)){f.preventDefault();let h=n!==void 0?n:If(u)===If(d);c(e,{replace:h,state:s,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,d,n,s,r,e,a,o,l])}function KI(e){let t=m.useRef(_g(e)),r=m.useRef(!1),n=so(),s=m.useMemo(()=>FI(n.search,r.current?null:t.current),[n.search]),a=vt(),o=m.useCallback((l,c)=>{const u=_g(typeof l=="function"?l(s):l);r.current=!0,a("?"+u,c)},[a,s]);return[s,o]}var Ml=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},GI={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},_a,Tv,o_,QI=(o_=class{constructor(){he(this,_a,GI);he(this,Tv,!1)}setTimeoutProvider(e){se(this,_a,e)}setTimeout(e,t){return E(this,_a).setTimeout(e,t)}clearTimeout(e){E(this,_a).clearTimeout(e)}setInterval(e,t){return E(this,_a).setInterval(e,t)}clearInterval(e){E(this,_a).clearInterval(e)}},_a=new WeakMap,Tv=new WeakMap,o_),Si=new QI;function JI(e){setTimeout(e,0)}var Wi=typeof window>"u"||"Deno"in globalThis;function cr(){}function YI(e,t){return typeof e=="function"?e(t):e}function Sg(e){return typeof e=="number"&&e>=0&&e!==1/0}function qN(e,t){return Math.max(e+(t||0)-Date.now(),0)}function qa(e,t){return typeof e=="function"?e(t):e}function Xr(e,t){return typeof e=="function"?e(t):e}function $0(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:a,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==Ty(o,t.options))return!1}else if(!ru(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||a&&!a(t))}function F0(e,t){const{exact:r,status:n,predicate:s,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(Hi(t.options.mutationKey)!==Hi(a))return!1}else if(!ru(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function Ty(e,t){return((t==null?void 0:t.queryKeyHashFn)||Hi)(e)}function Hi(e){return JSON.stringify(e,(t,r)=>Ng(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function ru(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>ru(e[r],t[r])):!1}var XI=Object.prototype.hasOwnProperty;function WN(e,t){if(e===t)return e;const r=U0(e)&&U0(t);if(!r&&!(Ng(e)&&Ng(t)))return t;const s=(r?e:Object.keys(e)).length,a=r?t:Object.keys(t),o=a.length,l=r?new Array(o):{};let c=0;for(let u=0;u<o;u++){const d=r?u:a[u],f=e[d],h=t[d];if(f===h){l[d]=f,(r?u<s:XI.call(e,d))&&c++;continue}if(f===null||h===null||typeof f!="object"||typeof h!="object"){l[d]=h;continue}const p=WN(f,h);l[d]=p,p===f&&c++}return s===o&&c===s?e:l}function Mf(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function U0(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Ng(e){if(!z0(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!z0(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function z0(e){return Object.prototype.toString.call(e)==="[object Object]"}function ZI(e){return new Promise(t=>{Si.setTimeout(t,e)})}function Eg(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?WN(e,t):t}function eM(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function tM(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Ay=Symbol();function HN(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Ay?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function KN(e,t){return typeof e=="function"?e(...t):!!e}var ki,Sa,Xo,l_,rM=(l_=class extends Ml{constructor(){super();he(this,ki);he(this,Sa);he(this,Xo);se(this,Xo,t=>{if(!Wi&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){E(this,Sa)||this.setEventListener(E(this,Xo))}onUnsubscribe(){var t;this.hasListeners()||((t=E(this,Sa))==null||t.call(this),se(this,Sa,void 0))}setEventListener(t){var r;se(this,Xo,t),(r=E(this,Sa))==null||r.call(this),se(this,Sa,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){E(this,ki)!==t&&(se(this,ki,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof E(this,ki)=="boolean"?E(this,ki):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ki=new WeakMap,Sa=new WeakMap,Xo=new WeakMap,l_),Oy=new rM;function Cg(){let e,t;const r=new Promise((s,a)=>{e=s,t=a});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}var nM=JI;function sM(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=nM;const a=l=>{t?e.push(l):s(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var Lt=sM(),Zo,Na,el,c_,aM=(c_=class extends Ml{constructor(){super();he(this,Zo,!0);he(this,Na);he(this,el);se(this,el,t=>{if(!Wi&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){E(this,Na)||this.setEventListener(E(this,el))}onUnsubscribe(){var t;this.hasListeners()||((t=E(this,Na))==null||t.call(this),se(this,Na,void 0))}setEventListener(t){var r;se(this,el,t),(r=E(this,Na))==null||r.call(this),se(this,Na,t(this.setOnline.bind(this)))}setOnline(t){E(this,Zo)!==t&&(se(this,Zo,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return E(this,Zo)}},Zo=new WeakMap,Na=new WeakMap,el=new WeakMap,c_),Df=new aM;function iM(e){return Math.min(1e3*2**e,3e4)}function GN(e){return(e??"online")==="online"?Df.isOnline():!0}var kg=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function QN(e){let t=!1,r=0,n;const s=Cg(),a=()=>s.status!=="pending",o=g=>{var y;if(!a()){const x=new kg(g);h(x),(y=e.onCancel)==null||y.call(e,x)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>Oy.isFocused()&&(e.networkMode==="always"||Df.isOnline())&&e.canRun(),d=()=>GN(e.networkMode)&&e.canRun(),f=g=>{a()||(n==null||n(),s.resolve(g))},h=g=>{a()||(n==null||n(),s.reject(g))},p=()=>new Promise(g=>{var y;n=x=>{(a()||u())&&g(x)},(y=e.onPause)==null||y.call(e)}).then(()=>{var g;n=void 0,a()||(g=e.onContinue)==null||g.call(e)}),b=()=>{if(a())return;let g;const y=r===0?e.initialPromise:void 0;try{g=y??e.fn()}catch(x){g=Promise.reject(x)}Promise.resolve(g).then(f).catch(x=>{var S;if(a())return;const v=e.retry??(Wi?0:3),w=e.retryDelay??iM,j=typeof w=="function"?w(r,x):w,_=v===!0||typeof v=="number"&&r<v||typeof v=="function"&&v(r,x);if(t||!_){h(x);return}r++,(S=e.onFail)==null||S.call(e,r,x),ZI(j).then(()=>u()?void 0:p()).then(()=>{t?h(x):b()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(n==null||n(),s),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?b():p().then(b),s)}}var Ri,u_,JN=(u_=class{constructor(){he(this,Ri)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Sg(this.gcTime)&&se(this,Ri,Si.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Wi?1/0:300*1e3))}clearGcTimeout(){E(this,Ri)&&(Si.clearTimeout(E(this,Ri)),se(this,Ri,void 0))}},Ri=new WeakMap,u_),Pi,tl,Yr,Ti,Vt,pu,Ai,_n,ks,d_,oM=(d_=class extends JN{constructor(t){super();he(this,_n);he(this,Pi);he(this,tl);he(this,Yr);he(this,Ti);he(this,Vt);he(this,pu);he(this,Ai);se(this,Ai,!1),se(this,pu,t.defaultOptions),this.setOptions(t.options),this.observers=[],se(this,Ti,t.client),se(this,Yr,E(this,Ti).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,se(this,Pi,B0(this.options)),this.state=t.state??E(this,Pi),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=E(this,Vt))==null?void 0:t.promise}setOptions(t){if(this.options={...E(this,pu),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=B0(this.options);r.data!==void 0&&(this.setData(r.data,{updatedAt:r.dataUpdatedAt,manual:!0}),se(this,Pi,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&E(this,Yr).remove(this)}setData(t,r){const n=Eg(this.state.data,t,this.options);return Pe(this,_n,ks).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Pe(this,_n,ks).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=E(this,Vt))==null?void 0:n.promise;return(s=E(this,Vt))==null||s.cancel(t),r?r.then(cr).catch(cr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(E(this,Pi))}isActive(){return this.observers.some(t=>Xr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ay||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>qa(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!qN(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=E(this,Vt))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=E(this,Vt))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),E(this,Yr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(E(this,Vt)&&(E(this,Ai)?E(this,Vt).cancel({revert:!0}):E(this,Vt).cancelRetry()),this.scheduleGc()),E(this,Yr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Pe(this,_n,ks).call(this,{type:"invalidate"})}async fetch(t,r){var c,u,d,f,h,p,b,g,y,x,v,w;if(this.state.fetchStatus!=="idle"&&((c=E(this,Vt))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(E(this,Vt))return E(this,Vt).continueRetry(),E(this,Vt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const j=this.observers.find(_=>_.options.queryFn);j&&this.setOptions(j.options)}const n=new AbortController,s=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(se(this,Ai,!0),n.signal)})},a=()=>{const j=HN(this.options,r),S=(()=>{const N={client:E(this,Ti),queryKey:this.queryKey,meta:this.meta};return s(N),N})();return se(this,Ai,!1),this.options.persister?this.options.persister(j,S,this):j(S)},l=(()=>{const j={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:E(this,Ti),state:this.state,fetchFn:a};return s(j),j})();(u=this.options.behavior)==null||u.onFetch(l,this),se(this,tl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&Pe(this,_n,ks).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),se(this,Vt,QN({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:j=>{j instanceof kg&&j.revert&&this.setState({...E(this,tl),fetchStatus:"idle"}),n.abort()},onFail:(j,_)=>{Pe(this,_n,ks).call(this,{type:"failed",failureCount:j,error:_})},onPause:()=>{Pe(this,_n,ks).call(this,{type:"pause"})},onContinue:()=>{Pe(this,_n,ks).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const j=await E(this,Vt).start();if(j===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(j),(p=(h=E(this,Yr).config).onSuccess)==null||p.call(h,j,this),(g=(b=E(this,Yr).config).onSettled)==null||g.call(b,j,this.state.error,this),j}catch(j){if(j instanceof kg){if(j.silent)return E(this,Vt).promise;if(j.revert){if(this.state.data===void 0)throw j;return this.state.data}}throw Pe(this,_n,ks).call(this,{type:"error",error:j}),(x=(y=E(this,Yr).config).onError)==null||x.call(y,j,this),(w=(v=E(this,Yr).config).onSettled)==null||w.call(v,this.state.data,j,this),j}finally{this.scheduleGc()}}},Pi=new WeakMap,tl=new WeakMap,Yr=new WeakMap,Ti=new WeakMap,Vt=new WeakMap,pu=new WeakMap,Ai=new WeakMap,_n=new WeakSet,ks=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...YN(n.data,this.options),fetchMeta:t.meta??null};case"success":const s={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return se(this,tl,t.manual?s:void 0),s;case"error":const a=t.error;return{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Lt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),E(this,Yr).notify({query:this,type:"updated",action:t})})},d_);function YN(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:GN(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function B0(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var wr,ze,gu,ir,Oi,rl,Is,Ea,vu,nl,sl,Ii,Mi,Ca,al,Ge,pc,Rg,Pg,Tg,Ag,Og,Ig,Mg,XN,f_,lM=(f_=class extends Ml{constructor(t,r){super();he(this,Ge);he(this,wr);he(this,ze);he(this,gu);he(this,ir);he(this,Oi);he(this,rl);he(this,Is);he(this,Ea);he(this,vu);he(this,nl);he(this,sl);he(this,Ii);he(this,Mi);he(this,Ca);he(this,al,new Set);this.options=r,se(this,wr,t),se(this,Ea,null),se(this,Is,Cg()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(E(this,ze).addObserver(this),V0(E(this,ze),this.options)?Pe(this,Ge,pc).call(this):this.updateResult(),Pe(this,Ge,Ag).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Dg(E(this,ze),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Dg(E(this,ze),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Pe(this,Ge,Og).call(this),Pe(this,Ge,Ig).call(this),E(this,ze).removeObserver(this)}setOptions(t){const r=this.options,n=E(this,ze);if(this.options=E(this,wr).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Xr(this.options.enabled,E(this,ze))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Pe(this,Ge,Mg).call(this),E(this,ze).setOptions(this.options),r._defaulted&&!Mf(this.options,r)&&E(this,wr).getQueryCache().notify({type:"observerOptionsUpdated",query:E(this,ze),observer:this});const s=this.hasListeners();s&&q0(E(this,ze),n,this.options,r)&&Pe(this,Ge,pc).call(this),this.updateResult(),s&&(E(this,ze)!==n||Xr(this.options.enabled,E(this,ze))!==Xr(r.enabled,E(this,ze))||qa(this.options.staleTime,E(this,ze))!==qa(r.staleTime,E(this,ze)))&&Pe(this,Ge,Rg).call(this);const a=Pe(this,Ge,Pg).call(this);s&&(E(this,ze)!==n||Xr(this.options.enabled,E(this,ze))!==Xr(r.enabled,E(this,ze))||a!==E(this,Ca))&&Pe(this,Ge,Tg).call(this,a)}getOptimisticResult(t){const r=E(this,wr).getQueryCache().build(E(this,wr),t),n=this.createResult(r,t);return uM(this,n)&&(se(this,ir,n),se(this,rl,this.options),se(this,Oi,E(this,ze).state)),n}getCurrentResult(){return E(this,ir)}trackResult(t,r){return new Proxy(t,{get:(n,s)=>(this.trackProp(s),r==null||r(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&E(this,Is).status==="pending"&&E(this,Is).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,s))})}trackProp(t){E(this,al).add(t)}getCurrentQuery(){return E(this,ze)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=E(this,wr).defaultQueryOptions(t),n=E(this,wr).getQueryCache().build(E(this,wr),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Pe(this,Ge,pc).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),E(this,ir)))}createResult(t,r){var R;const n=E(this,ze),s=this.options,a=E(this,ir),o=E(this,Oi),l=E(this,rl),u=t!==n?t.state:E(this,gu),{state:d}=t;let f={...d},h=!1,p;if(r._optimisticResults){const T=this.hasListeners(),z=!T&&V0(t,r),D=T&&q0(t,n,r,s);(z||D)&&(f={...f,...YN(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:b,errorUpdatedAt:g,status:y}=f;p=f.data;let x=!1;if(r.placeholderData!==void 0&&p===void 0&&y==="pending"){let T;a!=null&&a.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(T=a.data,x=!0):T=typeof r.placeholderData=="function"?r.placeholderData((R=E(this,sl))==null?void 0:R.state.data,E(this,sl)):r.placeholderData,T!==void 0&&(y="success",p=Eg(a==null?void 0:a.data,T,r),h=!0)}if(r.select&&p!==void 0&&!x)if(a&&p===(o==null?void 0:o.data)&&r.select===E(this,vu))p=E(this,nl);else try{se(this,vu,r.select),p=r.select(p),p=Eg(a==null?void 0:a.data,p,r),se(this,nl,p),se(this,Ea,null)}catch(T){se(this,Ea,T)}E(this,Ea)&&(b=E(this,Ea),p=E(this,nl),g=Date.now(),y="error");const v=f.fetchStatus==="fetching",w=y==="pending",j=y==="error",_=w&&v,S=p!==void 0,C={status:y,fetchStatus:f.fetchStatus,isPending:w,isSuccess:y==="success",isError:j,isInitialLoading:_,isLoading:_,data:p,dataUpdatedAt:f.dataUpdatedAt,error:b,errorUpdatedAt:g,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:v,isRefetching:v&&!w,isLoadingError:j&&!S,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:j&&S,isStale:Iy(t,r),refetch:this.refetch,promise:E(this,Is),isEnabled:Xr(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const T=q=>{C.status==="error"?q.reject(C.error):C.data!==void 0&&q.resolve(C.data)},z=()=>{const q=se(this,Is,C.promise=Cg());T(q)},D=E(this,Is);switch(D.status){case"pending":t.queryHash===n.queryHash&&T(D);break;case"fulfilled":(C.status==="error"||C.data!==D.value)&&z();break;case"rejected":(C.status!=="error"||C.error!==D.reason)&&z();break}}return C}updateResult(){const t=E(this,ir),r=this.createResult(E(this,ze),this.options);if(se(this,Oi,E(this,ze).state),se(this,rl,this.options),E(this,Oi).data!==void 0&&se(this,sl,E(this,ze)),Mf(r,t))return;se(this,ir,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,a=typeof s=="function"?s():s;if(a==="all"||!a&&!E(this,al).size)return!0;const o=new Set(a??E(this,al));return this.options.throwOnError&&o.add("error"),Object.keys(E(this,ir)).some(l=>{const c=l;return E(this,ir)[c]!==t[c]&&o.has(c)})};Pe(this,Ge,XN).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Pe(this,Ge,Ag).call(this)}},wr=new WeakMap,ze=new WeakMap,gu=new WeakMap,ir=new WeakMap,Oi=new WeakMap,rl=new WeakMap,Is=new WeakMap,Ea=new WeakMap,vu=new WeakMap,nl=new WeakMap,sl=new WeakMap,Ii=new WeakMap,Mi=new WeakMap,Ca=new WeakMap,al=new WeakMap,Ge=new WeakSet,pc=function(t){Pe(this,Ge,Mg).call(this);let r=E(this,ze).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(cr)),r},Rg=function(){Pe(this,Ge,Og).call(this);const t=qa(this.options.staleTime,E(this,ze));if(Wi||E(this,ir).isStale||!Sg(t))return;const n=qN(E(this,ir).dataUpdatedAt,t)+1;se(this,Ii,Si.setTimeout(()=>{E(this,ir).isStale||this.updateResult()},n))},Pg=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(E(this,ze)):this.options.refetchInterval)??!1},Tg=function(t){Pe(this,Ge,Ig).call(this),se(this,Ca,t),!(Wi||Xr(this.options.enabled,E(this,ze))===!1||!Sg(E(this,Ca))||E(this,Ca)===0)&&se(this,Mi,Si.setInterval(()=>{(this.options.refetchIntervalInBackground||Oy.isFocused())&&Pe(this,Ge,pc).call(this)},E(this,Ca)))},Ag=function(){Pe(this,Ge,Rg).call(this),Pe(this,Ge,Tg).call(this,Pe(this,Ge,Pg).call(this))},Og=function(){E(this,Ii)&&(Si.clearTimeout(E(this,Ii)),se(this,Ii,void 0))},Ig=function(){E(this,Mi)&&(Si.clearInterval(E(this,Mi)),se(this,Mi,void 0))},Mg=function(){const t=E(this,wr).getQueryCache().build(E(this,wr),this.options);if(t===E(this,ze))return;const r=E(this,ze);se(this,ze,t),se(this,gu,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},XN=function(t){Lt.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(E(this,ir))}),E(this,wr).getQueryCache().notify({query:E(this,ze),type:"observerResultsUpdated"})})},f_);function cM(e,t){return Xr(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function V0(e,t){return cM(e,t)||e.state.data!==void 0&&Dg(e,t,t.refetchOnMount)}function Dg(e,t,r){if(Xr(t.enabled,e)!==!1&&qa(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&Iy(e,t)}return!1}function q0(e,t,r,n){return(e!==t||Xr(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Iy(e,r)}function Iy(e,t){return Xr(t.enabled,e)!==!1&&e.isStaleByTime(qa(t.staleTime,e))}function uM(e,t){return!Mf(e.getCurrentResult(),t)}function W0(e){return{onFetch:(t,r)=>{var d,f,h,p,b;const n=t.options,s=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,a=((p=t.state.data)==null?void 0:p.pages)||[],o=((b=t.state.data)==null?void 0:b.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const y=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},x=HN(t.options,t.fetchOptions),v=async(w,j,_)=>{if(g)return Promise.reject();if(j==null&&w.pages.length)return Promise.resolve(w);const N=(()=>{const z={client:t.client,queryKey:t.queryKey,pageParam:j,direction:_?"backward":"forward",meta:t.options.meta};return y(z),z})(),C=await x(N),{maxPages:R}=t.options,T=_?tM:eM;return{pages:T(w.pages,C,R),pageParams:T(w.pageParams,j,R)}};if(s&&a.length){const w=s==="backward",j=w?dM:H0,_={pages:a,pageParams:o},S=j(n,_);l=await v(_,S,w)}else{const w=e??a.length;do{const j=c===0?o[0]??n.initialPageParam:H0(n,l);if(c>0&&j==null)break;l=await v(l,j),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var g,y;return(y=(g=t.options).persister)==null?void 0:y.call(g,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function H0(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function dM(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var yu,Yn,or,Di,Xn,ma,h_,fM=(h_=class extends JN{constructor(t){super();he(this,Xn);he(this,yu);he(this,Yn);he(this,or);he(this,Di);se(this,yu,t.client),this.mutationId=t.mutationId,se(this,or,t.mutationCache),se(this,Yn,[]),this.state=t.state||ZN(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){E(this,Yn).includes(t)||(E(this,Yn).push(t),this.clearGcTimeout(),E(this,or).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){se(this,Yn,E(this,Yn).filter(r=>r!==t)),this.scheduleGc(),E(this,or).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){E(this,Yn).length||(this.state.status==="pending"?this.scheduleGc():E(this,or).remove(this))}continue(){var t;return((t=E(this,Di))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,c,u,d,f,h,p,b,g,y,x,v,w,j,_,S,N,C,R;const r=()=>{Pe(this,Xn,ma).call(this,{type:"continue"})},n={client:E(this,yu),meta:this.options.meta,mutationKey:this.options.mutationKey};se(this,Di,QN({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(T,z)=>{Pe(this,Xn,ma).call(this,{type:"failed",failureCount:T,error:z})},onPause:()=>{Pe(this,Xn,ma).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>E(this,or).canRun(this)}));const s=this.state.status==="pending",a=!E(this,Di).canStart();try{if(s)r();else{Pe(this,Xn,ma).call(this,{type:"pending",variables:t,isPaused:a}),await((l=(o=E(this,or).config).onMutate)==null?void 0:l.call(o,t,this,n));const z=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,n));z!==this.state.context&&Pe(this,Xn,ma).call(this,{type:"pending",context:z,variables:t,isPaused:a})}const T=await E(this,Di).start();return await((f=(d=E(this,or).config).onSuccess)==null?void 0:f.call(d,T,t,this.state.context,this,n)),await((p=(h=this.options).onSuccess)==null?void 0:p.call(h,T,t,this.state.context,n)),await((g=(b=E(this,or).config).onSettled)==null?void 0:g.call(b,T,null,this.state.variables,this.state.context,this,n)),await((x=(y=this.options).onSettled)==null?void 0:x.call(y,T,null,t,this.state.context,n)),Pe(this,Xn,ma).call(this,{type:"success",data:T}),T}catch(T){try{throw await((w=(v=E(this,or).config).onError)==null?void 0:w.call(v,T,t,this.state.context,this,n)),await((_=(j=this.options).onError)==null?void 0:_.call(j,T,t,this.state.context,n)),await((N=(S=E(this,or).config).onSettled)==null?void 0:N.call(S,void 0,T,this.state.variables,this.state.context,this,n)),await((R=(C=this.options).onSettled)==null?void 0:R.call(C,void 0,T,t,this.state.context,n)),T}finally{Pe(this,Xn,ma).call(this,{type:"error",error:T})}}finally{E(this,or).runNext(this)}}},yu=new WeakMap,Yn=new WeakMap,or=new WeakMap,Di=new WeakMap,Xn=new WeakSet,ma=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Lt.batch(()=>{E(this,Yn).forEach(n=>{n.onMutationUpdate(t)}),E(this,or).notify({mutation:this,type:"updated",action:t})})},h_);function ZN(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ms,Sn,xu,m_,hM=(m_=class extends Ml{constructor(t={}){super();he(this,Ms);he(this,Sn);he(this,xu);this.config=t,se(this,Ms,new Set),se(this,Sn,new Map),se(this,xu,0)}build(t,r,n){const s=new fM({client:t,mutationCache:this,mutationId:++Yu(this,xu)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){E(this,Ms).add(t);const r=pd(t);if(typeof r=="string"){const n=E(this,Sn).get(r);n?n.push(t):E(this,Sn).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(E(this,Ms).delete(t)){const r=pd(t);if(typeof r=="string"){const n=E(this,Sn).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&E(this,Sn).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=pd(t);if(typeof r=="string"){const n=E(this,Sn).get(r),s=n==null?void 0:n.find(a=>a.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=pd(t);if(typeof r=="string"){const s=(n=E(this,Sn).get(r))==null?void 0:n.find(a=>a!==t&&a.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Lt.batch(()=>{E(this,Ms).forEach(t=>{this.notify({type:"removed",mutation:t})}),E(this,Ms).clear(),E(this,Sn).clear()})}getAll(){return Array.from(E(this,Ms))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>F0(r,n))}findAll(t={}){return this.getAll().filter(r=>F0(t,r))}notify(t){Lt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Lt.batch(()=>Promise.all(t.map(r=>r.continue().catch(cr))))}},Ms=new WeakMap,Sn=new WeakMap,xu=new WeakMap,m_);function pd(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Ds,ka,br,Ls,Vs,Qd,Lg,p_,mM=(p_=class extends Ml{constructor(r,n){super();he(this,Vs);he(this,Ds);he(this,ka);he(this,br);he(this,Ls);se(this,Ds,r),this.setOptions(n),this.bindMethods(),Pe(this,Vs,Qd).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=E(this,Ds).defaultMutationOptions(r),Mf(this.options,n)||E(this,Ds).getMutationCache().notify({type:"observerOptionsUpdated",mutation:E(this,br),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Hi(n.mutationKey)!==Hi(this.options.mutationKey)?this.reset():((s=E(this,br))==null?void 0:s.state.status)==="pending"&&E(this,br).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=E(this,br))==null||r.removeObserver(this)}onMutationUpdate(r){Pe(this,Vs,Qd).call(this),Pe(this,Vs,Lg).call(this,r)}getCurrentResult(){return E(this,ka)}reset(){var r;(r=E(this,br))==null||r.removeObserver(this),se(this,br,void 0),Pe(this,Vs,Qd).call(this),Pe(this,Vs,Lg).call(this)}mutate(r,n){var s;return se(this,Ls,n),(s=E(this,br))==null||s.removeObserver(this),se(this,br,E(this,Ds).getMutationCache().build(E(this,Ds),this.options)),E(this,br).addObserver(this),E(this,br).execute(r)}},Ds=new WeakMap,ka=new WeakMap,br=new WeakMap,Ls=new WeakMap,Vs=new WeakSet,Qd=function(){var n;const r=((n=E(this,br))==null?void 0:n.state)??ZN();se(this,ka,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Lg=function(r){Lt.batch(()=>{var n,s,a,o,l,c,u,d;if(E(this,Ls)&&this.hasListeners()){const f=E(this,ka).variables,h=E(this,ka).context,p={client:E(this,Ds),meta:this.options.meta,mutationKey:this.options.mutationKey};(r==null?void 0:r.type)==="success"?((s=(n=E(this,Ls)).onSuccess)==null||s.call(n,r.data,f,h,p),(o=(a=E(this,Ls)).onSettled)==null||o.call(a,r.data,null,f,h,p)):(r==null?void 0:r.type)==="error"&&((c=(l=E(this,Ls)).onError)==null||c.call(l,r.error,f,h,p),(d=(u=E(this,Ls)).onSettled)==null||d.call(u,void 0,r.error,f,h,p))}this.listeners.forEach(f=>{f(E(this,ka))})})},p_),Zn,g_,pM=(g_=class extends Ml{constructor(t={}){super();he(this,Zn);this.config=t,se(this,Zn,new Map)}build(t,r,n){const s=r.queryKey,a=r.queryHash??Ty(s,r);let o=this.get(a);return o||(o=new oM({client:t,queryKey:s,queryHash:a,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){E(this,Zn).has(t.queryHash)||(E(this,Zn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=E(this,Zn).get(t.queryHash);r&&(t.destroy(),r===t&&E(this,Zn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Lt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return E(this,Zn).get(t)}getAll(){return[...E(this,Zn).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>$0(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>$0(t,n)):r}notify(t){Lt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Lt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Lt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Zn=new WeakMap,g_),yt,Ra,Pa,il,ol,Ta,ll,cl,v_,gM=(v_=class{constructor(e={}){he(this,yt);he(this,Ra);he(this,Pa);he(this,il);he(this,ol);he(this,Ta);he(this,ll);he(this,cl);se(this,yt,e.queryCache||new pM),se(this,Ra,e.mutationCache||new hM),se(this,Pa,e.defaultOptions||{}),se(this,il,new Map),se(this,ol,new Map),se(this,Ta,0)}mount(){Yu(this,Ta)._++,E(this,Ta)===1&&(se(this,ll,Oy.subscribe(async e=>{e&&(await this.resumePausedMutations(),E(this,yt).onFocus())})),se(this,cl,Df.subscribe(async e=>{e&&(await this.resumePausedMutations(),E(this,yt).onOnline())})))}unmount(){var e,t;Yu(this,Ta)._--,E(this,Ta)===0&&((e=E(this,ll))==null||e.call(this),se(this,ll,void 0),(t=E(this,cl))==null||t.call(this),se(this,cl,void 0))}isFetching(e){return E(this,yt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return E(this,Ra).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=E(this,yt).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=E(this,yt).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(qa(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return E(this,yt).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=E(this,yt).get(n.queryHash),a=s==null?void 0:s.state.data,o=YI(t,a);if(o!==void 0)return E(this,yt).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return Lt.batch(()=>E(this,yt).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=E(this,yt).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=E(this,yt);Lt.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=E(this,yt);return Lt.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Lt.batch(()=>E(this,yt).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(cr).catch(cr)}invalidateQueries(e,t={}){return Lt.batch(()=>(E(this,yt).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Lt.batch(()=>E(this,yt).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let a=s.fetch(void 0,r);return r.throwOnError||(a=a.catch(cr)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(cr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=E(this,yt).build(this,t);return r.isStaleByTime(qa(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(cr).catch(cr)}fetchInfiniteQuery(e){return e.behavior=W0(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(cr).catch(cr)}ensureInfiniteQueryData(e){return e.behavior=W0(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Df.isOnline()?E(this,Ra).resumePausedMutations():Promise.resolve()}getQueryCache(){return E(this,yt)}getMutationCache(){return E(this,Ra)}getDefaultOptions(){return E(this,Pa)}setDefaultOptions(e){se(this,Pa,e)}setQueryDefaults(e,t){E(this,il).set(Hi(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...E(this,il).values()],r={};return t.forEach(n=>{ru(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){E(this,ol).set(Hi(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...E(this,ol).values()],r={};return t.forEach(n=>{ru(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...E(this,Pa).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Ty(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Ay&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...E(this,Pa).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){E(this,yt).clear(),E(this,Ra).clear()}},yt=new WeakMap,Ra=new WeakMap,Pa=new WeakMap,il=new WeakMap,ol=new WeakMap,Ta=new WeakMap,ll=new WeakMap,cl=new WeakMap,v_),e1=m.createContext(void 0),et=e=>{const t=m.useContext(e1);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},vM=({client:e,children:t})=>(m.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),i.jsx(e1.Provider,{value:e,children:t})),t1=m.createContext(!1),yM=()=>m.useContext(t1);t1.Provider;function xM(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var wM=m.createContext(xM()),bM=()=>m.useContext(wM),jM=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},_M=e=>{m.useEffect(()=>{e.clearReset()},[e])},SM=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(s&&e.data===void 0||KN(r,[e.error,n])),NM=e=>{if(e.suspense){const r=s=>s==="static"?s:Math.max(s??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...s)=>r(n(...s)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},EM=(e,t)=>e.isLoading&&e.isFetching&&!t,CM=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,K0=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function kM(e,t,r){var f,h,p,b,g;const n=yM(),s=bM(),a=et(),o=a.defaultQueryOptions(e);(h=(f=a.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,o),o._optimisticResults=n?"isRestoring":"optimistic",NM(o),jM(o,s),_M(s);const l=!a.getQueryCache().get(o.queryHash),[c]=m.useState(()=>new t(a,o)),u=c.getOptimisticResult(o),d=!n&&e.subscribed!==!1;if(m.useSyncExternalStore(m.useCallback(y=>{const x=d?c.subscribe(Lt.batchCalls(y)):cr;return c.updateResult(),x},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),m.useEffect(()=>{c.setOptions(o)},[o,c]),CM(o,u))throw K0(o,c,s);if(SM({result:u,errorResetBoundary:s,throwOnError:o.throwOnError,query:a.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((b=(p=a.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||b.call(p,o,u),o.experimental_prefetchInRender&&!Wi&&EM(u,n)){const y=l?K0(o,c,s):(g=a.getQueryCache().get(o.queryHash))==null?void 0:g.promise;y==null||y.catch(cr).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function Ut(e,t){return kM(e,lM)}function lt(e,t){const r=et(),[n]=m.useState(()=>new mM(r,e));m.useEffect(()=>{n.setOptions(e)},[n,e]);const s=m.useSyncExternalStore(m.useCallback(o=>n.subscribe(Lt.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=m.useCallback((o,l)=>{n.mutate(o,l).catch(cr)},[n]);if(s.error&&KN(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:a,mutateAsync:s.mutate}}const RM=new gM({defaultOptions:{queries:{staleTime:60*1e3,gcTime:300*1e3,retry:1,refetchOnWindowFocus:!1},mutations:{retry:0}}});function PM({children:e}){return i.jsx(vM,{client:RM,children:e})}const TM="modulepreload",AM=function(e){return"/"+e},G0={},ao=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=AM(c),c in G0)return;G0[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":TM,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})};function r1(e,t){return function(){return e.apply(t,arguments)}}const{toString:OM}=Object.prototype,{getPrototypeOf:My}=Object,{iterator:Ch,toStringTag:n1}=Symbol,kh=(e=>t=>{const r=OM.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Ln=e=>(e=e.toLowerCase(),t=>kh(t)===e),Rh=e=>t=>typeof t===e,{isArray:Dl}=Array,vl=Rh("undefined");function Eu(e){return e!==null&&!vl(e)&&e.constructor!==null&&!vl(e.constructor)&&Tr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const s1=Ln("ArrayBuffer");function IM(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&s1(e.buffer),t}const MM=Rh("string"),Tr=Rh("function"),a1=Rh("number"),Cu=e=>e!==null&&typeof e=="object",DM=e=>e===!0||e===!1,Jd=e=>{if(kh(e)!=="object")return!1;const t=My(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(n1 in e)&&!(Ch in e)},LM=e=>{if(!Cu(e)||Eu(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},$M=Ln("Date"),FM=Ln("File"),UM=Ln("Blob"),zM=Ln("FileList"),BM=e=>Cu(e)&&Tr(e.pipe),VM=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Tr(e.append)&&((t=kh(e))==="formdata"||t==="object"&&Tr(e.toString)&&e.toString()==="[object FormData]"))},qM=Ln("URLSearchParams"),[WM,HM,KM,GM]=["ReadableStream","Request","Response","Headers"].map(Ln),QM=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ku(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,s;if(typeof e!="object"&&(e=[e]),Dl(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{if(Eu(e))return;const a=r?Object.getOwnPropertyNames(e):Object.keys(e),o=a.length;let l;for(n=0;n<o;n++)l=a[n],t.call(null,e[l],l,e)}}function i1(e,t){if(Eu(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,s;for(;n-- >0;)if(s=r[n],t===s.toLowerCase())return s;return null}const Ni=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,o1=e=>!vl(e)&&e!==Ni;function $g(){const{caseless:e,skipUndefined:t}=o1(this)&&this||{},r={},n=(s,a)=>{const o=e&&i1(r,a)||a;Jd(r[o])&&Jd(s)?r[o]=$g(r[o],s):Jd(s)?r[o]=$g({},s):Dl(s)?r[o]=s.slice():(!t||!vl(s))&&(r[o]=s)};for(let s=0,a=arguments.length;s<a;s++)arguments[s]&&ku(arguments[s],n);return r}const JM=(e,t,r,{allOwnKeys:n}={})=>(ku(t,(s,a)=>{r&&Tr(s)?e[a]=r1(s,r):e[a]=s},{allOwnKeys:n}),e),YM=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),XM=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},ZM=(e,t,r,n)=>{let s,a,o;const l={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),a=s.length;a-- >0;)o=s[a],(!n||n(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=r!==!1&&My(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},eD=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},tD=e=>{if(!e)return null;if(Dl(e))return e;let t=e.length;if(!a1(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},rD=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&My(Uint8Array)),nD=(e,t)=>{const n=(e&&e[Ch]).call(e);let s;for(;(s=n.next())&&!s.done;){const a=s.value;t.call(e,a[0],a[1])}},sD=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},aD=Ln("HTMLFormElement"),iD=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),Q0=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),oD=Ln("RegExp"),l1=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};ku(r,(s,a)=>{let o;(o=t(s,a,e))!==!1&&(n[a]=o||s)}),Object.defineProperties(e,n)},lD=e=>{l1(e,(t,r)=>{if(Tr(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Tr(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},cD=(e,t)=>{const r={},n=s=>{s.forEach(a=>{r[a]=!0})};return Dl(e)?n(e):n(String(e).split(t)),r},uD=()=>{},dD=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function fD(e){return!!(e&&Tr(e.append)&&e[n1]==="FormData"&&e[Ch])}const hD=e=>{const t=new Array(10),r=(n,s)=>{if(Cu(n)){if(t.indexOf(n)>=0)return;if(Eu(n))return n;if(!("toJSON"in n)){t[s]=n;const a=Dl(n)?[]:{};return ku(n,(o,l)=>{const c=r(o,s+1);!vl(c)&&(a[l]=c)}),t[s]=void 0,a}}return n};return r(e,0)},mD=Ln("AsyncFunction"),pD=e=>e&&(Cu(e)||Tr(e))&&Tr(e.then)&&Tr(e.catch),c1=((e,t)=>e?setImmediate:t?((r,n)=>(Ni.addEventListener("message",({source:s,data:a})=>{s===Ni&&a===r&&n.length&&n.shift()()},!1),s=>{n.push(s),Ni.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Tr(Ni.postMessage)),gD=typeof queueMicrotask<"u"?queueMicrotask.bind(Ni):typeof process<"u"&&process.nextTick||c1,vD=e=>e!=null&&Tr(e[Ch]),L={isArray:Dl,isArrayBuffer:s1,isBuffer:Eu,isFormData:VM,isArrayBufferView:IM,isString:MM,isNumber:a1,isBoolean:DM,isObject:Cu,isPlainObject:Jd,isEmptyObject:LM,isReadableStream:WM,isRequest:HM,isResponse:KM,isHeaders:GM,isUndefined:vl,isDate:$M,isFile:FM,isBlob:UM,isRegExp:oD,isFunction:Tr,isStream:BM,isURLSearchParams:qM,isTypedArray:rD,isFileList:zM,forEach:ku,merge:$g,extend:JM,trim:QM,stripBOM:YM,inherits:XM,toFlatObject:ZM,kindOf:kh,kindOfTest:Ln,endsWith:eD,toArray:tD,forEachEntry:nD,matchAll:sD,isHTMLForm:aD,hasOwnProperty:Q0,hasOwnProp:Q0,reduceDescriptors:l1,freezeMethods:lD,toObjectSet:cD,toCamelCase:iD,noop:uD,toFiniteNumber:dD,findKey:i1,global:Ni,isContextDefined:o1,isSpecCompliantForm:fD,toJSONObject:hD,isAsyncFn:mD,isThenable:pD,setImmediate:c1,asap:gD,isIterable:vD};function Ce(e,t,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}L.inherits(Ce,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:L.toJSONObject(this.config),code:this.code,status:this.status}}});const u1=Ce.prototype,d1={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{d1[e]={value:e}});Object.defineProperties(Ce,d1);Object.defineProperty(u1,"isAxiosError",{value:!0});Ce.from=(e,t,r,n,s,a)=>{const o=Object.create(u1);L.toFlatObject(e,o,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return Ce.call(o,l,c,r,n,s),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",a&&Object.assign(o,a),o};const yD=null;function Fg(e){return L.isPlainObject(e)||L.isArray(e)}function f1(e){return L.endsWith(e,"[]")?e.slice(0,-2):e}function J0(e,t,r){return e?e.concat(t).map(function(s,a){return s=f1(s),!r&&a?"["+s+"]":s}).join(r?".":""):t}function xD(e){return L.isArray(e)&&!e.some(Fg)}const wD=L.toFlatObject(L,{},null,function(t){return/^is[A-Z]/.test(t)});function Ph(e,t,r){if(!L.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=L.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,y){return!L.isUndefined(y[g])});const n=r.metaTokens,s=r.visitor||d,a=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&L.isSpecCompliantForm(t);if(!L.isFunction(s))throw new TypeError("visitor must be a function");function u(b){if(b===null)return"";if(L.isDate(b))return b.toISOString();if(L.isBoolean(b))return b.toString();if(!c&&L.isBlob(b))throw new Ce("Blob is not supported. Use a Buffer instead.");return L.isArrayBuffer(b)||L.isTypedArray(b)?c&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function d(b,g,y){let x=b;if(b&&!y&&typeof b=="object"){if(L.endsWith(g,"{}"))g=n?g:g.slice(0,-2),b=JSON.stringify(b);else if(L.isArray(b)&&xD(b)||(L.isFileList(b)||L.endsWith(g,"[]"))&&(x=L.toArray(b)))return g=f1(g),x.forEach(function(w,j){!(L.isUndefined(w)||w===null)&&t.append(o===!0?J0([g],j,a):o===null?g:g+"[]",u(w))}),!1}return Fg(b)?!0:(t.append(J0(y,g,a),u(b)),!1)}const f=[],h=Object.assign(wD,{defaultVisitor:d,convertValue:u,isVisitable:Fg});function p(b,g){if(!L.isUndefined(b)){if(f.indexOf(b)!==-1)throw Error("Circular reference detected in "+g.join("."));f.push(b),L.forEach(b,function(x,v){(!(L.isUndefined(x)||x===null)&&s.call(t,x,L.isString(v)?v.trim():v,g,h))===!0&&p(x,g?g.concat(v):[v])}),f.pop()}}if(!L.isObject(e))throw new TypeError("data must be an object");return p(e),t}function Y0(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Dy(e,t){this._pairs=[],e&&Ph(e,this,t)}const h1=Dy.prototype;h1.append=function(t,r){this._pairs.push([t,r])};h1.toString=function(t){const r=t?function(n){return t.call(this,n,Y0)}:Y0;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function bD(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function m1(e,t,r){if(!t)return e;const n=r&&r.encode||bD;L.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let a;if(s?a=s(t,r):a=L.isURLSearchParams(t)?t.toString():new Dy(t,r).toString(n),a){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class X0{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){L.forEach(this.handlers,function(n){n!==null&&t(n)})}}const p1={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},jD=typeof URLSearchParams<"u"?URLSearchParams:Dy,_D=typeof FormData<"u"?FormData:null,SD=typeof Blob<"u"?Blob:null,ND={isBrowser:!0,classes:{URLSearchParams:jD,FormData:_D,Blob:SD},protocols:["http","https","file","blob","url","data"]},Ly=typeof window<"u"&&typeof document<"u",Ug=typeof navigator=="object"&&navigator||void 0,ED=Ly&&(!Ug||["ReactNative","NativeScript","NS"].indexOf(Ug.product)<0),CD=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",kD=Ly&&window.location.href||"http://localhost",RD=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ly,hasStandardBrowserEnv:ED,hasStandardBrowserWebWorkerEnv:CD,navigator:Ug,origin:kD},Symbol.toStringTag,{value:"Module"})),rr={...RD,...ND};function PD(e,t){return Ph(e,new rr.classes.URLSearchParams,{visitor:function(r,n,s,a){return rr.isNode&&L.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function TD(e){return L.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function AD(e){const t={},r=Object.keys(e);let n;const s=r.length;let a;for(n=0;n<s;n++)a=r[n],t[a]=e[a];return t}function g1(e){function t(r,n,s,a){let o=r[a++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=a>=r.length;return o=!o&&L.isArray(s)?s.length:o,c?(L.hasOwnProp(s,o)?s[o]=[s[o],n]:s[o]=n,!l):((!s[o]||!L.isObject(s[o]))&&(s[o]=[]),t(r,n,s[o],a)&&L.isArray(s[o])&&(s[o]=AD(s[o])),!l)}if(L.isFormData(e)&&L.isFunction(e.entries)){const r={};return L.forEachEntry(e,(n,s)=>{t(TD(n),s,r,0)}),r}return null}function OD(e,t,r){if(L.isString(e))try{return(t||JSON.parse)(e),L.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Ru={transitional:p1,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,a=L.isObject(t);if(a&&L.isHTMLForm(t)&&(t=new FormData(t)),L.isFormData(t))return s?JSON.stringify(g1(t)):t;if(L.isArrayBuffer(t)||L.isBuffer(t)||L.isStream(t)||L.isFile(t)||L.isBlob(t)||L.isReadableStream(t))return t;if(L.isArrayBufferView(t))return t.buffer;if(L.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return PD(t,this.formSerializer).toString();if((l=L.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Ph(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return a||s?(r.setContentType("application/json",!1),OD(t)):t}],transformResponse:[function(t){const r=this.transitional||Ru.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(L.isResponse(t)||L.isReadableStream(t))return t;if(t&&L.isString(t)&&(n&&!this.responseType||s)){const o=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?Ce.from(l,Ce.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:rr.classes.FormData,Blob:rr.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};L.forEach(["delete","get","head","post","put","patch"],e=>{Ru.headers[e]={}});const ID=L.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),MD=e=>{const t={};let r,n,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),r=o.substring(0,s).trim().toLowerCase(),n=o.substring(s+1).trim(),!(!r||t[r]&&ID[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},Z0=Symbol("internals");function nc(e){return e&&String(e).trim().toLowerCase()}function Yd(e){return e===!1||e==null?e:L.isArray(e)?e.map(Yd):String(e)}function DD(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const LD=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Jm(e,t,r,n,s){if(L.isFunction(n))return n.call(this,t,r);if(s&&(t=r),!!L.isString(t)){if(L.isString(n))return t.indexOf(n)!==-1;if(L.isRegExp(n))return n.test(t)}}function $D(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function FD(e,t){const r=L.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(s,a,o){return this[n].call(this,t,s,a,o)},configurable:!0})})}let Ar=class{constructor(t){t&&this.set(t)}set(t,r,n){const s=this;function a(l,c,u){const d=nc(c);if(!d)throw new Error("header name must be a non-empty string");const f=L.findKey(s,d);(!f||s[f]===void 0||u===!0||u===void 0&&s[f]!==!1)&&(s[f||c]=Yd(l))}const o=(l,c)=>L.forEach(l,(u,d)=>a(u,d,c));if(L.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(L.isString(t)&&(t=t.trim())&&!LD(t))o(MD(t),r);else if(L.isObject(t)&&L.isIterable(t)){let l={},c,u;for(const d of t){if(!L.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?L.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}o(l,r)}else t!=null&&a(r,t,n);return this}get(t,r){if(t=nc(t),t){const n=L.findKey(this,t);if(n){const s=this[n];if(!r)return s;if(r===!0)return DD(s);if(L.isFunction(r))return r.call(this,s,n);if(L.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=nc(t),t){const n=L.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Jm(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let s=!1;function a(o){if(o=nc(o),o){const l=L.findKey(n,o);l&&(!r||Jm(n,n[l],l,r))&&(delete n[l],s=!0)}}return L.isArray(t)?t.forEach(a):a(t),s}clear(t){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const a=r[n];(!t||Jm(this,this[a],a,t,!0))&&(delete this[a],s=!0)}return s}normalize(t){const r=this,n={};return L.forEach(this,(s,a)=>{const o=L.findKey(n,a);if(o){r[o]=Yd(s),delete r[a];return}const l=t?$D(a):String(a).trim();l!==a&&delete r[a],r[l]=Yd(s),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return L.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=t&&L.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(s=>n.set(s)),n}static accessor(t){const n=(this[Z0]=this[Z0]={accessors:{}}).accessors,s=this.prototype;function a(o){const l=nc(o);n[l]||(FD(s,o),n[l]=!0)}return L.isArray(t)?t.forEach(a):a(t),this}};Ar.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);L.reduceDescriptors(Ar.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});L.freezeMethods(Ar);function Ym(e,t){const r=this||Ru,n=t||r,s=Ar.from(n.headers);let a=n.data;return L.forEach(e,function(l){a=l.call(r,a,s.normalize(),t?t.status:void 0)}),s.normalize(),a}function v1(e){return!!(e&&e.__CANCEL__)}function Ll(e,t,r){Ce.call(this,e??"canceled",Ce.ERR_CANCELED,t,r),this.name="CanceledError"}L.inherits(Ll,Ce,{__CANCEL__:!0});function y1(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new Ce("Request failed with status code "+r.status,[Ce.ERR_BAD_REQUEST,Ce.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function UD(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function zD(e,t){e=e||10;const r=new Array(e),n=new Array(e);let s=0,a=0,o;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=n[a];o||(o=u),r[s]=c,n[s]=u;let f=a,h=0;for(;f!==s;)h+=r[f++],f=f%e;if(s=(s+1)%e,s===a&&(a=(a+1)%e),u-o<t)return;const p=d&&u-d;return p?Math.round(h*1e3/p):void 0}}function BD(e,t){let r=0,n=1e3/t,s,a;const o=(u,d=Date.now())=>{r=d,s=null,a&&(clearTimeout(a),a=null),e(...u)};return[(...u)=>{const d=Date.now(),f=d-r;f>=n?o(u,d):(s=u,a||(a=setTimeout(()=>{a=null,o(s)},n-f)))},()=>s&&o(s)]}const Lf=(e,t,r=3)=>{let n=0;const s=zD(50,250);return BD(a=>{const o=a.loaded,l=a.lengthComputable?a.total:void 0,c=o-n,u=s(c),d=o<=l;n=o;const f={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-o)/u:void 0,event:a,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},r)},eb=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},tb=e=>(...t)=>L.asap(()=>e(...t)),VD=rr.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,rr.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(rr.origin),rr.navigator&&/(msie|trident)/i.test(rr.navigator.userAgent)):()=>!0,qD=rr.hasStandardBrowserEnv?{write(e,t,r,n,s,a){const o=[e+"="+encodeURIComponent(t)];L.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),L.isString(n)&&o.push("path="+n),L.isString(s)&&o.push("domain="+s),a===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function WD(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function HD(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function x1(e,t,r){let n=!WD(t);return e&&(n||r==!1)?HD(e,t):t}const rb=e=>e instanceof Ar?{...e}:e;function Ki(e,t){t=t||{};const r={};function n(u,d,f,h){return L.isPlainObject(u)&&L.isPlainObject(d)?L.merge.call({caseless:h},u,d):L.isPlainObject(d)?L.merge({},d):L.isArray(d)?d.slice():d}function s(u,d,f,h){if(L.isUndefined(d)){if(!L.isUndefined(u))return n(void 0,u,f,h)}else return n(u,d,f,h)}function a(u,d){if(!L.isUndefined(d))return n(void 0,d)}function o(u,d){if(L.isUndefined(d)){if(!L.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function l(u,d,f){if(f in t)return n(u,d);if(f in e)return n(void 0,u)}const c={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,d,f)=>s(rb(u),rb(d),f,!0)};return L.forEach(Object.keys({...e,...t}),function(d){const f=c[d]||s,h=f(e[d],t[d],d);L.isUndefined(h)&&f!==l||(r[d]=h)}),r}const w1=e=>{const t=Ki({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:a,headers:o,auth:l}=t;if(t.headers=o=Ar.from(o),t.url=m1(x1(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),L.isFormData(r)){if(rr.hasStandardBrowserEnv||rr.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(L.isFunction(r.getHeaders)){const c=r.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,f])=>{u.includes(d.toLowerCase())&&o.set(d,f)})}}if(rr.hasStandardBrowserEnv&&(n&&L.isFunction(n)&&(n=n(t)),n||n!==!1&&VD(t.url))){const c=s&&a&&qD.read(a);c&&o.set(s,c)}return t},KD=typeof XMLHttpRequest<"u",GD=KD&&function(e){return new Promise(function(r,n){const s=w1(e);let a=s.data;const o=Ar.from(s.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=s,d,f,h,p,b;function g(){p&&p(),b&&b(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let y=new XMLHttpRequest;y.open(s.method.toUpperCase(),s.url,!0),y.timeout=s.timeout;function x(){if(!y)return;const w=Ar.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),_={data:!l||l==="text"||l==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:w,config:e,request:y};y1(function(N){r(N),g()},function(N){n(N),g()},_),y=null}"onloadend"in y?y.onloadend=x:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(x)},y.onabort=function(){y&&(n(new Ce("Request aborted",Ce.ECONNABORTED,e,y)),y=null)},y.onerror=function(j){const _=j&&j.message?j.message:"Network Error",S=new Ce(_,Ce.ERR_NETWORK,e,y);S.event=j||null,n(S),y=null},y.ontimeout=function(){let j=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const _=s.transitional||p1;s.timeoutErrorMessage&&(j=s.timeoutErrorMessage),n(new Ce(j,_.clarifyTimeoutError?Ce.ETIMEDOUT:Ce.ECONNABORTED,e,y)),y=null},a===void 0&&o.setContentType(null),"setRequestHeader"in y&&L.forEach(o.toJSON(),function(j,_){y.setRequestHeader(_,j)}),L.isUndefined(s.withCredentials)||(y.withCredentials=!!s.withCredentials),l&&l!=="json"&&(y.responseType=s.responseType),u&&([h,b]=Lf(u,!0),y.addEventListener("progress",h)),c&&y.upload&&([f,p]=Lf(c),y.upload.addEventListener("progress",f),y.upload.addEventListener("loadend",p)),(s.cancelToken||s.signal)&&(d=w=>{y&&(n(!w||w.type?new Ll(null,e,y):w),y.abort(),y=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const v=UD(s.url);if(v&&rr.protocols.indexOf(v)===-1){n(new Ce("Unsupported protocol "+v+":",Ce.ERR_BAD_REQUEST,e));return}y.send(a||null)})},QD=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,s;const a=function(u){if(!s){s=!0,l();const d=u instanceof Error?u:this.reason;n.abort(d instanceof Ce?d:new Ll(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,a(new Ce(`timeout ${t} of ms exceeded`,Ce.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(a):u.removeEventListener("abort",a)}),e=null)};e.forEach(u=>u.addEventListener("abort",a));const{signal:c}=n;return c.unsubscribe=()=>L.asap(l),c}},JD=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,s;for(;n<r;)s=n+t,yield e.slice(n,s),n=s},YD=async function*(e,t){for await(const r of XD(e))yield*JD(r,t)},XD=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},nb=(e,t,r,n)=>{const s=YD(e,t);let a=0,o,l=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await s.next();if(u){l(),c.close();return}let f=d.byteLength;if(r){let h=a+=f;r(h)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),s.return()}},{highWaterMark:2})},sb=64*1024,{isFunction:gd}=L,ZD=(({Request:e,Response:t})=>({Request:e,Response:t}))(L.global),{ReadableStream:ab,TextEncoder:ib}=L.global,ob=(e,...t)=>{try{return!!e(...t)}catch{return!1}},e4=e=>{e=L.merge.call({skipUndefined:!0},ZD,e);const{fetch:t,Request:r,Response:n}=e,s=t?gd(t):typeof fetch=="function",a=gd(r),o=gd(n);if(!s)return!1;const l=s&&gd(ab),c=s&&(typeof ib=="function"?(b=>g=>b.encode(g))(new ib):async b=>new Uint8Array(await new r(b).arrayBuffer())),u=a&&l&&ob(()=>{let b=!1;const g=new r(rr.origin,{body:new ab,method:"POST",get duplex(){return b=!0,"half"}}).headers.has("Content-Type");return b&&!g}),d=o&&l&&ob(()=>L.isReadableStream(new n("").body)),f={stream:d&&(b=>b.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(b=>{!f[b]&&(f[b]=(g,y)=>{let x=g&&g[b];if(x)return x.call(g);throw new Ce(`Response type '${b}' is not supported`,Ce.ERR_NOT_SUPPORT,y)})});const h=async b=>{if(b==null)return 0;if(L.isBlob(b))return b.size;if(L.isSpecCompliantForm(b))return(await new r(rr.origin,{method:"POST",body:b}).arrayBuffer()).byteLength;if(L.isArrayBufferView(b)||L.isArrayBuffer(b))return b.byteLength;if(L.isURLSearchParams(b)&&(b=b+""),L.isString(b))return(await c(b)).byteLength},p=async(b,g)=>{const y=L.toFiniteNumber(b.getContentLength());return y??h(g)};return async b=>{let{url:g,method:y,data:x,signal:v,cancelToken:w,timeout:j,onDownloadProgress:_,onUploadProgress:S,responseType:N,headers:C,withCredentials:R="same-origin",fetchOptions:T}=w1(b),z=t||fetch;N=N?(N+"").toLowerCase():"text";let D=QD([v,w&&w.toAbortSignal()],j),q=null;const F=D&&D.unsubscribe&&(()=>{D.unsubscribe()});let M;try{if(S&&u&&y!=="get"&&y!=="head"&&(M=await p(C,x))!==0){let ie=new r(g,{method:"POST",body:x,duplex:"half"}),ne;if(L.isFormData(x)&&(ne=ie.headers.get("content-type"))&&C.setContentType(ne),ie.body){const[ge,me]=eb(M,Lf(tb(S)));x=nb(ie.body,sb,ge,me)}}L.isString(R)||(R=R?"include":"omit");const V=a&&"credentials"in r.prototype,Z={...T,signal:D,method:y.toUpperCase(),headers:C.normalize().toJSON(),body:x,duplex:"half",credentials:V?R:void 0};q=a&&new r(g,Z);let I=await(a?z(q,T):z(g,Z));const A=d&&(N==="stream"||N==="response");if(d&&(_||A&&F)){const ie={};["status","statusText","headers"].forEach(Ve=>{ie[Ve]=I[Ve]});const ne=L.toFiniteNumber(I.headers.get("content-length")),[ge,me]=_&&eb(ne,Lf(tb(_),!0))||[];I=new n(nb(I.body,sb,ge,()=>{me&&me(),F&&F()}),ie)}N=N||"text";let H=await f[L.findKey(f,N)||"text"](I,b);return!A&&F&&F(),await new Promise((ie,ne)=>{y1(ie,ne,{data:H,headers:Ar.from(I.headers),status:I.status,statusText:I.statusText,config:b,request:q})})}catch(V){throw F&&F(),V&&V.name==="TypeError"&&/Load failed|fetch/i.test(V.message)?Object.assign(new Ce("Network Error",Ce.ERR_NETWORK,b,q),{cause:V.cause||V}):Ce.from(V,V&&V.code,b,q)}}},t4=new Map,b1=e=>{let t=e?e.env:{};const{fetch:r,Request:n,Response:s}=t,a=[n,s,r];let o=a.length,l=o,c,u,d=t4;for(;l--;)c=a[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:e4(t)),d=u;return u};b1();const zg={http:yD,xhr:GD,fetch:{get:b1}};L.forEach(zg,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const lb=e=>`- ${e}`,r4=e=>L.isFunction(e)||e===null||e===!1,j1={getAdapter:(e,t)=>{e=L.isArray(e)?e:[e];const{length:r}=e;let n,s;const a={};for(let o=0;o<r;o++){n=e[o];let l;if(s=n,!r4(n)&&(s=zg[(l=String(n)).toLowerCase()],s===void 0))throw new Ce(`Unknown adapter '${l}'`);if(s&&(L.isFunction(s)||(s=s.get(t))))break;a[l||"#"+o]=s}if(!s){const o=Object.entries(a).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=r?o.length>1?`since :
`+o.map(lb).join(`
`):" "+lb(o[0]):"as no adapter specified";throw new Ce("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s},adapters:zg};function Xm(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ll(null,e)}function cb(e){return Xm(e),e.headers=Ar.from(e.headers),e.data=Ym.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),j1.getAdapter(e.adapter||Ru.adapter,e)(e).then(function(n){return Xm(e),n.data=Ym.call(e,e.transformResponse,n),n.headers=Ar.from(n.headers),n},function(n){return v1(n)||(Xm(e),n&&n.response&&(n.response.data=Ym.call(e,e.transformResponse,n.response),n.response.headers=Ar.from(n.response.headers))),Promise.reject(n)})}const _1="1.12.2",Th={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Th[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const ub={};Th.transitional=function(t,r,n){function s(a,o){return"[Axios v"+_1+"] Transitional option '"+a+"'"+o+(n?". "+n:"")}return(a,o,l)=>{if(t===!1)throw new Ce(s(o," has been removed"+(r?" in "+r:"")),Ce.ERR_DEPRECATED);return r&&!ub[o]&&(ub[o]=!0,console.warn(s(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(a,o,l):!0}};Th.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function n4(e,t,r){if(typeof e!="object")throw new Ce("options must be an object",Ce.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const a=n[s],o=t[a];if(o){const l=e[a],c=l===void 0||o(l,a,e);if(c!==!0)throw new Ce("option "+a+" must be "+c,Ce.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Ce("Unknown option "+a,Ce.ERR_BAD_OPTION)}}const Xd={assertOptions:n4,validators:Th},qn=Xd.validators;let Fi=class{constructor(t){this.defaults=t||{},this.interceptors={request:new X0,response:new X0}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const a=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Ki(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:a}=r;n!==void 0&&Xd.assertOptions(n,{silentJSONParsing:qn.transitional(qn.boolean),forcedJSONParsing:qn.transitional(qn.boolean),clarifyTimeoutError:qn.transitional(qn.boolean)},!1),s!=null&&(L.isFunction(s)?r.paramsSerializer={serialize:s}:Xd.assertOptions(s,{encode:qn.function,serialize:qn.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Xd.assertOptions(r,{baseUrl:qn.spelling("baseURL"),withXsrfToken:qn.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=a&&L.merge(a.common,a[r.method]);a&&L.forEach(["delete","get","head","post","put","patch","common"],b=>{delete a[b]}),r.headers=Ar.concat(o,a);const l=[];let c=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(r)===!1||(c=c&&g.synchronous,l.unshift(g.fulfilled,g.rejected))});const u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let d,f=0,h;if(!c){const b=[cb.bind(this),void 0];for(b.unshift(...l),b.push(...u),h=b.length,d=Promise.resolve(r);f<h;)d=d.then(b[f++],b[f++]);return d}h=l.length;let p=r;for(;f<h;){const b=l[f++],g=l[f++];try{p=b(p)}catch(y){g.call(this,y);break}}try{d=cb.call(this,p)}catch(b){return Promise.reject(b)}for(f=0,h=u.length;f<h;)d=d.then(u[f++],u[f++]);return d}getUri(t){t=Ki(this.defaults,t);const r=x1(t.baseURL,t.url,t.allowAbsoluteUrls);return m1(r,t.params,t.paramsSerializer)}};L.forEach(["delete","get","head","options"],function(t){Fi.prototype[t]=function(r,n){return this.request(Ki(n||{},{method:t,url:r,data:(n||{}).data}))}});L.forEach(["post","put","patch"],function(t){function r(n){return function(a,o,l){return this.request(Ki(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}Fi.prototype[t]=r(),Fi.prototype[t+"Form"]=r(!0)});let s4=class S1{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(s=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](s);n._listeners=null}),this.promise.then=s=>{let a;const o=new Promise(l=>{n.subscribe(l),a=l}).then(s);return o.cancel=function(){n.unsubscribe(a)},o},t(function(a,o,l){n.reason||(n.reason=new Ll(a,o,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new S1(function(s){t=s}),cancel:t}}};function a4(e){return function(r){return e.apply(null,r)}}function i4(e){return L.isObject(e)&&e.isAxiosError===!0}const Bg={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Bg).forEach(([e,t])=>{Bg[t]=e});function N1(e){const t=new Fi(e),r=r1(Fi.prototype.request,t);return L.extend(r,Fi.prototype,t,{allOwnKeys:!0}),L.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return N1(Ki(e,s))},r}const Ze=N1(Ru);Ze.Axios=Fi;Ze.CanceledError=Ll;Ze.CancelToken=s4;Ze.isCancel=v1;Ze.VERSION=_1;Ze.toFormData=Ph;Ze.AxiosError=Ce;Ze.Cancel=Ze.CanceledError;Ze.all=function(t){return Promise.all(t)};Ze.spread=a4;Ze.isAxiosError=i4;Ze.mergeConfig=Ki;Ze.AxiosHeaders=Ar;Ze.formToJSON=e=>g1(L.isHTMLForm(e)?new FormData(e):e);Ze.getAdapter=j1.getAdapter;Ze.HttpStatusCode=Bg;Ze.default=Ze;const{Axios:HH,AxiosError:KH,CanceledError:GH,isCancel:QH,CancelToken:JH,VERSION:YH,all:XH,Cancel:ZH,isAxiosError:e7,spread:t7,toFormData:r7,AxiosHeaders:n7,HttpStatusCode:s7,formToJSON:a7,getAdapter:i7,mergeConfig:o7}=Ze;var Vg=function(e,t){return Vg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},Vg(e,t)};function E1(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Vg(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var tn=function(){return tn=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},tn.apply(this,arguments)};function li(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function C1(e,t,r,n){var s=arguments.length,a=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,r,n);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(a=(s<3?o(a):s>3?o(t,r,a):o(t,r))||a);return s>3&&a&&Object.defineProperty(t,r,a),a}function k1(e,t){return function(r,n){t(r,n,e)}}function R1(e,t,r,n,s,a){function o(x){if(x!==void 0&&typeof x!="function")throw new TypeError("Function expected");return x}for(var l=n.kind,c=l==="getter"?"get":l==="setter"?"set":"value",u=!t&&e?n.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),f,h=!1,p=r.length-1;p>=0;p--){var b={};for(var g in n)b[g]=g==="access"?{}:n[g];for(var g in n.access)b.access[g]=n.access[g];b.addInitializer=function(x){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(o(x||null))};var y=(0,r[p])(l==="accessor"?{get:d.get,set:d.set}:d[c],b);if(l==="accessor"){if(y===void 0)continue;if(y===null||typeof y!="object")throw new TypeError("Object expected");(f=o(y.get))&&(d.get=f),(f=o(y.set))&&(d.set=f),(f=o(y.init))&&s.unshift(f)}else(f=o(y))&&(l==="field"?s.unshift(f):d[c]=f)}u&&Object.defineProperty(u,n.name,d),h=!0}function P1(e,t,r){for(var n=arguments.length>2,s=0;s<t.length;s++)r=n?t[s].call(e,r):t[s].call(e);return n?r:void 0}function T1(e){return typeof e=="symbol"?e:"".concat(e)}function A1(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function O1(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function ue(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function I1(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,s,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=l(0),o.throw=l(1),o.return=l(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(d){return c([u,d])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,s&&(a=u[0]&2?s.return:u[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,u[1])).done)return a;switch(s=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(d){u=[6,d],s=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Ah=Object.create?(function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]});function M1(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Ah(t,e,r)}function $f(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function $y(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,a=[],o;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)a.push(s.value)}catch(l){o={error:l}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a}function D1(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat($y(arguments[t]));return e}function L1(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),s=0,t=0;t<r;t++)for(var a=arguments[t],o=0,l=a.length;o<l;o++,s++)n[s]=a[o];return n}function Fy(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,a;n<s;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}function yl(e){return this instanceof yl?(this.v=e,this):new yl(e)}function $1(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,a=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(p){return function(b){return Promise.resolve(b).then(p,f)}}function l(p,b){n[p]&&(s[p]=function(g){return new Promise(function(y,x){a.push([p,g,y,x])>1||c(p,g)})},b&&(s[p]=b(s[p])))}function c(p,b){try{u(n[p](b))}catch(g){h(a[0][3],g)}}function u(p){p.value instanceof yl?Promise.resolve(p.value.v).then(d,f):h(a[0][2],p)}function d(p){c("next",p)}function f(p){c("throw",p)}function h(p,b){p(b),a.shift(),a.length&&c(a[0][0],a[0][1])}}function F1(e){var t,r;return t={},n("next"),n("throw",function(s){throw s}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(s,a){t[s]=e[s]?function(o){return(r=!r)?{value:yl(e[s](o)),done:!1}:a?a(o):o}:a}}function U1(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof $f=="function"?$f(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(a){r[a]=e[a]&&function(o){return new Promise(function(l,c){o=e[a](o),s(l,c,o.done,o.value)})}}function s(a,o,l,c){Promise.resolve(c).then(function(u){a({value:u,done:l})},o)}}function z1(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var o4=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},qg=function(e){return qg=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},qg(e)};function B1(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=qg(e),n=0;n<r.length;n++)r[n]!=="default"&&Ah(t,e,r[n]);return o4(t,e),t}function V1(e){return e&&e.__esModule?e:{default:e}}function q1(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function W1(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r}function H1(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function K1(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(a){return Promise.reject(a)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var l4=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function G1(e){function t(a){e.error=e.hasError?new l4(a,e.error,"An error was suppressed during disposal."):a,e.hasError=!0}var r,n=0;function s(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(s);if(r.dispose){var a=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(a).then(s,function(o){return t(o),s()})}else n|=1}catch(o){t(o)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function Q1(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,a,o){return n?t?".jsx":".js":s&&(!a||!o)?r:s+a+"."+o.toLowerCase()+"js"}):e}const c4={__extends:E1,__assign:tn,__rest:li,__decorate:C1,__param:k1,__esDecorate:R1,__runInitializers:P1,__propKey:T1,__setFunctionName:A1,__metadata:O1,__awaiter:ue,__generator:I1,__createBinding:Ah,__exportStar:M1,__values:$f,__read:$y,__spread:D1,__spreadArrays:L1,__spreadArray:Fy,__await:yl,__asyncGenerator:$1,__asyncDelegator:F1,__asyncValues:U1,__makeTemplateObject:z1,__importStar:B1,__importDefault:V1,__classPrivateFieldGet:q1,__classPrivateFieldSet:W1,__classPrivateFieldIn:H1,__addDisposableResource:K1,__disposeResources:G1,__rewriteRelativeImportExtension:Q1},u4=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:K1,get __assign(){return tn},__asyncDelegator:F1,__asyncGenerator:$1,__asyncValues:U1,__await:yl,__awaiter:ue,__classPrivateFieldGet:q1,__classPrivateFieldIn:H1,__classPrivateFieldSet:W1,__createBinding:Ah,__decorate:C1,__disposeResources:G1,__esDecorate:R1,__exportStar:M1,__extends:E1,__generator:I1,__importDefault:V1,__importStar:B1,__makeTemplateObject:z1,__metadata:O1,__param:k1,__propKey:T1,__read:$y,__rest:li,__rewriteRelativeImportExtension:Q1,__runInitializers:P1,__setFunctionName:A1,__spread:D1,__spreadArray:Fy,__spreadArrays:L1,__values:$f,default:c4},Symbol.toStringTag,{value:"Module"})),d4=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ao(async()=>{const{default:n}=await Promise.resolve().then(()=>io);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Uy extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class db extends Uy{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class fb extends Uy{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class hb extends Uy{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Wg;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Wg||(Wg={}));class f4{constructor(t,{headers:r={},customFetch:n,region:s=Wg.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=d4(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return ue(this,arguments,void 0,function*(r,n={}){var s;try{const{headers:a,method:o,body:l,signal:c}=n;let u={},{region:d}=n;d||(d=this.region);const f=new URL(`${this.url}/${r}`);d&&d!=="any"&&(u["x-region"]=d,f.searchParams.set("forceFunctionRegion",d));let h;l&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",h=l):typeof l=="string"?(u["Content-Type"]="text/plain",h=l):typeof FormData<"u"&&l instanceof FormData?h=l:(u["Content-Type"]="application/json",h=JSON.stringify(l)):h=l;const p=yield this.fetch(f.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),a),body:h,signal:c}).catch(x=>{throw x.name==="AbortError"?x:new db(x)}),b=p.headers.get("x-relay-error");if(b&&b==="true")throw new fb(p);if(!p.ok)throw new hb(p);let g=((s=p.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),y;return g==="application/json"?y=yield p.json():g==="application/octet-stream"||g==="application/pdf"?y=yield p.blob():g==="text/event-stream"?y=p:g==="multipart/form-data"?y=yield p.formData():y=yield p.text(),{data:y,error:null,response:p}}catch(a){return a instanceof Error&&a.name==="AbortError"?{data:null,error:new db(a)}:{data:null,error:a,response:a instanceof hb||a instanceof fb?a.context:void 0}}})}}var Er={};const $l=x_(u4);var vd={},yd={},xd={},wd={},bd={},h4=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},xl=h4();const m4=xl.fetch,J1=xl.fetch.bind(xl),Y1=xl.Headers,p4=xl.Request,g4=xl.Response,io=Object.freeze(Object.defineProperty({__proto__:null,Headers:Y1,Request:p4,Response:g4,default:J1,fetch:m4},Symbol.toStringTag,{value:"Module"})),v4=x_(io);var jd={},mb;function X1(){if(mb)return jd;mb=1,Object.defineProperty(jd,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return jd.default=e,jd}var pb;function Z1(){if(pb)return bd;pb=1,Object.defineProperty(bd,"__esModule",{value:!0});const e=$l,t=e.__importDefault(v4),r=e.__importDefault(X1());class n{constructor(a){var o,l;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(o=a.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=a.signal,this.isMaybeSingle=(l=a.isMaybeSingle)!==null&&l!==void 0?l:!1,a.fetch?this.fetch=a.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,o){return this.headers=new Headers(this.headers),this.headers.set(a,o),this}then(a,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var d,f,h,p;let b=null,g=null,y=null,x=u.status,v=u.statusText;if(u.ok){if(this.method!=="HEAD"){const S=await u.text();S===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?g=S:g=JSON.parse(S))}const j=(f=this.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),_=(h=u.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");j&&_&&_.length>1&&(y=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(b={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,y=null,x=406,v="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const j=await u.text();try{b=JSON.parse(j),Array.isArray(b)&&u.status===404&&(g=[],b=null,x=200,v="OK")}catch{u.status===404&&j===""?(x=204,v="No Content"):b={message:j}}if(b&&this.isMaybeSingle&&(!((p=b==null?void 0:b.details)===null||p===void 0)&&p.includes("0 rows"))&&(b=null,x=200,v="OK"),b&&this.shouldThrowOnError)throw new r.default(b)}return{error:b,data:g,count:y,status:x,statusText:v}});return this.shouldThrowOnError||(c=c.catch(u=>{var d,f,h;return{error:{message:`${(d=u==null?void 0:u.name)!==null&&d!==void 0?d:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(f=u==null?void 0:u.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(h=u==null?void 0:u.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),c.then(a,o)}returns(){return this}overrideTypes(){return this}}return bd.default=n,bd}var gb;function eE(){if(gb)return wd;gb=1,Object.defineProperty(wd,"__esModule",{value:!0});const t=$l.__importDefault(Z1());class r extends t.default{select(s){let a=!1;const o=(s??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:a=!0,nullsFirst:o,foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${s}.${a?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:a,referencedTable:o=a}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${s}`),this}range(s,a,{foreignTable:o,referencedTable:l=o}={}){const c=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${s}`),this.url.searchParams.set(u,`${a-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:a=!1,settings:o=!1,buffers:l=!1,wal:c=!1,format:u="text"}={}){var d;const f=[s?"analyze":null,a?"verbose":null,o?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),h=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${h}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return wd.default=r,wd}var vb;function zy(){if(vb)return xd;vb=1,Object.defineProperty(xd,"__esModule",{value:!0});const t=$l.__importDefault(eE());class r extends t.default{eq(s,a){return this.url.searchParams.append(s,`eq.${a}`),this}neq(s,a){return this.url.searchParams.append(s,`neq.${a}`),this}gt(s,a){return this.url.searchParams.append(s,`gt.${a}`),this}gte(s,a){return this.url.searchParams.append(s,`gte.${a}`),this}lt(s,a){return this.url.searchParams.append(s,`lt.${a}`),this}lte(s,a){return this.url.searchParams.append(s,`lte.${a}`),this}like(s,a){return this.url.searchParams.append(s,`like.${a}`),this}likeAllOf(s,a){return this.url.searchParams.append(s,`like(all).{${a.join(",")}}`),this}likeAnyOf(s,a){return this.url.searchParams.append(s,`like(any).{${a.join(",")}}`),this}ilike(s,a){return this.url.searchParams.append(s,`ilike.${a}`),this}ilikeAllOf(s,a){return this.url.searchParams.append(s,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(s,a){return this.url.searchParams.append(s,`ilike(any).{${a.join(",")}}`),this}is(s,a){return this.url.searchParams.append(s,`is.${a}`),this}in(s,a){const o=Array.from(new Set(a)).map(l=>typeof l=="string"&&new RegExp("[,()]").test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(s,`in.(${o})`),this}contains(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cs.{${a.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(a)}`),this}containedBy(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cd.{${a.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(a)}`),this}rangeGt(s,a){return this.url.searchParams.append(s,`sr.${a}`),this}rangeGte(s,a){return this.url.searchParams.append(s,`nxl.${a}`),this}rangeLt(s,a){return this.url.searchParams.append(s,`sl.${a}`),this}rangeLte(s,a){return this.url.searchParams.append(s,`nxr.${a}`),this}rangeAdjacent(s,a){return this.url.searchParams.append(s,`adj.${a}`),this}overlaps(s,a){return typeof a=="string"?this.url.searchParams.append(s,`ov.${a}`):this.url.searchParams.append(s,`ov.{${a.join(",")}}`),this}textSearch(s,a,{config:o,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(s,`${c}fts${u}.${a}`),this}match(s){return Object.entries(s).forEach(([a,o])=>{this.url.searchParams.append(a,`eq.${o}`)}),this}not(s,a,o){return this.url.searchParams.append(s,`not.${a}.${o}`),this}or(s,{foreignTable:a,referencedTable:o=a}={}){const l=o?`${o}.or`:"or";return this.url.searchParams.append(l,`(${s})`),this}filter(s,a,o){return this.url.searchParams.append(s,`${a}.${o}`),this}}return xd.default=r,xd}var yb;function tE(){if(yb)return yd;yb=1,Object.defineProperty(yd,"__esModule",{value:!0});const t=$l.__importDefault(zy());class r{constructor(s,{headers:a={},schema:o,fetch:l}){this.url=s,this.headers=new Headers(a),this.schema=o,this.fetch=l}select(s,a){const{head:o=!1,count:l}=a??{},c=o?"HEAD":"GET";let u=!1;const d=(s??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",d),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:a,defaultToNull:o=!0}={}){var l;const c="POST";if(a&&this.headers.append("Prefer",`count=${a}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const u=s.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(s,{onConflict:a,ignoreDuplicates:o=!1,count:l,defaultToNull:c=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const f=s.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(f.length>0){const h=[...new Set(f)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(s,{count:a}={}){var o;const l="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:s}={}){var a;const o="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return yd.default=r,yd}var xb;function y4(){if(xb)return vd;xb=1,Object.defineProperty(vd,"__esModule",{value:!0});const e=$l,t=e.__importDefault(tE()),r=e.__importDefault(zy());class n{constructor(a,{headers:o={},schema:l,fetch:c}={}){this.url=a,this.headers=new Headers(o),this.schemaName=l,this.fetch=c}from(a){const o=new URL(`${this.url}/${a}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new n(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,o={},{head:l=!1,get:c=!1,count:u}={}){var d;let f;const h=new URL(`${this.url}/rpc/${a}`);let p;l||c?(f=l?"HEAD":"GET",Object.entries(o).filter(([g,y])=>y!==void 0).map(([g,y])=>[g,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([g,y])=>{h.searchParams.append(g,y)})):(f="POST",p=o);const b=new Headers(this.headers);return u&&b.set("Prefer",`count=${u}`),new r.default({method:f,url:h,headers:b,schema:this.schemaName,body:p,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return vd.default=n,vd}Object.defineProperty(Er,"__esModule",{value:!0});Er.PostgrestError=Er.PostgrestBuilder=Er.PostgrestTransformBuilder=Er.PostgrestFilterBuilder=Er.PostgrestQueryBuilder=Er.PostgrestClient=void 0;const Fl=$l,rE=Fl.__importDefault(y4());Er.PostgrestClient=rE.default;const nE=Fl.__importDefault(tE());Er.PostgrestQueryBuilder=nE.default;const sE=Fl.__importDefault(zy());Er.PostgrestFilterBuilder=sE.default;const aE=Fl.__importDefault(eE());Er.PostgrestTransformBuilder=aE.default;const iE=Fl.__importDefault(Z1());Er.PostgrestBuilder=iE.default;const oE=Fl.__importDefault(X1());Er.PostgrestError=oE.default;var x4=Er.default={PostgrestClient:rE.default,PostgrestQueryBuilder:nE.default,PostgrestFilterBuilder:sE.default,PostgrestTransformBuilder:aE.default,PostgrestBuilder:iE.default,PostgrestError:oE.default};const{PostgrestClient:w4,PostgrestQueryBuilder:l7,PostgrestFilterBuilder:c7,PostgrestTransformBuilder:u7,PostgrestBuilder:d7,PostgrestError:f7}=x4;class b4{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const j4="2.76.1",_4=`realtime-js/${j4}`,S4="1.0.0",Hg=1e4,N4=1e3,E4=100;var Rc;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Rc||(Rc={}));var It;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(It||(It={}));var En;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(En||(En={}));var Kg;(function(e){e.websocket="websocket"})(Kg||(Kg={}));var xi;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(xi||(xi={}));class C4{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),a=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+s));o=o+s;const c=n.decode(t.slice(o,o+a));o=o+a;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class lE{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var nt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(nt||(nt={}));const wb=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((a,o)=>(a[o]=k4(o,e,t,s),a),{}):{}},k4=(e,t,r,n)=>{const s=t.find(l=>l.name===e),a=s==null?void 0:s.type,o=r[e];return a&&!n.includes(a)?cE(a,o):Gg(o)},cE=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return A4(t,r)}switch(e){case nt.bool:return R4(t);case nt.float4:case nt.float8:case nt.int2:case nt.int4:case nt.int8:case nt.numeric:case nt.oid:return P4(t);case nt.json:case nt.jsonb:return T4(t);case nt.timestamp:return O4(t);case nt.abstime:case nt.date:case nt.daterange:case nt.int4range:case nt.int8range:case nt.money:case nt.reltime:case nt.text:case nt.time:case nt.timestamptz:case nt.timetz:case nt.tsrange:case nt.tstzrange:return Gg(t);default:return Gg(t)}},Gg=e=>e,R4=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},P4=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},T4=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},A4=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const o=e.slice(1,r);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>cE(t,l))}return e},O4=e=>typeof e=="string"?e.replace(" ","T"):e,uE=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Zm{constructor(t,r,n={},s=Hg){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var bb;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(bb||(bb={}));class Pc{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Pc.syncState(this.state,s,a,o),this.pendingDiffs.forEach(c=>{this.state=Pc.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Pc.syncDiff(this.state,s,a,o),l())}),this.onJoin((s,a,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:o})}),this.onLeave((s,a,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const a=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(a,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=a[u];if(f){const h=d.map(y=>y.presence_ref),p=f.map(y=>y.presence_ref),b=d.filter(y=>p.indexOf(y.presence_ref)<0),g=f.filter(y=>h.indexOf(y.presence_ref)<0);b.length>0&&(l[u]=b),g.length>0&&(c[u]=g)}else l[u]=d}),this.syncDiff(a,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:a,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(a,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var jb;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(jb||(jb={}));var Tc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Tc||(Tc={}));var As;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(As||(As={}));class By{constructor(t,r={config:{}},n){var s,a;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=It.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Zm(this,En.join,this.params,this.timeout),this.rejoinTimer=new lE(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=It.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=It.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=It.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=It.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=It.errored,this.rejoinTimer.scheduleTimeout())}),this._on(En.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new Pc(this),this.broadcastEndpointURL=uE(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,a;if(this.socket.isConnected()||this.socket.connect(),this.state==It.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Tc.PRESENCE]&&this.bindings[Tc.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(As.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(As.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var b;if(this.socket.setAuth(),p===void 0){t==null||t(As.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,y=(b=g==null?void 0:g.length)!==null&&b!==void 0?b:0,x=[];for(let v=0;v<y;v++){const w=g[v],{filter:{event:j,schema:_,table:S,filter:N}}=w,C=p&&p[v];if(C&&C.event===j&&C.schema===_&&C.table===S&&C.filter===N)x.push(Object.assign(Object.assign({},w),{id:C.id}));else{this.unsubscribe(),this.state=It.errored,t==null||t(As.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(As.SUBSCRIBED);return}}).receive("error",p=>{this.state=It.errored,t==null||t(As.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(As.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===It.joined&&t===Tc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=It.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(En.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Zm(this,En.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=It.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,a=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(a),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Zm(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>E4){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,a;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=En;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var b,g,y;return((b=p.filter)===null||b===void 0?void 0:b.event)==="*"||((y=(g=p.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(p=>p.callback(h,n)):(a=this.bindings[o])===null||a===void 0||a.filter(p=>{var b,g,y,x,v,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const j=p.id,_=(b=p.filter)===null||b===void 0?void 0:b.event;return j&&((g=r.ids)===null||g===void 0?void 0:g.includes(j))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((y=r.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const j=(v=(x=p==null?void 0:p.filter)===null||x===void 0?void 0:x.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return j==="*"||j===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const b=h.data,{schema:g,table:y,commit_timestamp:x,type:v,errors:w}=b;h=Object.assign(Object.assign({},{schema:g,table:y,commit_timestamp:x,eventType:v,new:{},old:{},errors:w}),this._getPayloadRecords(b))}p.callback(h,n)})}_isClosed(){return this.state===It.closed}_isJoined(){return this.state===It.joined}_isJoining(){return this.state===It.joining}_isLeaving(){return this.state===It.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),a={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&By.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(En.close,{},t)}_onError(t){this._on(En.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=It.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=wb(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=wb(t.columns,t.old_record)),r}}const ep=()=>{},_d={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},I4=[1e3,2e3,5e3,1e4],M4=1e4,D4=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class L4{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Hg,this.transport=null,this.heartbeatIntervalMs=_d.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ep,this.ref=0,this.reconnectTimer=null,this.logger=ep,this.conn=null,this.sendBuffer=[],this.serializer=new C4,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let a;return s?a=s:typeof fetch>"u"?a=(...o)=>ao(async()=>{const{default:l}=await Promise.resolve().then(()=>io);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...o)=>a(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Kg.websocket}`,this.httpEndpoint=uE(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=b4.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:S4}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Rc.connecting:return xi.Connecting;case Rc.open:return xi.Open;case Rc.closing:return xi.Closing;default:return xi.Closed}}isConnected(){return this.connectionState()===xi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(a=>a.topic===n);if(s)return s;{const a=new By(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:s,ref:a}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${a})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(N4,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},_d.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:a,ref:o}=r,l=o?`(${o})`:"",c=a.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),a),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,a,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(En.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([D4],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:_4};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(En.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new lE(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},_d.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,a,o,l,c,u,d;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Hg,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:_d.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:ep,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:(f=>I4[f-1]||M4),this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:((f,h)=>h(JSON.stringify(f))),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Vy extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function dt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class $4 extends Vy{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Qg extends Vy{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const qy=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ao(async()=>{const{default:n}=await Promise.resolve().then(()=>io);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},F4=()=>ue(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ao(()=>Promise.resolve().then(()=>io),void 0)).Response:Response}),Jg=e=>{if(Array.isArray(e))return e.map(r=>Jg(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[s]=Jg(n)}),t},U4=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},tp=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),z4=(e,t,r)=>ue(void 0,void 0,void 0,function*(){const n=yield F4();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const a=e.status||500,o=(s==null?void 0:s.statusCode)||a+"";t(new $4(tp(s),a,o))}).catch(s=>{t(new Qg(tp(s),s))}):t(new Qg(tp(e),e))}),B4=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(U4(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),r))};function Pu(e,t,r,n,s,a){return ue(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,B4(t,n,s,a)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>z4(c,l,n))})})}function nu(e,t,r,n){return ue(this,void 0,void 0,function*(){return Pu(e,"GET",t,r,n)})}function jn(e,t,r,n,s){return ue(this,void 0,void 0,function*(){return Pu(e,"POST",t,n,s,r)})}function Yg(e,t,r,n,s){return ue(this,void 0,void 0,function*(){return Pu(e,"PUT",t,n,s,r)})}function V4(e,t,r,n){return ue(this,void 0,void 0,function*(){return Pu(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Wy(e,t,r,n,s){return ue(this,void 0,void 0,function*(){return Pu(e,"DELETE",t,n,s,r)})}class q4{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return ue(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(dt(t))return{data:null,error:t};throw t}})}}var dE;class W4{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[dE]="BlobDownloadBuilder",this.promise=null}asStream(){return new q4(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ue(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(dt(t))return{data:null,error:t};throw t}})}}dE=Symbol.toStringTag;const H4={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},_b={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class K4{constructor(t,r={},n,s){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=qy(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,s){return ue(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},_b),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(t=="PUT"?Yg:jn)(this.fetch,`${this.url}/object/${d}`,a,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(dt(a))return{data:null,error:a};throw a}})}upload(t,r,n){return ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return ue(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:_b.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield Yg(this.fetch,l.toString(),c,{headers:d});return{data:{path:a,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(dt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return ue(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const a=yield jn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+a.url),l=o.searchParams.get("token");if(!l)throw new Vy("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}})}update(t,r,n){return ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return ue(this,void 0,void 0,function*(){try{return{data:yield jn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(dt(s))return{data:null,error:s};throw s}})}copy(t,r,n){return ue(this,void 0,void 0,function*(){try{return{data:{path:(yield jn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(dt(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return ue(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),a=yield jn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(dt(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return ue(this,void 0,void 0,function*(){try{const s=yield jn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(dt(s))return{data:null,error:s};throw s}})}download(t,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=a?`?${a}`:"",l=this._getFinalPath(t),c=()=>nu(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new W4(c,this.shouldThrowOnError)}info(t){return ue(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield nu(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Jg(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}})}exists(t){return ue(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield V4(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dt(n)&&n instanceof Qg){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&s.push(a);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return ue(this,void 0,void 0,function*(){try{return{data:yield Wy(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}})}list(t,r,n){return ue(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},H4),r),{prefix:t||""});return{data:yield jn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(dt(s))return{data:null,error:s};throw s}})}listV2(t,r){return ue(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield jn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const fE="2.76.1",hE={"X-Client-Info":`storage-js/${fE}`};class G4{constructor(t,r={},n,s){this.shouldThrowOnError=!1;const a=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},hE),r),this.fetch=qy(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return ue(this,void 0,void 0,function*(){try{return{data:yield nu(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(dt(t))return{data:null,error:t};throw t}})}getBucket(t){return ue(this,void 0,void 0,function*(){try{return{data:yield nu(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}})}createBucket(t){return ue(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield jn(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(dt(s))return{data:null,error:s};throw s}})}updateBucket(t,r){return ue(this,void 0,void 0,function*(){try{return{data:yield Yg(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return ue(this,void 0,void 0,function*(){try{return{data:yield jn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ue(this,void 0,void 0,function*(){try{return{data:yield Wy(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}})}}class Q4{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},hE),r),this.fetch=qy(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return ue(this,void 0,void 0,function*(){try{return{data:yield jn(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}})}listBuckets(t){return ue(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),s=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`,a=yield nu(this.fetch,s,{headers:this.headers});return{data:Array.isArray(a)?a.filter(l=>l.type==="ANALYTICS"):[],error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ue(this,void 0,void 0,function*(){try{return{data:yield Wy(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}})}}const Hy={"X-Client-Info":`storage-js/${fE}`,"Content-Type":"application/json"};class mE extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Fr(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class rp extends mE{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class J4 extends mE{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var Sb;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Sb||(Sb={}));const Ky=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ao(async()=>{const{default:n}=await Promise.resolve().then(()=>io);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Y4=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Nb=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),X4=(e,t,r)=>ue(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const s=e.status||500,a=e;if(typeof a.json=="function")a.json().then(o=>{const l=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||s+"";t(new rp(Nb(o),s,l))}).catch(()=>{const o=s+"",l=a.statusText||`HTTP ${s} error`;t(new rp(l,s,o))});else{const o=s+"",l=a.statusText||`HTTP ${s} error`;t(new rp(l,s,o))}}else t(new J4(Nb(e),e))}),Z4=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(Y4(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r)):s};function eL(e,t,r,n,s,a){return ue(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,Z4(t,n,s,a)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>X4(c,l,n))})})}function Ur(e,t,r,n,s){return ue(this,void 0,void 0,function*(){return eL(e,"POST",t,n,s,r)})}class tL{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Hy),r),this.fetch=Ky(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return ue(this,void 0,void 0,function*(){try{return{data:(yield Ur(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fr(r))return{data:null,error:r};throw r}})}getIndex(t,r){return ue(this,void 0,void 0,function*(){try{return{data:yield Ur(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Fr(n))return{data:null,error:n};throw n}})}listIndexes(t){return ue(this,void 0,void 0,function*(){try{return{data:yield Ur(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fr(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return ue(this,void 0,void 0,function*(){try{return{data:(yield Ur(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Fr(n))return{data:null,error:n};throw n}})}}class rL{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Hy),r),this.fetch=Ky(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return ue(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Ur(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fr(r))return{data:null,error:r};throw r}})}getVectors(t){return ue(this,void 0,void 0,function*(){try{return{data:yield Ur(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fr(r))return{data:null,error:r};throw r}})}listVectors(t){return ue(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Ur(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fr(r))return{data:null,error:r};throw r}})}queryVectors(t){return ue(this,void 0,void 0,function*(){try{return{data:yield Ur(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fr(r))return{data:null,error:r};throw r}})}deleteVectors(t){return ue(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Ur(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fr(r))return{data:null,error:r};throw r}})}}class nL{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Hy),r),this.fetch=Ky(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return ue(this,void 0,void 0,function*(){try{return{data:(yield Ur(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fr(r))return{data:null,error:r};throw r}})}getBucket(t){return ue(this,void 0,void 0,function*(){try{return{data:yield Ur(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fr(r))return{data:null,error:r};throw r}})}listBuckets(){return ue(this,arguments,void 0,function*(t={}){try{return{data:yield Ur(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ue(this,void 0,void 0,function*(){try{return{data:(yield Ur(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fr(r))return{data:null,error:r};throw r}})}}class sL extends nL{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new aL(this.url,this.headers,t,this.fetch)}}class aL extends tL{constructor(t,r,n,s){super(t,r,s),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ue(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ue(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ue(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ue(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new iL(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class iL extends rL{constructor(t,r,n,s,a){super(t,r,a),this.vectorBucketName=n,this.indexName=s}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ue(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ue(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ue(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ue(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ue(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class oL extends G4{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new K4(this.url,this.headers,t,this.fetch)}get vectors(){return new sL(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Q4(this.url+"/iceberg",this.headers,this.fetch)}}const lL="2.76.1";let gc="";typeof Deno<"u"?gc="deno":typeof document<"u"?gc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?gc="react-native":gc="node";const cL={"X-Client-Info":`supabase-js-${gc}/${lL}`},uL={headers:cL},dL={schema:"public"},fL={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},hL={},mL=e=>{let t;return e?t=e:typeof fetch>"u"?t=J1:t=fetch,(...r)=>t(...r)},pL=()=>typeof Headers>"u"?Y1:Headers,gL=(e,t,r)=>{const n=mL(r),s=pL();return async(a,o)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(a,Object.assign(Object.assign({},o),{headers:u}))}};function vL(e){return e.endsWith("/")?e:e+"/"}function yL(e,t){var r,n;const{db:s,auth:a,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function xL(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(vL(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const pE="2.76.1",So=30*1e3,Xg=3,np=Xg*So,wL="http://localhost:9999",bL="supabase.auth.token",jL={"X-Client-Info":`gotrue-js/${pE}`},Zg="X-Supabase-Api-Version",gE={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},_L=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,SL=600*1e3;class su extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ve(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class NL extends su{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function EL(e){return ve(e)&&e.name==="AuthApiError"}class wi extends su{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class ci extends su{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class pa extends ci{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function CL(e){return ve(e)&&e.name==="AuthSessionMissingError"}class mo extends ci{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Sd extends ci{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Nd extends ci{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function kL(e){return ve(e)&&e.name==="AuthImplicitGrantRedirectError"}class Eb extends ci{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ev extends ci{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function sp(e){return ve(e)&&e.name==="AuthRetryableFetchError"}class Cb extends ci{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class tv extends ci{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ff="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),kb=` 	
\r=`.split(""),RL=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<kb.length;t+=1)e[kb[t].charCodeAt(0)]=-2;for(let t=0;t<Ff.length;t+=1)e[Ff[t].charCodeAt(0)]=t;return e})();function Rb(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ff[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ff[n]),t.queuedBits-=6}}function vE(e,t,r){const n=RL[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Pb(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=o=>{AL(o,n,r)};for(let o=0;o<e.length;o+=1)vE(e.charCodeAt(o),s,a);return t.join("")}function PL(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function TL(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}PL(n,t)}}function AL(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Ho(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)vE(e.charCodeAt(s),r,n);return new Uint8Array(t)}function OL(e){const t=[];return TL(e,r=>t.push(r)),new Uint8Array(t)}function Ei(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Rb(s,r,n)),Rb(null,r,n),t.join("")}function IL(e){return Math.round(Date.now()/1e3)+e}function ML(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Mr=()=>typeof window<"u"&&typeof document<"u",mi={tested:!1,writable:!1},yE=()=>{if(!Mr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(mi.tested)return mi.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),mi.tested=!0,mi.writable=!0}catch{mi.tested=!0,mi.writable=!1}return mi.writable};function DL(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,a)=>{t[a]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const xE=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ao(async()=>{const{default:n}=await Promise.resolve().then(()=>io);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},LL=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",No=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},pi=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},da=async(e,t)=>{await e.removeItem(t)};class Oh{constructor(){this.promise=new Oh.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Oh.promiseConstructor=Promise;function ap(e){const t=e.split(".");if(t.length!==3)throw new tv("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!_L.test(t[n]))throw new tv("JWT not in base64url format");return{header:JSON.parse(Pb(t[0])),payload:JSON.parse(Pb(t[1])),signature:Ho(t[2]),raw:{header:t[0],payload:t[1]}}}async function $L(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function FL(e,t){return new Promise((n,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){n(o);return}}catch(o){if(!t(a,o)){s(o);return}}})()})}function UL(e){return("0"+e.toString(16)).substr(-2)}function zL(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let a=0;a<56;a++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,UL).join("")}async function BL(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function VL(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await BL(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function po(e,t,r=!1){const n=zL();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await No(e,`${t}-code-verifier`,s);const a=await VL(n);return[a,n===a?"plain":"s256"]}const qL=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function WL(e){const t=e.headers.get(Zg);if(!t||!t.match(qL))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function HL(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function KL(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const GL=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function go(e){if(!GL.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ip(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Tb(e){return JSON.parse(JSON.stringify(e))}const yi=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),QL=[502,503,504];async function Ab(e){var t;if(!LL(e))throw new ev(yi(e),0);if(QL.includes(e.status))throw new ev(yi(e),e.status);let r;try{r=await e.json()}catch(a){throw new wi(yi(a),a)}let n;const s=WL(e);if(s&&s.getTime()>=gE["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Cb(yi(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new pa}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new Cb(yi(r),e.status,r.weak_password.reasons);throw new NL(yi(r),e.status||500,n)}const JL=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function Ne(e,t,r,n){var s;const a=Object.assign({},n==null?void 0:n.headers);a[Zg]||(a[Zg]=gE["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await YL(e,t,r+l,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function YL(e,t,r,n,s,a){const o=JL(t,n,s,a);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new ev(yi(c),0)}if(l.ok||await Ab(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await Ab(c)}}function xn(e){var t;let r=null;e$(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=IL(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Ob(e){const t=xn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ja(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function XL(e){return{data:e,error:null}}function ZL(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a}=e,o=li(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function Ib(e){return e}function e$(e){return e.access_token&&e.refresh_token&&e.expires_in}const op=["global","local","others"];class t${constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=xE(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=op[0]){if(op.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${op.join(", ")}`);try{return await Ne(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ve(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Ne(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ja})}catch(n){if(ve(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=li(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await Ne(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:ZL,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ve(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Ne(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ja})}catch(r){if(ve(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,a,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Ne(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:Ib});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(b=>{const g=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(b.split(";")[1].split("=")[1]);u[`${y}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(ve(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){go(t);try{return await Ne(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ja})}catch(r){if(ve(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){go(t);try{return await Ne(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:ja})}catch(n){if(ve(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){go(t);try{return await Ne(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:ja})}catch(n){if(ve(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){go(t.userId);try{const{data:r,error:n}=await Ne(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(ve(r))return{data:null,error:r};throw r}}async _deleteFactor(t){go(t.userId),go(t.id);try{return{data:await Ne(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ve(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,a,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Ne(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:Ib});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(b=>{const g=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(b.split(";")[1].split("=")[1]);u[`${y}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(ve(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await Ne(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ve(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Ne(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ve(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await Ne(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ve(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Ne(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ve(r))return{data:null,error:r};throw r}}}function Mb(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const vo={debug:!!(globalThis&&yE()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class wE extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class r$ extends wE{}async function n$(e,t,r){vo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),vo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){vo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{vo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw vo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new r$(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(vo.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function s$(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function bE(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function a$(e){return parseInt(e,16)}function i$(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function o$(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:a=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=bE(e.address),b=d?`${d}://${n}`:n,g=e.statement?`${e.statement}
`:"",y=`${b} wants you to sign in with your Ethereum account:
${p}

${g}`;let x=`URI: ${f}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(s&&(x+=`
Expiration Time: ${s.toISOString()}`),l&&(x+=`
Not Before: ${l.toISOString()}`),c&&(x+=`
Request ID: ${c}`),u){let v=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);v+=`
- ${w}`}x+=v}return`${y}
${x}`}class kt extends Error{constructor({message:t,code:r,cause:n,name:s}){var a;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=s??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class Uf extends kt{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function l$({error:e,options:t}){var r,n,s;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new kt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new kt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new kt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=a.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new kt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new kt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new kt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new kt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new kt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(jE(o)){if(a.rp.id!==o)return new kt({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new kt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new kt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new kt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new kt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function c$({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new kt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new kt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(jE(n)){if(r.rpId!==n)return new kt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new kt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new kt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new kt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class u${createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const d$=new u$;function f$(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=li(e,["challenge","user","excludeCredentials"]),a=Ho(t).buffer,o=Object.assign(Object.assign({},r),{id:Ho(r.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:a,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Ho(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function h$(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=li(e,["challenge","allowCredentials"]),s=Ho(t).buffer,a=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];a.allowCredentials[o]=Object.assign(Object.assign({},l),{id:Ho(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function m$(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Ei(new Uint8Array(e.response.attestationObject)),clientDataJSON:Ei(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function p$(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Ei(new Uint8Array(s.authenticatorData)),clientDataJSON:Ei(new Uint8Array(s.clientDataJSON)),signature:Ei(new Uint8Array(s.signature)),userHandle:s.userHandle?Ei(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function jE(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Db(){var e,t;return!!(Mr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function g$(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Uf("Browser returned unexpected credential type",t)}:{data:null,error:new Uf("Empty credential response",t)}}catch(t){return{data:null,error:l$({error:t,options:e})}}}async function v$(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Uf("Browser returned unexpected credential type",t)}:{data:null,error:new Uf("Empty credential response",t)}}catch(t){return{data:null,error:c$({error:t,options:e})}}}const y$={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},x$={userVerification:"preferred",hints:["security-key"]};function zf(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const a in s){const o=s[a];if(o!==void 0)if(Array.isArray(o))n[a]=o;else if(r(o))n[a]=o;else if(t(o)){const l=n[a];t(l)?n[a]=zf(l,o):n[a]=zf(o)}else n[a]=o}return n}function w$(e,t){return zf(y$,e,t||{})}function b$(e,t){return zf(x$,e,t||{})}class j${constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},a){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:l};const c=s??d$.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=w$(o.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:d,error:f}=await g$({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=b$(o.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:d,error:f}=await v$(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(o){return ve(o)?{data:null,error:o}:{data:null,error:new wi("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}},a){if(!r)return{data:null,error:new su("rpId is required for WebAuthn authentication")};try{if(!Db())return{data:null,error:new wi("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:a});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return ve(o)?{data:null,error:o}:{data:null,error:new wi("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s},a){if(!r)return{data:null,error:new su("rpId is required for WebAuthn registration")};try{if(!Db())return{data:null,error:new wi("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:a});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return ve(o)?{data:null,error:o}:{data:null,error:new wi("Unexpected error in register",o)}}}}s$();const _$={url:wL,storageKey:bL,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:jL,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Lb(e,t,r){return await r()}const yo={};class au{get jwks(){var t,r;return(r=(t=yo[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){yo[this.storageKey]=Object.assign(Object.assign({},yo[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=yo[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){yo[this.storageKey]=Object.assign(Object.assign({},yo[this.storageKey]),{cachedAt:t})}constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=au.nextInstanceID,au.nextInstanceID+=1,this.instanceID>0&&Mr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},_$),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new t$({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=xE(s.fetch),this.lock=s.lock||Lb,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Mr()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=n$:this.lock=Lb,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new j$(this)},this.persistSession?(s.storage?this.storage=s.storage:yE()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Mb(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Mb(this.memoryStorage)),Mr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${pE}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=DL(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Mr()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),kL(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ve(r)?{error:r}:{error:new wi("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const a=await Ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:xn}),{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(ve(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var r,n,s;try{let a;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,b=null;this.flowType==="pkce"&&([p,b]=await po(this.storage,this.storageKey)),a=await Ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:b},xform:xn})}else if("phone"in t){const{phone:d,password:f,options:h}=t;a=await Ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:xn})}else throw new Sd("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(ve(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:o,options:l}=t;r=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Ob})}else if("phone"in t){const{phone:a,password:o,options:l}=t;r=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Ob})}else throw new Sd("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new mo}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(ve(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,a,o,l,c,u,d,f,h;let p,b;if("message"in t)p=t.message,b=t.signature;else{const{chain:g,wallet:y,statement:x,options:v}=t;let w;if(Mr())if(typeof y=="object")w=y;else{const R=window;if("ethereum"in R&&typeof R.ethereum=="object"&&"request"in R.ethereum&&typeof R.ethereum.request=="function")w=R.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=y}const j=new URL((r=v==null?void 0:v.url)!==null&&r!==void 0?r:window.location.href),_=await w.request({method:"eth_requestAccounts"}).then(R=>R).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!_||_.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=bE(_[0]);let N=(n=v==null?void 0:v.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!N){const R=await w.request({method:"eth_chainId"});N=a$(R)}const C={domain:j.host,address:S,statement:x,uri:j.href,version:"1",chainId:N,nonce:(s=v==null?void 0:v.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(a=v==null?void 0:v.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=v==null?void 0:v.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=v==null?void 0:v.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=v==null?void 0:v.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=v==null?void 0:v.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=o$(C),b=await w.request({method:"personal_sign",params:[i$(p),S]})}try{const{data:g,error:y}=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:b},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:xn});if(y)throw y;return!g||!g.session||!g.user?{data:{user:null,session:null},error:new mo}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:Object.assign({},g),error:y})}catch(g){if(ve(g))return{data:{user:null,session:null},error:g};throw g}}async signInWithSolana(t){var r,n,s,a,o,l,c,u,d,f,h,p;let b,g;if("message"in t)b=t.message,g=t.signature;else{const{chain:y,wallet:x,statement:v,options:w}=t;let j;if(Mr())if(typeof x=="object")j=x;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))j=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=x}const _=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const S=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),v?{statement:v}:null));let N;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")N=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)N=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)b=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),g=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${_.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(s=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const S=await j.signMessage(new TextEncoder().encode(b),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=S}}try{const{data:y,error:x}=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:Ei(g)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:xn});if(x)throw x;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new mo}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:x})}catch(y){if(ve(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(t){const r=await pi(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:a,error:o}=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:xn});if(await da(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new mo}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:o})}catch(a){if(ve(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:a,nonce:o}=t,l=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:xn}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new mo}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(ve(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,a,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await po(this.storage,this.storageKey));const{error:f}=await Ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Sd("You must provide either an email or phone number.")}catch(l){if(ve(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,a;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await Ne(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:xn});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(ve(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await po(this.storage,this.storageKey)),await Ne(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:XL})}catch(a){if(ve(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new pa;const{error:s}=await Ne(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(ve(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:a}=t,{error:o}=await Ne(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:a}=t,{data:o,error:l}=await Ne(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Sd("You must provide either an email or phone number and a type")}catch(r){if(ve(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await pi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<np:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await pi(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=ip()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{data:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ja}):await this._useSession(async r=>{var n,s,a;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new pa}:await Ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:ja})})}catch(r){if(ve(r))return CL(r)&&(await this._removeSession(),await da(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:a}=n;if(a)throw a;if(!s.session)throw new pa;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await po(this.storage,this.storageKey));const{data:u,error:d}=await Ne(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:ja});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(ve(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new pa;const r=Date.now()/1e3;let n=r,s=!0,a=null;const{payload:o}=ap(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(ve(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new pa;const{data:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ve(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Mr())throw new Nd("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Nd(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Eb("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Nd("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Eb("No code detected.");const{data:v,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:a,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!a||!l||!o||!u)throw new Nd("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const p=h-d;p*1e3<=So&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const b=h-f;d-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,h,d):d-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,h,d);const{data:g,error:y}=await this._getUser(a);if(y)throw y;const x={provider_token:n,provider_refresh_token:s,access_token:a,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:t.type},error:null}}catch(n){if(ve(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await pi(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return{error:a};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(EL(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await da(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=ML(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:a},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await po(this.storage,this.storageKey,!0));try{return await Ne(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(ve(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(ve(r))return{data:null,error:r};throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async a=>{var o,l,c,u,d;const{data:f,error:h}=a;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ne(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Mr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(ve(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:a}}=r;if(s)throw s;const{options:o,provider:l,token:c,access_token:u,nonce:d}=t,f=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a==null?void 0:a.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:xn}),{data:h,error:p}=f;return p?{data:{user:null,session:null},error:p}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new mo}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),{data:h,error:p})}catch(s){if(ve(s))return{data:{user:null,session:null},error:s};throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:o}=r;if(o)throw o;return await Ne(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(ve(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await FL(async s=>(s>0&&await $L(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await Ne(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:xn})),(s,a)=>{const o=200*Math.pow(2,s);return a&&sp(a)&&Date.now()+o-n<So})}catch(n){if(this._debug(r,"error",n),ve(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Mr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await pi(this.storage,this.storageKey);if(s&&this.userStorage){let o=await pi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await No(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:ip()}else if(s&&!s.user&&!s.user){const o=await pi(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await da(this.storage,this.storageKey+"-user"),await No(this.storage,this.storageKey,s)):s.user=ip()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const a=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<np;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${np}s`),a){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),sp(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new pa;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Oh;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new pa;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={data:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(s,"error",a),ve(a)){const o={data:null,error:a};return sp(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await No(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const a=Tb(s);await No(this.storage,this.storageKey,a)}else{const s=Tb(r);await No(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await da(this.storage,this.storageKey),await da(this.storage,this.storageKey+"-code-verifier"),await da(this.storage,this.storageKey+"-user"),this.userStorage&&await da(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Mr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),So);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/So);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${So}ms, refresh threshold is ${Xg} ticks`),s<=Xg&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof wE)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Mr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,o]=await po(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);s.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;return a?{data:null,error:a}:await Ne(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ve(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await Ne(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(ve(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return{data:null,error:a};const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?m$(t.webauthn.credential_response):p$(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await Ne(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})})}catch(r){if(ve(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return{data:null,error:a};const o=await Ne(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:f$(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:h$(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ve(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(a),a.status==="verified"&&s[a.factor_type].push(a);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:a}=t;if(a)return{data:null,error:a};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=ap(s.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+SL>s)return n;const{data:a,error:o}=await Ne(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,n=a.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:b}=await this.getSession();if(b||!p.session)return{data:null,error:b};n=p.session.access_token}const{header:s,payload:a,signature:o,raw:{header:l,payload:c}}=ap(n);r!=null&&r.allowExpired||HL(a.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:a,header:s,signature:o},error:null}}const d=KL(s.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,OL(`${l}.${c}`)))throw new tv("Invalid JWT signature");return{data:{claims:a,header:s,signature:o},error:null}}catch(n){if(ve(n))return{data:null,error:n};throw n}}}au.nextInstanceID=0;const S$=au;class N$ extends S${constructor(t){super(t)}}class E${constructor(t,r,n){var s,a,o;this.supabaseUrl=t,this.supabaseKey=r;const l=xL(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:dL,realtime:hL,auth:Object.assign(Object.assign({},fL),{storageKey:c}),global:uL},d=yL(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=d.global.headers)!==null&&a!==void 0?a:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=gL(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new w4(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new oL(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new f4(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:a,storageKey:o,flowType:l,lock:c,debug:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new N$({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:a,flowType:l,lock:c,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new L4(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const C$=(e,t,r)=>new E$(e,t,r);function k$(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}k$()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Zd="https://jbkzymvswvnkrxriyzdx.supabase.co",R$="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Impia3p5bXZzd3Zua3J4cml5emR4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM3MjA2NjEsImV4cCI6MjA2OTI5NjY2MX0.AAj-OKJlCyH7JJDo3bEnjYsJPHAA4f-z3EHxbbVCJhg";console.log(" Inicializando Supabase client",{url:(Zd==null?void 0:Zd.substring(0,30))+"...",hasKey:!0});const nr=C$(Zd,R$,{auth:{debug:!1,autoRefreshToken:!0,persistSession:!0},global:{headers:{"x-client-info":"espana-creativa-red"}}});console.log(" Cliente Supabase creado exitosamente");const P$=Object.freeze(Object.defineProperty({__proto__:null,supabase:nr},Symbol.toStringTag,{value:"Module"})),xe=Ze.create({baseURL:"/api"});let Wn=!1,Ir=null;async function _E(){if(Wn&&Ir)return Ir;const{data:{session:e},error:t}=await nr.auth.getSession();if(t||!e)return Wn?null:(Wn=!0,Ir=nr.auth.refreshSession().then(({data:{session:r},error:n})=>(Wn=!1,Ir=null,n||!r?(n&&n.message!=="Auth session missing!"&&console.error(" Failed to refresh session:",n.message),null):r.access_token)).catch(()=>(Wn=!1,Ir=null,null)),Ir);if(e){const r=e.expires_at?e.expires_at*1e3:0,n=Date.now();if(r-n<6e4)if(Wn){if(Ir)return Ir}else return Wn=!0,console.log(" Token expiring soon, refreshing..."),Ir=nr.auth.refreshSession().then(({data:{session:a},error:o})=>(Wn=!1,Ir=null,o||!a?(console.error(" Failed to refresh session:",o==null?void 0:o.message),e.access_token):a.access_token)).catch(()=>(Wn=!1,Ir=null,e.access_token)),Ir;return e.access_token}return null}xe.interceptors.request.use(async e=>{const t=await _E();return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));xe.interceptors.response.use(e=>e,async e=>{var t,r,n,s,a,o,l,c,u,d,f,h,p,b,g,y,x;if((r=(t=e.config)==null?void 0:t.url)!=null&&r.includes("/auth/me")&&((n=e.response)==null?void 0:n.status)===401){const v=new Error("Not authenticated");return v.response=e.response,v.config=e.config,Promise.reject(v)}if((a=(s=e.config)==null?void 0:s.url)!=null&&a.includes("/auth/signin")&&((o=e.response)==null?void 0:o.status)===401){const v=new Error(((c=(l=e.response)==null?void 0:l.data)==null?void 0:c.error)||"Email o contrasea incorrectos");return v.response=e.response,v.config=e.config,Promise.reject(v)}if((d=(u=e.config)==null?void 0:u.url)!=null&&d.includes("/auth/change-password")&&(((f=e.response)==null?void 0:f.status)===400||((h=e.response)==null?void 0:h.status)===401)){const v=new Error(((b=(p=e.response)==null?void 0:p.data)==null?void 0:b.error)||"Contrasea actual incorrecta");return v.response=e.response,v.config=e.config,Promise.reject(v)}if(((g=e.response)==null?void 0:g.status)===401&&!((x=(y=e.config)==null?void 0:y.url)!=null&&x.includes("/auth/"))&&!e.config._retry){console.warn(" Token invlido o expirado. Intentando refrescar sesin..."),e.config._retry=!0,Wn=!1,Ir=null;const v=await _E();return v?(console.log(" Sesin refrescada. Reintentando peticin..."),e.config.headers.Authorization=`Bearer ${v}`,xe.request(e.config)):(console.error(" No se pudo refrescar la sesin. Redirigiendo al login..."),await nr.auth.signOut(),window.location.href="/auth",Promise.reject(e))}return Promise.reject(e)});var He;(function(e){e.assertEqual=s=>{};function t(s){}e.assertIs=t;function r(s){throw new Error}e.assertNever=r,e.arrayToEnum=s=>{const a={};for(const o of s)a[o]=o;return a},e.getValidEnumValues=s=>{const a=e.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),o={};for(const l of a)o[l]=s[l];return e.objectValues(o)},e.objectValues=s=>e.objectKeys(s).map(function(a){return s[a]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const a=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&a.push(o);return a},e.find=(s,a)=>{for(const o of s)if(a(o))return o},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function n(s,a=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}e.joinValues=n,e.jsonStringifyReplacer=(s,a)=>typeof a=="bigint"?a.toString():a})(He||(He={}));var $b;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})($b||($b={}));const ce=He.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),xa=e=>{switch(typeof e){case"undefined":return ce.undefined;case"string":return ce.string;case"number":return Number.isNaN(e)?ce.nan:ce.number;case"boolean":return ce.boolean;case"function":return ce.function;case"bigint":return ce.bigint;case"symbol":return ce.symbol;case"object":return Array.isArray(e)?ce.array:e===null?ce.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?ce.promise:typeof Map<"u"&&e instanceof Map?ce.map:typeof Set<"u"&&e instanceof Set?ce.set:typeof Date<"u"&&e instanceof Date?ce.date:ce.object;default:return ce.unknown}},K=He.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class ln extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(a){return a.message},n={_errors:[]},s=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return s(this),n}static assert(t){if(!(t instanceof ln))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,He.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const s of this.issues)if(s.path.length>0){const a=s.path[0];r[a]=r[a]||[],r[a].push(t(s))}else n.push(t(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}ln.create=e=>new ln(e);const rv=(e,t)=>{let r;switch(e.code){case K.invalid_type:e.received===ce.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case K.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,He.jsonStringifyReplacer)}`;break;case K.unrecognized_keys:r=`Unrecognized key(s) in object: ${He.joinValues(e.keys,", ")}`;break;case K.invalid_union:r="Invalid input";break;case K.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${He.joinValues(e.options)}`;break;case K.invalid_enum_value:r=`Invalid enum value. Expected ${He.joinValues(e.options)}, received '${e.received}'`;break;case K.invalid_arguments:r="Invalid function arguments";break;case K.invalid_return_type:r="Invalid function return type";break;case K.invalid_date:r="Invalid date";break;case K.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:He.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case K.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case K.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case K.custom:r="Invalid input";break;case K.invalid_intersection_types:r="Intersection results could not be merged";break;case K.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case K.not_finite:r="Number must be finite";break;default:r=t.defaultError,He.assertNever(e)}return{message:r}};let T$=rv;function A$(){return T$}const O$=e=>{const{data:t,path:r,errorMaps:n,issueData:s}=e,a=[...r,...s.path||[]],o={...s,path:a};if(s.message!==void 0)return{...s,path:a,message:s.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...s,path:a,message:l}};function ae(e,t){const r=A$(),n=O$({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===rv?void 0:rv].filter(s=>!!s)});e.common.issues.push(n)}class hr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const s of r){if(s.status==="aborted")return Se;s.status==="dirty"&&t.dirty(),n.push(s.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const s of r){const a=await s.key,o=await s.value;n.push({key:a,value:o})}return hr.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const s of r){const{key:a,value:o}=s;if(a.status==="aborted"||o.status==="aborted")return Se;a.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[a.value]=o.value)}return{status:t.value,value:n}}}const Se=Object.freeze({status:"aborted"}),vc=e=>({status:"dirty",value:e}),un=e=>({status:"valid",value:e}),Fb=e=>e.status==="aborted",Ub=e=>e.status==="dirty",wl=e=>e.status==="valid",Bf=e=>typeof Promise<"u"&&e instanceof Promise;var fe;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(fe||(fe={}));class ds{constructor(t,r,n,s){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const zb=(e,t)=>{if(wl(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new ln(e.common.issues);return this._error=r,this._error}}};function Oe(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:s}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:s}}class Be{get description(){return this._def.description}_getType(t){return xa(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:xa(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new hr,ctx:{common:t.parent.common,data:t.data,parsedType:xa(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Bf(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:xa(t)},s=this._parseSync({data:t,path:n.path,parent:n});return zb(n,s)}"~validate"(t){var n,s;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:xa(t)};if(!this["~standard"].async)try{const a=this._parseSync({data:t,path:[],parent:r});return wl(a)?{value:a.value}:{issues:r.common.issues}}catch(a){(s=(n=a==null?void 0:a.message)==null?void 0:n.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(a=>wl(a)?{value:a.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:xa(t)},s=this._parse({data:t,path:n.path,parent:n}),a=await(Bf(s)?s:Promise.resolve(s));return zb(n,a)}refine(t,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,a)=>{const o=t(s),l=()=>a.addIssue({code:K.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,s)=>t(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(t){return new _l({schema:this,typeName:_e.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Wa.create(this,this._def)}nullable(){return Sl.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return os.create(this)}promise(){return Kf.create(this,this._def)}or(t){return qf.create([this,t],this._def)}and(t){return Wf.create(this,t,this._def)}transform(t){return new _l({...Oe(this._def),schema:this,typeName:_e.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new ov({...Oe(this._def),innerType:this,defaultValue:r,typeName:_e.ZodDefault})}brand(){return new rF({typeName:_e.ZodBranded,type:this,...Oe(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new lv({...Oe(this._def),innerType:this,catchValue:r,typeName:_e.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return Gy.create(this,t)}readonly(){return cv.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const I$=/^c[^\s-]{8,}$/i,M$=/^[0-9a-z]+$/,D$=/^[0-9A-HJKMNP-TV-Z]{26}$/i,L$=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,$$=/^[a-z0-9_-]{21}$/i,F$=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,U$=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,z$=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,B$="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let lp;const V$=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,q$=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,W$=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,H$=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,K$=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,G$=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,SE="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Q$=new RegExp(`^${SE}$`);function NE(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function J$(e){return new RegExp(`^${NE(e)}$`)}function Y$(e){let t=`${SE}T${NE(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function X$(e,t){return!!((t==="v4"||!t)&&V$.test(e)||(t==="v6"||!t)&&W$.test(e))}function Z$(e,t){if(!F$.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||t&&s.alg!==t)}catch{return!1}}function eF(e,t){return!!((t==="v4"||!t)&&q$.test(e)||(t==="v6"||!t)&&H$.test(e))}class zs extends Be{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==ce.string){const a=this._getOrReturnCtx(t);return ae(a,{code:K.invalid_type,expected:ce.string,received:a.parsedType}),Se}const n=new hr;let s;for(const a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(s=this._getOrReturnCtx(t,s),ae(s,{code:K.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")t.data.length>a.value&&(s=this._getOrReturnCtx(t,s),ae(s,{code:K.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const o=t.data.length>a.value,l=t.data.length<a.value;(o||l)&&(s=this._getOrReturnCtx(t,s),o?ae(s,{code:K.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&ae(s,{code:K.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")z$.test(t.data)||(s=this._getOrReturnCtx(t,s),ae(s,{validation:"email",code:K.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")lp||(lp=new RegExp(B$,"u")),lp.test(t.data)||(s=this._getOrReturnCtx(t,s),ae(s,{validation:"emoji",code:K.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")L$.test(t.data)||(s=this._getOrReturnCtx(t,s),ae(s,{validation:"uuid",code:K.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")$$.test(t.data)||(s=this._getOrReturnCtx(t,s),ae(s,{validation:"nanoid",code:K.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")I$.test(t.data)||(s=this._getOrReturnCtx(t,s),ae(s,{validation:"cuid",code:K.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")M$.test(t.data)||(s=this._getOrReturnCtx(t,s),ae(s,{validation:"cuid2",code:K.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")D$.test(t.data)||(s=this._getOrReturnCtx(t,s),ae(s,{validation:"ulid",code:K.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),ae(s,{validation:"url",code:K.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),ae(s,{validation:"regex",code:K.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(t,s),ae(s,{code:K.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(s=this._getOrReturnCtx(t,s),ae(s,{code:K.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(s=this._getOrReturnCtx(t,s),ae(s,{code:K.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?Y$(a).test(t.data)||(s=this._getOrReturnCtx(t,s),ae(s,{code:K.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?Q$.test(t.data)||(s=this._getOrReturnCtx(t,s),ae(s,{code:K.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?J$(a).test(t.data)||(s=this._getOrReturnCtx(t,s),ae(s,{code:K.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?U$.test(t.data)||(s=this._getOrReturnCtx(t,s),ae(s,{validation:"duration",code:K.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?X$(t.data,a.version)||(s=this._getOrReturnCtx(t,s),ae(s,{validation:"ip",code:K.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?Z$(t.data,a.alg)||(s=this._getOrReturnCtx(t,s),ae(s,{validation:"jwt",code:K.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?eF(t.data,a.version)||(s=this._getOrReturnCtx(t,s),ae(s,{validation:"cidr",code:K.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?K$.test(t.data)||(s=this._getOrReturnCtx(t,s),ae(s,{validation:"base64",code:K.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?G$.test(t.data)||(s=this._getOrReturnCtx(t,s),ae(s,{validation:"base64url",code:K.invalid_string,message:a.message}),n.dirty()):He.assertNever(a);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(s=>t.test(s),{validation:r,code:K.invalid_string,...fe.errToObj(n)})}_addCheck(t){return new zs({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...fe.errToObj(t)})}url(t){return this._addCheck({kind:"url",...fe.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...fe.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...fe.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...fe.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...fe.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...fe.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...fe.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...fe.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...fe.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...fe.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...fe.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...fe.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...fe.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...fe.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...fe.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...fe.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...fe.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...fe.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...fe.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...fe.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...fe.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...fe.errToObj(r)})}nonempty(t){return this.min(1,fe.errToObj(t))}trim(){return new zs({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new zs({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new zs({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}zs.create=e=>new zs({checks:[],typeName:_e.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...Oe(e)});function tF(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,s=r>n?r:n,a=Number.parseInt(e.toFixed(s).replace(".","")),o=Number.parseInt(t.toFixed(s).replace(".",""));return a%o/10**s}class bl extends Be{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==ce.number){const a=this._getOrReturnCtx(t);return ae(a,{code:K.invalid_type,expected:ce.number,received:a.parsedType}),Se}let n;const s=new hr;for(const a of this._def.checks)a.kind==="int"?He.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),ae(n,{code:K.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),ae(n,{code:K.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),ae(n,{code:K.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="multipleOf"?tF(t.data,a.value)!==0&&(n=this._getOrReturnCtx(t,n),ae(n,{code:K.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),ae(n,{code:K.not_finite,message:a.message}),s.dirty()):He.assertNever(a);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,fe.toString(r))}gt(t,r){return this.setLimit("min",t,!1,fe.toString(r))}lte(t,r){return this.setLimit("max",t,!0,fe.toString(r))}lt(t,r){return this.setLimit("max",t,!1,fe.toString(r))}setLimit(t,r,n,s){return new bl({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:fe.toString(s)}]})}_addCheck(t){return new bl({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:fe.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:fe.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:fe.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:fe.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:fe.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:fe.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:fe.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:fe.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:fe.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&He.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}bl.create=e=>new bl({checks:[],typeName:_e.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Oe(e)});class iu extends Be{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==ce.bigint)return this._getInvalidInput(t);let n;const s=new hr;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),ae(n,{code:K.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),ae(n,{code:K.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),ae(n,{code:K.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):He.assertNever(a);return{status:s.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return ae(r,{code:K.invalid_type,expected:ce.bigint,received:r.parsedType}),Se}gte(t,r){return this.setLimit("min",t,!0,fe.toString(r))}gt(t,r){return this.setLimit("min",t,!1,fe.toString(r))}lte(t,r){return this.setLimit("max",t,!0,fe.toString(r))}lt(t,r){return this.setLimit("max",t,!1,fe.toString(r))}setLimit(t,r,n,s){return new iu({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:fe.toString(s)}]})}_addCheck(t){return new iu({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:fe.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:fe.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:fe.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:fe.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:fe.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}iu.create=e=>new iu({checks:[],typeName:_e.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...Oe(e)});class nv extends Be{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==ce.boolean){const n=this._getOrReturnCtx(t);return ae(n,{code:K.invalid_type,expected:ce.boolean,received:n.parsedType}),Se}return un(t.data)}}nv.create=e=>new nv({typeName:_e.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Oe(e)});class Vf extends Be{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==ce.date){const a=this._getOrReturnCtx(t);return ae(a,{code:K.invalid_type,expected:ce.date,received:a.parsedType}),Se}if(Number.isNaN(t.data.getTime())){const a=this._getOrReturnCtx(t);return ae(a,{code:K.invalid_date}),Se}const n=new hr;let s;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(s=this._getOrReturnCtx(t,s),ae(s,{code:K.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(s=this._getOrReturnCtx(t,s),ae(s,{code:K.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):He.assertNever(a);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Vf({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:fe.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:fe.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Vf.create=e=>new Vf({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:_e.ZodDate,...Oe(e)});class Bb extends Be{_parse(t){if(this._getType(t)!==ce.symbol){const n=this._getOrReturnCtx(t);return ae(n,{code:K.invalid_type,expected:ce.symbol,received:n.parsedType}),Se}return un(t.data)}}Bb.create=e=>new Bb({typeName:_e.ZodSymbol,...Oe(e)});class Vb extends Be{_parse(t){if(this._getType(t)!==ce.undefined){const n=this._getOrReturnCtx(t);return ae(n,{code:K.invalid_type,expected:ce.undefined,received:n.parsedType}),Se}return un(t.data)}}Vb.create=e=>new Vb({typeName:_e.ZodUndefined,...Oe(e)});class qb extends Be{_parse(t){if(this._getType(t)!==ce.null){const n=this._getOrReturnCtx(t);return ae(n,{code:K.invalid_type,expected:ce.null,received:n.parsedType}),Se}return un(t.data)}}qb.create=e=>new qb({typeName:_e.ZodNull,...Oe(e)});class sv extends Be{constructor(){super(...arguments),this._any=!0}_parse(t){return un(t.data)}}sv.create=e=>new sv({typeName:_e.ZodAny,...Oe(e)});class Wb extends Be{constructor(){super(...arguments),this._unknown=!0}_parse(t){return un(t.data)}}Wb.create=e=>new Wb({typeName:_e.ZodUnknown,...Oe(e)});class Ya extends Be{_parse(t){const r=this._getOrReturnCtx(t);return ae(r,{code:K.invalid_type,expected:ce.never,received:r.parsedType}),Se}}Ya.create=e=>new Ya({typeName:_e.ZodNever,...Oe(e)});class Hb extends Be{_parse(t){if(this._getType(t)!==ce.undefined){const n=this._getOrReturnCtx(t);return ae(n,{code:K.invalid_type,expected:ce.void,received:n.parsedType}),Se}return un(t.data)}}Hb.create=e=>new Hb({typeName:_e.ZodVoid,...Oe(e)});class os extends Be{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),s=this._def;if(r.parsedType!==ce.array)return ae(r,{code:K.invalid_type,expected:ce.array,received:r.parsedType}),Se;if(s.exactLength!==null){const o=r.data.length>s.exactLength.value,l=r.data.length<s.exactLength.value;(o||l)&&(ae(r,{code:o?K.too_big:K.too_small,minimum:l?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(ae(r,{code:K.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(ae(r,{code:K.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>s.type._parseAsync(new ds(r,o,r.path,l)))).then(o=>hr.mergeArray(n,o));const a=[...r.data].map((o,l)=>s.type._parseSync(new ds(r,o,r.path,l)));return hr.mergeArray(n,a)}get element(){return this._def.type}min(t,r){return new os({...this._def,minLength:{value:t,message:fe.toString(r)}})}max(t,r){return new os({...this._def,maxLength:{value:t,message:fe.toString(r)}})}length(t,r){return new os({...this._def,exactLength:{value:t,message:fe.toString(r)}})}nonempty(t){return this.min(1,t)}}os.create=(e,t)=>new os({type:e,minLength:null,maxLength:null,exactLength:null,typeName:_e.ZodArray,...Oe(t)});function Eo(e){if(e instanceof Rt){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Wa.create(Eo(n))}return new Rt({...e._def,shape:()=>t})}else return e instanceof os?new os({...e._def,type:Eo(e.element)}):e instanceof Wa?Wa.create(Eo(e.unwrap())):e instanceof Sl?Sl.create(Eo(e.unwrap())):e instanceof Gi?Gi.create(e.items.map(t=>Eo(t))):e}class Rt extends Be{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=He.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==ce.object){const u=this._getOrReturnCtx(t);return ae(u,{code:K.invalid_type,expected:ce.object,received:u.parsedType}),Se}const{status:n,ctx:s}=this._processInputParams(t),{shape:a,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Ya&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=a[u],f=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new ds(s,f,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof Ya){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")l.length>0&&(ae(s,{code:K.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new ds(s,f,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>hr.mergeObjectSync(n,u)):hr.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return fe.errToObj,new Rt({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var a,o;const s=((o=(a=this._def).errorMap)==null?void 0:o.call(a,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:fe.errToObj(t).message??s}:{message:s}}}:{}})}strip(){return new Rt({...this._def,unknownKeys:"strip"})}passthrough(){return new Rt({...this._def,unknownKeys:"passthrough"})}extend(t){return new Rt({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Rt({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:_e.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Rt({...this._def,catchall:t})}pick(t){const r={};for(const n of He.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Rt({...this._def,shape:()=>r})}omit(t){const r={};for(const n of He.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new Rt({...this._def,shape:()=>r})}deepPartial(){return Eo(this)}partial(t){const r={};for(const n of He.objectKeys(this.shape)){const s=this.shape[n];t&&!t[n]?r[n]=s:r[n]=s.optional()}return new Rt({...this._def,shape:()=>r})}required(t){const r={};for(const n of He.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof Wa;)a=a._def.innerType;r[n]=a}return new Rt({...this._def,shape:()=>r})}keyof(){return EE(He.objectKeys(this.shape))}}Rt.create=(e,t)=>new Rt({shape:()=>e,unknownKeys:"strip",catchall:Ya.create(),typeName:_e.ZodObject,...Oe(t)});Rt.strictCreate=(e,t)=>new Rt({shape:()=>e,unknownKeys:"strict",catchall:Ya.create(),typeName:_e.ZodObject,...Oe(t)});Rt.lazycreate=(e,t)=>new Rt({shape:e,unknownKeys:"strip",catchall:Ya.create(),typeName:_e.ZodObject,...Oe(t)});class qf extends Be{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function s(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=a.map(l=>new ln(l.ctx.common.issues));return ae(r,{code:K.invalid_union,unionErrors:o}),Se}if(r.common.async)return Promise.all(n.map(async a=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(s);{let a;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!a&&(a={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const l=o.map(c=>new ln(c));return ae(r,{code:K.invalid_union,unionErrors:l}),Se}}get options(){return this._def.options}}qf.create=(e,t)=>new qf({options:e,typeName:_e.ZodUnion,...Oe(t)});function av(e,t){const r=xa(e),n=xa(t);if(e===t)return{valid:!0,data:e};if(r===ce.object&&n===ce.object){const s=He.objectKeys(t),a=He.objectKeys(e).filter(l=>s.indexOf(l)!==-1),o={...e,...t};for(const l of a){const c=av(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===ce.array&&n===ce.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let a=0;a<e.length;a++){const o=e[a],l=t[a],c=av(o,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===ce.date&&n===ce.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Wf extends Be{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=(a,o)=>{if(Fb(a)||Fb(o))return Se;const l=av(a.value,o.value);return l.valid?((Ub(a)||Ub(o))&&r.dirty(),{status:r.value,value:l.data}):(ae(n,{code:K.invalid_intersection_types}),Se)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,o])=>s(a,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Wf.create=(e,t,r)=>new Wf({left:e,right:t,typeName:_e.ZodIntersection,...Oe(r)});class Gi extends Be{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ce.array)return ae(n,{code:K.invalid_type,expected:ce.array,received:n.parsedType}),Se;if(n.data.length<this._def.items.length)return ae(n,{code:K.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Se;!this._def.rest&&n.data.length>this._def.items.length&&(ae(n,{code:K.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new ds(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(a).then(o=>hr.mergeArray(r,o)):hr.mergeArray(r,a)}get items(){return this._def.items}rest(t){return new Gi({...this._def,rest:t})}}Gi.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Gi({items:e,typeName:_e.ZodTuple,rest:null,...Oe(t)})};class Hf extends Be{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ce.object)return ae(n,{code:K.invalid_type,expected:ce.object,received:n.parsedType}),Se;const s=[],a=this._def.keyType,o=this._def.valueType;for(const l in n.data)s.push({key:a._parse(new ds(n,l,n.path,l)),value:o._parse(new ds(n,n.data[l],n.path,l)),alwaysSet:l in n.data});return n.common.async?hr.mergeObjectAsync(r,s):hr.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof Be?new Hf({keyType:t,valueType:r,typeName:_e.ZodRecord,...Oe(n)}):new Hf({keyType:zs.create(),valueType:t,typeName:_e.ZodRecord,...Oe(r)})}}class Kb extends Be{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ce.map)return ae(n,{code:K.invalid_type,expected:ce.map,received:n.parsedType}),Se;const s=this._def.keyType,a=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:s._parse(new ds(n,l,n.path,[u,"key"])),value:a._parse(new ds(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Se;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Se;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}Kb.create=(e,t,r)=>new Kb({valueType:t,keyType:e,typeName:_e.ZodMap,...Oe(r)});class ou extends Be{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ce.set)return ae(n,{code:K.invalid_type,expected:ce.set,received:n.parsedType}),Se;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(ae(n,{code:K.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(ae(n,{code:K.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const a=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Se;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>a._parse(new ds(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new ou({...this._def,minSize:{value:t,message:fe.toString(r)}})}max(t,r){return new ou({...this._def,maxSize:{value:t,message:fe.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}ou.create=(e,t)=>new ou({valueType:e,minSize:null,maxSize:null,typeName:_e.ZodSet,...Oe(t)});class Gb extends Be{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Gb.create=(e,t)=>new Gb({getter:e,typeName:_e.ZodLazy,...Oe(t)});class iv extends Be{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return ae(r,{received:r.data,code:K.invalid_literal,expected:this._def.value}),Se}return{status:"valid",value:t.data}}get value(){return this._def.value}}iv.create=(e,t)=>new iv({value:e,typeName:_e.ZodLiteral,...Oe(t)});function EE(e,t){return new jl({values:e,typeName:_e.ZodEnum,...Oe(t)})}class jl extends Be{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return ae(r,{expected:He.joinValues(n),received:r.parsedType,code:K.invalid_type}),Se}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return ae(r,{received:r.data,code:K.invalid_enum_value,options:n}),Se}return un(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return jl.create(t,{...this._def,...r})}exclude(t,r=this._def){return jl.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}jl.create=EE;class Qb extends Be{_parse(t){const r=He.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==ce.string&&n.parsedType!==ce.number){const s=He.objectValues(r);return ae(n,{expected:He.joinValues(s),received:n.parsedType,code:K.invalid_type}),Se}if(this._cache||(this._cache=new Set(He.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const s=He.objectValues(r);return ae(n,{received:n.data,code:K.invalid_enum_value,options:s}),Se}return un(t.data)}get enum(){return this._def.values}}Qb.create=(e,t)=>new Qb({values:e,typeName:_e.ZodNativeEnum,...Oe(t)});class Kf extends Be{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==ce.promise&&r.common.async===!1)return ae(r,{code:K.invalid_type,expected:ce.promise,received:r.parsedType}),Se;const n=r.parsedType===ce.promise?r.data:Promise.resolve(r.data);return un(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Kf.create=(e,t)=>new Kf({type:e,typeName:_e.ZodPromise,...Oe(t)});class _l extends Be{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===_e.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=this._def.effect||null,a={addIssue:o=>{ae(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){const o=s.transform(n.data,a);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return Se;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?Se:c.status==="dirty"||r.value==="dirty"?vc(c.value):c});{if(r.value==="aborted")return Se;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?Se:l.status==="dirty"||r.value==="dirty"?vc(l.value):l}}if(s.type==="refinement"){const o=l=>{const c=s.refinement(l,a);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Se:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Se:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(s.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!wl(o))return Se;const l=s.transform(o.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>wl(o)?Promise.resolve(s.transform(o.value,a)).then(l=>({status:r.value,value:l})):Se);He.assertNever(s)}}_l.create=(e,t,r)=>new _l({schema:e,typeName:_e.ZodEffects,effect:t,...Oe(r)});_l.createWithPreprocess=(e,t,r)=>new _l({schema:t,effect:{type:"preprocess",transform:e},typeName:_e.ZodEffects,...Oe(r)});class Wa extends Be{_parse(t){return this._getType(t)===ce.undefined?un(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Wa.create=(e,t)=>new Wa({innerType:e,typeName:_e.ZodOptional,...Oe(t)});class Sl extends Be{_parse(t){return this._getType(t)===ce.null?un(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Sl.create=(e,t)=>new Sl({innerType:e,typeName:_e.ZodNullable,...Oe(t)});class ov extends Be{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===ce.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}ov.create=(e,t)=>new ov({innerType:e,typeName:_e.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Oe(t)});class lv extends Be{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Bf(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new ln(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new ln(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}lv.create=(e,t)=>new lv({innerType:e,typeName:_e.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Oe(t)});class Jb extends Be{_parse(t){if(this._getType(t)!==ce.nan){const n=this._getOrReturnCtx(t);return ae(n,{code:K.invalid_type,expected:ce.nan,received:n.parsedType}),Se}return{status:"valid",value:t.data}}}Jb.create=e=>new Jb({typeName:_e.ZodNaN,...Oe(e)});class rF extends Be{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Gy extends Be{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Se:a.status==="dirty"?(r.dirty(),vc(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Se:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(t,r){return new Gy({in:t,out:r,typeName:_e.ZodPipeline})}}class cv extends Be{_parse(t){const r=this._def.innerType._parse(t),n=s=>(wl(s)&&(s.value=Object.freeze(s.value)),s);return Bf(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}cv.create=(e,t)=>new cv({innerType:e,typeName:_e.ZodReadonly,...Oe(t)});var _e;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(_e||(_e={}));const P=zs.create,Ae=bl.create,dn=nv.create,Ih=sv.create;Ya.create;const We=os.create,G=Rt.create,CE=qf.create;Wf.create;Gi.create;const nF=Hf.create,Ac=iv.create,sa=jl.create;Kf.create;Wa.create;Sl.create;const Qy=P().min(8,"La contrasea debe tener al menos 8 caracteres").regex(/[a-z]/,"La contrasea debe contener al menos una letra minscula").regex(/[A-Z]/,"La contrasea debe contener al menos una letra mayscula").regex(/[0-9]/,"La contrasea debe contener al menos un nmero");G({email:P().email("Email invlido"),password:Qy,name:P().min(2,"El nombre debe tener al menos 2 caracteres")});G({email:P().email("Email invlido"),password:P().min(1,"La contrasea es requerida")});const Jy=G({id:P().uuid(),email:P().email(),name:P().nullable(),avatar_url:P().nullable(),bio:P().nullable(),location:P().nullable(),linkedin_url:P().nullable(),website_url:P().nullable(),skills:We(P()),interests:We(P()),role_ids:We(Ae()),completed_pct:Ae().min(0).max(100),created_at:P().datetime(),updated_at:P().datetime()}),sF=G({user:Jy}),aF=G({user:Jy,session:Ih().nullable()}),iF=G({user:Jy}),oF=G({currentPassword:P().min(1,"La contrasea actual es requerida"),newPassword:Qy,confirmPassword:P().min(1,"Debes confirmar la nueva contrasea")}).refine(e=>e.newPassword===e.confirmPassword,{message:"Las contraseas no coinciden",path:["confirmPassword"]}),lF=G({message:P()}),cF=G({email:P().email("Email invlido")}),uF=G({message:P()}),dF=G({password:Qy}),fF=G({message:P()});G({error:P()});const sc="",oo={async signUp(e){const t=await xe.post(`${sc}/auth/signup`,e);return sF.parse(t.data)},async signIn(e){const t=await xe.post(`${sc}/auth/signin`,e);return aF.parse(t.data)},async signOut(){await xe.post(`${sc}/auth/signout`)},async getCurrentUser(){try{const e=await fetch("/api/auth/me",{credentials:"include",headers:{Accept:"application/json"}});if(e.status===401){const r=new Error("Not authenticated");throw r.response={status:401},r}if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const t=await e.json();return iF.parse(t)}catch(e){throw e}},async changePassword(e){const t=await xe.post(`${sc}/auth/change-password`,e);return lF.parse(t.data)},async forgotPassword(e){const t=await xe.post(`${sc}/auth/forgot-password`,e);return uF.parse(t.data)},async resetPassword(e){const{supabase:t}=await ao(async()=>{const{supabase:n}=await Promise.resolve().then(()=>P$);return{supabase:n}},void 0),{error:r}=await t.auth.updateUser({password:e.password});if(r)throw new Error(r.message||"Error al restablecer la contrasea");return fF.parse({message:"Contrasea restablecida exitosamente"})}};function hF(){return Ut({queryKey:["auth","currentUser"],queryFn:async()=>{var e;try{return(await oo.getCurrentUser()).user}catch(t){if(t instanceof Error&&t.message==="Not authenticated"||((e=t.response)==null?void 0:e.status)===401)return null;throw t}},staleTime:300*1e3,retry:!1})}function mF(){const e=et(),t=lt({mutationFn:r=>oo.signUp(r),onSuccess:r=>{e.setQueryData(["auth","currentUser"],r.user)}});return{action:t.mutate,isLoading:t.isPending,error:t.error,isSuccess:t.isSuccess,data:t.data}}function pF(){const e=et(),t=lt({mutationFn:r=>oo.signIn(r),onSuccess:async r=>{r.session&&await nr.auth.setSession({access_token:r.session.access_token,refresh_token:r.session.refresh_token}),e.setQueryData(["auth","currentUser"],r.user)}});return{action:t.mutate,isLoading:t.isPending,error:t.error,isSuccess:t.isSuccess,data:t.data}}function gF(){const e=et(),t=lt({mutationFn:()=>oo.signOut(),onSuccess:()=>{e.setQueryData(["auth","currentUser"],null),e.invalidateQueries(),window.location.href="/auth"}});return{action:t.mutate,isLoading:t.isPending,error:t.error,isSuccess:t.isSuccess}}const kE=m.createContext(void 0);function vF({children:e}){const{data:t,isLoading:r}=hF(),n=mF(),s=pF(),a=gF(),o={user:t,isLoading:r,isAuthenticated:!!t,signUp:n.action,isSigningUp:n.isLoading,signUpError:n.error,signIn:s.action,isSigningIn:s.isLoading,signInError:s.error,signOut:a.action,isSigningOut:a.isLoading};return i.jsx(kE.Provider,{value:o,children:e})}function Et(){const e=m.useContext(kE);if(e===void 0)throw new Error("useAuthContext must be used within AuthProvider");return e}const yF=G({email:P().email("Email invlido"),name:P().min(2,"El nombre debe tener al menos 2 caracteres"),surname:P().optional()}),xF=G({success:dn(),pendingSignupId:P().uuid(),message:P()}),wF=G({id:P().uuid(),email:P().email(),name:P(),surname:P().nullable(),status:sa(["pending","approved","rejected"]),createdAt:P().datetime(),approvedAt:P().datetime().nullable(),approvedBy:P().uuid().nullable(),rejectedAt:P().datetime().nullable(),rejectedBy:P().uuid().nullable(),ipAddress:P().nullable(),userAgent:P().nullable()}),bF=G({success:dn(),signups:We(wF),total:Ae(),limit:Ae(),offset:Ae()}),jF=G({success:dn(),count:Ae()}),Yb=G({success:dn(),message:P()});G({error:P()});const ac="/api/signup-approval";function ic(e){return e&&typeof e=="object"&&"response"in e&&e.response&&typeof e.response=="object"&&"data"in e.response&&e.response.data&&typeof e.response.data=="object"&&"error"in e.response.data?String(e.response.data.error):e instanceof Error?e.message:"Error desconocido. Por favor, intenta de nuevo."}const Tu={async submitRequest(e){try{const t=await Ze.post(`${ac}/request`,e);return xF.parse(t.data)}catch(t){throw new Error(ic(t))}},async approveSignup(e,t){try{const r=await Ze.post(`${ac}/approve/${e}`,t?{adminId:t}:{});return Yb.parse(r.data)}catch(r){throw new Error(ic(r))}},async rejectSignup(e,t){try{const r=await Ze.post(`${ac}/reject/${e}`,t?{adminId:t}:{});return Yb.parse(r.data)}catch(r){throw new Error(ic(r))}},async getPendingSignups(e="pending",t=20,r=0){try{const n=await Ze.get(`${ac}/pending`,{params:{status:e,limit:t,offset:r}});return bF.parse(n.data)}catch(n){throw new Error(ic(n))}},async getPendingCount(){try{const e=await Ze.get(`${ac}/count`);return jF.parse(e.data)}catch(e){throw new Error(ic(e))}}};function _F(){const e=et(),t=lt({mutationFn:r=>Tu.submitRequest(r),onSuccess:()=>{e.invalidateQueries({queryKey:["signupApproval","pendingCount"]}),e.invalidateQueries({queryKey:["signupApproval","pendingSignups"]})}});return{action:t.mutate,isLoading:t.isPending,error:t.error,isSuccess:t.isSuccess,data:t.data}}function Xb(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Mh(...e){return t=>{let r=!1;const n=e.map(s=>{const a=Xb(s,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let s=0;s<n.length;s++){const a=n[s];typeof a=="function"?a():Xb(e[s],null)}}}}function Re(...e){return m.useCallback(Mh(...e),e)}function Qi(e){const t=SF(e),r=m.forwardRef((n,s)=>{const{children:a,...o}=n,l=m.Children.toArray(a),c=l.find(EF);if(c){const u=c.props.children,d=l.map(f=>f===c?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...o,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}var RE=Qi("Slot");function SF(e){const t=m.forwardRef((r,n)=>{const{children:s,...a}=r;if(m.isValidElement(s)){const o=kF(s),l=CF(a,s.props);return s.type!==m.Fragment&&(l.ref=n?Mh(n,o):o),m.cloneElement(s,l)}return m.Children.count(s)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var PE=Symbol("radix.slottable");function NF(e){const t=({children:r})=>i.jsx(i.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=PE,t}function EF(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===PE}function CF(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function kF(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function TE(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=TE(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function AE(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=TE(e))&&(n&&(n+=" "),n+=t);return n}const Zb=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,ej=AE,Au=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return ej(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:a}=t,o=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],f=a==null?void 0:a[u];if(d===null)return null;const h=Zb(d)||Zb(f);return s[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(b=>{let[g,y]=b;return Array.isArray(y)?y.includes({...a,...l}[g]):{...a,...l}[g]===y})?[...u,f,h]:u},[]);return ej(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)},Yy="-",RF=e=>{const t=TF(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(Yy);return l[0]===""&&l.length!==1&&l.shift(),OE(l,t)||PF(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},OE=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?OE(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const a=e.join(Yy);return(o=t.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},tj=/^\[(.+)\]$/,PF=e=>{if(tj.test(e)){const t=tj.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},TF=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return OF(Object.entries(e.classGroups),r).forEach(([a,o])=>{uv(o,n,a,t)}),n},uv=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const a=s===""?t:rj(t,s);a.classGroupId=r;return}if(typeof s=="function"){if(AF(s)){uv(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([a,o])=>{uv(o,rj(t,a),r,n)})})},rj=(e,t)=>{let r=e;return t.split(Yy).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},AF=e=>e.isThemeGetter,OF=(e,t)=>t?e.map(([r,n])=>{const s=n.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[t+o,l])):a);return[r,s]}):e,IF=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(a,o)=>{r.set(a,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(a){let o=r.get(a);if(o!==void 0)return o;if((o=n.get(a))!==void 0)return s(a,o),o},set(a,o){r.has(a)?r.set(a,o):s(a,o)}}},IE="!",MF=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],a=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let y=0;y<l.length;y++){let x=l[y];if(u===0){if(x===s&&(n||l.slice(y,y+a)===t)){c.push(l.slice(d,y)),d=y+a;continue}if(x==="/"){f=y;continue}}x==="["?u++:x==="]"&&u--}const h=c.length===0?l:l.substring(d),p=h.startsWith(IE),b=p?h.substring(1):h,g=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:b,maybePostfixModifierPosition:g}};return r?l=>r({className:l,parseClassName:o}):o},DF=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},LF=e=>({cache:IF(e.cacheSize),parseClassName:MF(e),...RF(e)}),$F=/\s+/,FF=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,a=[],o=e.trim().split($F);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=r(u);let b=!!p,g=n(b?h.substring(0,p):h);if(!g){if(!b){l=u+(l.length>0?" "+l:l);continue}if(g=n(h),!g){l=u+(l.length>0?" "+l:l);continue}b=!1}const y=DF(d).join(":"),x=f?y+IE:y,v=x+g;if(a.includes(v))continue;a.push(v);const w=s(g,b);for(let j=0;j<w.length;++j){const _=w[j];a.push(x+_)}l=u+(l.length>0?" "+l:l)}return l};function UF(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=ME(t))&&(n&&(n+=" "),n+=r);return n}const ME=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=ME(e[n]))&&(r&&(r+=" "),r+=t);return r};function zF(e,...t){let r,n,s,a=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=LF(u),n=r.cache.get,s=r.cache.set,a=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=FF(c,r);return s(c,d),d}return function(){return a(UF.apply(null,arguments))}}const at=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},DE=/^\[(?:([a-z-]+):)?(.+)\]$/i,BF=/^\d+\/\d+$/,VF=new Set(["px","full","screen"]),qF=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,WF=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,HF=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,KF=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,GF=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ns=e=>Ko(e)||VF.has(e)||BF.test(e),fa=e=>Ul(e,"length",r3),Ko=e=>!!e&&!Number.isNaN(Number(e)),cp=e=>Ul(e,"number",Ko),oc=e=>!!e&&Number.isInteger(Number(e)),QF=e=>e.endsWith("%")&&Ko(e.slice(0,-1)),ke=e=>DE.test(e),ha=e=>qF.test(e),JF=new Set(["length","size","percentage"]),YF=e=>Ul(e,JF,LE),XF=e=>Ul(e,"position",LE),ZF=new Set(["image","url"]),e3=e=>Ul(e,ZF,s3),t3=e=>Ul(e,"",n3),lc=()=>!0,Ul=(e,t,r)=>{const n=DE.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},r3=e=>WF.test(e)&&!HF.test(e),LE=()=>!1,n3=e=>KF.test(e),s3=e=>GF.test(e),a3=()=>{const e=at("colors"),t=at("spacing"),r=at("blur"),n=at("brightness"),s=at("borderColor"),a=at("borderRadius"),o=at("borderSpacing"),l=at("borderWidth"),c=at("contrast"),u=at("grayscale"),d=at("hueRotate"),f=at("invert"),h=at("gap"),p=at("gradientColorStops"),b=at("gradientColorStopPositions"),g=at("inset"),y=at("margin"),x=at("opacity"),v=at("padding"),w=at("saturate"),j=at("scale"),_=at("sepia"),S=at("skew"),N=at("space"),C=at("translate"),R=()=>["auto","contain","none"],T=()=>["auto","hidden","clip","visible","scroll"],z=()=>["auto",ke,t],D=()=>[ke,t],q=()=>["",Ns,fa],F=()=>["auto",Ko,ke],M=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],V=()=>["solid","dashed","dotted","double","none"],Z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],I=()=>["start","end","center","between","around","evenly","stretch"],A=()=>["","0",ke],H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ie=()=>[Ko,ke];return{cacheSize:500,separator:":",theme:{colors:[lc],spacing:[Ns,fa],blur:["none","",ha,ke],brightness:ie(),borderColor:[e],borderRadius:["none","","full",ha,ke],borderSpacing:D(),borderWidth:q(),contrast:ie(),grayscale:A(),hueRotate:ie(),invert:A(),gap:D(),gradientColorStops:[e],gradientColorStopPositions:[QF,fa],inset:z(),margin:z(),opacity:ie(),padding:D(),saturate:ie(),scale:ie(),sepia:A(),skew:ie(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",ke]}],container:["container"],columns:[{columns:[ha]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...M(),ke]}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",oc,ke]}],basis:[{basis:z()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ke]}],grow:[{grow:A()}],shrink:[{shrink:A()}],order:[{order:["first","last","none",oc,ke]}],"grid-cols":[{"grid-cols":[lc]}],"col-start-end":[{col:["auto",{span:["full",oc,ke]},ke]}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":[lc]}],"row-start-end":[{row:["auto",{span:[oc,ke]},ke]}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ke]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ke]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...I()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...I(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...I(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ke,t]}],"min-w":[{"min-w":[ke,t,"min","max","fit"]}],"max-w":[{"max-w":[ke,t,"none","full","min","max","fit","prose",{screen:[ha]},ha]}],h:[{h:[ke,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ke,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ke,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ke,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ha,fa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",cp]}],"font-family":[{font:[lc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ke]}],"line-clamp":[{"line-clamp":["none",Ko,cp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ns,ke]}],"list-image":[{"list-image":["none",ke]}],"list-style-type":[{list:["none","disc","decimal",ke]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ns,fa]}],"underline-offset":[{"underline-offset":["auto",Ns,ke]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ke]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ke]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...M(),XF]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",YF]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},e3]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...V(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:V()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...V()]}],"outline-offset":[{"outline-offset":[Ns,ke]}],"outline-w":[{outline:[Ns,fa]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Ns,fa]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ha,t3]}],"shadow-color":[{shadow:[lc]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...Z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Z()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ha,ke]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ke]}],duration:[{duration:ie()}],ease:[{ease:["linear","in","out","in-out",ke]}],delay:[{delay:ie()}],animate:[{animate:["none","spin","ping","pulse","bounce",ke]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[oc,ke]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ke]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ke]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ke]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Ns,fa,cp]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},i3=zF(a3);function te(...e){return i3(AE(e))}const Xy=Au("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),B=m.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},a)=>{const o=n?RE:"button";return i.jsx(o,{className:te(Xy({variant:t,size:r,className:e})),ref:a,...s})});B.displayName="Button";const ye=m.forwardRef(({className:e,type:t,...r},n)=>i.jsx("input",{type:t,className:te("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));ye.displayName="Input";var o3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],de=o3.reduce((e,t)=>{const r=Qi(`Primitive.${t}`),n=m.forwardRef((s,a)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Zy(e,t){e&&no.flushSync(()=>e.dispatchEvent(t))}var l3="Label",$E=m.forwardRef((e,t)=>i.jsx(de.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));$E.displayName=l3;var FE=$E;const c3=Au("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),je=m.forwardRef(({className:e,...t},r)=>i.jsx(FE,{ref:r,className:te(c3(),e),...t}));je.displayName=FE.displayName;function u3(e,t){const r=m.createContext(t),n=a=>{const{children:o,...l}=a,c=m.useMemo(()=>l,Object.values(l));return i.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function s(a){const o=m.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,s]}function gr(e,t=[]){let r=[];function n(a,o){const l=m.createContext(o),c=r.length;r=[...r,o];const u=f=>{var x;const{scope:h,children:p,...b}=f,g=((x=h==null?void 0:h[e])==null?void 0:x[c])||l,y=m.useMemo(()=>b,Object.values(b));return i.jsx(g.Provider,{value:y,children:p})};u.displayName=a+"Provider";function d(f,h){var g;const p=((g=h==null?void 0:h[e])==null?void 0:g[c])||l,b=m.useContext(p);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const s=()=>{const a=r.map(o=>m.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,d3(s,...t)]}function d3(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function X(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}var Nt=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},f3=Dv[" useInsertionEffect ".trim().toString()]||Nt;function Gs({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,a,o]=h3({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:s;{const d=m.useRef(e!==void 0);m.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=m.useCallback(d=>{var f;if(l){const h=m3(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else a(d)},[l,e,a,o]);return[c,u]}function h3({defaultProp:e,onChange:t}){const[r,n]=m.useState(e),s=m.useRef(r),a=m.useRef(t);return f3(()=>{a.current=t},[t]),m.useEffect(()=>{var o;s.current!==r&&((o=a.current)==null||o.call(a,r),s.current=r)},[r,s]),[r,n,a]}function m3(e){return typeof e=="function"}function ex(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function tx(e){const[t,r]=m.useState(void 0);return Nt(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}function p3(e,t){return m.useReducer((r,n)=>t[r][n]??r,e)}var vr=e=>{const{present:t,children:r}=e,n=g3(t),s=typeof r=="function"?r({present:n.isPresent}):m.Children.only(r),a=Re(n.ref,v3(s));return typeof r=="function"||n.isPresent?m.cloneElement(s,{ref:a}):null};vr.displayName="Presence";function g3(e){const[t,r]=m.useState(),n=m.useRef(null),s=m.useRef(e),a=m.useRef("none"),o=e?"mounted":"unmounted",[l,c]=p3(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=Ed(n.current);a.current=l==="mounted"?u:"none"},[l]),Nt(()=>{const u=n.current,d=s.current;if(d!==e){const h=a.current,p=Ed(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Nt(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const g=Ed(n.current).includes(CSS.escape(p.animationName));if(p.target===t&&g&&(c("ANIMATION_END"),!s.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},h=p=>{p.target===t&&(a.current=Ed(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Ed(e){return(e==null?void 0:e.animationName)||"none"}function v3(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Dh="Checkbox",[y3]=gr(Dh),[x3,rx]=y3(Dh);function w3(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:s,disabled:a,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[h,p]=Gs({prop:r,defaultProp:s??!1,onChange:c,caller:Dh}),[b,g]=m.useState(null),[y,x]=m.useState(null),v=m.useRef(!1),w=b?!!o||!!b.closest("form"):!0,j={checked:h,disabled:a,setChecked:p,control:b,setControl:g,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:v,required:u,defaultChecked:Ha(s)?!1:s,isFormControl:w,bubbleInput:y,setBubbleInput:x};return i.jsx(x3,{scope:t,...j,children:b3(f)?f(j):n})}var UE="CheckboxTrigger",zE=m.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},s)=>{const{control:a,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:p,bubbleInput:b}=rx(UE,e),g=Re(s,d),y=m.useRef(c);return m.useEffect(()=>{const x=a==null?void 0:a.form;if(x){const v=()=>f(y.current);return x.addEventListener("reset",v),()=>x.removeEventListener("reset",v)}},[a,f]),i.jsx(de.button,{type:"button",role:"checkbox","aria-checked":Ha(c)?"mixed":c,"aria-required":u,"data-state":HE(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:g,onKeyDown:X(t,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:X(r,x=>{f(v=>Ha(v)?!0:!v),b&&p&&(h.current=x.isPropagationStopped(),h.current||x.stopPropagation())})})});zE.displayName=UE;var nx=m.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:a,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return i.jsx(w3,{__scopeCheckbox:r,checked:s,defaultChecked:a,disabled:l,required:o,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>i.jsxs(i.Fragment,{children:[i.jsx(zE,{...f,ref:t,__scopeCheckbox:r}),h&&i.jsx(WE,{__scopeCheckbox:r})]})})});nx.displayName=Dh;var BE="CheckboxIndicator",VE=m.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...s}=e,a=rx(BE,r);return i.jsx(vr,{present:n||Ha(a.checked)||a.checked===!0,children:i.jsx(de.span,{"data-state":HE(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});VE.displayName=BE;var qE="CheckboxBubbleInput",WE=m.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:s,checked:a,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:p}=rx(qE,e),b=Re(r,p),g=ex(a),y=tx(n);m.useEffect(()=>{const v=h;if(!v)return;const w=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(w,"checked").set,S=!s.current;if(g!==a&&_){const N=new Event("click",{bubbles:S});v.indeterminate=Ha(a),_.call(v,Ha(a)?!1:a),v.dispatchEvent(N)}},[h,g,a,s]);const x=m.useRef(Ha(a)?!1:a);return i.jsx(de.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??x.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:b,style:{...t.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});WE.displayName=qE;function b3(e){return typeof e=="function"}function Ha(e){return e==="indeterminate"}function HE(e){return Ha(e)?"indeterminate":e?"checked":"unchecked"}/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j3=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),KE=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S3=m.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:a,iconNode:o,...l},c)=>m.createElement("svg",{ref:c,..._3,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:KE("lucide",s),...l},[...o.map(([u,d])=>m.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=(e,t)=>{const r=m.forwardRef(({className:n,...s},a)=>m.createElement(S3,{ref:a,iconNode:t,className:KE(`lucide-${j3(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=pe("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const In=pe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=pe("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Js=pe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GE=pe("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QE=pe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ou=pe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JE=pe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E3=pe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C3=pe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gf=pe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YE=pe("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=pe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k3=pe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lo=pe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=pe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oc=pe("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=pe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nj=pe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R3=pe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P3=pe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T3=pe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=pe("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZE=pe("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=pe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=pe("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=pe("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eC=pe("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=pe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nl=pe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tC=pe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lh=pe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=pe("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iu=pe("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lu=pe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D3=pe("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L3=pe("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ji=pe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=pe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cd=pe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=pe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=pe("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cu=pe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=pe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rC=pe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $h=pe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=pe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=pe("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=pe("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=pe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z3=pe("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uu=pe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gr=pe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Or=pe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ox=m.forwardRef(({className:e,...t},r)=>i.jsx(nx,{ref:r,className:te("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:i.jsx(VE,{className:te("flex items-center justify-center text-current"),children:i.jsx(Ou,{className:"h-4 w-4"})})}));ox.displayName=nx.displayName;function B3(){const[e,t]=m.useState(""),[r,n]=m.useState(""),[s,a]=m.useState(""),[o,l]=m.useState(!1),[c,u]=m.useState(""),{action:d,isLoading:f,error:h,isSuccess:p}=_F(),b=async y=>{y.preventDefault(),u("");const x=yF.safeParse({email:r,name:e,surname:s});if(!x.success){u(x.error.errors[0].message);return}d({email:r,name:e,surname:s})};if(p)return i.jsxs("div",{className:"text-center space-y-4 p-6 bg-green-50 border border-green-200 rounded-lg",children:[i.jsx("div",{className:"flex justify-center",children:i.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:i.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-green-900 mb-1",children:"Solicitud Enviada!"}),i.jsx("p",{className:"text-sm text-green-800",children:"Tu solicitud de registro ha sido enviada exitosamente. El administrador la revisar en las prximas 24-48 horas."})]}),i.jsx("div",{className:"bg-green-100 border border-green-300 rounded-md p-3",children:i.jsxs("p",{className:"text-xs text-green-900",children:[i.jsx("strong",{children:"Qu sigue?"}),i.jsx("br",{}),"El equipo de administracin revisar tu solicitud en las prximas 24-48 horas. Recibirs un correo electrnico cuando tu cuenta sea aprobada."]})}),i.jsx(B,{onClick:()=>window.location.href="/",variant:"outline",className:"w-full",children:"Volver al Inicio"})]});const g=(h==null?void 0:h.message)||c;return i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:i.jsx("p",{className:"text-xs text-blue-900",children:"El registro requiere aprobacin del administrador. Recibirs un email con un enlace para completar tu perfil una vez tu solicitud sea aprobada."})}),i.jsxs("form",{onSubmit:b,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(je,{htmlFor:"name-input",children:["Nombre ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("div",{className:"relative",children:[i.jsx(uu,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),i.jsx(ye,{id:"name-input",type:"text",placeholder:"Nombre",value:e,onChange:y=>t(y.target.value),className:"pl-10",required:!0,disabled:f})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"surname-input",children:"Apellidos"}),i.jsxs("div",{className:"relative",children:[i.jsx(uu,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),i.jsx(ye,{id:"surname-input",type:"text",placeholder:"Apellido1 Apellido2",value:s,onChange:y=>a(y.target.value),className:"pl-10",disabled:f})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(je,{htmlFor:"email-input",children:["Email ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("div",{className:"relative",children:[i.jsx(Lh,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),i.jsx(ye,{id:"email-input",type:"email",placeholder:"correo@mail.com",value:r,onChange:y=>n(y.target.value),className:"pl-10",required:!0,disabled:f})]})]}),g&&i.jsx("div",{className:"text-sm text-destructive",children:g}),i.jsxs("div",{className:"flex items-start space-x-2",children:[i.jsx(ox,{id:"accept-terms",checked:o,onCheckedChange:y=>l(y===!0),disabled:f}),i.jsxs("label",{htmlFor:"accept-terms",className:"text-sm text-muted-foreground leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:["Acepto los"," ",i.jsx(ts,{to:"/privacidad",className:"text-primary hover:underline",target:"_blank",children:"trminos de servicio y poltica de privacidad"})]})]}),i.jsx(B,{type:"submit",className:"w-full h-11",disabled:f||!o,children:f?i.jsxs(i.Fragment,{children:[i.jsx(_t,{className:"mr-2 h-4 w-4 animate-spin"}),"Enviando solicitud..."]}):"Enviar Solicitud"})]})]})}var V3=Dv[" useId ".trim().toString()]||(()=>{}),q3=0;function cs(e){const[t,r]=m.useState(V3());return Nt(()=>{r(n=>n??String(q3++))},[e]),t?`radix-${t}`:""}function bt(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function W3(e,t=globalThis==null?void 0:globalThis.document){const r=bt(e);m.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var H3="DismissableLayer",dv="dismissableLayer.update",K3="dismissableLayer.pointerDownOutside",G3="dismissableLayer.focusOutside",sj,nC=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Mu=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=e,u=m.useContext(nC),[d,f]=m.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=m.useState({}),b=Re(t,N=>f(N)),g=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=g.indexOf(y),v=d?g.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,j=v>=x,_=J3(N=>{const C=N.target,R=[...u.branches].some(T=>T.contains(C));!j||R||(s==null||s(N),o==null||o(N),N.defaultPrevented||l==null||l())},h),S=Y3(N=>{const C=N.target;[...u.branches].some(T=>T.contains(C))||(a==null||a(N),o==null||o(N),N.defaultPrevented||l==null||l())},h);return W3(N=>{v===u.layers.size-1&&(n==null||n(N),!N.defaultPrevented&&l&&(N.preventDefault(),l()))},h),m.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(sj=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),aj(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=sj)}},[d,h,r,u]),m.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),aj())},[d,u]),m.useEffect(()=>{const N=()=>p({});return document.addEventListener(dv,N),()=>document.removeEventListener(dv,N)},[]),i.jsx(de.div,{...c,ref:b,style:{pointerEvents:w?j?"auto":"none":void 0,...e.style},onFocusCapture:X(e.onFocusCapture,S.onFocusCapture),onBlurCapture:X(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:X(e.onPointerDownCapture,_.onPointerDownCapture)})});Mu.displayName=H3;var Q3="DismissableLayerBranch",sC=m.forwardRef((e,t)=>{const r=m.useContext(nC),n=m.useRef(null),s=Re(t,n);return m.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),i.jsx(de.div,{...e,ref:s})});sC.displayName=Q3;function J3(e,t=globalThis==null?void 0:globalThis.document){const r=bt(e),n=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){aC(K3,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Y3(e,t=globalThis==null?void 0:globalThis.document){const r=bt(e),n=m.useRef(!1);return m.useEffect(()=>{const s=a=>{a.target&&!n.current&&aC(G3,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function aj(){const e=new CustomEvent(dv);document.dispatchEvent(e)}function aC(e,t,r,{discrete:n}){const s=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?Zy(s,a):s.dispatchEvent(a)}var X3=Mu,Z3=sC,up="focusScope.autoFocusOnMount",dp="focusScope.autoFocusOnUnmount",ij={bubbles:!1,cancelable:!0},eU="FocusScope",Fh=m.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...o}=e,[l,c]=m.useState(null),u=bt(s),d=bt(a),f=m.useRef(null),h=Re(t,g=>c(g)),p=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(n){let g=function(w){if(p.paused||!l)return;const j=w.target;l.contains(j)?f.current=j:ga(f.current,{select:!0})},y=function(w){if(p.paused||!l)return;const j=w.relatedTarget;j!==null&&(l.contains(j)||ga(f.current,{select:!0}))},x=function(w){if(document.activeElement===document.body)for(const _ of w)_.removedNodes.length>0&&ga(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",y);const v=new MutationObserver(x);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",y),v.disconnect()}}},[n,l,p.paused]),m.useEffect(()=>{if(l){lj.add(p);const g=document.activeElement;if(!l.contains(g)){const x=new CustomEvent(up,ij);l.addEventListener(up,u),l.dispatchEvent(x),x.defaultPrevented||(tU(iU(iC(l)),{select:!0}),document.activeElement===g&&ga(l))}return()=>{l.removeEventListener(up,u),setTimeout(()=>{const x=new CustomEvent(dp,ij);l.addEventListener(dp,d),l.dispatchEvent(x),x.defaultPrevented||ga(g??document.body,{select:!0}),l.removeEventListener(dp,d),lj.remove(p)},0)}}},[l,u,d,p]);const b=m.useCallback(g=>{if(!r&&!n||p.paused)return;const y=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,x=document.activeElement;if(y&&x){const v=g.currentTarget,[w,j]=rU(v);w&&j?!g.shiftKey&&x===j?(g.preventDefault(),r&&ga(w,{select:!0})):g.shiftKey&&x===w&&(g.preventDefault(),r&&ga(j,{select:!0})):x===v&&g.preventDefault()}},[r,n,p.paused]);return i.jsx(de.div,{tabIndex:-1,...o,ref:h,onKeyDown:b})});Fh.displayName=eU;function tU(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(ga(n,{select:t}),document.activeElement!==r)return}function rU(e){const t=iC(e),r=oj(t,e),n=oj(t.reverse(),e);return[r,n]}function iC(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function oj(e,t){for(const r of e)if(!nU(r,{upTo:t}))return r}function nU(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function sU(e){return e instanceof HTMLInputElement&&"select"in e}function ga(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&sU(e)&&t&&e.select()}}var lj=aU();function aU(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=cj(e,t),e.unshift(t)},remove(t){var r;e=cj(e,t),(r=e[0])==null||r.resume()}}}function cj(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function iU(e){return e.filter(t=>t.tagName!=="A")}var oU="Portal",Du=m.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,a]=m.useState(!1);Nt(()=>a(!0),[]);const o=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?AN.createPortal(i.jsx(de.div,{...n,ref:t}),o):null});Du.displayName=oU;var fp=0;function lx(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??uj()),document.body.insertAdjacentElement("beforeend",e[1]??uj()),fp++,()=>{fp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),fp--}},[])}function uj(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ef="right-scroll-bar-position",tf="width-before-scroll-bar",lU="with-scroll-bars-hidden",cU="--removed-body-scroll-bar-size";function hp(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function uU(e,t){var r=m.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var dU=typeof window<"u"?m.useLayoutEffect:m.useEffect,dj=new WeakMap;function fU(e,t){var r=uU(null,function(n){return e.forEach(function(s){return hp(s,n)})});return dU(function(){var n=dj.get(r);if(n){var s=new Set(n),a=new Set(e),o=r.current;s.forEach(function(l){a.has(l)||hp(l,null)}),a.forEach(function(l){s.has(l)||hp(l,o)})}dj.set(r,e)},[e]),r}function hU(e){return e}function mU(e,t){t===void 0&&(t=hU);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var o=t(a,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(n=!0;r.length;){var o=r;r=[],o.forEach(a)}r={push:function(l){return a(l)},filter:function(){return r}}},assignMedium:function(a){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(a),o=r}var c=function(){var d=o;o=[],d.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return s}function pU(e){e===void 0&&(e={});var t=mU(null);return t.options=tn({async:!0,ssr:!1},e),t}var oC=function(e){var t=e.sideCar,r=li(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return m.createElement(n,tn({},r))};oC.isSideCarExport=!0;function gU(e,t){return e.useMedium(t),oC}var lC=pU(),mp=function(){},Uh=m.forwardRef(function(e,t){var r=m.useRef(null),n=m.useState({onScrollCapture:mp,onWheelCapture:mp,onTouchMoveCapture:mp}),s=n[0],a=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,p=e.noRelative,b=e.noIsolation,g=e.inert,y=e.allowPinchZoom,x=e.as,v=x===void 0?"div":x,w=e.gapMode,j=li(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=h,S=fU([r,t]),N=tn(tn({},j),s);return m.createElement(m.Fragment,null,d&&m.createElement(_,{sideCar:lC,removeScrollBar:u,shards:f,noRelative:p,noIsolation:b,inert:g,setCallbacks:a,allowPinchZoom:!!y,lockRef:r,gapMode:w}),o?m.cloneElement(m.Children.only(l),tn(tn({},N),{ref:S})):m.createElement(v,tn({},N,{className:c,ref:S}),l))});Uh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Uh.classNames={fullWidth:tf,zeroRight:ef};var vU=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function yU(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=vU();return t&&e.setAttribute("nonce",t),e}function xU(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function wU(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var bU=function(){var e=0,t=null;return{add:function(r){e==0&&(t=yU())&&(xU(t,r),wU(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},jU=function(){var e=bU();return function(t,r){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},cC=function(){var e=jU(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},_U={left:0,top:0,right:0,gap:0},pp=function(e){return parseInt(e||"",10)||0},SU=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[pp(r),pp(n),pp(s)]},NU=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return _U;var t=SU(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},EU=cC(),Go="data-scroll-locked",CU=function(e,t,r,n){var s=e.left,a=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(lU,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Go,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ef,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(tf,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(ef," .").concat(ef,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(tf," .").concat(tf,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Go,`] {
    `).concat(cU,": ").concat(l,`px;
  }
`)},fj=function(){var e=parseInt(document.body.getAttribute(Go)||"0",10);return isFinite(e)?e:0},kU=function(){m.useEffect(function(){return document.body.setAttribute(Go,(fj()+1).toString()),function(){var e=fj()-1;e<=0?document.body.removeAttribute(Go):document.body.setAttribute(Go,e.toString())}},[])},RU=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;kU();var a=m.useMemo(function(){return NU(s)},[s]);return m.createElement(EU,{styles:CU(a,!t,s,r?"":"!important")})},fv=!1;if(typeof window<"u")try{var kd=Object.defineProperty({},"passive",{get:function(){return fv=!0,!0}});window.addEventListener("test",kd,kd),window.removeEventListener("test",kd,kd)}catch{fv=!1}var xo=fv?{passive:!1}:!1,PU=function(e){return e.tagName==="TEXTAREA"},uC=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!PU(e)&&r[t]==="visible")},TU=function(e){return uC(e,"overflowY")},AU=function(e){return uC(e,"overflowX")},hj=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=dC(e,n);if(s){var a=fC(e,n),o=a[1],l=a[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},OU=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},IU=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},dC=function(e,t){return e==="v"?TU(t):AU(t)},fC=function(e,t){return e==="v"?OU(t):IU(t)},MU=function(e,t){return e==="h"&&t==="rtl"?-1:1},DU=function(e,t,r,n,s){var a=MU(e,window.getComputedStyle(t).direction),o=a*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{if(!l)break;var p=fC(e,l),b=p[0],g=p[1],y=p[2],x=g-y-a*b;(b||x)&&dC(e,l)&&(f+=x,h+=b);var v=l.parentNode;l=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},Rd=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},mj=function(e){return[e.deltaX,e.deltaY]},pj=function(e){return e&&"current"in e?e.current:e},LU=function(e,t){return e[0]===t[0]&&e[1]===t[1]},$U=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},FU=0,wo=[];function UU(e){var t=m.useRef([]),r=m.useRef([0,0]),n=m.useRef(),s=m.useState(FU++)[0],a=m.useState(cC)[0],o=m.useRef(e);m.useEffect(function(){o.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var g=Fy([e.lockRef.current],(e.shards||[]).map(pj),!0).filter(Boolean);return g.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=m.useCallback(function(g,y){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var x=Rd(g),v=r.current,w="deltaX"in g?g.deltaX:v[0]-x[0],j="deltaY"in g?g.deltaY:v[1]-x[1],_,S=g.target,N=Math.abs(w)>Math.abs(j)?"h":"v";if("touches"in g&&N==="h"&&S.type==="range")return!1;var C=hj(N,S);if(!C)return!0;if(C?_=N:(_=N==="v"?"h":"v",C=hj(N,S)),!C)return!1;if(!n.current&&"changedTouches"in g&&(w||j)&&(n.current=_),!_)return!0;var R=n.current||_;return DU(R,y,g,R==="h"?w:j)},[]),c=m.useCallback(function(g){var y=g;if(!(!wo.length||wo[wo.length-1]!==a)){var x="deltaY"in y?mj(y):Rd(y),v=t.current.filter(function(_){return _.name===y.type&&(_.target===y.target||y.target===_.shadowParent)&&LU(_.delta,x)})[0];if(v&&v.should){y.cancelable&&y.preventDefault();return}if(!v){var w=(o.current.shards||[]).map(pj).filter(Boolean).filter(function(_){return _.contains(y.target)}),j=w.length>0?l(y,w[0]):!o.current.noIsolation;j&&y.cancelable&&y.preventDefault()}}},[]),u=m.useCallback(function(g,y,x,v){var w={name:g,delta:y,target:x,should:v,shadowParent:zU(x)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(j){return j!==w})},1)},[]),d=m.useCallback(function(g){r.current=Rd(g),n.current=void 0},[]),f=m.useCallback(function(g){u(g.type,mj(g),g.target,l(g,e.lockRef.current))},[]),h=m.useCallback(function(g){u(g.type,Rd(g),g.target,l(g,e.lockRef.current))},[]);m.useEffect(function(){return wo.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,xo),document.addEventListener("touchmove",c,xo),document.addEventListener("touchstart",d,xo),function(){wo=wo.filter(function(g){return g!==a}),document.removeEventListener("wheel",c,xo),document.removeEventListener("touchmove",c,xo),document.removeEventListener("touchstart",d,xo)}},[]);var p=e.removeScrollBar,b=e.inert;return m.createElement(m.Fragment,null,b?m.createElement(a,{styles:$U(s)}):null,p?m.createElement(RU,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function zU(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const BU=gU(lC,UU);var zh=m.forwardRef(function(e,t){return m.createElement(Uh,tn({},e,{ref:t,sideCar:BU}))});zh.classNames=Uh.classNames;var VU=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},bo=new WeakMap,Pd=new WeakMap,Td={},gp=0,hC=function(e){return e&&(e.host||hC(e.parentNode))},qU=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=hC(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},WU=function(e,t,r,n){var s=qU(t,Array.isArray(e)?e:[e]);Td[r]||(Td[r]=new WeakMap);var a=Td[r],o=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var p=h.getAttribute(n),b=p!==null&&p!=="false",g=(bo.get(h)||0)+1,y=(a.get(h)||0)+1;bo.set(h,g),a.set(h,y),o.push(h),g===1&&b&&Pd.set(h,!0),y===1&&h.setAttribute(r,"true"),b||h.setAttribute(n,"true")}catch(x){console.error("aria-hidden: cannot operate on ",h,x)}})};return d(t),l.clear(),gp++,function(){o.forEach(function(f){var h=bo.get(f)-1,p=a.get(f)-1;bo.set(f,h),a.set(f,p),h||(Pd.has(f)||f.removeAttribute(n),Pd.delete(f)),p||f.removeAttribute(r)}),gp--,gp||(bo=new WeakMap,bo=new WeakMap,Pd=new WeakMap,Td={})}},cx=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=VU(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),WU(n,s,r,"aria-hidden")):function(){return null}},Bh="Dialog",[mC,pC]=gr(Bh),[HU,$n]=mC(Bh),gC=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:a,modal:o=!0}=e,l=m.useRef(null),c=m.useRef(null),[u,d]=Gs({prop:n,defaultProp:s??!1,onChange:a,caller:Bh});return i.jsx(HU,{scope:t,triggerRef:l,contentRef:c,contentId:cs(),titleId:cs(),descriptionId:cs(),open:u,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};gC.displayName=Bh;var vC="DialogTrigger",yC=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=$n(vC,r),a=Re(t,s.triggerRef);return i.jsx(de.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":fx(s.open),...n,ref:a,onClick:X(e.onClick,s.onOpenToggle)})});yC.displayName=vC;var ux="DialogPortal",[KU,xC]=mC(ux,{forceMount:void 0}),wC=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,a=$n(ux,t);return i.jsx(KU,{scope:t,forceMount:r,children:m.Children.map(n,o=>i.jsx(vr,{present:r||a.open,children:i.jsx(Du,{asChild:!0,container:s,children:o})}))})};wC.displayName=ux;var Qf="DialogOverlay",bC=m.forwardRef((e,t)=>{const r=xC(Qf,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=$n(Qf,e.__scopeDialog);return a.modal?i.jsx(vr,{present:n||a.open,children:i.jsx(QU,{...s,ref:t})}):null});bC.displayName=Qf;var GU=Qi("DialogOverlay.RemoveScroll"),QU=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=$n(Qf,r);return i.jsx(zh,{as:GU,allowPinchZoom:!0,shards:[s.contentRef],children:i.jsx(de.div,{"data-state":fx(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Yi="DialogContent",jC=m.forwardRef((e,t)=>{const r=xC(Yi,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=$n(Yi,e.__scopeDialog);return i.jsx(vr,{present:n||a.open,children:a.modal?i.jsx(JU,{...s,ref:t}):i.jsx(YU,{...s,ref:t})})});jC.displayName=Yi;var JU=m.forwardRef((e,t)=>{const r=$n(Yi,e.__scopeDialog),n=m.useRef(null),s=Re(t,r.contentRef,n);return m.useEffect(()=>{const a=n.current;if(a)return cx(a)},[]),i.jsx(_C,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:X(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:X(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:X(e.onFocusOutside,a=>a.preventDefault())})}),YU=m.forwardRef((e,t)=>{const r=$n(Yi,e.__scopeDialog),n=m.useRef(!1),s=m.useRef(!1);return i.jsx(_C,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),_C=m.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,...o}=e,l=$n(Yi,r),c=m.useRef(null),u=Re(t,c);return lx(),i.jsxs(i.Fragment,{children:[i.jsx(Fh,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:i.jsx(Mu,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":fx(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(ZU,{titleId:l.titleId}),i.jsx(t5,{contentRef:c,descriptionId:l.descriptionId})]})]})}),dx="DialogTitle",SC=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=$n(dx,r);return i.jsx(de.h2,{id:s.titleId,...n,ref:t})});SC.displayName=dx;var NC="DialogDescription",EC=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=$n(NC,r);return i.jsx(de.p,{id:s.descriptionId,...n,ref:t})});EC.displayName=NC;var CC="DialogClose",kC=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=$n(CC,r);return i.jsx(de.button,{type:"button",...n,ref:t,onClick:X(e.onClick,()=>s.onOpenChange(!1))})});kC.displayName=CC;function fx(e){return e?"open":"closed"}var RC="DialogTitleWarning",[XU,PC]=u3(RC,{contentName:Yi,titleName:dx,docsSlug:"dialog"}),ZU=({titleId:e})=>{const t=PC(RC),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},e5="DialogDescriptionWarning",t5=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${PC(e5).contentName}}.`;return m.useEffect(()=>{var a;const s=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},TC=gC,AC=yC,OC=wC,hx=bC,mx=jC,px=SC,gx=EC,vx=kC;const Ys=TC,IC=AC,r5=OC,MC=m.forwardRef(({className:e,...t},r)=>i.jsx(hx,{ref:r,className:te("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));MC.displayName=hx.displayName;const ms=m.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(r5,{children:[i.jsx(MC,{}),i.jsxs(mx,{ref:n,className:te("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,i.jsxs(vx,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(Or,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ms.displayName=mx.displayName;const ps=({className:e,...t})=>i.jsx("div",{className:te("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});ps.displayName="DialogHeader";const Jf=({className:e,...t})=>i.jsx("div",{className:te("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Jf.displayName="DialogFooter";const gs=m.forwardRef(({className:e,...t},r)=>i.jsx(px,{ref:r,className:te("text-lg font-semibold leading-none tracking-tight",e),...t}));gs.displayName=px.displayName;const vs=m.forwardRef(({className:e,...t},r)=>i.jsx(gx,{ref:r,className:te("text-sm text-muted-foreground",e),...t}));vs.displayName=gx.displayName;function n5(){const e=lt({mutationFn:t=>oo.forgotPassword(t)});return{action:e.mutate,isLoading:e.isPending,error:e.error,isSuccess:e.isSuccess,data:e.data}}function s5({open:e,onOpenChange:t}){const{action:r,isLoading:n,error:s,isSuccess:a}=n5(),[o,l]=m.useState(""),[c,u]=m.useState("");m.useEffect(()=>{e||(l(""),u(""))},[e]),m.useEffect(()=>{a&&setTimeout(()=>{t(!1)},3e3)},[a,t]);const d=f=>{f.preventDefault(),u("");try{const h=cF.parse({email:o});r(h)}catch(h){h instanceof ln&&u(h.errors[0].message)}};return i.jsx(Ys,{open:e,onOpenChange:t,children:i.jsxs(ms,{className:"sm:max-w-md",children:[i.jsxs(ps,{children:[i.jsxs(gs,{className:"flex items-center gap-2",children:[i.jsx(Lh,{className:"h-5 w-5 text-primary"}),"Recuperar Contrasea"]}),i.jsx(vs,{children:"Introduce tu email y te enviaremos un enlace para restablecer tu contrasea"})]}),i.jsxs("form",{onSubmit:d,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"email",children:"Email"}),i.jsx(ye,{id:"email",type:"email",placeholder:"tu@email.com",value:o,onChange:f=>{l(f.target.value),u("")},disabled:n||a,className:c?"border-red-500":""}),c&&i.jsx("p",{className:"text-sm text-red-600",children:c})]}),s&&i.jsx("div",{className:"text-sm text-red-600 bg-red-50 border border-red-200 rounded-xl p-4",children:s instanceof Error?s.message:"Error al enviar el email"}),a&&i.jsxs("div",{className:"text-sm text-green-600 bg-green-50 border border-green-200 rounded-xl p-4",children:[i.jsx("p",{className:"font-medium mb-1",children:"Email enviado!"}),i.jsx("p",{children:"Revisa tu bandeja de entrada y sigue las instrucciones para restablecer tu contrasea."})]}),i.jsxs("div",{className:"flex gap-3 pt-4",children:[i.jsx(B,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:n,className:"flex-1",children:"Cancelar"}),i.jsx(B,{type:"submit",disabled:n||a,className:"flex-1",children:n?"Enviando...":"Enviar Email"})]})]})]})})}const be=m.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:te("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));be.displayName="Card";const mt=m.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:te("flex flex-col space-y-1.5 p-6",e),...t}));mt.displayName="CardHeader";const ht=m.forwardRef(({className:e,...t},r)=>i.jsx("h3",{ref:r,className:te("text-2xl font-semibold leading-none tracking-tight",e),...t}));ht.displayName="CardTitle";const ur=m.forwardRef(({className:e,...t},r)=>i.jsx("p",{ref:r,className:te("text-sm text-muted-foreground",e),...t}));ur.displayName="CardDescription";const we=m.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:te("p-6 pt-0",e),...t}));we.displayName="CardContent";const a5=m.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:te("flex items-center p-6 pt-0",e),...t}));a5.displayName="CardFooter";function Vh(e){const t=e+"CollectionProvider",[r,n]=gr(t),[s,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:y,children:x}=g,v=U.useRef(null),w=U.useRef(new Map).current;return i.jsx(s,{scope:y,itemMap:w,collectionRef:v,children:x})};o.displayName=t;const l=e+"CollectionSlot",c=Qi(l),u=U.forwardRef((g,y)=>{const{scope:x,children:v}=g,w=a(l,x),j=Re(y,w.collectionRef);return i.jsx(c,{ref:j,children:v})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=Qi(d),p=U.forwardRef((g,y)=>{const{scope:x,children:v,...w}=g,j=U.useRef(null),_=Re(y,j),S=a(d,x);return U.useEffect(()=>(S.itemMap.set(j,{ref:j,...w}),()=>void S.itemMap.delete(j))),i.jsx(h,{[f]:"",ref:_,children:v})});p.displayName=d;function b(g){const y=a(e+"CollectionConsumer",g);return U.useCallback(()=>{const v=y.collectionRef.current;if(!v)return[];const w=Array.from(v.querySelectorAll(`[${f}]`));return Array.from(y.itemMap.values()).sort((S,N)=>w.indexOf(S.ref.current)-w.indexOf(N.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:u,ItemSlot:p},b,n]}var i5=m.createContext(void 0);function Lu(e){const t=m.useContext(i5);return e||t||"ltr"}var vp="rovingFocusGroup.onEntryFocus",o5={bubbles:!1,cancelable:!0},$u="RovingFocusGroup",[hv,DC,l5]=Vh($u),[c5,qh]=gr($u,[l5]),[u5,d5]=c5($u),LC=m.forwardRef((e,t)=>i.jsx(hv.Provider,{scope:e.__scopeRovingFocusGroup,children:i.jsx(hv.Slot,{scope:e.__scopeRovingFocusGroup,children:i.jsx(f5,{...e,ref:t})})}));LC.displayName=$u;var f5=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=m.useRef(null),p=Re(t,h),b=Lu(a),[g,y]=Gs({prop:o,defaultProp:l??null,onChange:c,caller:$u}),[x,v]=m.useState(!1),w=bt(u),j=DC(r),_=m.useRef(!1),[S,N]=m.useState(0);return m.useEffect(()=>{const C=h.current;if(C)return C.addEventListener(vp,w),()=>C.removeEventListener(vp,w)},[w]),i.jsx(u5,{scope:r,orientation:n,dir:b,loop:s,currentTabStopId:g,onItemFocus:m.useCallback(C=>y(C),[y]),onItemShiftTab:m.useCallback(()=>v(!0),[]),onFocusableItemAdd:m.useCallback(()=>N(C=>C+1),[]),onFocusableItemRemove:m.useCallback(()=>N(C=>C-1),[]),children:i.jsx(de.div,{tabIndex:x||S===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:X(e.onMouseDown,()=>{_.current=!0}),onFocus:X(e.onFocus,C=>{const R=!_.current;if(C.target===C.currentTarget&&R&&!x){const T=new CustomEvent(vp,o5);if(C.currentTarget.dispatchEvent(T),!T.defaultPrevented){const z=j().filter(V=>V.focusable),D=z.find(V=>V.active),q=z.find(V=>V.id===g),M=[D,q,...z].filter(Boolean).map(V=>V.ref.current);UC(M,d)}}_.current=!1}),onBlur:X(e.onBlur,()=>v(!1))})})}),$C="RovingFocusGroupItem",FC=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:a,children:o,...l}=e,c=cs(),u=a||c,d=d5($C,r),f=d.currentTabStopId===u,h=DC(r),{onFocusableItemAdd:p,onFocusableItemRemove:b,currentTabStopId:g}=d;return m.useEffect(()=>{if(n)return p(),()=>b()},[n,p,b]),i.jsx(hv.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:i.jsx(de.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:X(e.onMouseDown,y=>{n?d.onItemFocus(u):y.preventDefault()}),onFocus:X(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:X(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){d.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const x=p5(y,d.orientation,d.dir);if(x!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let w=h().filter(j=>j.focusable).map(j=>j.ref.current);if(x==="last")w.reverse();else if(x==="prev"||x==="next"){x==="prev"&&w.reverse();const j=w.indexOf(y.currentTarget);w=d.loop?g5(w,j+1):w.slice(j+1)}setTimeout(()=>UC(w))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:g!=null}):o})})});FC.displayName=$C;var h5={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function m5(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function p5(e,t,r){const n=m5(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return h5[n]}function UC(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function g5(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var zC=LC,BC=FC,Wh="Tabs",[v5]=gr(Wh,[qh]),VC=qh(),[y5,yx]=v5(Wh),qC=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Lu(l),[f,h]=Gs({prop:n,onChange:s,defaultProp:a??"",caller:Wh});return i.jsx(y5,{scope:r,baseId:cs(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:i.jsx(de.div,{dir:d,"data-orientation":o,...u,ref:t})})});qC.displayName=Wh;var WC="TabsList",HC=m.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,a=yx(WC,r),o=VC(r);return i.jsx(zC,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:n,children:i.jsx(de.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:t})})});HC.displayName=WC;var KC="TabsTrigger",GC=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...a}=e,o=yx(KC,r),l=VC(r),c=YC(o.baseId,n),u=XC(o.baseId,n),d=n===o.value;return i.jsx(BC,{asChild:!0,...l,focusable:!s,active:d,children:i.jsx(de.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...a,ref:t,onMouseDown:X(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:X(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:X(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!s&&f&&o.onValueChange(n)})})})});GC.displayName=KC;var QC="TabsContent",JC=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:a,...o}=e,l=yx(QC,r),c=YC(l.baseId,n),u=XC(l.baseId,n),d=n===l.value,f=m.useRef(d);return m.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),i.jsx(vr,{present:s||d,children:({present:h})=>i.jsx(de.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&a})})});JC.displayName=QC;function YC(e,t){return`${e}-trigger-${t}`}function XC(e,t){return`${e}-content-${t}`}var x5=qC,ZC=HC,ek=GC,tk=JC;const Fu=x5,zl=m.forwardRef(({className:e,...t},r)=>i.jsx(ZC,{ref:r,className:te("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));zl.displayName=ZC.displayName;const qr=m.forwardRef(({className:e,...t},r)=>i.jsx(ek,{ref:r,className:te("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));qr.displayName=ek.displayName;const An=m.forwardRef(({className:e,...t},r)=>i.jsx(tk,{ref:r,className:te("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));An.displayName=tk.displayName;const w5=()=>{const e=vt(),{signIn:t,isSigningIn:r,signInError:n,isSignInSuccess:s,signUp:a,isSigningUp:o,signUpError:l,isSignUpSuccess:c,isLoading:u,isAuthenticated:d}=Et(),[f,h]=m.useState({email:"",password:""}),[p,b]=m.useState(!1);m.useEffect(()=>{(s||c||d)&&e("/dashboard")},[s,c,d,e]);const g=async y=>{y.preventDefault(),t({email:f.email,password:f.password})};return u?i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background via-background to-muted",children:i.jsx(_t,{className:"h-8 w-8 animate-spin text-primary"})}):i.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background via-background to-muted p-4",children:[i.jsxs("div",{className:"w-full max-w-md",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary to-primary/80 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("span",{className:"text-2xl font-bold text-primary-foreground",children:"EC"})}),i.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Espaa Creativa"}),i.jsx("p",{className:"text-muted-foreground",children:"Red de emprendedores"})]}),i.jsxs(be,{className:"shadow-elegant border-0",children:[i.jsxs(mt,{className:"space-y-1 pb-4",children:[i.jsx(ht,{className:"text-2xl text-center",children:"Accede a tu cuenta"}),i.jsx(ur,{className:"text-center",children:"Conecta con emprendedores de confianza"})]}),i.jsx(we,{className:"space-y-4",children:i.jsxs(Fu,{defaultValue:"login",className:"w-full",children:[i.jsxs(zl,{className:"grid w-full grid-cols-2",children:[i.jsx(qr,{value:"login",children:"Iniciar Sesin"}),i.jsx(qr,{value:"request",children:"Solicitar Acceso"})]}),i.jsx(An,{value:"login",className:"space-y-4 mt-4",children:i.jsxs("form",{onSubmit:g,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"login-email",children:"Email"}),i.jsxs("div",{className:"relative",children:[i.jsx(Lh,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),i.jsx(ye,{id:"login-email",type:"email",placeholder:"tu@email.com",value:f.email,onChange:y=>h({...f,email:y.target.value}),className:"pl-10",required:!0})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(je,{htmlFor:"login-password",children:"Contrasea"}),i.jsx("button",{type:"button",onClick:()=>b(!0),className:"text-sm text-primary hover:text-primary/80 font-medium transition-colors",children:"Olvidaste tu contrasea?"})]}),i.jsxs("div",{className:"relative",children:[i.jsx(Nl,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),i.jsx(ye,{id:"login-password",type:"password",placeholder:"",value:f.password,onChange:y=>h({...f,password:y.target.value}),className:"pl-10",required:!0})]})]}),n&&i.jsx("div",{className:"text-sm text-destructive",children:n.message||"Error al iniciar sesin"}),i.jsxs(B,{type:"submit",className:"w-full h-11",disabled:r,children:[r?i.jsx(_t,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Iniciar Sesin"]})]})}),i.jsx(An,{value:"request",className:"mt-4",children:i.jsx(B3,{})})]})})]}),i.jsxs("p",{className:"text-center text-sm text-muted-foreground mt-6",children:["Al continuar, aceptas nuestros"," ",i.jsx(ts,{to:"/privacidad",className:"text-primary hover:underline",children:"trminos de servicio y poltica de privacidad"})]})]}),i.jsx(s5,{open:p,onOpenChange:b})]})};function b5(){const{token:e}=Nu(),t=vt(),{signIn:r}=Et(),[n,s]=m.useState(!0),[a,o]=m.useState(!1),[l,c]=m.useState(null),[u,d]=m.useState(""),[f,h]=m.useState(""),[p,b]=m.useState(null),[g,y]=m.useState(!1);m.useEffect(()=>{(async()=>{if(!e){b("Token de activacin invlido"),s(!1);return}try{const w=await fetch(`/api/auth/validate-activation/${e}`),j=await w.json();if(!w.ok||!j.success){b(j.error||"Token de activacin invlido o expirado"),s(!1);return}c(j.data),s(!1)}catch{b("Error al validar el token. Por favor, intenta de nuevo."),s(!1)}})()},[e]);const x=async v=>{if(v.preventDefault(),b(null),u.length<8){b("La contrasea debe tener al menos 8 caracteres");return}if(u!==f){b("Las contraseas no coinciden");return}o(!0);try{const w=await fetch("/api/auth/activate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e,password:u})}),j=await w.json();if(!w.ok||!j.success){b(j.error||"Error al activar la cuenta"),o(!1);return}y(!0),setTimeout(async()=>{try{await r({email:l.email,password:u}),t("/dashboard")}catch{t("/auth")}},2e3)}catch{b("Error al activar la cuenta. Por favor, intenta de nuevo."),o(!1)}};return n?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 max-w-md w-full text-center",children:[i.jsx(_t,{className:"w-16 h-16 text-primary animate-spin mx-auto mb-4"}),i.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Validando enlace..."}),i.jsx("p",{className:"text-gray-600",children:"Por favor, espera un momento."})]})}):g?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 max-w-md w-full text-center",children:[i.jsx(YE,{className:"w-20 h-20 text-green-500 mx-auto mb-4"}),i.jsx("h1",{className:"text-2xl font-bold text-green-700 mb-2",children:"Cuenta activada!"}),i.jsx("p",{className:"text-gray-700 text-lg",children:"Tu contrasea ha sido configurada correctamente. Redirigiendo al dashboard..."})]})}):p&&!l?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 max-w-md w-full text-center",children:[i.jsx(XE,{className:"w-20 h-20 text-red-500 mx-auto mb-4"}),i.jsx("h1",{className:"text-2xl font-bold text-red-700 mb-2",children:"Error"}),i.jsx("p",{className:"text-gray-700 text-lg mb-6",children:p}),i.jsx(B,{onClick:()=>t("/auth"),variant:"outline",children:"Ir a inicio de sesin"})]})}):i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 max-w-md w-full",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx(Nl,{className:"w-16 h-16 text-primary mx-auto mb-4"}),i.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Crea tu contrasea"}),i.jsxs("p",{className:"text-gray-600",children:["Bienvenido/a, ",i.jsx("strong",{children:l==null?void 0:l.name})]}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:l==null?void 0:l.email})]}),i.jsxs("form",{onSubmit:x,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx(je,{htmlFor:"password",children:"Contrasea"}),i.jsx(ye,{id:"password",type:"password",value:u,onChange:v=>d(v.target.value),placeholder:"Mnimo 8 caracteres",required:!0,minLength:8,disabled:a}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Mnimo 8 caracteres"})]}),i.jsxs("div",{children:[i.jsx(je,{htmlFor:"confirmPassword",children:"Confirmar contrasea"}),i.jsx(ye,{id:"confirmPassword",type:"password",value:f,onChange:v=>h(v.target.value),placeholder:"Repite tu contrasea",required:!0,minLength:8,disabled:a})]}),p&&i.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:p}),i.jsx(B,{type:"submit",className:"w-full",disabled:a,children:a?i.jsxs(i.Fragment,{children:[i.jsx(_t,{className:"w-4 h-4 mr-2 animate-spin"}),"Creando cuenta..."]}):"Crear contrasea y acceder"})]})]})})}function j5(){const e=lt({mutationFn:t=>oo.resetPassword(t)});return{action:e.mutate,isLoading:e.isPending,error:e.error,isSuccess:e.isSuccess,data:e.data}}function _5(){KI();const e=vt(),{action:t,isLoading:r,error:n,isSuccess:s}=j5(),[a,o]=m.useState(""),[l,c]=m.useState(""),[u,d]=m.useState(!1),[f,h]=m.useState(!1),[p,b]=m.useState({});m.useEffect(()=>{s&&setTimeout(()=>{e("/auth")},3e3)},[s,e]);const g=y=>{if(y.preventDefault(),b({}),a!==l){b({confirmPassword:"Las contraseas no coinciden"});return}try{const x=dF.parse({password:a});t(x)}catch(x){if(x instanceof ln){const v={};x.errors.forEach(w=>{w.path[0]&&(v[w.path[0]]=w.message)}),b(v)}}};return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted flex items-center justify-center p-4",children:i.jsx("div",{className:"w-full max-w-md",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 space-y-6",children:[i.jsxs("div",{className:"text-center space-y-2",children:[i.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary to-emerald-600 rounded-xl flex items-center justify-center mx-auto",children:i.jsx(Nl,{className:"h-8 w-8 text-white"})}),i.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Restablecer Contrasea"}),i.jsx("p",{className:"text-muted-foreground",children:"Introduce tu nueva contrasea"})]}),s?i.jsx("div",{className:"text-center space-y-4",children:i.jsxs("div",{className:"text-sm text-green-600 bg-green-50 border border-green-200 rounded-xl p-4",children:[i.jsx("p",{className:"font-medium mb-1",children:"Contrasea actualizada!"}),i.jsx("p",{children:"Tu contrasea ha sido restablecida exitosamente. Redirigiendo al login..."})]})}):i.jsxs("form",{onSubmit:g,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"password",children:"Nueva Contrasea"}),i.jsxs("div",{className:"relative",children:[i.jsx(ye,{id:"password",type:u?"text":"password",value:a,onChange:y=>{if(o(y.target.value),p.password){const x={...p};delete x.password,b(x)}},disabled:r,className:p.password?"border-red-500":""}),i.jsx("button",{type:"button",onClick:()=>d(!u),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:u?i.jsx(Oc,{className:"h-4 w-4"}):i.jsx(ls,{className:"h-4 w-4"})})]}),p.password&&i.jsx("p",{className:"text-sm text-red-600",children:p.password}),i.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[i.jsx("p",{className:"font-medium",children:"La contrasea debe contener:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-0.5 ml-2",children:[i.jsx("li",{children:"Mnimo 8 caracteres"}),i.jsx("li",{children:"Al menos una letra mayscula"}),i.jsx("li",{children:"Al menos una letra minscula"}),i.jsx("li",{children:"Al menos un nmero"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"confirmPassword",children:"Confirmar Nueva Contrasea"}),i.jsxs("div",{className:"relative",children:[i.jsx(ye,{id:"confirmPassword",type:f?"text":"password",value:l,onChange:y=>{if(c(y.target.value),p.confirmPassword){const x={...p};delete x.confirmPassword,b(x)}},disabled:r,className:p.confirmPassword?"border-red-500":""}),i.jsx("button",{type:"button",onClick:()=>h(!f),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:f?i.jsx(Oc,{className:"h-4 w-4"}):i.jsx(ls,{className:"h-4 w-4"})})]}),p.confirmPassword&&i.jsx("p",{className:"text-sm text-red-600",children:p.confirmPassword})]}),n&&i.jsx("div",{className:"text-sm text-red-600 bg-red-50 border border-red-200 rounded-xl p-4",children:n instanceof Error?n.message:"Error al restablecer la contrasea"}),i.jsx(B,{type:"submit",disabled:r,className:"w-full",children:r?"Restableciendo...":"Restablecer Contrasea"})]}),!s&&i.jsx("div",{className:"text-center",children:i.jsx("button",{onClick:()=>e("/auth"),className:"text-sm text-primary hover:text-primary/80 font-medium",children:"Volver al inicio de sesin"})})]})})})}function Bt({children:e}){const{user:t,isLoading:r}=Et();return r?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 border-4 border-primary/30 border-t-primary rounded-full animate-spin mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})]})}):t?i.jsx(i.Fragment,{children:e}):i.jsx(wg,{to:"/auth",replace:!0})}function S5(){return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:i.jsx("div",{className:"max-w-2xl w-full",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 md:p-12 space-y-8",children:[i.jsx("div",{className:"flex justify-center",children:i.jsx("div",{className:"w-20 h-20 bg-yellow-100 rounded-full flex items-center justify-center",children:i.jsx("svg",{className:"w-10 h-10 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-3",children:"Solicitud en Revisin"}),i.jsx("p",{className:"text-lg text-gray-600",children:"Tu solicitud de acceso est siendo revisada por nuestro equipo"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:" Tiempo de Respuesta"}),i.jsxs("p",{className:"text-blue-800",children:["Nuestro equipo revisar tu solicitud en las prximas ",i.jsx("strong",{children:"24-48 horas"}),". Te enviaremos un correo electrnico tan pronto como tu cuenta sea aprobada."]})]}),i.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-green-900 mb-2",children:" Revisa tu Email"}),i.jsxs("p",{className:"text-green-800",children:["Una vez aprobada, recibirs un ",i.jsx("strong",{children:"enlace mgico"})," para acceder a tu cuenta por primera vez. El enlace ser vlido por 1 hora."]})]}),i.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-purple-900 mb-2",children:" Qu sigue?"}),i.jsxs("ul",{className:"text-purple-800 space-y-2 list-disc list-inside",children:[i.jsx("li",{children:"Recibirs un email de confirmacin cuando seas aprobado"}),i.jsx("li",{children:"Haz clic en el enlace para crear tu cuenta"}),i.jsx("li",{children:"Completa tu perfil y empieza a conectar con la comunidad"})]})]})]}),i.jsx("div",{className:"border-t border-gray-200 pt-6",children:i.jsxs("p",{className:"text-center text-gray-600 text-sm",children:["Tienes alguna pregunta? Contctanos en"," ",i.jsx("a",{href:"mailto:info@espanacreativa.org",className:"text-primary font-semibold hover:underline",children:"info@espanacreativa.org"})]})}),i.jsx("div",{className:"flex justify-center",children:i.jsx("button",{onClick:()=>window.location.href="/",className:"modern-button modern-button-outline",children:"Volver al Inicio"})})]})})})}const yp={ADMIN:1,MENTOR:2,EMPRENDEDOR:3};function Uu(){const{user:e,isLoading:t}=Et(),r=a=>!e||!e.role_ids?!1:e.role_ids.includes(a),n=a=>!e||!e.role_ids?!1:a.some(o=>e.role_ids.includes(o)),s=a=>!e||!e.role_ids?!1:a.every(o=>e.role_ids.includes(o));return{isLoading:t,roleIds:(e==null?void 0:e.role_ids)||[],isAdmin:r(yp.ADMIN),isMentor:r(yp.MENTOR),isEmprendedor:r(yp.EMPRENDEDOR),hasRole:r,hasAnyRole:n,hasAllRoles:s}}function N5({status:e="pending",limit:t=20,offset:r=0,enabled:n=!0}={}){return Ut({queryKey:["signupApproval","pendingSignups",e,t,r],queryFn:()=>Tu.getPendingSignups(e,t,r),staleTime:30*1e3,enabled:n})}function E5({enabled:e=!0}={}){return Ut({queryKey:["signupApproval","pendingCount"],queryFn:()=>Tu.getPendingCount(),staleTime:60*1e3,refetchInterval:300*1e3,enabled:e})}function rk(){const e=et(),t=lt({mutationFn:({token:r,adminId:n})=>Tu.approveSignup(r,n),onSuccess:()=>{e.invalidateQueries({queryKey:["signupApproval","pendingSignups"]}),e.invalidateQueries({queryKey:["signupApproval","pendingCount"]})}});return{action:t.mutate,mutateAsync:t.mutateAsync,isLoading:t.isPending,error:t.error,isSuccess:t.isSuccess,data:t.data}}function nk(){const e=et(),t=lt({mutationFn:({token:r,adminId:n})=>Tu.rejectSignup(r,n),onSuccess:()=>{e.invalidateQueries({queryKey:["signupApproval","pendingSignups"]}),e.invalidateQueries({queryKey:["signupApproval","pendingCount"]})}});return{action:t.mutate,mutateAsync:t.mutateAsync,isLoading:t.isPending,error:t.error,isSuccess:t.isSuccess,data:t.data}}const Hh=m.forwardRef(({className:e,...t},r)=>i.jsx("div",{className:"relative w-full overflow-auto",children:i.jsx("table",{ref:r,className:te("w-full caption-bottom text-sm",e),...t})}));Hh.displayName="Table";const Kh=m.forwardRef(({className:e,...t},r)=>i.jsx("thead",{ref:r,className:te("[&_tr]:border-b",e),...t}));Kh.displayName="TableHeader";const Gh=m.forwardRef(({className:e,...t},r)=>i.jsx("tbody",{ref:r,className:te("[&_tr:last-child]:border-0",e),...t}));Gh.displayName="TableBody";const C5=m.forwardRef(({className:e,...t},r)=>i.jsx("tfoot",{ref:r,className:te("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));C5.displayName="TableFooter";const Ka=m.forwardRef(({className:e,...t},r)=>i.jsx("tr",{ref:r,className:te("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Ka.displayName="TableRow";const tr=m.forwardRef(({className:e,...t},r)=>i.jsx("th",{ref:r,className:te("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));tr.displayName="TableHead";const Gt=m.forwardRef(({className:e,...t},r)=>i.jsx("td",{ref:r,className:te("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Gt.displayName="TableCell";const k5=m.forwardRef(({className:e,...t},r)=>i.jsx("caption",{ref:r,className:te("mt-4 text-sm text-muted-foreground",e),...t}));k5.displayName="TableCaption";function R5(){const[e,t]=m.useState("pending"),[r,n]=m.useState(0),s=20,{data:a,isLoading:o,error:l,refetch:c}=N5({status:e,limit:s,offset:r*s}),{data:u}=E5(),{action:d,isLoading:f}=rk(),{action:h,isLoading:p}=nk(),b=j=>{confirm("Aprobar esta solicitud? El usuario recibir un magic link por email.")&&d({token:j},{onSuccess:()=>{c()}})},g=j=>{confirm("Rechazar esta solicitud? El usuario ser notificado por email.")&&h({token:j},{onSuccess:()=>{c()}})};if(o)return i.jsx("div",{className:"flex items-center justify-center p-12",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Cargando solicitudes..."})]})});if(l)return i.jsx("div",{className:"p-6 bg-red-50 border border-red-200 rounded-xl",children:i.jsxs("p",{className:"text-red-800",children:["Error al cargar solicitudes: ",l.message]})});const y=(a==null?void 0:a.signups)||[],x=(a==null?void 0:a.total)||0,v=Math.ceil(x/s),w=(u==null?void 0:u.count)||0;return i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Gestin de Solicitudes"}),i.jsxs("p",{className:"text-gray-600 mt-1",children:[w>0&&i.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 mr-2",children:[w," pendientes"]}),"Total: ",x," solicitudes"]})]})}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>{t("pending"),n(0)},className:`px-4 py-2 rounded-lg font-medium transition-colors ${e==="pending"?"bg-yellow-100 text-yellow-900":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Pendientes"}),i.jsx("button",{onClick:()=>{t("approved"),n(0)},className:`px-4 py-2 rounded-lg font-medium transition-colors ${e==="approved"?"bg-green-100 text-green-900":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Aprobadas"}),i.jsx("button",{onClick:()=>{t("rejected"),n(0)},className:`px-4 py-2 rounded-lg font-medium transition-colors ${e==="rejected"?"bg-red-100 text-red-900":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Rechazadas"})]}),y.length===0?i.jsx("div",{className:"text-center p-12 bg-gray-50 rounded-xl",children:i.jsxs("p",{className:"text-gray-600",children:["No hay solicitudes ",e,"."]})}):i.jsx("div",{className:"border rounded-xl bg-white",children:i.jsxs(Hh,{children:[i.jsx(Kh,{children:i.jsxs(Ka,{children:[i.jsx(tr,{children:"Nombre"}),i.jsx(tr,{children:"Email"}),i.jsx(tr,{children:"Fecha"}),i.jsx(tr,{children:"Estado"}),e==="pending"&&i.jsx(tr,{className:"text-right",children:"Acciones"})]})}),i.jsx(Gh,{children:y.map(j=>i.jsxs(Ka,{children:[i.jsxs(Gt,{className:"font-medium",children:[j.name," ",j.surname||""]}),i.jsx(Gt,{children:j.email}),i.jsx(Gt,{children:new Date(j.createdAt).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric"})}),i.jsx(Gt,{children:i.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${j.status==="pending"?"bg-yellow-100 text-yellow-800":j.status==="approved"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[j.status==="pending"&&"Pendiente",j.status==="approved"&&"Aprobada",j.status==="rejected"&&"Rechazada"]})}),e==="pending"&&i.jsx(Gt,{className:"text-right",children:i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx("button",{onClick:()=>b(j.id),disabled:f||p,className:"px-3 py-1.5 bg-green-600 text-white text-sm rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Aprobar"}),i.jsx("button",{onClick:()=>g(j.id),disabled:f||p,className:"px-3 py-1.5 bg-red-600 text-white text-sm rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Rechazar"})]})})]},j.id))})]})}),v>1&&i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("p",{className:"text-sm text-gray-700",children:["Pgina ",r+1," de ",v]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>n(Math.max(0,r-1)),disabled:r===0,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Anterior"}),i.jsx("button",{onClick:()=>n(Math.min(v-1,r+1)),disabled:r>=v-1,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Siguiente"})]})]})]})}function gj(){const{isAdmin:e,isLoading:t}=Uu(),r=vt();return m.useEffect(()=>{!t&&!e&&r("/")},[e,t,r]),t?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):e?i.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[i.jsxs(B,{variant:"ghost",onClick:()=>r("/gestion"),className:"mb-6 hover:bg-gray-100",children:[i.jsx(In,{className:"h-4 w-4 mr-2"}),"Volver a Gestin"]}),i.jsxs("div",{className:"mb-8",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx(hs,{className:"h-8 w-8 text-primary"}),i.jsx("h1",{className:"text-3xl font-bold",children:"Aprobacin de Registros"})]}),i.jsx("p",{className:"text-muted-foreground",children:"Revisa y gestiona las solicitudes de acceso a la plataforma"})]}),i.jsx(R5,{})]}):null}function P5(){const{action:e,token:t}=Nu();vt();const[r,n]=m.useState(!0),[s,a]=m.useState(null),o=rk(),l=nk();return m.useEffect(()=>{if(!t||!e){a({success:!1,message:"Invalid approval link"}),n(!1);return}(async()=>{try{e==="approve"?(await o.mutateAsync({token:t}),a({success:!0,message:"Solicitud aprobada correctamente. El usuario recibir un email con el enlace de acceso."})):e==="reject"&&(await l.mutateAsync({token:t}),a({success:!0,message:"Solicitud rechazada. El usuario ha sido notificado por email."}))}catch(u){a({success:!1,message:u.message||"Error al procesar la solicitud"})}finally{n(!1)}})()},[t,e]),r?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 max-w-md w-full text-center",children:[i.jsx(_t,{className:"w-16 h-16 text-primary animate-spin mx-auto mb-4"}),i.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Procesando solicitud..."}),i.jsxs("p",{className:"text-gray-600",children:["Por favor, espera un momento mientras procesamos la ",e==="approve"?"aprobacin":"rechazo","."]})]})}):i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 max-w-md w-full",children:[i.jsxs("div",{className:"text-center mb-6",children:[s!=null&&s.success?i.jsx(YE,{className:"w-20 h-20 text-green-500 mx-auto mb-4"}):i.jsx(XE,{className:"w-20 h-20 text-red-500 mx-auto mb-4"}),i.jsx("h1",{className:`text-2xl font-bold mb-2 ${s!=null&&s.success?"text-green-700":"text-red-700"}`,children:s!=null&&s.success?"Accin completada!":"Error"}),i.jsx("p",{className:"text-gray-700 text-lg",children:s==null?void 0:s.message})]}),i.jsx("div",{className:"flex justify-center",children:i.jsxs(B,{onClick:()=>window.close(),variant:"outline",className:"w-full max-w-xs",children:[i.jsx(Or,{className:"w-4 h-4 mr-2"}),"Cerrar"]})})]})})}const T5=Au("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Te({className:e,variant:t,...r}){return i.jsx("div",{className:te(T5({variant:t}),e),...r})}var sk={exports:{}},ak={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var El=m;function A5(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var O5=typeof Object.is=="function"?Object.is:A5,I5=El.useState,M5=El.useEffect,D5=El.useLayoutEffect,L5=El.useDebugValue;function $5(e,t){var r=t(),n=I5({inst:{value:r,getSnapshot:t}}),s=n[0].inst,a=n[1];return D5(function(){s.value=r,s.getSnapshot=t,xp(s)&&a({inst:s})},[e,r,t]),M5(function(){return xp(s)&&a({inst:s}),e(function(){xp(s)&&a({inst:s})})},[e]),L5(r),r}function xp(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!O5(e,r)}catch{return!0}}function F5(e,t){return t()}var U5=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?F5:$5;ak.useSyncExternalStore=El.useSyncExternalStore!==void 0?El.useSyncExternalStore:U5;sk.exports=ak;var z5=sk.exports;function B5(){return z5.useSyncExternalStore(V5,()=>!0,()=>!1)}function V5(){return()=>{}}var xx="Avatar",[q5]=gr(xx),[W5,ik]=q5(xx),ok=m.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,a]=m.useState("idle");return i.jsx(W5,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:a,children:i.jsx(de.span,{...n,ref:t})})});ok.displayName=xx;var lk="AvatarImage",ck=m.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...a}=e,o=ik(lk,r),l=H5(n,a),c=bt(u=>{s(u),o.onImageLoadingStatusChange(u)});return Nt(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?i.jsx(de.img,{...a,ref:t,src:n}):null});ck.displayName=lk;var uk="AvatarFallback",dk=m.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,a=ik(uk,r),[o,l]=m.useState(n===void 0);return m.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&a.imageLoadingStatus!=="loaded"?i.jsx(de.span,{...s,ref:t}):null});dk.displayName=uk;function vj(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function H5(e,{referrerPolicy:t,crossOrigin:r}){const n=B5(),s=m.useRef(null),a=n?(s.current||(s.current=new window.Image),s.current):null,[o,l]=m.useState(()=>vj(a,e));return Nt(()=>{l(vj(a,e))},[a,e]),Nt(()=>{const c=f=>()=>{l(f)};if(!a)return;const u=c("loaded"),d=c("error");return a.addEventListener("load",u),a.addEventListener("error",d),t&&(a.referrerPolicy=t),typeof r=="string"&&(a.crossOrigin=r),()=>{a.removeEventListener("load",u),a.removeEventListener("error",d)}},[a,r,t]),o}var fk=ok,hk=ck,mk=dk;const At=m.forwardRef(({className:e,...t},r)=>i.jsx(fk,{ref:r,className:te("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));At.displayName=fk.displayName;const Ft=m.forwardRef(({className:e,...t},r)=>i.jsx(hk,{ref:r,className:te("aspect-square h-full w-full",e),...t}));Ft.displayName=hk.displayName;const Ot=m.forwardRef(({className:e,...t},r)=>i.jsx(mk,{ref:r,className:te("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Ot.displayName=mk.displayName;var wx="Progress",bx=100,[K5]=gr(wx),[G5,Q5]=K5(wx),pk=m.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:a=J5,...o}=e;(s||s===0)&&!yj(s)&&console.error(Y5(`${s}`,"Progress"));const l=yj(s)?s:bx;n!==null&&!xj(n,l)&&console.error(X5(`${n}`,"Progress"));const c=xj(n,l)?n:null,u=Yf(c)?a(c,l):void 0;return i.jsx(G5,{scope:r,value:c,max:l,children:i.jsx(de.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Yf(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":yk(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});pk.displayName=wx;var gk="ProgressIndicator",vk=m.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,s=Q5(gk,r);return i.jsx(de.div,{"data-state":yk(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:t})});vk.displayName=gk;function J5(e,t){return`${Math.round(e/t*100)}%`}function yk(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Yf(e){return typeof e=="number"}function yj(e){return Yf(e)&&!isNaN(e)&&e>0}function xj(e,t){return Yf(e)&&!isNaN(e)&&e<=t&&e>=0}function Y5(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${bx}\`.`}function X5(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${bx} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var xk=pk,Z5=vk;const wk=m.forwardRef(({className:e,value:t,...r},n)=>i.jsx(xk,{ref:n,className:te("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:i.jsx(Z5,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));wk.displayName=xk.displayName;class e6{constructor(){gn(this,"isDevelopment",!1);gn(this,"sessionId",this.generateSessionId());gn(this,"pendingLogs",[]);gn(this,"batchTimeout",null);gn(this,"isOnline",!0)}generateSessionId(){return`session-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}formatTimestamp(){return new Date().toISOString()}createLogEntry(t,r,n,s){return{timestamp:this.formatTimestamp(),level:t,message:r,data:n,component:s,session:this.sessionId}}formatConsoleOutput(t){const{timestamp:r,level:n,message:s,component:a,data:o}=t,l=a?`[${a}]`:"",c=`[${t.session}]`,u=`${r} ${c} ${l} [${n.toUpperCase()}] ${s}`;return o?`${u}
Data: ${JSON.stringify(o,null,2)}`:u}log(t,r,n,s){if(!this.isDevelopment)return;const a=this.createLogEntry(t,r,n,s),o=this.formatConsoleOutput(a);switch(t){case"debug":console.debug(`%c${o}`,"color: #6b7280");break;case"info":console.info(`%c${o}`,"color: #3b82f6");break;case"warn":console.warn(`%c${o}`,"color: #f59e0b");break;case"error":console.error(`%c${o}`,"color: #ef4444");break}this.sendToDevServer(a).catch(l=>{console.error("Failed to send log to dev server:",l)})}async sendToDevServer(t){try{return}catch{}}debug(t,r,n){this.log("debug",t,r,n)}info(t,r,n){this.log("info",t,r,n)}warn(t,r,n){this.log("warn",t,r,n)}error(t,r,n){this.log("error",t,r,n)}apiCall(t,r,n,s){this.info(`API ${t.toUpperCase()} ${r}`,n,s)}apiResponse(t,r,n,s,a){const o=n>=400?"error":n>=300?"warn":"info";this.log(o,`API ${t.toUpperCase()} ${r} - ${n}`,s,a)}userAction(t,r,n){this.info(`User action: ${t}`,r,n)}componentMount(t,r){this.debug(`Component mounted: ${t}`,r,t)}componentUnmount(t){this.debug(`Component unmounted: ${t}`,void 0,t)}stateChange(t,r,n,s){this.debug(`State change: ${t}`,{oldValue:r,newValue:n},s)}navigation(t,r){this.info(`Navigation: ${t} -> ${r}`,void 0,"Router")}supabaseOperation(t,r,n){this.debug(`Supabase ${t}${r?` on ${r}`:""}`,n,"Supabase")}authEvent(t,r){this.info(`Auth event: ${t}`,r,"Auth")}}const t6=new e6,Jn=t6;async function r6(e,t){Jn.apiCall("UPDATE","users/profile",{userId:e,fields:Object.keys(t)},"updateUserProfile");const{data:r,error:n}=await nr.from("users").update({name:t.name,bio:t.bio,location:t.location,linkedin_url:t.linkedin_url,website_url:t.website_url,skills:t.skills,interests:t.interests,avatar_url:t.avatar_url}).eq("id",e).select().single();return n?Jn.error("updateUserProfile failed",{userId:e,error:n,updates:t}):Jn.info("updateUserProfile success",{userId:e,updatedFields:Object.keys(t)}),{data:r,error:n}}async function n6(e,t={}){Jn.apiCall("GET","users/search",{query:e,filters:t},"searchUsers");let r=nr.from("users").select(`
      *,
      user_roles!inner(
        roles(*)
      )
    `);e&&(Jn.debug("Adding text search filter",{query:e}),r=r.or(`name.ilike.%${e}%, bio.ilike.%${e}%`)),t.role&&(Jn.debug("Adding role filter",{role:t.role}),r=r.eq("user_roles.roles.name",t.role)),t.location&&(Jn.debug("Adding location filter",{location:t.location}),r=r.ilike("location",`%${t.location}%`)),t.skills&&t.skills.length>0&&(Jn.debug("Adding skills filter",{skills:t.skills}),r=r.overlaps("skills",t.skills));const{data:n,error:s}=await r.order("updated_at",{ascending:!1}).limit(50);if(s)return Jn.error("searchUsers failed",{query:e,filters:t,error:s}),{data:[],error:s};const a=(n==null?void 0:n.map(o=>({...o,roles:o.user_roles.map(l=>l.roles)})))||[];return Jn.info("searchUsers success",{query:e,filters:t,resultCount:a.length,hasQuery:!!e,hasFilters:Object.keys(t).length>0}),{data:a,error:null}}function bk({open:e,onOpenChange:t,onPhotoUpdated:r}){var x,v,w,j,_,S;const{user:n}=Et(),[s,a]=m.useState(!1),[o,l]=m.useState(""),[c,u]=m.useState(null),[d,f]=m.useState(null),h=m.useRef(null),p=N=>{var T;const C=(T=N.target.files)==null?void 0:T[0];if(!C)return;if(!C.type.startsWith("image/")){l("Por favor selecciona un archivo de imagen vlido");return}if(C.size>5*1024*1024){l("La imagen debe ser menor a 5MB");return}l(""),f(C);const R=new FileReader;R.onload=z=>{var D;u((D=z.target)==null?void 0:D.result)},R.readAsDataURL(C)},b=async()=>{if(!(!d||!n)){a(!0),l("");try{const N=d.name.split(".").pop(),R=`avatars/${`${n.id}-${Date.now()}.${N}`}`,{error:T}=await nr.storage.from("fotos-perfil").upload(R,d,{cacheControl:"3600",upsert:!1});if(T){console.error("Upload error:",T),l("Error al subir la imagen. Intntalo de nuevo.");return}const{data:{publicUrl:z}}=nr.storage.from("fotos-perfil").getPublicUrl(R),{error:D}=await r6(n.id,{avatar_url:z});if(D){l("Error al actualizar el perfil");return}r==null||r(z),g()}catch(N){console.error("Error uploading photo:",N),l("Error al subir la imagen")}finally{a(!1)}}},g=()=>{u(null),f(null),l(""),t(!1)},y=()=>{var N;(N=h.current)==null||N.click()};return i.jsx(Ys,{open:e,onOpenChange:g,children:i.jsxs(ms,{className:"sm:max-w-md",children:[i.jsxs(ps,{children:[i.jsx(gs,{children:"Cambiar foto de perfil"}),i.jsx(vs,{children:"Sube una nueva foto de perfil para personalizar tu cuenta"})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"flex justify-center",children:i.jsxs("div",{className:"relative",children:[i.jsxs(At,{className:"w-32 h-32",children:[i.jsx(Ft,{src:c||((x=n==null?void 0:n.user_metadata)==null?void 0:x.avatar_url),alt:"Preview"}),i.jsx(Ot,{className:"text-3xl bg-gradient-to-br from-primary to-primary/80 text-white",children:((j=(w=(v=n==null?void 0:n.user_metadata)==null?void 0:v.name)==null?void 0:w.charAt(0))==null?void 0:j.toUpperCase())||((S=(_=n==null?void 0:n.email)==null?void 0:_.charAt(0))==null?void 0:S.toUpperCase())})]}),c&&i.jsx(B,{type:"button",size:"sm",variant:"secondary",className:"absolute -top-2 -right-2 rounded-full w-8 h-8 p-0",onClick:()=>{u(null),f(null)},children:i.jsx(Or,{className:"h-4 w-4"})})]})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs(B,{type:"button",variant:"outline",onClick:y,className:"w-full flex items-center gap-2",disabled:s,children:[i.jsx(GE,{className:"h-4 w-4"}),d?"Cambiar imagen":"Seleccionar imagen"]}),i.jsx("input",{ref:h,type:"file",accept:"image/*",onChange:p,className:"hidden"}),d&&i.jsxs("div",{className:"text-center",children:[i.jsxs("p",{className:"text-sm text-muted-foreground mb-3",children:["Imagen seleccionada: ",d.name]}),i.jsxs(B,{onClick:b,disabled:s,className:"w-full",children:[i.jsx(F3,{className:"h-4 w-4 mr-2"}),s?"Subiendo...":"Subir foto"]})]})]}),o&&i.jsx("div",{className:"text-sm text-red-600 bg-red-50 border border-red-200 rounded-xl p-4",children:o}),i.jsx("div",{className:"text-center",children:i.jsx("p",{className:"text-xs text-muted-foreground",children:"Formatos admitidos: JPG, PNG, GIF  Tamao mximo: 5MB"})})]})]})})}const s6=Au("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Qh=m.forwardRef(({className:e,variant:t,...r},n)=>i.jsx("div",{ref:n,role:"alert",className:te(s6({variant:t}),e),...r}));Qh.displayName="Alert";const a6=m.forwardRef(({className:e,...t},r)=>i.jsx("h5",{ref:r,className:te("mb-1 font-medium leading-none tracking-tight",e),...t}));a6.displayName="AlertTitle";const Jh=m.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:te("text-sm [&_p]:leading-relaxed",e),...t}));Jh.displayName="AlertDescription";function dr({className:e,...t}){return i.jsx("div",{className:te("animate-pulse rounded-md bg-muted",e),...t})}const Bl=G({id:P().uuid(),email:P().email(),name:P(),avatar_url:P().url().or(Ac("")).nullable(),bio:P().nullable(),location:P().nullable(),linkedin_url:P().url().or(Ac("")).nullable(),website_url:P().url().or(Ac("")).nullable(),skills:We(P()),interests:We(P()),completed_pct:Ae().min(0).max(100),created_at:P(),updated_at:P()});G({name:P().min(2,"El nombre debe tener al menos 2 caracteres").optional(),bio:P().max(500,"La biografa no puede superar 500 caracteres").nullable().optional(),location:P().max(100,"La ubicacin no puede superar 100 caracteres").nullable().optional(),linkedin_url:P().url("URL de LinkedIn invlida").nullable().optional(),website_url:P().url("URL del sitio web invlida").nullable().optional(),skills:We(P()).optional(),interests:We(P()).optional()});G({avatar_url:P().url()});G({query:P().optional(),location:P().optional(),skills:We(P()).optional(),role:P().optional()});G({users:We(Bl)});G({user:Bl});G({user:Bl});G({error:P()});const i6=Bl.extend({role_ids:We(Ae())});G({days:Ae().int().min(1).max(365).optional().default(30),limit:Ae().int().min(1).max(50).optional().default(5)});const o6=G({users:We(i6),count:Ae().int().min(0),days_filter:Ae().int().min(1).max(365)}),l6="http://localhost:3001",c6={async getRecentUsers(e){const t=await Ze.get(`${l6}/api/users/recent`,{params:{days:e==null?void 0:e.days,limit:e==null?void 0:e.limit}});return o6.parse(t.data)}},u6=(e,t)=>{const r=e==null?void 0:e.days,n=e==null?void 0:e.limit;return Ut({queryKey:["dashboard","recent-users",r,n],queryFn:async()=>(await c6.getRecentUsers(e)).users,enabled:(t==null?void 0:t.enabled)!==!1,staleTime:120*1e3,gcTime:600*1e3,refetchOnWindowFocus:!1})},jx=sa(["pending","accepted","rejected","blocked"]),_x=G({id:P().uuid(),requester_id:P().uuid(),addressee_id:P().uuid(),status:jx,created_at:P().datetime(),updated_at:P().datetime()}),d6=G({connection:_x,user:Bl}),f6=G({total_connections:Ae(),pending_requests:Ae(),sent_requests:Ae()});G({addressee_id:P().uuid()});G({connection_id:P().uuid(),status:jx});G({status:jx.optional()});const h6=G({connections:We(d6)}),m6=G({stats:f6}),p6=G({connection:_x}),g6=G({connection:_x});G({user_id:P().uuid()});const v6=G({connections:We(Bl),count:Ae()}),Vl={async getConnections(e){const t=await xe.get("/connections",{params:{status:e==null?void 0:e.status}});return h6.parse(t.data)},async getNetworkStats(){const e=await xe.get("/connections/stats");return m6.parse(e.data)},async requestConnection(e){const t=await xe.post("/connections",e);return p6.parse(t.data)},async updateConnectionStatus(e){const t=await xe.put(`/connections/${e.connection_id}`,{status:e.status});return g6.parse(t.data)},async deleteConnection(e){await xe.delete(`/connections/${e}`)},async getMutualConnections(e){const t=await xe.get(`/connections/mutual/${e}`);return v6.parse(t.data)},async getConnectionStatus(e){var t;try{return(await xe.get(`/connections/status/${e}`)).data}catch(r){if(Ze.isAxiosError(r)&&((t=r.response)==null?void 0:t.status)===404)return{status:null};throw r}}},Sx=()=>{const e=et(),t=lt({mutationFn:async r=>(await Vl.requestConnection(r)).connection,onSuccess:()=>{e.invalidateQueries({queryKey:["connections"]}),e.invalidateQueries({queryKey:["network-stats"]}),e.invalidateQueries({queryKey:["connection-status"]})}});return{action:t.mutate,isLoading:t.isPending,error:t.error,isSuccess:t.isSuccess,data:t.data}},zu=()=>{const e=et(),t=lt({mutationFn:async r=>(await Vl.updateConnectionStatus(r)).connection,onSuccess:()=>{e.invalidateQueries({queryKey:["connections"]}),e.invalidateQueries({queryKey:["network-stats"]}),e.invalidateQueries({queryKey:["connection-status"]}),e.invalidateQueries({queryKey:["mutual-connections"]})}});return{action:t.mutate,isLoading:t.isPending,error:t.error,isSuccess:t.isSuccess,data:t.data}},Nx=(e,t)=>Ut({queryKey:["connection-status",e],queryFn:async()=>e?await Vl.getConnectionStatus(e):{status:null},enabled:(t==null?void 0:t.enabled)!==!1&&!!e,staleTime:60*1e3,gcTime:300*1e3}),y6=1,x6=1e6;let wp=0;function w6(){return wp=(wp+1)%Number.MAX_SAFE_INTEGER,wp.toString()}const bp=new Map,wj=e=>{if(bp.has(e))return;const t=setTimeout(()=>{bp.delete(e),Ic({type:"REMOVE_TOAST",toastId:e})},x6);bp.set(e,t)},b6=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,y6)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?wj(r):e.toasts.forEach(n=>{wj(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},rf=[];let nf={toasts:[]};function Ic(e){nf=b6(nf,e),rf.forEach(t=>{t(nf)})}function Kt({...e}){const t=w6(),r=s=>Ic({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>Ic({type:"DISMISS_TOAST",toastId:t});return Ic({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function ql(){const[e,t]=m.useState(nf);return m.useEffect(()=>(rf.push(t),()=>{const r=rf.indexOf(t);r>-1&&rf.splice(r,1)}),[e]),{...e,toast:Kt,dismiss:r=>Ic({type:"DISMISS_TOAST",toastId:r})}}function j6({user:e}){var x,v;const{user:t}=Et(),{data:r}=Nx(e.id),{action:n,isLoading:s}=Sx(),{action:a,isLoading:o}=zu(),{toast:l}=ql(),c=vt(),u=async()=>{try{await n({addressee_id:e.id}),l({title:"Solicitud enviada",description:`Solicitud de conexin enviada a ${e.name}`,duration:3e3})}catch(w){l({title:"Error",description:w instanceof Error?w.message:"No se pudo enviar la solicitud",variant:"destructive",duration:5e3})}},d=async()=>{var j;const w=(j=r==null?void 0:r.connection)==null?void 0:j.id;if(w)try{await a({connection_id:w,status:"accepted"}),l({title:"Conexin aceptada",description:`Ahora ests conectado con ${e.name}`,duration:3e3})}catch(_){l({title:"Error",description:_ instanceof Error?_.message:"No se pudo aceptar la solicitud",variant:"destructive",duration:5e3})}},f=()=>{c(`/users/${e.id}`)},h=(t==null?void 0:t.id)===e.id,p=(r==null?void 0:r.status)||"none",b=((x=r==null?void 0:r.connection)==null?void 0:x.requester_id)===(t==null?void 0:t.id),g=((v=r==null?void 0:r.connection)==null?void 0:v.addressee_id)===(t==null?void 0:t.id),y=e.role_ids&&e.role_ids.length>0?S6(e.role_ids[0]):"Miembro";return i.jsxs("div",{className:"flex items-center gap-3 p-4 rounded-lg hover:bg-muted/50 transition-colors",children:[i.jsxs(At,{className:"h-12 w-12 cursor-pointer hover:ring-2 hover:ring-primary transition-all",onClick:f,children:[i.jsx(Ft,{src:e.avatar_url||void 0,alt:e.name}),i.jsx(Ot,{className:"bg-gradient-to-br from-primary to-primary/80 text-white text-sm",children:_6(e.name,e.email)})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"text-sm font-semibold truncate cursor-pointer hover:text-primary transition-colors",onClick:f,children:e.name}),i.jsx("span",{className:"text-xs text-muted-foreground",children:y})]}),i.jsxs("div",{className:"flex-shrink-0 flex items-center gap-2",children:[h?i.jsx(Te,{variant:"secondary",className:"text-xs",children:"T"}):i.jsxs(i.Fragment,{children:[p==="none"&&i.jsxs(B,{size:"sm",onClick:u,disabled:s,className:"flex items-center gap-2",children:[i.jsx(Xa,{className:"h-4 w-4"}),s?"Conectando...":"Conectar"]}),p==="pending"&&b&&i.jsx(B,{size:"sm",variant:"secondary",disabled:!0,className:"cursor-not-allowed",children:"Solicitud enviada"}),p==="pending"&&g&&i.jsxs(B,{size:"sm",onClick:d,disabled:o,className:"flex items-center gap-2",children:[i.jsx(hs,{className:"h-4 w-4"}),o?"Aceptando...":"Aceptar"]}),p==="accepted"&&i.jsxs(Te,{variant:"default",className:"flex items-center gap-1",children:[i.jsx(hs,{className:"h-3 w-3"}),"Conectado"]})]}),!h&&i.jsxs(B,{size:"sm",variant:"outline",onClick:f,className:"flex items-center gap-2",children:[i.jsx(ls,{className:"h-4 w-4"}),"Ver Perfil"]})]})]})}function _6(e,t){if(e&&e.trim().length>0){const r=e.trim().split(" ");return r.length>=2?(r[0][0]+r[r.length-1][0]).toUpperCase():e[0].toUpperCase()}return t[0].toUpperCase()}function S6(e){return{1:"Admin",2:"Mentor",3:"Emprendedor"}[e]||"Miembro"}function N6(){const{data:e,isLoading:t,error:r}=u6({days:30,limit:5});return i.jsxs(be,{children:[i.jsxs(mt,{children:[i.jsxs(ht,{className:"flex items-center gap-2",children:[i.jsx(Gr,{className:"h-5 w-5"}),"Nuevos miembros"]}),i.jsx(ur,{children:"Conecta con los ltimos miembros que se han unido"})]}),i.jsxs(we,{children:[t&&i.jsx("div",{className:"space-y-4",children:[1,2,3,4,5].map(n=>i.jsxs("div",{className:"flex items-center gap-3 p-4",children:[i.jsx(dr,{className:"h-12 w-12 rounded-full"}),i.jsxs("div",{className:"flex-1 space-y-2",children:[i.jsx(dr,{className:"h-4 w-32"}),i.jsx(dr,{className:"h-3 w-24"})]}),i.jsx(dr,{className:"h-9 w-24 rounded-md"})]},n))}),r&&!t&&i.jsx(Qh,{variant:"destructive",children:i.jsx(Jh,{children:"No se pudieron cargar los nuevos miembros. Por favor, intenta de nuevo ms tarde."})}),!t&&!r&&e&&e.length===0&&i.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[i.jsx(z3,{className:"h-12 w-12 text-muted-foreground mb-3"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"No hay nuevos miembros an"})]}),!t&&!r&&e&&e.length>0&&i.jsx("div",{className:"space-y-2",children:e.map(n=>i.jsx(j6,{user:n},n.id))})]})]})}const E6=()=>{var o,l,c,u;const{user:e,signOut:t}=Et(),r=vt(),[n,s]=m.useState(!1),a=d=>{};return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted",children:[i.jsx("header",{className:"border-b bg-card/95 backdrop-blur supports-[backdrop-filter]:bg-card/60",children:i.jsx("div",{className:"container mx-auto px-4 py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("img",{src:"/animacion-3-transparente.gif",alt:"Espaa Creativa logo animado",width:"40",height:"40",className:"w-10 h-10 object-contain",loading:"eager",fetchpriority:"high",decoding:"async"}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-xl font-bold text-foreground",children:"Espaa Creativa"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Red de emprendedores"})]})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs(At,{className:"h-8 w-8 cursor-pointer hover:ring-2 hover:ring-primary transition-all",onClick:()=>r("/profile"),children:[i.jsx(Ft,{src:e==null?void 0:e.avatar_url}),i.jsx(Ot,{children:((l=(o=e==null?void 0:e.name)==null?void 0:o.charAt(0))==null?void 0:l.toUpperCase())||((u=(c=e==null?void 0:e.email)==null?void 0:c.charAt(0))==null?void 0:u.toUpperCase())})]}),i.jsxs(B,{variant:"ghost",size:"sm",onClick:()=>{t()},children:[i.jsx(tC,{className:"h-4 w-4 mr-2"}),"Salir"]})]})]})})}),i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs("h2",{className:"text-3xl font-bold text-foreground mb-2",children:["Bienvenid@, ",(e==null?void 0:e.name)||(e==null?void 0:e.email),"!"]}),i.jsx("p",{className:"text-muted-foreground",children:"Conecta con emprendedores y colabora en proyectos en la red de Espaa Creativa"})]}),(e==null?void 0:e.completed_pct)!==100&&i.jsxs(be,{className:"mb-8 border-primary/20 bg-gradient-to-r from-primary/5 to-primary/10",children:[i.jsx(mt,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(ht,{className:"text-lg",children:"Completa tu perfil"}),i.jsx(ur,{children:"Un perfil completo te ayuda a conectar mejor con otros miembros"})]}),i.jsxs(Te,{variant:"secondary",children:[(e==null?void 0:e.completed_pct)||0,"% completado"]})]})}),i.jsxs(we,{className:"space-y-4",children:[i.jsx(wk,{value:(e==null?void 0:e.completed_pct)||0,className:"w-full"}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs(B,{size:"sm",variant:"outline",onClick:()=>{s(!0)},children:[i.jsx(uu,{className:"h-4 w-4 mr-2"}),"Aadir foto de perfil"]}),i.jsxs(B,{size:"sm",variant:"outline",onClick:()=>{r("/profile")},children:[i.jsx(cu,{className:"h-4 w-4 mr-2"}),"Completar informacin personal"]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[i.jsx(be,{className:"hover:shadow-brand transition-shadow cursor-pointer",children:i.jsxs(we,{className:"p-6 text-center",children:[i.jsx(D3,{className:"h-12 w-12 text-primary mx-auto mb-4"}),i.jsx("h3",{className:"font-semibold mb-2",children:"Mi Red"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Descubre emprendedores y mentores"}),i.jsx(B,{size:"sm",variant:"outline",className:"w-full",onClick:()=>{r("/network")},children:"Explorar"})]})}),i.jsx(be,{className:"hover:shadow-brand transition-shadow cursor-pointer",children:i.jsxs(we,{className:"p-6 text-center",children:[i.jsx(lu,{className:"h-12 w-12 text-primary mx-auto mb-4"}),i.jsx("h3",{className:"font-semibold mb-2",children:"Mensajes"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Chatea con otros miembros"}),i.jsx(B,{size:"sm",variant:"outline",className:"w-full",onClick:()=>{r("/messages")},children:"Ver mensajes"})]})}),i.jsx(be,{className:"hover:shadow-brand transition-shadow cursor-pointer",children:i.jsxs(we,{className:"p-6 text-center",children:[i.jsx(Qs,{className:"h-12 w-12 text-primary mx-auto mb-4"}),i.jsx("h3",{className:"font-semibold mb-2",children:"Oportunidades"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Colabora en proyectos"}),i.jsx(B,{size:"sm",variant:"outline",className:"w-full",onClick:()=>{r("/opportunities")},children:"Ver todas"})]})}),i.jsx(be,{className:"hover:shadow-brand transition-shadow cursor-pointer",children:i.jsxs(we,{className:"p-6 text-center",children:[i.jsx(Js,{className:"h-12 w-12 text-primary mx-auto mb-4"}),i.jsx("h3",{className:"font-semibold mb-2",children:"Programas"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Prximas iniciativas"}),i.jsx(B,{size:"sm",variant:"outline",className:"w-full",onClick:()=>{r("/programs")},children:"Explorar"})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsx(N6,{}),i.jsxs(be,{children:[i.jsxs(mt,{children:[i.jsxs(ht,{className:"flex items-center",children:[i.jsx(Qs,{className:"h-5 w-5 mr-2"}),"Oportunidades recientes"]}),i.jsx(ur,{children:"Nuevas oportunidades de colaboracin disponibles"})]}),i.jsx(we,{children:i.jsx("div",{className:"space-y-4",children:[1,2,3].map(d=>i.jsxs("div",{className:"space-y-2",children:[i.jsxs("h4",{className:"text-sm font-medium",children:["Proyecto ",d]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Buscamos desarrollador frontend para startup fintech..."}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex space-x-1",children:[i.jsx(Te,{variant:"secondary",className:"text-xs",children:"React"}),i.jsx(Te,{variant:"secondary",className:"text-xs",children:"Frontend"})]}),i.jsx(B,{size:"sm",variant:"outline",children:"Ver ms"})]})]},d))})})]})]}),i.jsx(bk,{open:n,onOpenChange:s,onPhotoUpdated:a})]})]})},C6=["top","right","bottom","left"],Za=Math.min,$r=Math.max,Xf=Math.round,Ad=Math.floor,us=e=>({x:e,y:e}),k6={left:"right",right:"left",bottom:"top",top:"bottom"},R6={start:"end",end:"start"};function mv(e,t,r){return $r(e,Za(t,r))}function Xs(e,t){return typeof e=="function"?e(t):e}function Zs(e){return e.split("-")[0]}function Wl(e){return e.split("-")[1]}function Ex(e){return e==="x"?"y":"x"}function Cx(e){return e==="y"?"height":"width"}const P6=new Set(["top","bottom"]);function ss(e){return P6.has(Zs(e))?"y":"x"}function kx(e){return Ex(ss(e))}function T6(e,t,r){r===void 0&&(r=!1);const n=Wl(e),s=kx(e),a=Cx(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=Zf(o)),[o,Zf(o)]}function A6(e){const t=Zf(e);return[pv(e),t,pv(t)]}function pv(e){return e.replace(/start|end/g,t=>R6[t])}const bj=["left","right"],jj=["right","left"],O6=["top","bottom"],I6=["bottom","top"];function M6(e,t,r){switch(e){case"top":case"bottom":return r?t?jj:bj:t?bj:jj;case"left":case"right":return t?O6:I6;default:return[]}}function D6(e,t,r,n){const s=Wl(e);let a=M6(Zs(e),r==="start",n);return s&&(a=a.map(o=>o+"-"+s),t&&(a=a.concat(a.map(pv)))),a}function Zf(e){return e.replace(/left|right|bottom|top/g,t=>k6[t])}function L6(e){return{top:0,right:0,bottom:0,left:0,...e}}function jk(e){return typeof e!="number"?L6(e):{top:e,right:e,bottom:e,left:e}}function eh(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function _j(e,t,r){let{reference:n,floating:s}=e;const a=ss(t),o=kx(t),l=Cx(o),c=Zs(t),u=a==="y",d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,h=n[l]/2-s[l]/2;let p;switch(c){case"top":p={x:d,y:n.y-s.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-s.width,y:f};break;default:p={x:n.x,y:n.y}}switch(Wl(t)){case"start":p[o]-=h*(r&&u?-1:1);break;case"end":p[o]+=h*(r&&u?-1:1);break}return p}const $6=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:a=[],platform:o}=r,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=_j(u,n,c),h=n,p={},b=0;for(let g=0;g<l.length;g++){const{name:y,fn:x}=l[g],{x:v,y:w,data:j,reset:_}=await x({x:d,y:f,initialPlacement:n,placement:h,strategy:s,middlewareData:p,rects:u,platform:o,elements:{reference:e,floating:t}});d=v??d,f=w??f,p={...p,[y]:{...p[y],...j}},_&&b<=50&&(b++,typeof _=="object"&&(_.placement&&(h=_.placement),_.rects&&(u=_.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):_.rects),{x:d,y:f}=_j(u,h,c)),g=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:p}};async function du(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:a,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=Xs(t,e),b=jk(p),y=l[h?f==="floating"?"reference":"floating":f],x=eh(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(y)))==null||r?y:y.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),v=f==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,w=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),j=await(a.isElement==null?void 0:a.isElement(w))?await(a.getScale==null?void 0:a.getScale(w))||{x:1,y:1}:{x:1,y:1},_=eh(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:w,strategy:c}):v);return{top:(x.top-_.top+b.top)/j.y,bottom:(_.bottom-x.bottom+b.bottom)/j.y,left:(x.left-_.left+b.left)/j.x,right:(_.right-x.right+b.right)/j.x}}const F6=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:a,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Xs(e,t)||{};if(u==null)return{};const f=jk(d),h={x:r,y:n},p=kx(s),b=Cx(p),g=await o.getDimensions(u),y=p==="y",x=y?"top":"left",v=y?"bottom":"right",w=y?"clientHeight":"clientWidth",j=a.reference[b]+a.reference[p]-h[p]-a.floating[b],_=h[p]-a.reference[p],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let N=S?S[w]:0;(!N||!await(o.isElement==null?void 0:o.isElement(S)))&&(N=l.floating[w]||a.floating[b]);const C=j/2-_/2,R=N/2-g[b]/2-1,T=Za(f[x],R),z=Za(f[v],R),D=T,q=N-g[b]-z,F=N/2-g[b]/2+C,M=mv(D,F,q),V=!c.arrow&&Wl(s)!=null&&F!==M&&a.reference[b]/2-(F<D?T:z)-g[b]/2<0,Z=V?F<D?F-D:F-q:0;return{[p]:h[p]+Z,data:{[p]:M,centerOffset:F-M-Z,...V&&{alignmentOffset:Z}},reset:V}}}),U6=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:g=!0,...y}=Xs(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const x=Zs(s),v=ss(l),w=Zs(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),_=h||(w||!g?[Zf(l)]:A6(l)),S=b!=="none";!h&&S&&_.push(...D6(l,g,b,j));const N=[l,..._],C=await du(t,y),R=[];let T=((n=a.flip)==null?void 0:n.overflows)||[];if(d&&R.push(C[x]),f){const F=T6(s,o,j);R.push(C[F[0]],C[F[1]])}if(T=[...T,{placement:s,overflows:R}],!R.every(F=>F<=0)){var z,D;const F=(((z=a.flip)==null?void 0:z.index)||0)+1,M=N[F];if(M&&(!(f==="alignment"?v!==ss(M):!1)||T.every(I=>ss(I.placement)===v?I.overflows[0]>0:!0)))return{data:{index:F,overflows:T},reset:{placement:M}};let V=(D=T.filter(Z=>Z.overflows[0]<=0).sort((Z,I)=>Z.overflows[1]-I.overflows[1])[0])==null?void 0:D.placement;if(!V)switch(p){case"bestFit":{var q;const Z=(q=T.filter(I=>{if(S){const A=ss(I.placement);return A===v||A==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(A=>A>0).reduce((A,H)=>A+H,0)]).sort((I,A)=>I[1]-A[1])[0])==null?void 0:q[0];Z&&(V=Z);break}case"initialPlacement":V=l;break}if(s!==V)return{reset:{placement:V}}}return{}}}};function Sj(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Nj(e){return C6.some(t=>e[t]>=0)}const z6=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=Xs(e,t);switch(n){case"referenceHidden":{const a=await du(t,{...s,elementContext:"reference"}),o=Sj(a,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Nj(o)}}}case"escaped":{const a=await du(t,{...s,altBoundary:!0}),o=Sj(a,r.floating);return{data:{escapedOffsets:o,escaped:Nj(o)}}}default:return{}}}}},_k=new Set(["left","top"]);async function B6(e,t){const{placement:r,platform:n,elements:s}=e,a=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=Zs(r),l=Wl(r),c=ss(r)==="y",u=_k.has(o)?-1:1,d=a&&c?-1:1,f=Xs(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:b}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof b=="number"&&(p=l==="end"?b*-1:b),c?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const V6=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:a,placement:o,middlewareData:l}=t,c=await B6(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:o}}}}},q6=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:y=>{let{x,y:v}=y;return{x,y:v}}},...c}=Xs(e,t),u={x:r,y:n},d=await du(t,c),f=ss(Zs(s)),h=Ex(f);let p=u[h],b=u[f];if(a){const y=h==="y"?"top":"left",x=h==="y"?"bottom":"right",v=p+d[y],w=p-d[x];p=mv(v,p,w)}if(o){const y=f==="y"?"top":"left",x=f==="y"?"bottom":"right",v=b+d[y],w=b-d[x];b=mv(v,b,w)}const g=l.fn({...t,[h]:p,[f]:b});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[h]:a,[f]:o}}}}}},W6=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:a,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Xs(e,t),d={x:r,y:n},f=ss(s),h=Ex(f);let p=d[h],b=d[f];const g=Xs(l,t),y=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const w=h==="y"?"height":"width",j=a.reference[h]-a.floating[w]+y.mainAxis,_=a.reference[h]+a.reference[w]-y.mainAxis;p<j?p=j:p>_&&(p=_)}if(u){var x,v;const w=h==="y"?"width":"height",j=_k.has(Zs(s)),_=a.reference[f]-a.floating[w]+(j&&((x=o.offset)==null?void 0:x[f])||0)+(j?0:y.crossAxis),S=a.reference[f]+a.reference[w]+(j?0:((v=o.offset)==null?void 0:v[f])||0)-(j?y.crossAxis:0);b<_?b=_:b>S&&(b=S)}return{[h]:p,[f]:b}}}},H6=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:a,platform:o,elements:l}=t,{apply:c=()=>{},...u}=Xs(e,t),d=await du(t,u),f=Zs(s),h=Wl(s),p=ss(s)==="y",{width:b,height:g}=a.floating;let y,x;f==="top"||f==="bottom"?(y=f,x=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(x=f,y=h==="end"?"top":"bottom");const v=g-d.top-d.bottom,w=b-d.left-d.right,j=Za(g-d[y],v),_=Za(b-d[x],w),S=!t.middlewareData.shift;let N=j,C=_;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(C=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(N=v),S&&!h){const T=$r(d.left,0),z=$r(d.right,0),D=$r(d.top,0),q=$r(d.bottom,0);p?C=b-2*(T!==0||z!==0?T+z:$r(d.left,d.right)):N=g-2*(D!==0||q!==0?D+q:$r(d.top,d.bottom))}await c({...t,availableWidth:C,availableHeight:N});const R=await o.getDimensions(l.floating);return b!==R.width||g!==R.height?{reset:{rects:!0}}:{}}}};function Yh(){return typeof window<"u"}function Hl(e){return Sk(e)?(e.nodeName||"").toLowerCase():"#document"}function Wr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function xs(e){var t;return(t=(Sk(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Sk(e){return Yh()?e instanceof Node||e instanceof Wr(e).Node:!1}function Mn(e){return Yh()?e instanceof Element||e instanceof Wr(e).Element:!1}function ys(e){return Yh()?e instanceof HTMLElement||e instanceof Wr(e).HTMLElement:!1}function Ej(e){return!Yh()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Wr(e).ShadowRoot}const K6=new Set(["inline","contents"]);function Bu(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=Dn(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!K6.has(s)}const G6=new Set(["table","td","th"]);function Q6(e){return G6.has(Hl(e))}const J6=[":popover-open",":modal"];function Xh(e){return J6.some(t=>{try{return e.matches(t)}catch{return!1}})}const Y6=["transform","translate","scale","rotate","perspective"],X6=["transform","translate","scale","rotate","perspective","filter"],Z6=["paint","layout","strict","content"];function Rx(e){const t=Px(),r=Mn(e)?Dn(e):e;return Y6.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||X6.some(n=>(r.willChange||"").includes(n))||Z6.some(n=>(r.contain||"").includes(n))}function ez(e){let t=ei(e);for(;ys(t)&&!Cl(t);){if(Rx(t))return t;if(Xh(t))return null;t=ei(t)}return null}function Px(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const tz=new Set(["html","body","#document"]);function Cl(e){return tz.has(Hl(e))}function Dn(e){return Wr(e).getComputedStyle(e)}function Zh(e){return Mn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ei(e){if(Hl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Ej(e)&&e.host||xs(e);return Ej(t)?t.host:t}function Nk(e){const t=ei(e);return Cl(t)?e.ownerDocument?e.ownerDocument.body:e.body:ys(t)&&Bu(t)?t:Nk(t)}function fu(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=Nk(e),a=s===((n=e.ownerDocument)==null?void 0:n.body),o=Wr(s);if(a){const l=gv(o);return t.concat(o,o.visualViewport||[],Bu(s)?s:[],l&&r?fu(l):[])}return t.concat(s,fu(s,[],r))}function gv(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Ek(e){const t=Dn(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=ys(e),a=s?e.offsetWidth:r,o=s?e.offsetHeight:n,l=Xf(r)!==a||Xf(n)!==o;return l&&(r=a,n=o),{width:r,height:n,$:l}}function Tx(e){return Mn(e)?e:e.contextElement}function Qo(e){const t=Tx(e);if(!ys(t))return us(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:a}=Ek(t);let o=(a?Xf(r.width):r.width)/n,l=(a?Xf(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const rz=us(0);function Ck(e){const t=Wr(e);return!Px()||!t.visualViewport?rz:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function nz(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Wr(e)?!1:t}function Xi(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),a=Tx(e);let o=us(1);t&&(n?Mn(n)&&(o=Qo(n)):o=Qo(e));const l=nz(a,r,n)?Ck(a):us(0);let c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(a){const h=Wr(a),p=n&&Mn(n)?Wr(n):n;let b=h,g=gv(b);for(;g&&n&&p!==b;){const y=Qo(g),x=g.getBoundingClientRect(),v=Dn(g),w=x.left+(g.clientLeft+parseFloat(v.paddingLeft))*y.x,j=x.top+(g.clientTop+parseFloat(v.paddingTop))*y.y;c*=y.x,u*=y.y,d*=y.x,f*=y.y,c+=w,u+=j,b=Wr(g),g=gv(b)}}return eh({width:d,height:f,x:c,y:u})}function em(e,t){const r=Zh(e).scrollLeft;return t?t.left+r:Xi(xs(e)).left+r}function kk(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-em(e,r),s=r.top+t.scrollTop;return{x:n,y:s}}function sz(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const a=s==="fixed",o=xs(n),l=t?Xh(t.floating):!1;if(n===o||l&&a)return r;let c={scrollLeft:0,scrollTop:0},u=us(1);const d=us(0),f=ys(n);if((f||!f&&!a)&&((Hl(n)!=="body"||Bu(o))&&(c=Zh(n)),ys(n))){const p=Xi(n);u=Qo(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}const h=o&&!f&&!a?kk(o,c):us(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function az(e){return Array.from(e.getClientRects())}function iz(e){const t=xs(e),r=Zh(e),n=e.ownerDocument.body,s=$r(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=$r(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+em(e);const l=-r.scrollTop;return Dn(n).direction==="rtl"&&(o+=$r(t.clientWidth,n.clientWidth)-s),{width:s,height:a,x:o,y:l}}const Cj=25;function oz(e,t){const r=Wr(e),n=xs(e),s=r.visualViewport;let a=n.clientWidth,o=n.clientHeight,l=0,c=0;if(s){a=s.width,o=s.height;const d=Px();(!d||d&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}const u=em(n);if(u<=0){const d=n.ownerDocument,f=d.body,h=getComputedStyle(f),p=d.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,b=Math.abs(n.clientWidth-f.clientWidth-p);b<=Cj&&(a-=b)}else u<=Cj&&(a+=u);return{width:a,height:o,x:l,y:c}}const lz=new Set(["absolute","fixed"]);function cz(e,t){const r=Xi(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,a=ys(e)?Qo(e):us(1),o=e.clientWidth*a.x,l=e.clientHeight*a.y,c=s*a.x,u=n*a.y;return{width:o,height:l,x:c,y:u}}function kj(e,t,r){let n;if(t==="viewport")n=oz(e,r);else if(t==="document")n=iz(xs(e));else if(Mn(t))n=cz(t,r);else{const s=Ck(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return eh(n)}function Rk(e,t){const r=ei(e);return r===t||!Mn(r)||Cl(r)?!1:Dn(r).position==="fixed"||Rk(r,t)}function uz(e,t){const r=t.get(e);if(r)return r;let n=fu(e,[],!1).filter(l=>Mn(l)&&Hl(l)!=="body"),s=null;const a=Dn(e).position==="fixed";let o=a?ei(e):e;for(;Mn(o)&&!Cl(o);){const l=Dn(o),c=Rx(o);!c&&l.position==="fixed"&&(s=null),(a?!c&&!s:!c&&l.position==="static"&&!!s&&lz.has(s.position)||Bu(o)&&!c&&Rk(e,o))?n=n.filter(d=>d!==o):s=l,o=ei(o)}return t.set(e,n),n}function dz(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const o=[...r==="clippingAncestors"?Xh(t)?[]:uz(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=kj(t,d,s);return u.top=$r(f.top,u.top),u.right=Za(f.right,u.right),u.bottom=Za(f.bottom,u.bottom),u.left=$r(f.left,u.left),u},kj(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function fz(e){const{width:t,height:r}=Ek(e);return{width:t,height:r}}function hz(e,t,r){const n=ys(t),s=xs(t),a=r==="fixed",o=Xi(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=us(0);function u(){c.x=em(s)}if(n||!n&&!a)if((Hl(t)!=="body"||Bu(s))&&(l=Zh(t)),n){const p=Xi(t,!0,a,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else s&&u();a&&!n&&s&&u();const d=s&&!n&&!a?kk(s,l):us(0),f=o.left+l.scrollLeft-c.x-d.x,h=o.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function jp(e){return Dn(e).position==="static"}function Rj(e,t){if(!ys(e)||Dn(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return xs(e)===r&&(r=r.ownerDocument.body),r}function Pk(e,t){const r=Wr(e);if(Xh(e))return r;if(!ys(e)){let s=ei(e);for(;s&&!Cl(s);){if(Mn(s)&&!jp(s))return s;s=ei(s)}return r}let n=Rj(e,t);for(;n&&Q6(n)&&jp(n);)n=Rj(n,t);return n&&Cl(n)&&jp(n)&&!Rx(n)?r:n||ez(e)||r}const mz=async function(e){const t=this.getOffsetParent||Pk,r=this.getDimensions,n=await r(e.floating);return{reference:hz(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function pz(e){return Dn(e).direction==="rtl"}const gz={convertOffsetParentRelativeRectToViewportRelativeRect:sz,getDocumentElement:xs,getClippingRect:dz,getOffsetParent:Pk,getElementRects:mz,getClientRects:az,getDimensions:fz,getScale:Qo,isElement:Mn,isRTL:pz};function Tk(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function vz(e,t){let r=null,n;const s=xs(e);function a(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:p}=u;if(l||t(),!h||!p)return;const b=Ad(f),g=Ad(s.clientWidth-(d+h)),y=Ad(s.clientHeight-(f+p)),x=Ad(d),w={rootMargin:-b+"px "+-g+"px "+-y+"px "+-x+"px",threshold:$r(0,Za(1,c))||1};let j=!0;function _(S){const N=S[0].intersectionRatio;if(N!==c){if(!j)return o();N?o(!1,N):n=setTimeout(()=>{o(!1,1e-7)},1e3)}N===1&&!Tk(u,e.getBoundingClientRect())&&o(),j=!1}try{r=new IntersectionObserver(_,{...w,root:s.ownerDocument})}catch{r=new IntersectionObserver(_,w)}r.observe(e)}return o(!0),a}function yz(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=Tx(e),d=s||a?[...u?fu(u):[],...fu(t)]:[];d.forEach(x=>{s&&x.addEventListener("scroll",r,{passive:!0}),a&&x.addEventListener("resize",r)});const f=u&&l?vz(u,r):null;let h=-1,p=null;o&&(p=new ResizeObserver(x=>{let[v]=x;v&&v.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=p)==null||w.observe(t)})),r()}),u&&!c&&p.observe(u),p.observe(t));let b,g=c?Xi(e):null;c&&y();function y(){const x=Xi(e);g&&!Tk(g,x)&&r(),g=x,b=requestAnimationFrame(y)}return r(),()=>{var x;d.forEach(v=>{s&&v.removeEventListener("scroll",r),a&&v.removeEventListener("resize",r)}),f==null||f(),(x=p)==null||x.disconnect(),p=null,c&&cancelAnimationFrame(b)}}const xz=V6,wz=q6,bz=U6,jz=H6,_z=z6,Pj=F6,Sz=W6,Nz=(e,t,r)=>{const n=new Map,s={platform:gz,...r},a={...s.platform,_c:n};return $6(e,t,{...s,platform:a})};var Ez=typeof document<"u",Cz=function(){},sf=Ez?m.useLayoutEffect:Cz;function th(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!th(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const a=s[n];if(!(a==="_owner"&&e.$$typeof)&&!th(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function Ak(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Tj(e,t){const r=Ak(e);return Math.round(t*r)/r}function _p(e){const t=m.useRef(e);return sf(()=>{t.current=e}),t}function kz(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=m.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=m.useState(n);th(h,n)||p(n);const[b,g]=m.useState(null),[y,x]=m.useState(null),v=m.useCallback(I=>{I!==S.current&&(S.current=I,g(I))},[]),w=m.useCallback(I=>{I!==N.current&&(N.current=I,x(I))},[]),j=a||b,_=o||y,S=m.useRef(null),N=m.useRef(null),C=m.useRef(d),R=c!=null,T=_p(c),z=_p(s),D=_p(u),q=m.useCallback(()=>{if(!S.current||!N.current)return;const I={placement:t,strategy:r,middleware:h};z.current&&(I.platform=z.current),Nz(S.current,N.current,I).then(A=>{const H={...A,isPositioned:D.current!==!1};F.current&&!th(C.current,H)&&(C.current=H,no.flushSync(()=>{f(H)}))})},[h,t,r,z,D]);sf(()=>{u===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(I=>({...I,isPositioned:!1})))},[u]);const F=m.useRef(!1);sf(()=>(F.current=!0,()=>{F.current=!1}),[]),sf(()=>{if(j&&(S.current=j),_&&(N.current=_),j&&_){if(T.current)return T.current(j,_,q);q()}},[j,_,q,T,R]);const M=m.useMemo(()=>({reference:S,floating:N,setReference:v,setFloating:w}),[v,w]),V=m.useMemo(()=>({reference:j,floating:_}),[j,_]),Z=m.useMemo(()=>{const I={position:r,left:0,top:0};if(!V.floating)return I;const A=Tj(V.floating,d.x),H=Tj(V.floating,d.y);return l?{...I,transform:"translate("+A+"px, "+H+"px)",...Ak(V.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:A,top:H}},[r,l,V.floating,d.x,d.y]);return m.useMemo(()=>({...d,update:q,refs:M,elements:V,floatingStyles:Z}),[d,q,M,V,Z])}const Rz=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?Pj({element:n.current,padding:s}).fn(r):{}:n?Pj({element:n,padding:s}).fn(r):{}}}},Pz=(e,t)=>({...xz(e),options:[e,t]}),Tz=(e,t)=>({...wz(e),options:[e,t]}),Az=(e,t)=>({...Sz(e),options:[e,t]}),Oz=(e,t)=>({...bz(e),options:[e,t]}),Iz=(e,t)=>({...jz(e),options:[e,t]}),Mz=(e,t)=>({..._z(e),options:[e,t]}),Dz=(e,t)=>({...Rz(e),options:[e,t]});var Lz="Arrow",Ok=m.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...a}=e;return i.jsx(de.svg,{...a,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});Ok.displayName=Lz;var $z=Ok,Ax="Popper",[Ik,tm]=gr(Ax),[Fz,Mk]=Ik(Ax),Dk=e=>{const{__scopePopper:t,children:r}=e,[n,s]=m.useState(null);return i.jsx(Fz,{scope:t,anchor:n,onAnchorChange:s,children:r})};Dk.displayName=Ax;var Lk="PopperAnchor",$k=m.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,a=Mk(Lk,r),o=m.useRef(null),l=Re(t,o),c=m.useRef(null);return m.useEffect(()=>{const u=c.current;c.current=(n==null?void 0:n.current)||o.current,u!==c.current&&a.onAnchorChange(c.current)}),n?null:i.jsx(de.div,{...s,ref:l})});$k.displayName=Lk;var Ox="PopperContent",[Uz,zz]=Ik(Ox),Fk=m.forwardRef((e,t)=>{var J,Fe,De,Ie,Le,Ue;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:b,...g}=e,y=Mk(Ox,r),[x,v]=m.useState(null),w=Re(t,zt=>v(zt)),[j,_]=m.useState(null),S=tx(j),N=(S==null?void 0:S.width)??0,C=(S==null?void 0:S.height)??0,R=n+(a!=="center"?"-"+a:""),T=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},z=Array.isArray(u)?u:[u],D=z.length>0,q={padding:T,boundary:z.filter(Vz),altBoundary:D},{refs:F,floatingStyles:M,placement:V,isPositioned:Z,middlewareData:I}=kz({strategy:"fixed",placement:R,whileElementsMounted:(...zt)=>yz(...zt,{animationFrame:p==="always"}),elements:{reference:y.anchor},middleware:[Pz({mainAxis:s+C,alignmentAxis:o}),c&&Tz({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Az():void 0,...q}),c&&Oz({...q}),Iz({...q,apply:({elements:zt,rects:ar,availableWidth:Fn,availableHeight:Un})=>{const{width:bs,height:fo}=ar.reference,js=zt.floating.style;js.setProperty("--radix-popper-available-width",`${Fn}px`),js.setProperty("--radix-popper-available-height",`${Un}px`),js.setProperty("--radix-popper-anchor-width",`${bs}px`),js.setProperty("--radix-popper-anchor-height",`${fo}px`)}}),j&&Dz({element:j,padding:l}),qz({arrowWidth:N,arrowHeight:C}),h&&Mz({strategy:"referenceHidden",...q})]}),[A,H]=Bk(V),ie=bt(b);Nt(()=>{Z&&(ie==null||ie())},[Z,ie]);const ne=(J=I.arrow)==null?void 0:J.x,ge=(Fe=I.arrow)==null?void 0:Fe.y,me=((De=I.arrow)==null?void 0:De.centerOffset)!==0,[Ve,Ke]=m.useState();return Nt(()=>{x&&Ke(window.getComputedStyle(x).zIndex)},[x]),i.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...M,transform:Z?M.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ve,"--radix-popper-transform-origin":[(Ie=I.transformOrigin)==null?void 0:Ie.x,(Le=I.transformOrigin)==null?void 0:Le.y].join(" "),...((Ue=I.hide)==null?void 0:Ue.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:i.jsx(Uz,{scope:r,placedSide:A,onArrowChange:_,arrowX:ne,arrowY:ge,shouldHideArrow:me,children:i.jsx(de.div,{"data-side":A,"data-align":H,...g,ref:w,style:{...g.style,animation:Z?void 0:"none"}})})})});Fk.displayName=Ox;var Uk="PopperArrow",Bz={top:"bottom",right:"left",bottom:"top",left:"right"},zk=m.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,a=zz(Uk,n),o=Bz[a.placedSide];return i.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:i.jsx($z,{...s,ref:r,style:{...s.style,display:"block"}})})});zk.displayName=Uk;function Vz(e){return e!==null}var qz=e=>({name:"transformOrigin",options:e,fn(t){var y,x,v;const{placement:r,rects:n,middlewareData:s}=t,o=((y=s.arrow)==null?void 0:y.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=Bk(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((x=s.arrow)==null?void 0:x.x)??0)+l/2,p=(((v=s.arrow)==null?void 0:v.y)??0)+c/2;let b="",g="";return u==="bottom"?(b=o?f:`${h}px`,g=`${-c}px`):u==="top"?(b=o?f:`${h}px`,g=`${n.floating.height+c}px`):u==="right"?(b=`${-c}px`,g=o?f:`${p}px`):u==="left"&&(b=`${n.floating.width+c}px`,g=o?f:`${p}px`),{data:{x:b,y:g}}}});function Bk(e){const[t,r="center"]=e.split("-");return[t,r]}var Vk=Dk,qk=$k,Wk=Fk,Hk=zk,vv=["Enter"," "],Wz=["ArrowDown","PageUp","Home"],Kk=["ArrowUp","PageDown","End"],Hz=[...Wz,...Kk],Kz={ltr:[...vv,"ArrowRight"],rtl:[...vv,"ArrowLeft"]},Gz={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Vu="Menu",[hu,Qz,Jz]=Vh(Vu),[co,Gk]=gr(Vu,[Jz,tm,qh]),rm=tm(),Qk=qh(),[Yz,uo]=co(Vu),[Xz,qu]=co(Vu),Jk=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:a,modal:o=!0}=e,l=rm(t),[c,u]=m.useState(null),d=m.useRef(!1),f=bt(a),h=Lu(s);return m.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),i.jsx(Vk,{...l,children:i.jsx(Yz,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:i.jsx(Xz,{scope:t,onClose:m.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:o,children:n})})})};Jk.displayName=Vu;var Zz="MenuAnchor",Ix=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=rm(r);return i.jsx(qk,{...s,...n,ref:t})});Ix.displayName=Zz;var Mx="MenuPortal",[eB,Yk]=co(Mx,{forceMount:void 0}),Xk=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,a=uo(Mx,t);return i.jsx(eB,{scope:t,forceMount:r,children:i.jsx(vr,{present:r||a.open,children:i.jsx(Du,{asChild:!0,container:s,children:n})})})};Xk.displayName=Mx;var sn="MenuContent",[tB,Dx]=co(sn),Zk=m.forwardRef((e,t)=>{const r=Yk(sn,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,a=uo(sn,e.__scopeMenu),o=qu(sn,e.__scopeMenu);return i.jsx(hu.Provider,{scope:e.__scopeMenu,children:i.jsx(vr,{present:n||a.open,children:i.jsx(hu.Slot,{scope:e.__scopeMenu,children:o.modal?i.jsx(rB,{...s,ref:t}):i.jsx(nB,{...s,ref:t})})})})}),rB=m.forwardRef((e,t)=>{const r=uo(sn,e.__scopeMenu),n=m.useRef(null),s=Re(t,n);return m.useEffect(()=>{const a=n.current;if(a)return cx(a)},[]),i.jsx(Lx,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:X(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),nB=m.forwardRef((e,t)=>{const r=uo(sn,e.__scopeMenu);return i.jsx(Lx,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),sB=Qi("MenuContent.ScrollLock"),Lx=m.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,disableOutsideScroll:b,...g}=e,y=uo(sn,r),x=qu(sn,r),v=rm(r),w=Qk(r),j=Qz(r),[_,S]=m.useState(null),N=m.useRef(null),C=Re(t,N,y.onContentChange),R=m.useRef(0),T=m.useRef(""),z=m.useRef(0),D=m.useRef(null),q=m.useRef("right"),F=m.useRef(0),M=b?zh:m.Fragment,V=b?{as:sB,allowPinchZoom:!0}:void 0,Z=A=>{var J,Fe;const H=T.current+A,ie=j().filter(De=>!De.disabled),ne=document.activeElement,ge=(J=ie.find(De=>De.ref.current===ne))==null?void 0:J.textValue,me=ie.map(De=>De.textValue),Ve=gB(me,H,ge),Ke=(Fe=ie.find(De=>De.textValue===Ve))==null?void 0:Fe.ref.current;(function De(Ie){T.current=Ie,window.clearTimeout(R.current),Ie!==""&&(R.current=window.setTimeout(()=>De(""),1e3))})(H),Ke&&setTimeout(()=>Ke.focus())};m.useEffect(()=>()=>window.clearTimeout(R.current),[]),lx();const I=m.useCallback(A=>{var ie,ne;return q.current===((ie=D.current)==null?void 0:ie.side)&&yB(A,(ne=D.current)==null?void 0:ne.area)},[]);return i.jsx(tB,{scope:r,searchRef:T,onItemEnter:m.useCallback(A=>{I(A)&&A.preventDefault()},[I]),onItemLeave:m.useCallback(A=>{var H;I(A)||((H=N.current)==null||H.focus(),S(null))},[I]),onTriggerLeave:m.useCallback(A=>{I(A)&&A.preventDefault()},[I]),pointerGraceTimerRef:z,onPointerGraceIntentChange:m.useCallback(A=>{D.current=A},[]),children:i.jsx(M,{...V,children:i.jsx(Fh,{asChild:!0,trapped:s,onMountAutoFocus:X(a,A=>{var H;A.preventDefault(),(H=N.current)==null||H.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:i.jsx(Mu,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,children:i.jsx(zC,{asChild:!0,...w,dir:x.dir,orientation:"vertical",loop:n,currentTabStopId:_,onCurrentTabStopIdChange:S,onEntryFocus:X(c,A=>{x.isUsingKeyboardRef.current||A.preventDefault()}),preventScrollOnEntryFocus:!0,children:i.jsx(Wk,{role:"menu","aria-orientation":"vertical","data-state":pR(y.open),"data-radix-menu-content":"",dir:x.dir,...v,...g,ref:C,style:{outline:"none",...g.style},onKeyDown:X(g.onKeyDown,A=>{const ie=A.target.closest("[data-radix-menu-content]")===A.currentTarget,ne=A.ctrlKey||A.altKey||A.metaKey,ge=A.key.length===1;ie&&(A.key==="Tab"&&A.preventDefault(),!ne&&ge&&Z(A.key));const me=N.current;if(A.target!==me||!Hz.includes(A.key))return;A.preventDefault();const Ke=j().filter(J=>!J.disabled).map(J=>J.ref.current);Kk.includes(A.key)&&Ke.reverse(),mB(Ke)}),onBlur:X(e.onBlur,A=>{A.currentTarget.contains(A.target)||(window.clearTimeout(R.current),T.current="")}),onPointerMove:X(e.onPointerMove,mu(A=>{const H=A.target,ie=F.current!==A.clientX;if(A.currentTarget.contains(H)&&ie){const ne=A.clientX>F.current?"right":"left";q.current=ne,F.current=A.clientX}}))})})})})})})});Zk.displayName=sn;var aB="MenuGroup",$x=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(de.div,{role:"group",...n,ref:t})});$x.displayName=aB;var iB="MenuLabel",eR=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(de.div,{...n,ref:t})});eR.displayName=iB;var rh="MenuItem",Aj="menu.itemSelect",nm=m.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,a=m.useRef(null),o=qu(rh,e.__scopeMenu),l=Dx(rh,e.__scopeMenu),c=Re(t,a),u=m.useRef(!1),d=()=>{const f=a.current;if(!r&&f){const h=new CustomEvent(Aj,{bubbles:!0,cancelable:!0});f.addEventListener(Aj,p=>n==null?void 0:n(p),{once:!0}),Zy(f,h),h.defaultPrevented?u.current=!1:o.onClose()}};return i.jsx(tR,{...s,ref:c,disabled:r,onClick:X(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:X(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:X(e.onKeyDown,f=>{const h=l.searchRef.current!=="";r||h&&f.key===" "||vv.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});nm.displayName=rh;var tR=m.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...a}=e,o=Dx(rh,r),l=Qk(r),c=m.useRef(null),u=Re(t,c),[d,f]=m.useState(!1),[h,p]=m.useState("");return m.useEffect(()=>{const b=c.current;b&&p((b.textContent??"").trim())},[a.children]),i.jsx(hu.ItemSlot,{scope:r,disabled:n,textValue:s??h,children:i.jsx(BC,{asChild:!0,...l,focusable:!n,children:i.jsx(de.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...a,ref:u,onPointerMove:X(e.onPointerMove,mu(b=>{n?o.onItemLeave(b):(o.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:X(e.onPointerLeave,mu(b=>o.onItemLeave(b))),onFocus:X(e.onFocus,()=>f(!0)),onBlur:X(e.onBlur,()=>f(!1))})})})}),oB="MenuCheckboxItem",rR=m.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return i.jsx(oR,{scope:e.__scopeMenu,checked:r,children:i.jsx(nm,{role:"menuitemcheckbox","aria-checked":nh(r)?"mixed":r,...s,ref:t,"data-state":Ux(r),onSelect:X(s.onSelect,()=>n==null?void 0:n(nh(r)?!0:!r),{checkForDefaultPrevented:!1})})})});rR.displayName=oB;var nR="MenuRadioGroup",[lB,cB]=co(nR,{value:void 0,onValueChange:()=>{}}),sR=m.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,a=bt(n);return i.jsx(lB,{scope:e.__scopeMenu,value:r,onValueChange:a,children:i.jsx($x,{...s,ref:t})})});sR.displayName=nR;var aR="MenuRadioItem",iR=m.forwardRef((e,t)=>{const{value:r,...n}=e,s=cB(aR,e.__scopeMenu),a=r===s.value;return i.jsx(oR,{scope:e.__scopeMenu,checked:a,children:i.jsx(nm,{role:"menuitemradio","aria-checked":a,...n,ref:t,"data-state":Ux(a),onSelect:X(n.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,r)},{checkForDefaultPrevented:!1})})})});iR.displayName=aR;var Fx="MenuItemIndicator",[oR,uB]=co(Fx,{checked:!1}),lR=m.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,a=uB(Fx,r);return i.jsx(vr,{present:n||nh(a.checked)||a.checked===!0,children:i.jsx(de.span,{...s,ref:t,"data-state":Ux(a.checked)})})});lR.displayName=Fx;var dB="MenuSeparator",cR=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(de.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});cR.displayName=dB;var fB="MenuArrow",uR=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=rm(r);return i.jsx(Hk,{...s,...n,ref:t})});uR.displayName=fB;var hB="MenuSub",[h7,dR]=co(hB),yc="MenuSubTrigger",fR=m.forwardRef((e,t)=>{const r=uo(yc,e.__scopeMenu),n=qu(yc,e.__scopeMenu),s=dR(yc,e.__scopeMenu),a=Dx(yc,e.__scopeMenu),o=m.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,u={__scopeMenu:e.__scopeMenu},d=m.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return m.useEffect(()=>d,[d]),m.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),i.jsx(Ix,{asChild:!0,...u,children:i.jsx(tR,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":pR(r.open),...e,ref:Mh(t,s.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:X(e.onPointerMove,mu(f=>{a.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:X(e.onPointerLeave,mu(f=>{var p,b;d();const h=(p=r.content)==null?void 0:p.getBoundingClientRect();if(h){const g=(b=r.content)==null?void 0:b.dataset.side,y=g==="right",x=y?-5:5,v=h[y?"left":"right"],w=h[y?"right":"left"];a.onPointerGraceIntentChange({area:[{x:f.clientX+x,y:f.clientY},{x:v,y:h.top},{x:w,y:h.top},{x:w,y:h.bottom},{x:v,y:h.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(f),f.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:X(e.onKeyDown,f=>{var p;const h=a.searchRef.current!=="";e.disabled||h&&f.key===" "||Kz[n.dir].includes(f.key)&&(r.onOpenChange(!0),(p=r.content)==null||p.focus(),f.preventDefault())})})})});fR.displayName=yc;var hR="MenuSubContent",mR=m.forwardRef((e,t)=>{const r=Yk(sn,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,a=uo(sn,e.__scopeMenu),o=qu(sn,e.__scopeMenu),l=dR(hR,e.__scopeMenu),c=m.useRef(null),u=Re(t,c);return i.jsx(hu.Provider,{scope:e.__scopeMenu,children:i.jsx(vr,{present:n||a.open,children:i.jsx(hu.Slot,{scope:e.__scopeMenu,children:i.jsx(Lx,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:X(e.onFocusOutside,d=>{d.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:X(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:X(e.onKeyDown,d=>{var p;const f=d.currentTarget.contains(d.target),h=Gz[o.dir].includes(d.key);f&&h&&(a.onOpenChange(!1),(p=l.trigger)==null||p.focus(),d.preventDefault())})})})})})});mR.displayName=hR;function pR(e){return e?"open":"closed"}function nh(e){return e==="indeterminate"}function Ux(e){return nh(e)?"indeterminate":e?"checked":"unchecked"}function mB(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function pB(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function gB(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let o=pB(e,Math.max(a,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function vB(e,t){const{x:r,y:n}=e;let s=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a],c=t[o],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(s=!s)}return s}function yB(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return vB(r,t)}function mu(e){return t=>t.pointerType==="mouse"?e(t):void 0}var xB=Jk,wB=Ix,bB=Xk,jB=Zk,_B=$x,SB=eR,NB=nm,EB=rR,CB=sR,kB=iR,RB=lR,PB=cR,TB=uR,AB=fR,OB=mR,sm="DropdownMenu",[IB]=gr(sm,[Gk]),yr=Gk(),[MB,gR]=IB(sm),vR=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:a,onOpenChange:o,modal:l=!0}=e,c=yr(t),u=m.useRef(null),[d,f]=Gs({prop:s,defaultProp:a??!1,onChange:o,caller:sm});return i.jsx(MB,{scope:t,triggerId:cs(),triggerRef:u,contentId:cs(),open:d,onOpenChange:f,onOpenToggle:m.useCallback(()=>f(h=>!h),[f]),modal:l,children:i.jsx(xB,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};vR.displayName=sm;var yR="DropdownMenuTrigger",xR=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,a=gR(yR,r),o=yr(r);return i.jsx(wB,{asChild:!0,...o,children:i.jsx(de.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:Mh(t,a.triggerRef),onPointerDown:X(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:X(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});xR.displayName=yR;var DB="DropdownMenuPortal",wR=e=>{const{__scopeDropdownMenu:t,...r}=e,n=yr(t);return i.jsx(bB,{...n,...r})};wR.displayName=DB;var bR="DropdownMenuContent",jR=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=gR(bR,r),a=yr(r),o=m.useRef(!1);return i.jsx(jB,{id:s.contentId,"aria-labelledby":s.triggerId,...a,...n,ref:t,onCloseAutoFocus:X(e.onCloseAutoFocus,l=>{var c;o.current||(c=s.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:X(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});jR.displayName=bR;var LB="DropdownMenuGroup",$B=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=yr(r);return i.jsx(_B,{...s,...n,ref:t})});$B.displayName=LB;var FB="DropdownMenuLabel",_R=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=yr(r);return i.jsx(SB,{...s,...n,ref:t})});_R.displayName=FB;var UB="DropdownMenuItem",SR=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=yr(r);return i.jsx(NB,{...s,...n,ref:t})});SR.displayName=UB;var zB="DropdownMenuCheckboxItem",NR=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=yr(r);return i.jsx(EB,{...s,...n,ref:t})});NR.displayName=zB;var BB="DropdownMenuRadioGroup",VB=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=yr(r);return i.jsx(CB,{...s,...n,ref:t})});VB.displayName=BB;var qB="DropdownMenuRadioItem",ER=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=yr(r);return i.jsx(kB,{...s,...n,ref:t})});ER.displayName=qB;var WB="DropdownMenuItemIndicator",CR=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=yr(r);return i.jsx(RB,{...s,...n,ref:t})});CR.displayName=WB;var HB="DropdownMenuSeparator",kR=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=yr(r);return i.jsx(PB,{...s,...n,ref:t})});kR.displayName=HB;var KB="DropdownMenuArrow",GB=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=yr(r);return i.jsx(TB,{...s,...n,ref:t})});GB.displayName=KB;var QB="DropdownMenuSubTrigger",RR=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=yr(r);return i.jsx(AB,{...s,...n,ref:t})});RR.displayName=QB;var JB="DropdownMenuSubContent",PR=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=yr(r);return i.jsx(OB,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});PR.displayName=JB;var YB=vR,XB=xR,ZB=wR,TR=jR,AR=_R,OR=SR,IR=NR,MR=ER,DR=CR,LR=kR,$R=RR,FR=PR;const eV=YB,tV=XB,rV=m.forwardRef(({className:e,inset:t,children:r,...n},s)=>i.jsxs($R,{ref:s,className:te("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,i.jsx(E3,{className:"ml-auto h-4 w-4"})]}));rV.displayName=$R.displayName;const nV=m.forwardRef(({className:e,...t},r)=>i.jsx(FR,{ref:r,className:te("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));nV.displayName=FR.displayName;const UR=m.forwardRef(({className:e,sideOffset:t=4,...r},n)=>i.jsx(ZB,{children:i.jsx(TR,{ref:n,sideOffset:t,className:te("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));UR.displayName=TR.displayName;const af=m.forwardRef(({className:e,inset:t,...r},n)=>i.jsx(OR,{ref:n,className:te("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));af.displayName=OR.displayName;const sV=m.forwardRef(({className:e,children:t,checked:r,...n},s)=>i.jsxs(IR,{ref:s,className:te("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(DR,{children:i.jsx(Ou,{className:"h-4 w-4"})})}),t]}));sV.displayName=IR.displayName;const aV=m.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(MR,{ref:n,className:te("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(DR,{children:i.jsx(k3,{className:"h-2 w-2 fill-current"})})}),t]}));aV.displayName=MR.displayName;const iV=m.forwardRef(({className:e,inset:t,...r},n)=>i.jsx(AR,{ref:n,className:te("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));iV.displayName=AR.displayName;const of=m.forwardRef(({className:e,...t},r)=>i.jsx(LR,{ref:r,className:te("-mx-1 my-1 h-px bg-muted",e),...t}));of.displayName=LR.displayName;const zR=G({id:P(),sender_id:P().uuid(),recipient_id:P().uuid(),content:P(),read_at:P().datetime().nullable(),created_at:P().datetime(),updated_at:P().datetime().optional()}),yv=G({id:P().uuid(),name:P(),avatar_url:P().url().nullable()}),BR=zR.extend({sender:yv,recipient:yv}),oV=G({user:yv,last_message:zR.nullable(),unread_count:Ae().int().min(0)});G({recipient_id:P().uuid({message:"ID de destinatario invlido"}),content:P().min(1,"El mensaje no puede estar vaco").max(5e3,"El mensaje no puede superar 5000 caracteres")});G({message_ids:We(P()).min(1,"Debes especificar al menos un mensaje")});G({user_id:P().uuid({message:"ID de usuario invlido"}),limit:Ae().int().positive().optional(),offset:Ae().int().min(0).optional()});const lV=G({conversations:We(oV),total:Ae().int().min(0)}),cV=G({messages:We(BR),total:Ae().int().min(0)}),uV=G({message:BR}),dV=G({updated_count:Ae().int().min(0)}),fV=G({unread_count:Ae().int().min(0)}),Kl={async getConversations(){const e=await xe.get("/messages/conversations");return lV.parse(e.data)},async getConversationMessages(e){const t=await xe.get(`/messages/conversations/${e.user_id}`,{params:{limit:e.limit,offset:e.offset}});return cV.parse(t.data)},async sendMessage(e){const t=await xe.post("/messages",e);return uV.parse(t.data)},async markAsRead(e){console.log("[messageService] markAsRead called with:",e);try{const t=await xe.put("/messages/read",e);console.log("[messageService] Raw response:",t.data);const r=dV.parse(t.data);return console.log("[messageService] Parsed response:",r),r}catch(t){throw console.error("[messageService] Error in markAsRead:",t),t}},async deleteMessage(e){await xe.delete(`/messages/${e}`)},async getUnreadCount(){const e=await xe.get("/messages/unread-count");return fV.parse(e.data)}},hV=e=>Ut({queryKey:["unread-count"],queryFn:async()=>await Kl.getUnreadCount(),enabled:(e==null?void 0:e.enabled)!==!1,staleTime:60*1e3,gcTime:300*1e3,refetchInterval:30*1e3});function VR(){const e=et(),{user:t}=Et();m.useEffect(()=>{if(!(t!=null&&t.id))return;const r=nr.channel("unread-notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`recipient_id=eq.${t.id}`},()=>{e.invalidateQueries({queryKey:["unread-count"]})}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"messages",filter:`recipient_id=eq.${t.id}`},()=>{e.invalidateQueries({queryKey:["unread-count"]})}).subscribe();return()=>{nr.removeChannel(r)}},[t==null?void 0:t.id,e])}function Hr(){const{user:e,signOut:t,isSigningOut:r}=Et(),{isAdmin:n}=Uu(),s=so(),[a,o]=m.useState(!1);VR();const{data:l}=hV(),c=(l==null?void 0:l.unread_count)||0,u=()=>{t()},d=p=>p?p.split(" ").map(b=>b[0]).join("").toUpperCase():"U",f=[{href:"/dashboard",label:"Dashboard",icon:A3},{href:"/network",label:"Mi Red",icon:Gr},{href:"/opportunities",label:"Oportunidades",icon:Qs},{href:"/messages",label:"Mensajes",icon:lu},{href:"/projects",label:"Programas",icon:Js}],h=p=>s.pathname===p||s.pathname.startsWith(p+"/");return e?i.jsxs("nav",{className:"bg-white/95 backdrop-blur-sm border-b border-gray-200/50 sticky top-0 z-50",children:[i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"flex justify-between h-16",children:[i.jsxs("div",{className:"flex items-center space-x-8",children:[i.jsx(ts,{to:"/dashboard",className:"text-xl font-bold bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent",children:"Espaa Creativa Red"}),i.jsx("div",{className:"hidden md:flex space-x-1",children:f.map(p=>{const b=p.icon,g=p.href==="/messages"&&c>0;return i.jsxs(ts,{to:p.href,className:`flex items-center px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 relative ${h(p.href)?"bg-primary text-white shadow-sm":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[i.jsx(b,{className:"h-4 w-4 mr-2"}),p.label,g&&i.jsx(Te,{variant:"destructive",className:"ml-2 h-5 min-w-[20px] px-1 flex items-center justify-center text-xs",children:c>99?"99+":c})]},p.href)})})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"hidden sm:flex items-center space-x-2",children:[i.jsx("div",{className:"h-2 w-2 rounded-full bg-primary"}),i.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[e.completed_pct,"% completado"]})]}),i.jsxs(eV,{children:[i.jsx(tV,{asChild:!0,children:i.jsx(B,{variant:"ghost",className:"relative h-10 w-10 rounded-full hover:bg-gray-50",children:i.jsxs(At,{className:"h-10 w-10 ring-2 ring-gray-100",children:[i.jsx(Ft,{src:e.avatar_url||""}),i.jsx(Ot,{className:"bg-gradient-to-br from-primary to-secondary text-white font-semibold",children:d(e.name)})]})})}),i.jsxs(UR,{className:"w-64 p-2",align:"end",forceMount:!0,children:[i.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-gray-50",children:[i.jsxs(At,{className:"h-12 w-12",children:[i.jsx(Ft,{src:e.avatar_url||""}),i.jsx(Ot,{className:"bg-gradient-to-br from-primary to-secondary text-white font-semibold",children:d(e.name)})]}),i.jsxs("div",{className:"flex flex-col space-y-1",children:[i.jsx("p",{className:"font-semibold text-gray-900",children:e.name||"Usuario"}),i.jsx("p",{className:"text-sm text-gray-600 truncate",children:e.email})]})]}),i.jsx(of,{className:"my-2"}),i.jsx(af,{asChild:!0,children:i.jsxs(ts,{to:"/profile",className:"flex items-center rounded-md p-2 hover:bg-gray-50",children:[i.jsx(uu,{className:"mr-3 h-4 w-4 text-gray-500"}),i.jsx("span",{className:"font-medium",children:"Mi Perfil"})]})}),n&&i.jsxs(i.Fragment,{children:[i.jsx(of,{className:"my-2"}),i.jsx(af,{asChild:!0,children:i.jsxs(ts,{to:"/gestion",className:"flex items-center rounded-md p-2 hover:bg-primary/10 bg-primary/5",children:[i.jsx(ix,{className:"mr-3 h-4 w-4 text-primary"}),i.jsx("span",{className:"font-medium text-primary",children:"Gestin"})]})})]}),i.jsx(of,{className:"my-2"}),i.jsxs(af,{onClick:u,disabled:r,className:"flex items-center rounded-md p-2 text-red-600 hover:bg-red-50 focus:bg-red-50",children:[i.jsx(tC,{className:"mr-3 h-4 w-4"}),i.jsx("span",{className:"font-medium",children:"Cerrar Sesin"})]})]})]})]})]})}),i.jsx("div",{className:"md:hidden border-t border-gray-200/50 bg-white/95 backdrop-blur-sm",children:i.jsx("div",{className:"flex justify-around py-3",children:f.slice(0,4).map(p=>{const b=p.icon,g=h(p.href),y=p.href==="/messages"&&c>0;return i.jsxs(ts,{to:p.href,className:`flex flex-col items-center px-3 py-2 rounded-lg text-xs font-medium transition-all duration-200 relative ${g?"text-primary bg-primary/10":"text-gray-600 hover:text-gray-900"}`,children:[i.jsxs("div",{className:"relative",children:[i.jsx(b,{className:`h-5 w-5 mb-1 ${g?"text-primary":""}`}),y&&i.jsx(Te,{variant:"destructive",className:"absolute -top-1 -right-2 h-4 min-w-[16px] px-1 flex items-center justify-center text-[10px]",children:c>9?"9+":c})]}),p.label]},p.href)})})})]}):null}function xv(e,[t,r]){return Math.min(r,Math.max(t,e))}var qR=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),mV="VisuallyHidden",zx=m.forwardRef((e,t)=>i.jsx(de.span,{...e,ref:t,style:{...qR,...e.style}}));zx.displayName=mV;var pV=[" ","Enter","ArrowUp","ArrowDown"],gV=[" ","Enter"],Zi="Select",[am,im,vV]=Vh(Zi),[Gl]=gr(Zi,[vV,tm]),om=tm(),[yV,ui]=Gl(Zi),[xV,wV]=Gl(Zi),WR=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:p,form:b}=e,g=om(t),[y,x]=m.useState(null),[v,w]=m.useState(null),[j,_]=m.useState(!1),S=Lu(u),[N,C]=Gs({prop:n,defaultProp:s??!1,onChange:a,caller:Zi}),[R,T]=Gs({prop:o,defaultProp:l,onChange:c,caller:Zi}),z=m.useRef(null),D=y?b||!!y.closest("form"):!0,[q,F]=m.useState(new Set),M=Array.from(q).map(V=>V.props.value).join(";");return i.jsx(Vk,{...g,children:i.jsxs(yV,{required:p,scope:t,trigger:y,onTriggerChange:x,valueNode:v,onValueNodeChange:w,valueNodeHasChildren:j,onValueNodeHasChildrenChange:_,contentId:cs(),value:R,onValueChange:T,open:N,onOpenChange:C,dir:S,triggerPointerDownPosRef:z,disabled:h,children:[i.jsx(am.Provider,{scope:t,children:i.jsx(xV,{scope:e.__scopeSelect,onNativeOptionAdd:m.useCallback(V=>{F(Z=>new Set(Z).add(V))},[]),onNativeOptionRemove:m.useCallback(V=>{F(Z=>{const I=new Set(Z);return I.delete(V),I})},[]),children:r})}),D?i.jsxs(pP,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:R,onChange:V=>T(V.target.value),disabled:h,form:b,children:[R===void 0?i.jsx("option",{value:""}):null,Array.from(q)]},M):null]})})};WR.displayName=Zi;var HR="SelectTrigger",KR=m.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,a=om(r),o=ui(HR,r),l=o.disabled||n,c=Re(t,o.onTriggerChange),u=im(r),d=m.useRef("touch"),[f,h,p]=vP(g=>{const y=u().filter(w=>!w.disabled),x=y.find(w=>w.value===o.value),v=yP(y,g,x);v!==void 0&&o.onValueChange(v.value)}),b=g=>{l||(o.onOpenChange(!0),p()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return i.jsx(qk,{asChild:!0,...a,children:i.jsx(de.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":gP(o.value)?"":void 0,...s,ref:c,onClick:X(s.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&b(g)}),onPointerDown:X(s.onPointerDown,g=>{d.current=g.pointerType;const y=g.target;y.hasPointerCapture(g.pointerId)&&y.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(b(g),g.preventDefault())}),onKeyDown:X(s.onKeyDown,g=>{const y=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(y&&g.key===" ")&&pV.includes(g.key)&&(b(),g.preventDefault())})})})});KR.displayName=HR;var GR="SelectValue",QR=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:a,placeholder:o="",...l}=e,c=ui(GR,r),{onValueNodeHasChildrenChange:u}=c,d=a!==void 0,f=Re(t,c.onValueNodeChange);return Nt(()=>{u(d)},[u,d]),i.jsx(de.span,{...l,ref:f,style:{pointerEvents:"none"},children:gP(c.value)?i.jsx(i.Fragment,{children:o}):a})});QR.displayName=GR;var bV="SelectIcon",JR=m.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return i.jsx(de.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});JR.displayName=bV;var jV="SelectPortal",YR=e=>i.jsx(Du,{asChild:!0,...e});YR.displayName=jV;var eo="SelectContent",XR=m.forwardRef((e,t)=>{const r=ui(eo,e.__scopeSelect),[n,s]=m.useState();if(Nt(()=>{s(new DocumentFragment)},[]),!r.open){const a=n;return a?no.createPortal(i.jsx(ZR,{scope:e.__scopeSelect,children:i.jsx(am.Slot,{scope:e.__scopeSelect,children:i.jsx("div",{children:e.children})})}),a):null}return i.jsx(eP,{...e,ref:t})});XR.displayName=eo;var wn=10,[ZR,di]=Gl(eo),_V="SelectContentImpl",SV=Qi("SelectContent.RemoveScroll"),eP=m.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:b,hideWhenDetached:g,avoidCollisions:y,...x}=e,v=ui(eo,r),[w,j]=m.useState(null),[_,S]=m.useState(null),N=Re(t,J=>j(J)),[C,R]=m.useState(null),[T,z]=m.useState(null),D=im(r),[q,F]=m.useState(!1),M=m.useRef(!1);m.useEffect(()=>{if(w)return cx(w)},[w]),lx();const V=m.useCallback(J=>{const[Fe,...De]=D().map(Ue=>Ue.ref.current),[Ie]=De.slice(-1),Le=document.activeElement;for(const Ue of J)if(Ue===Le||(Ue==null||Ue.scrollIntoView({block:"nearest"}),Ue===Fe&&_&&(_.scrollTop=0),Ue===Ie&&_&&(_.scrollTop=_.scrollHeight),Ue==null||Ue.focus(),document.activeElement!==Le))return},[D,_]),Z=m.useCallback(()=>V([C,w]),[V,C,w]);m.useEffect(()=>{q&&Z()},[q,Z]);const{onOpenChange:I,triggerPointerDownPosRef:A}=v;m.useEffect(()=>{if(w){let J={x:0,y:0};const Fe=Ie=>{var Le,Ue;J={x:Math.abs(Math.round(Ie.pageX)-(((Le=A.current)==null?void 0:Le.x)??0)),y:Math.abs(Math.round(Ie.pageY)-(((Ue=A.current)==null?void 0:Ue.y)??0))}},De=Ie=>{J.x<=10&&J.y<=10?Ie.preventDefault():w.contains(Ie.target)||I(!1),document.removeEventListener("pointermove",Fe),A.current=null};return A.current!==null&&(document.addEventListener("pointermove",Fe),document.addEventListener("pointerup",De,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Fe),document.removeEventListener("pointerup",De,{capture:!0})}}},[w,I,A]),m.useEffect(()=>{const J=()=>I(!1);return window.addEventListener("blur",J),window.addEventListener("resize",J),()=>{window.removeEventListener("blur",J),window.removeEventListener("resize",J)}},[I]);const[H,ie]=vP(J=>{const Fe=D().filter(Le=>!Le.disabled),De=Fe.find(Le=>Le.ref.current===document.activeElement),Ie=yP(Fe,J,De);Ie&&setTimeout(()=>Ie.ref.current.focus())}),ne=m.useCallback((J,Fe,De)=>{const Ie=!M.current&&!De;(v.value!==void 0&&v.value===Fe||Ie)&&(R(J),Ie&&(M.current=!0))},[v.value]),ge=m.useCallback(()=>w==null?void 0:w.focus(),[w]),me=m.useCallback((J,Fe,De)=>{const Ie=!M.current&&!De;(v.value!==void 0&&v.value===Fe||Ie)&&z(J)},[v.value]),Ve=n==="popper"?wv:tP,Ke=Ve===wv?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:b,hideWhenDetached:g,avoidCollisions:y}:{};return i.jsx(ZR,{scope:r,content:w,viewport:_,onViewportChange:S,itemRefCallback:ne,selectedItem:C,onItemLeave:ge,itemTextRefCallback:me,focusSelectedItem:Z,selectedItemText:T,position:n,isPositioned:q,searchRef:H,children:i.jsx(zh,{as:SV,allowPinchZoom:!0,children:i.jsx(Fh,{asChild:!0,trapped:v.open,onMountAutoFocus:J=>{J.preventDefault()},onUnmountAutoFocus:X(s,J=>{var Fe;(Fe=v.trigger)==null||Fe.focus({preventScroll:!0}),J.preventDefault()}),children:i.jsx(Mu,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:J=>J.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:i.jsx(Ve,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:J=>J.preventDefault(),...x,...Ke,onPlaced:()=>F(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:X(x.onKeyDown,J=>{const Fe=J.ctrlKey||J.altKey||J.metaKey;if(J.key==="Tab"&&J.preventDefault(),!Fe&&J.key.length===1&&ie(J.key),["ArrowUp","ArrowDown","Home","End"].includes(J.key)){let Ie=D().filter(Le=>!Le.disabled).map(Le=>Le.ref.current);if(["ArrowUp","End"].includes(J.key)&&(Ie=Ie.slice().reverse()),["ArrowUp","ArrowDown"].includes(J.key)){const Le=J.target,Ue=Ie.indexOf(Le);Ie=Ie.slice(Ue+1)}setTimeout(()=>V(Ie)),J.preventDefault()}})})})})})})});eP.displayName=_V;var NV="SelectItemAlignedPosition",tP=m.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,a=ui(eo,r),o=di(eo,r),[l,c]=m.useState(null),[u,d]=m.useState(null),f=Re(t,N=>d(N)),h=im(r),p=m.useRef(!1),b=m.useRef(!0),{viewport:g,selectedItem:y,selectedItemText:x,focusSelectedItem:v}=o,w=m.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&g&&y&&x){const N=a.trigger.getBoundingClientRect(),C=u.getBoundingClientRect(),R=a.valueNode.getBoundingClientRect(),T=x.getBoundingClientRect();if(a.dir!=="rtl"){const Le=T.left-C.left,Ue=R.left-Le,zt=N.left-Ue,ar=N.width+zt,Fn=Math.max(ar,C.width),Un=window.innerWidth-wn,bs=xv(Ue,[wn,Math.max(wn,Un-Fn)]);l.style.minWidth=ar+"px",l.style.left=bs+"px"}else{const Le=C.right-T.right,Ue=window.innerWidth-R.right-Le,zt=window.innerWidth-N.right-Ue,ar=N.width+zt,Fn=Math.max(ar,C.width),Un=window.innerWidth-wn,bs=xv(Ue,[wn,Math.max(wn,Un-Fn)]);l.style.minWidth=ar+"px",l.style.right=bs+"px"}const z=h(),D=window.innerHeight-wn*2,q=g.scrollHeight,F=window.getComputedStyle(u),M=parseInt(F.borderTopWidth,10),V=parseInt(F.paddingTop,10),Z=parseInt(F.borderBottomWidth,10),I=parseInt(F.paddingBottom,10),A=M+V+q+I+Z,H=Math.min(y.offsetHeight*5,A),ie=window.getComputedStyle(g),ne=parseInt(ie.paddingTop,10),ge=parseInt(ie.paddingBottom,10),me=N.top+N.height/2-wn,Ve=D-me,Ke=y.offsetHeight/2,J=y.offsetTop+Ke,Fe=M+V+J,De=A-Fe;if(Fe<=me){const Le=z.length>0&&y===z[z.length-1].ref.current;l.style.bottom="0px";const Ue=u.clientHeight-g.offsetTop-g.offsetHeight,zt=Math.max(Ve,Ke+(Le?ge:0)+Ue+Z),ar=Fe+zt;l.style.height=ar+"px"}else{const Le=z.length>0&&y===z[0].ref.current;l.style.top="0px";const zt=Math.max(me,M+g.offsetTop+(Le?ne:0)+Ke)+De;l.style.height=zt+"px",g.scrollTop=Fe-me+g.offsetTop}l.style.margin=`${wn}px 0`,l.style.minHeight=H+"px",l.style.maxHeight=D+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[h,a.trigger,a.valueNode,l,u,g,y,x,a.dir,n]);Nt(()=>w(),[w]);const[j,_]=m.useState();Nt(()=>{u&&_(window.getComputedStyle(u).zIndex)},[u]);const S=m.useCallback(N=>{N&&b.current===!0&&(w(),v==null||v(),b.current=!1)},[w,v]);return i.jsx(CV,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:S,children:i.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:i.jsx(de.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});tP.displayName=NV;var EV="SelectPopperPosition",wv=m.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=wn,...a}=e,o=om(r);return i.jsx(Wk,{...o,...a,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});wv.displayName=EV;var[CV,Bx]=Gl(eo,{}),bv="SelectViewport",rP=m.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,a=di(bv,r),o=Bx(bv,r),l=Re(t,a.onViewportChange),c=m.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),i.jsx(am.Slot,{scope:r,children:i.jsx(de.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:X(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const p=Math.abs(c.current-d.scrollTop);if(p>0){const b=window.innerHeight-wn*2,g=parseFloat(f.style.minHeight),y=parseFloat(f.style.height),x=Math.max(g,y);if(x<b){const v=x+p,w=Math.min(b,v),j=v-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=j>0?j:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});rP.displayName=bv;var nP="SelectGroup",[kV,RV]=Gl(nP),PV=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=cs();return i.jsx(kV,{scope:r,id:s,children:i.jsx(de.div,{role:"group","aria-labelledby":s,...n,ref:t})})});PV.displayName=nP;var sP="SelectLabel",aP=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=RV(sP,r);return i.jsx(de.div,{id:s.id,...n,ref:t})});aP.displayName=sP;var sh="SelectItem",[TV,iP]=Gl(sh),oP=m.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:a,...o}=e,l=ui(sh,r),c=di(sh,r),u=l.value===n,[d,f]=m.useState(a??""),[h,p]=m.useState(!1),b=Re(t,v=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,v,n,s)}),g=cs(),y=m.useRef("touch"),x=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(TV,{scope:r,value:n,disabled:s,textId:g,isSelected:u,onItemTextChange:m.useCallback(v=>{f(w=>w||((v==null?void 0:v.textContent)??"").trim())},[]),children:i.jsx(am.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:i.jsx(de.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:b,onFocus:X(o.onFocus,()=>p(!0)),onBlur:X(o.onBlur,()=>p(!1)),onClick:X(o.onClick,()=>{y.current!=="mouse"&&x()}),onPointerUp:X(o.onPointerUp,()=>{y.current==="mouse"&&x()}),onPointerDown:X(o.onPointerDown,v=>{y.current=v.pointerType}),onPointerMove:X(o.onPointerMove,v=>{var w;y.current=v.pointerType,s?(w=c.onItemLeave)==null||w.call(c):y.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:X(o.onPointerLeave,v=>{var w;v.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:X(o.onKeyDown,v=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&v.key===" "||(gV.includes(v.key)&&x(),v.key===" "&&v.preventDefault())})})})})});oP.displayName=sh;var xc="SelectItemText",lP=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...a}=e,o=ui(xc,r),l=di(xc,r),c=iP(xc,r),u=wV(xc,r),[d,f]=m.useState(null),h=Re(t,x=>f(x),c.onItemTextChange,x=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,x,c.value,c.disabled)}),p=d==null?void 0:d.textContent,b=m.useMemo(()=>i.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:y}=u;return Nt(()=>(g(b),()=>y(b)),[g,y,b]),i.jsxs(i.Fragment,{children:[i.jsx(de.span,{id:c.textId,...a,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?no.createPortal(a.children,o.valueNode):null]})});lP.displayName=xc;var cP="SelectItemIndicator",uP=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return iP(cP,r).isSelected?i.jsx(de.span,{"aria-hidden":!0,...n,ref:t}):null});uP.displayName=cP;var jv="SelectScrollUpButton",dP=m.forwardRef((e,t)=>{const r=di(jv,e.__scopeSelect),n=Bx(jv,e.__scopeSelect),[s,a]=m.useState(!1),o=Re(t,n.onScrollButtonChange);return Nt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?i.jsx(hP,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});dP.displayName=jv;var _v="SelectScrollDownButton",fP=m.forwardRef((e,t)=>{const r=di(_v,e.__scopeSelect),n=Bx(_v,e.__scopeSelect),[s,a]=m.useState(!1),o=Re(t,n.onScrollButtonChange);return Nt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;a(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?i.jsx(hP,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});fP.displayName=_v;var hP=m.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,a=di("SelectScrollButton",r),o=m.useRef(null),l=im(r),c=m.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return m.useEffect(()=>()=>c(),[c]),Nt(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),i.jsx(de.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:X(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:X(s.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:X(s.onPointerLeave,()=>{c()})})}),AV="SelectSeparator",mP=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return i.jsx(de.div,{"aria-hidden":!0,...n,ref:t})});mP.displayName=AV;var Sv="SelectArrow",OV=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=om(r),a=ui(Sv,r),o=di(Sv,r);return a.open&&o.position==="popper"?i.jsx(Hk,{...s,...n,ref:t}):null});OV.displayName=Sv;var IV="SelectBubbleInput",pP=m.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const s=m.useRef(null),a=Re(n,s),o=ex(t);return m.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),i.jsx(de.select,{...r,style:{...qR,...r.style},ref:a,defaultValue:t})});pP.displayName=IV;function gP(e){return e===""||e===void 0}function vP(e){const t=bt(e),r=m.useRef(""),n=m.useRef(0),s=m.useCallback(o=>{const l=r.current+o;t(l),(function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))})(l)},[t]),a=m.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,a]}function yP(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let o=MV(e,Math.max(a,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function MV(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var DV=WR,xP=KR,LV=QR,$V=JR,FV=YR,wP=XR,UV=rP,bP=aP,jP=oP,zV=lP,BV=uP,_P=dP,SP=fP,NP=mP;const ti=DV,ri=LV,ea=m.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(xP,{ref:n,className:te("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,i.jsx($V,{asChild:!0,children:i.jsx(JE,{className:"h-4 w-4 opacity-50"})})]}));ea.displayName=xP.displayName;const EP=m.forwardRef(({className:e,...t},r)=>i.jsx(_P,{ref:r,className:te("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(C3,{className:"h-4 w-4"})}));EP.displayName=_P.displayName;const CP=m.forwardRef(({className:e,...t},r)=>i.jsx(SP,{ref:r,className:te("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(JE,{className:"h-4 w-4"})}));CP.displayName=SP.displayName;const ta=m.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>i.jsx(FV,{children:i.jsxs(wP,{ref:s,className:te("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[i.jsx(EP,{}),i.jsx(UV,{className:te("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),i.jsx(CP,{})]})}));ta.displayName=wP.displayName;const VV=m.forwardRef(({className:e,...t},r)=>i.jsx(bP,{ref:r,className:te("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));VV.displayName=bP.displayName;const tt=m.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(jP,{ref:n,className:te("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(BV,{children:i.jsx(Ou,{className:"h-4 w-4"})})}),i.jsx(zV,{children:t})]}));tt.displayName=jP.displayName;const qV=m.forwardRef(({className:e,...t},r)=>i.jsx(NP,{ref:r,className:te("-mx-1 my-1 h-px bg-muted",e),...t}));qV.displayName=NP.displayName;function WV({user:e,showActions:t=!0,onStartChat:r,showConnectButton:n=!0}){var _,S,N;const{user:s}=Et(),a=vt(),{data:o}=Nx(e.id,{enabled:n&&(s==null?void 0:s.id)!==e.id}),{action:l,isLoading:c}=Sx(),{action:u,isLoading:d}=zu(),{toast:f}=ql(),h=C=>C?C.split(" ").map(R=>R[0]).join("").toUpperCase():"U",p=C=>{switch(C){case"admin":return"bg-red-100 text-red-800";case"mentor":return"bg-blue-100 text-blue-800";case"emprendedor":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},b=async()=>{try{await l({addressee_id:e.id}),f({title:"Solicitud enviada",description:`Solicitud de conexin enviada a ${e.name||"el usuario"}`,duration:3e3})}catch(C){f({title:"Error",description:C instanceof Error?C.message:"No se pudo enviar la solicitud",variant:"destructive",duration:5e3})}},g=async()=>{var R;const C=(R=o==null?void 0:o.connection)==null?void 0:R.id;if(C)try{await u({connection_id:C,status:"accepted"}),f({title:"Conexin aceptada",description:`Ahora ests conectado con ${e.name||"el usuario"}`,duration:3e3})}catch(T){f({title:"Error",description:T instanceof Error?T.message:"No se pudo aceptar la solicitud",variant:"destructive",duration:5e3})}},y=()=>{a(`/users/${e.id}`)},x=(s==null?void 0:s.id)===e.id,v=(o==null?void 0:o.status)||"none",w=((_=o==null?void 0:o.connection)==null?void 0:_.requester_id)===(s==null?void 0:s.id),j=((S=o==null?void 0:o.connection)==null?void 0:S.addressee_id)===(s==null?void 0:s.id);return i.jsxs(be,{className:"w-full",children:[i.jsxs(mt,{className:"text-center",children:[i.jsxs(At,{className:"h-20 w-20 mx-auto mb-4 cursor-pointer hover:opacity-80 transition-opacity",onClick:y,children:[i.jsx(Ft,{src:e.avatar_url||""}),i.jsx(Ot,{className:"text-lg",children:h(e.name)})]}),i.jsx("h3",{className:"text-xl font-semibold cursor-pointer hover:text-primary transition-colors",onClick:y,children:e.name||"Usuario"}),i.jsx("div",{className:"flex justify-center gap-2 mt-2",children:(N=e.roles)==null?void 0:N.map(C=>i.jsx(Te,{className:p(C.name),children:C.name},C.id))}),e.location&&i.jsxs("div",{className:"flex items-center justify-center text-sm text-muted-foreground mt-2",children:[i.jsx(aa,{className:"h-4 w-4 mr-1"}),e.location]})]}),i.jsxs(we,{className:"space-y-4",children:[e.bio&&i.jsx("p",{className:"text-sm text-muted-foreground",children:e.bio}),e.skills&&e.skills.length>0&&i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-sm mb-2",children:"Habilidades"}),i.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.skills.slice(0,6).map((C,R)=>i.jsx(Te,{variant:"secondary",className:"text-xs",children:C},R)),e.skills.length>6&&i.jsxs(Te,{variant:"secondary",className:"text-xs",children:["+",e.skills.length-6," ms"]})]})]}),e.interests&&e.interests.length>0&&i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-sm mb-2",children:"Intereses"}),i.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.interests.slice(0,4).map((C,R)=>i.jsx(Te,{variant:"outline",className:"text-xs",children:C},R)),e.interests.length>4&&i.jsxs(Te,{variant:"outline",className:"text-xs",children:["+",e.interests.length-4," ms"]})]})]}),i.jsxs("div",{className:"flex gap-2 pt-2",children:[e.linkedin_url&&i.jsx(ts,{href:e.linkedin_url,target:"_blank",children:i.jsx(B,{variant:"outline",size:"sm",children:i.jsx(eC,{className:"h-4 w-4"})})}),e.website_url&&i.jsx(ts,{href:e.website_url,target:"_blank",children:i.jsx(B,{variant:"outline",size:"sm",children:i.jsx(P3,{className:"h-4 w-4"})})})]}),n&&!x&&i.jsxs("div",{className:"mt-4",children:[v==="none"&&i.jsxs(B,{onClick:b,disabled:c,className:"w-full",variant:"default",children:[i.jsx(Xa,{className:"h-4 w-4 mr-2"}),c?"Conectando...":"Conectar"]}),v==="pending"&&w&&i.jsxs(B,{variant:"secondary",disabled:!0,className:"w-full cursor-not-allowed",children:[i.jsx(lo,{className:"h-4 w-4 mr-2"}),"Solicitud enviada"]}),v==="pending"&&j&&i.jsxs(B,{onClick:g,disabled:d,className:"w-full",variant:"default",children:[i.jsx(hs,{className:"h-4 w-4 mr-2"}),d?"Aceptando...":"Aceptar solicitud"]}),v==="accepted"&&i.jsxs(B,{variant:"outline",disabled:!0,className:"w-full",children:[i.jsx(hs,{className:"h-4 w-4 mr-2"}),"Conectados"]})]}),t&&r&&i.jsxs(B,{onClick:r,className:"w-full mt-4",variant:"outline",children:[i.jsx(Iu,{className:"h-4 w-4 mr-2"}),"Iniciar Chat"]}),i.jsxs(B,{onClick:y,className:"w-full mt-2",variant:"outline",children:[i.jsx(ls,{className:"h-4 w-4 mr-2"}),"Ver Perfil"]}),i.jsxs("div",{className:"pt-2 border-t",children:[i.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[i.jsx("span",{children:"Perfil completado"}),i.jsxs("span",{children:[e.completed_pct,"%"]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-1",children:i.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${e.completed_pct}%`}})})]})]})]})}function HV({onUserSelect:e}){const[t,r]=m.useState(""),[n,s]=m.useState([]),[a,o]=m.useState(!1),[l,c]=m.useState(null),[u,d]=m.useState({role:"",location:"",skills:[]}),[f,h]=m.useState(""),[p,b]=m.useState(!1);m.useEffect(()=>{const w=setTimeout(async()=>{if(t.length>0||u.role||u.location||u.skills.length>0){o(!0),c(null);try{const j={role:u.role,location:u.location,skills:u.skills},{data:_,error:S}=await n6(t,j);S?(c("Error al buscar usuarios. Por favor, intenta de nuevo."),s([])):s(_)}catch{c("Error al buscar usuarios. Por favor, intenta de nuevo."),s([])}finally{o(!1)}}else s([]),c(null),o(!1)},500);return()=>clearTimeout(w)},[t,u.role,u.location,JSON.stringify(u.skills)]);const g=()=>{f.trim()&&!u.skills.includes(f.trim())&&(d(w=>({...w,skills:[...w.skills,f.trim()]})),h(""))},y=w=>{d(j=>({...j,skills:j.skills.filter(_=>_!==w)}))},x=()=>{d({role:"",location:"",skills:[]}),r(""),c(null),s([])},v=w=>{w.key==="Enter"&&(w.preventDefault(),g())};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs(be,{children:[i.jsx(mt,{children:i.jsxs(ht,{className:"flex items-center",children:[i.jsx(fs,{className:"h-5 w-5 mr-2"}),"Buscar en la Red"]})}),i.jsxs(we,{className:"space-y-4",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsx("div",{className:"flex-1",children:i.jsx(ye,{placeholder:"Buscar por nombre, biografa o habilidades...",value:t,onChange:w=>r(w.target.value)})}),i.jsxs(B,{variant:"outline",onClick:()=>b(!p),children:[i.jsx(R3,{className:"h-4 w-4 mr-2"}),"Filtros"]}),(t||u.role||u.location||u.skills.length>0)&&i.jsxs(B,{variant:"outline",onClick:x,children:[i.jsx(Or,{className:"h-4 w-4 mr-2"}),"Limpiar"]})]}),p&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 p-4 bg-gray-50 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"Rol"}),i.jsxs(ti,{value:u.role,onValueChange:w=>d(j=>({...j,role:w})),children:[i.jsx(ea,{children:i.jsx(ri,{placeholder:"Seleccionar rol"})}),i.jsxs(ta,{children:[i.jsx(tt,{value:"",children:"Todos los roles"}),i.jsx(tt,{value:"emprendedor",children:"Emprendedor"}),i.jsx(tt,{value:"mentor",children:"Mentor"}),i.jsx(tt,{value:"admin",children:"Admin"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"Ubicacin"}),i.jsx(ye,{placeholder:"Ciudad o regin",value:u.location,onChange:w=>d(j=>({...j,location:w.target.value}))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"Habilidades"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(ye,{placeholder:"Agregar habilidad",value:f,onChange:w=>h(w.target.value),onKeyPress:v}),i.jsx(B,{type:"button",size:"sm",onClick:g,children:"+"})]}),u.skills.length>0&&i.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:u.skills.map((w,j)=>i.jsxs(Te,{variant:"secondary",className:"flex items-center gap-1",children:[w,i.jsx(Or,{className:"h-3 w-3 cursor-pointer",onClick:()=>y(w)})]},j))})]})]})]})]}),a&&i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),i.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Buscando..."})]}),l&&i.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-xl",children:i.jsx("p",{className:"text-red-600 text-center",children:l})}),!a&&!l&&n.length===0&&(t||u.role||u.location||u.skills.length>0)&&i.jsxs("div",{className:"text-center py-12 text-gray-500",children:[i.jsx(fs,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"No se encontraron usuarios con esos criterios"}),i.jsx("p",{className:"text-sm mt-2",children:"Intenta con otros filtros o trminos de bsqueda"})]}),!a&&!l&&n.length===0&&!t&&!u.role&&!u.location&&u.skills.length===0&&i.jsxs("div",{className:"text-center py-12 text-gray-500",children:[i.jsx(Gr,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"Usa la barra de bsqueda para encontrar miembros de la red"}),i.jsx("p",{className:"text-sm mt-2",children:"Busca por nombre, habilidades o usa los filtros avanzados"})]}),!a&&n.length>0&&i.jsxs("div",{children:[i.jsx("div",{className:"flex justify-between items-center mb-4",children:i.jsxs("p",{className:"text-sm text-gray-600",children:[n.length," ",n.length===1?"resultado encontrado":"resultados encontrados"]})}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(w=>i.jsx(WV,{user:w,onStartChat:e?()=>e(w):void 0},w.id))})]})]})}const kl=(e,t)=>{const r=e!=null&&e.status?["connections",e.status]:["connections","all"];return Ut({queryKey:r,queryFn:async()=>(await Vl.getConnections(e)).connections,enabled:(t==null?void 0:t.enabled)!==!1,staleTime:120*1e3,gcTime:300*1e3})},Vx=()=>{const e=et(),t=lt({mutationFn:async r=>{await Vl.deleteConnection(r)},onSuccess:()=>{e.invalidateQueries({queryKey:["connections"]}),e.invalidateQueries({queryKey:["network-stats"]}),e.invalidateQueries({queryKey:["connection-status"]}),e.invalidateQueries({queryKey:["mutual-connections"]})}});return{action:t.mutate,isLoading:t.isPending,error:t.error,isSuccess:t.isSuccess,data:t.data}};function KV(){const{user:e}=Et(),t=vt(),{data:r,isLoading:n}=kl({status:"pending"}),{data:s,isLoading:a}=kl({status:"accepted"}),{action:o,isLoading:l}=zu(),{action:c,isLoading:u}=Vx(),d=m.useMemo(()=>(r==null?void 0:r.filter(({connection:_})=>_.addressee_id===(e==null?void 0:e.id)))||[],[r,e==null?void 0:e.id]),f=m.useMemo(()=>(r==null?void 0:r.filter(({connection:_})=>_.requester_id===(e==null?void 0:e.id)))||[],[r,e==null?void 0:e.id]),h=d.length,p=f.length,b=(s==null?void 0:s.length)||0,g=_=>{o({connection_id:_,status:"accepted"},{onSuccess:()=>{Kt({title:"Solicitud aceptada",description:"Has aceptado la solicitud de conexin"})},onError:S=>{Kt({title:"Error",description:S.message||"No se pudo aceptar la solicitud",variant:"destructive"})}})},y=_=>{o({connection_id:_,status:"rejected"},{onSuccess:()=>{Kt({title:"Solicitud rechazada",description:"Has rechazado la solicitud de conexin"})},onError:S=>{Kt({title:"Error",description:S.message||"No se pudo rechazar la solicitud",variant:"destructive"})}})},x=_=>{c(_,{onSuccess:()=>{Kt({title:"Solicitud cancelada",description:"Tu solicitud de conexin ha sido cancelada"})},onError:S=>{Kt({title:"Error",description:S.message||"No se pudo cancelar la solicitud",variant:"destructive"})}})},v=_=>{c(_,{onSuccess:()=>{Kt({title:"Conexin eliminada",description:"La conexin ha sido eliminada correctamente"})},onError:S=>{Kt({title:"Error",description:S.message||"No se pudo eliminar la conexin",variant:"destructive"})}})};function w({connectionWithUser:_,type:S}){var z,D,q,F;const{connection:N,user:C}=_,R=l||u,T=()=>{t(`/users/${C.id}`)};return i.jsx(be,{className:"hover:shadow-md transition-shadow cursor-pointer",children:i.jsx(we,{className:"p-6",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsxs(At,{className:"h-14 w-14 cursor-pointer",onClick:T,children:[i.jsx(Ft,{src:C.avatar_url||void 0,alt:C.name||""}),i.jsx(Ot,{className:"bg-gradient-to-br from-primary to-primary/80 text-white text-lg",children:((D=(z=C.name)==null?void 0:z.charAt(0))==null?void 0:D.toUpperCase())||((F=(q=C.email)==null?void 0:q.charAt(0))==null?void 0:F.toUpperCase())})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-base truncate cursor-pointer hover:text-primary transition-colors",onClick:T,children:C.name}),i.jsx("p",{className:"text-sm text-muted-foreground truncate",children:C.email}),C.bio&&i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mt-1",children:C.bio}),i.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:C.location&&i.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[i.jsx(aa,{className:"h-3 w-3"}),i.jsx("span",{children:C.location})]})}),i.jsxs("div",{className:"flex flex-wrap gap-2 mt-4",children:[S==="received"&&i.jsxs(i.Fragment,{children:[i.jsxs(B,{size:"sm",onClick:()=>g(N.id),disabled:R,className:"flex items-center gap-2",children:[l?i.jsx(_t,{className:"h-4 w-4 animate-spin"}):i.jsx(Ou,{className:"h-4 w-4"}),l?"Aceptando...":"Aceptar"]}),i.jsxs(B,{size:"sm",variant:"destructive",onClick:()=>y(N.id),disabled:R,className:"flex items-center gap-2",children:[i.jsx(Or,{className:"h-4 w-4"}),"Rechazar"]})]}),S==="sent"&&i.jsxs(i.Fragment,{children:[i.jsxs(Te,{variant:"secondary",className:"flex items-center gap-1",children:[i.jsx(lo,{className:"h-3 w-3"}),"Pendiente"]}),i.jsxs(B,{size:"sm",variant:"outline",onClick:()=>x(N.id),disabled:R,className:"flex items-center gap-2",children:[i.jsx(Or,{className:"h-4 w-4"}),"Cancelar"]})]}),S==="connected"&&i.jsxs(i.Fragment,{children:[i.jsxs(Te,{variant:"default",className:"flex items-center gap-1",children:[i.jsx(hs,{className:"h-3 w-3"}),"Conectado"]}),i.jsxs(B,{size:"sm",onClick:()=>t(`/messages/${C.id}`),className:"flex items-center gap-2",children:[i.jsx(lu,{className:"h-4 w-4"}),"Enviar mensaje"]}),i.jsxs(B,{size:"sm",variant:"ghost",onClick:()=>v(N.id),disabled:R,className:"flex items-center gap-2",children:[i.jsx($h,{className:"h-4 w-4"}),"Eliminar"]})]}),i.jsxs(B,{size:"sm",variant:"outline",onClick:T,className:"flex items-center gap-2",children:[i.jsx(ls,{className:"h-4 w-4"}),"Ver Perfil"]})]})]})]})})})}function j({icon:_,title:S,description:N}){return i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-muted mb-4",children:i.jsx(_,{className:"h-8 w-8 text-muted-foreground"})}),i.jsx("h3",{className:"font-semibold text-lg mb-2",children:S}),i.jsx("p",{className:"text-sm text-muted-foreground",children:N})]})}return i.jsxs(be,{className:"w-full",children:[i.jsx(mt,{children:i.jsx(ht,{className:"text-2xl",children:"Mis Conexiones"})}),i.jsx(we,{children:i.jsxs(Fu,{defaultValue:"received",children:[i.jsxs(zl,{className:"grid w-full grid-cols-3",children:[i.jsxs(qr,{value:"received",children:["Solicitudes recibidas (",h,")"]}),i.jsxs(qr,{value:"sent",children:["Solicitudes enviadas (",p,")"]}),i.jsxs(qr,{value:"connections",children:["Mis conexiones (",b,")"]})]}),i.jsx(An,{value:"received",className:"space-y-4 mt-6",children:n?i.jsx("div",{className:"text-center py-8",children:i.jsx(_t,{className:"h-8 w-8 animate-spin mx-auto text-muted-foreground"})}):d.length===0?i.jsx(j,{icon:ZE,title:"No tienes solicitudes recibidas",description:"Las solicitudes de conexin que recibas aparecern aqu"}):d.map(_=>i.jsx(w,{connectionWithUser:_,type:"received"},_.connection.id))}),i.jsx(An,{value:"sent",className:"space-y-4 mt-6",children:n?i.jsx("div",{className:"text-center py-8",children:i.jsx(_t,{className:"h-8 w-8 animate-spin mx-auto text-muted-foreground"})}):f.length===0?i.jsx(j,{icon:ax,title:"No has enviado solicitudes",description:"Busca usuarios y envales una solicitud de conexin"}):f.map(_=>i.jsx(w,{connectionWithUser:_,type:"sent"},_.connection.id))}),i.jsx(An,{value:"connections",className:"space-y-4 mt-6",children:a?i.jsx("div",{className:"text-center py-8",children:i.jsx(_t,{className:"h-8 w-8 animate-spin mx-auto text-muted-foreground"})}):b===0?i.jsx(j,{icon:Gr,title:"An no tienes conexiones",description:"Comienza a conectar con otros miembros de Espaa Creativa"}):s==null?void 0:s.map(_=>i.jsx(w,{connectionWithUser:_,type:"connected"},_.connection.id))})]})})]})}const GV=e=>Ut({queryKey:["network-stats"],queryFn:async()=>(await Vl.getNetworkStats()).stats,enabled:(e==null?void 0:e.enabled)!==!1,staleTime:300*1e3,gcTime:600*1e3});var QV="Separator",Oj="horizontal",JV=["horizontal","vertical"],kP=m.forwardRef((e,t)=>{const{decorative:r,orientation:n=Oj,...s}=e,a=YV(n)?n:Oj,l=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return i.jsx(de.div,{"data-orientation":a,...l,...s,ref:t})});kP.displayName=QV;function YV(e){return JV.includes(e)}var RP=kP;const Ga=m.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},s)=>i.jsx(RP,{ref:s,decorative:r,orientation:t,className:te("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));Ga.displayName=RP.displayName;function cc({icon:e,label:t,count:r,isLoading:n,href:s}){const a=i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 rounded-lg bg-muted flex items-center justify-center group-hover:bg-primary/10 transition-colors",children:i.jsx(e,{className:"h-4 w-4 text-muted-foreground group-hover:text-primary transition-colors"})}),i.jsx("span",{className:"text-sm font-medium text-foreground",children:t})]}),n?i.jsx(dr,{className:"h-5 w-12"}):i.jsx("span",{className:"text-sm font-semibold text-foreground",children:(r==null?void 0:r.toLocaleString("es-ES"))||0})]}),o="w-full flex items-center justify-between py-3 px-2 rounded-lg hover:bg-muted/50 transition-colors text-left group";return s?i.jsx(ts,{to:s,className:o,children:a}):i.jsx("button",{className:o,disabled:!0,children:a})}function XV(){const{data:e,isLoading:t}=GV(),r=e?(e.pending_requests||0)+(e.sent_requests||0):void 0;return i.jsxs(be,{className:"sticky top-4",children:[i.jsx(mt,{className:"pb-3",children:i.jsx(ht,{className:"text-lg",children:"Gestionar mi red"})}),i.jsx(Ga,{}),i.jsx(we,{className:"pt-2 pb-4",children:i.jsxs("div",{className:"space-y-1",children:[i.jsx(cc,{icon:Gr,label:"Mi red",count:e==null?void 0:e.total_connections,isLoading:t,href:"/network/my-network"}),i.jsx(cc,{icon:Xa,label:"Siguiendo y seguidores",count:r,isLoading:t,href:"/network/followers"}),i.jsx(cc,{icon:Gr,label:"Grupos",count:0,isLoading:!1}),i.jsx(cc,{icon:Js,label:"Eventos",count:0,isLoading:!1}),i.jsx(cc,{icon:Lh,label:"Newsletters",count:0,isLoading:!1})]})})]})}class lf extends m.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("ErrorBoundary caught an error:",t,r)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:i.jsx("div",{className:"max-w-md w-full bg-white rounded-lg shadow-md p-6 text-center",children:i.jsxs("div",{className:"mb-4",children:[i.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),i.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Ha ocurrido un error"}),i.jsx("p",{className:"text-gray-600 mb-4",children:"Algo sali mal. Por favor, recarga la pgina para continuar."}),i.jsx("button",{onClick:()=>window.location.reload(),className:"bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary/80 transition-colors",children:"Recargar pgina"})]})})}):this.props.children}}function ZV(){return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted",children:[i.jsx(Hr,{}),i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[i.jsx("div",{className:"mb-8",children:i.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary to-emerald-600 rounded-xl flex items-center justify-center",children:i.jsx(Gr,{className:"h-6 w-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Mi Red"}),i.jsx("p",{className:"text-muted-foreground",children:"Conecta con emprendedores y mentores de Espaa Creativa"})]})]})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[i.jsxs(be,{children:[i.jsxs(mt,{children:[i.jsxs(ht,{className:"flex items-center",children:[i.jsx(fs,{className:"h-5 w-5 mr-2"}),"Buscar Miembros"]}),i.jsx(ur,{children:"Encuentra emprendedores, mentores y colaboradores por nombre, ubicacin o habilidades"})]}),i.jsx(we,{children:i.jsx(lf,{children:i.jsx(HV,{})})})]}),i.jsx(lf,{children:i.jsx(KV,{})})]}),i.jsx("div",{className:"lg:col-span-1",children:i.jsx(lf,{children:i.jsx(XV,{})})})]})]})]})}function e8(){const e=vt(),{data:t,isLoading:r}=kl({status:"accepted"}),{action:n,isLoading:s}=Vx(),a=(t==null?void 0:t.length)||0,o=u=>{n(u,{onSuccess:()=>{Kt({title:"Conexin eliminada",description:"La conexin ha sido eliminada correctamente"})},onError:d=>{Kt({title:"Error",description:d.message||"No se pudo eliminar la conexin",variant:"destructive"})}})};function l({connectionWithUser:u}){var p,b,g,y;const{connection:d,user:f}=u,h=()=>{e(`/users/${f.id}`)};return i.jsx(be,{className:"hover:shadow-md transition-shadow",children:i.jsx(we,{className:"p-6",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsxs(At,{className:"h-14 w-14 cursor-pointer",onClick:h,children:[i.jsx(Ft,{src:f.avatar_url||void 0,alt:f.name||""}),i.jsx(Ot,{className:"bg-gradient-to-br from-primary to-primary/80 text-white text-lg",children:((b=(p=f.name)==null?void 0:p.charAt(0))==null?void 0:b.toUpperCase())||((y=(g=f.email)==null?void 0:g.charAt(0))==null?void 0:y.toUpperCase())})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-base truncate cursor-pointer hover:text-primary transition-colors",onClick:h,children:f.name}),i.jsx("p",{className:"text-sm text-muted-foreground truncate",children:f.email}),f.bio&&i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mt-1",children:f.bio}),i.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:f.location&&i.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[i.jsx(aa,{className:"h-3 w-3"}),i.jsx("span",{children:f.location})]})}),i.jsxs("div",{className:"flex flex-wrap gap-2 mt-4",children:[i.jsxs(Te,{variant:"default",className:"flex items-center gap-1",children:[i.jsx(hs,{className:"h-3 w-3"}),"Conectado"]}),i.jsxs(B,{size:"sm",variant:"ghost",onClick:()=>o(d.id),disabled:s,className:"flex items-center gap-2",children:[i.jsx($h,{className:"h-4 w-4"}),"Eliminar"]}),i.jsxs(B,{size:"sm",variant:"outline",onClick:h,className:"flex items-center gap-2",children:[i.jsx(ls,{className:"h-4 w-4"}),"Ver Perfil"]})]})]})]})})})}function c(){return i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-muted mb-4",children:i.jsx(Gr,{className:"h-8 w-8 text-muted-foreground"})}),i.jsx("h3",{className:"font-semibold text-lg mb-2",children:"An no tienes conexiones"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Comienza a conectar con otros miembros de Espaa Creativa"}),i.jsx(B,{onClick:()=>e("/network"),children:"Buscar miembros"})]})}return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted",children:[i.jsx(Hr,{}),i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs(B,{variant:"ghost",size:"sm",onClick:()=>e("/network"),className:"mb-4 flex items-center gap-2",children:[i.jsx(In,{className:"h-4 w-4"}),"Volver a Red"]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary to-emerald-600 rounded-xl flex items-center justify-center",children:i.jsx(Gr,{className:"h-6 w-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Mi Red"}),i.jsxs("p",{className:"text-muted-foreground",children:["Todas tus conexiones activas (",a,")"]})]})]})]}),i.jsxs(be,{className:"w-full",children:[i.jsxs(mt,{children:[i.jsx(ht,{className:"text-2xl",children:"Mis Conexiones"}),i.jsx(ur,{children:"Gestiona tus contactos y mantente en contacto con la comunidad"})]}),i.jsx(we,{children:r?i.jsx("div",{className:"text-center py-8",children:i.jsx(_t,{className:"h-8 w-8 animate-spin mx-auto text-muted-foreground"})}):a===0?i.jsx(c,{}):i.jsx("div",{className:"space-y-4",children:t==null?void 0:t.map(u=>i.jsx(l,{connectionWithUser:u},u.connection.id))})})]})]})]})}function t8(){const e=vt(),{user:t}=Et(),{data:r,isLoading:n}=kl({status:"pending"}),{action:s,isLoading:a}=zu(),{action:o,isLoading:l}=Vx(),c=m.useMemo(()=>(r==null?void 0:r.filter(({connection:x})=>x.addressee_id===(t==null?void 0:t.id)))||[],[r,t==null?void 0:t.id]),u=m.useMemo(()=>(r==null?void 0:r.filter(({connection:x})=>x.requester_id===(t==null?void 0:t.id)))||[],[r,t==null?void 0:t.id]),d=c.length,f=u.length,h=x=>{s({connection_id:x,status:"accepted"},{onSuccess:()=>{Kt({title:"Solicitud aceptada",description:"Has aceptado la solicitud de conexin"})},onError:v=>{Kt({title:"Error",description:v.message||"No se pudo aceptar la solicitud",variant:"destructive"})}})},p=x=>{s({connection_id:x,status:"rejected"},{onSuccess:()=>{Kt({title:"Solicitud rechazada",description:"Has rechazado la solicitud de conexin"})},onError:v=>{Kt({title:"Error",description:v.message||"No se pudo rechazar la solicitud",variant:"destructive"})}})},b=x=>{o(x,{onSuccess:()=>{Kt({title:"Solicitud cancelada",description:"Tu solicitud de conexin ha sido cancelada"})},onError:v=>{Kt({title:"Error",description:v.message||"No se pudo cancelar la solicitud",variant:"destructive"})}})};function g({connectionWithUser:x,type:v}){var N,C,R,T;const{connection:w,user:j}=x,_=a||l,S=()=>{e(`/users/${j.id}`)};return i.jsx(be,{className:"hover:shadow-md transition-shadow",children:i.jsx(we,{className:"p-6",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsxs(At,{className:"h-14 w-14 cursor-pointer",onClick:S,children:[i.jsx(Ft,{src:j.avatar_url||void 0,alt:j.name||""}),i.jsx(Ot,{className:"bg-gradient-to-br from-primary to-primary/80 text-white text-lg",children:((C=(N=j.name)==null?void 0:N.charAt(0))==null?void 0:C.toUpperCase())||((T=(R=j.email)==null?void 0:R.charAt(0))==null?void 0:T.toUpperCase())})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-base truncate cursor-pointer hover:text-primary transition-colors",onClick:S,children:j.name}),i.jsx("p",{className:"text-sm text-muted-foreground truncate",children:j.email}),j.bio&&i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mt-1",children:j.bio}),i.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:j.location&&i.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[i.jsx(aa,{className:"h-3 w-3"}),i.jsx("span",{children:j.location})]})}),i.jsxs("div",{className:"flex flex-wrap gap-2 mt-4",children:[v==="received"&&i.jsxs(i.Fragment,{children:[i.jsxs(B,{size:"sm",onClick:()=>h(w.id),disabled:_,className:"flex items-center gap-2",children:[a?i.jsx(_t,{className:"h-4 w-4 animate-spin"}):i.jsx(Ou,{className:"h-4 w-4"}),a?"Aceptando...":"Aceptar"]}),i.jsxs(B,{size:"sm",variant:"destructive",onClick:()=>p(w.id),disabled:_,className:"flex items-center gap-2",children:[i.jsx(Or,{className:"h-4 w-4"}),"Rechazar"]})]}),v==="sent"&&i.jsxs(i.Fragment,{children:[i.jsxs(Te,{variant:"secondary",className:"flex items-center gap-1",children:[i.jsx(lo,{className:"h-3 w-3"}),"Pendiente"]}),i.jsxs(B,{size:"sm",variant:"outline",onClick:()=>b(w.id),disabled:_,className:"flex items-center gap-2",children:[i.jsx(Or,{className:"h-4 w-4"}),"Cancelar"]})]}),i.jsxs(B,{size:"sm",variant:"outline",onClick:S,className:"flex items-center gap-2",children:[i.jsx(ls,{className:"h-4 w-4"}),"Ver Perfil"]})]})]})]})})})}function y({icon:x,title:v,description:w}){return i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-muted mb-4",children:i.jsx(x,{className:"h-8 w-8 text-muted-foreground"})}),i.jsx("h3",{className:"font-semibold text-lg mb-2",children:v}),i.jsx("p",{className:"text-sm text-muted-foreground",children:w})]})}return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted",children:[i.jsx(Hr,{}),i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs(B,{variant:"ghost",size:"sm",onClick:()=>e("/network"),className:"mb-4 flex items-center gap-2",children:[i.jsx(In,{className:"h-4 w-4"}),"Volver a Red"]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary to-emerald-600 rounded-xl flex items-center justify-center",children:i.jsx(Xa,{className:"h-6 w-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Siguiendo y Seguidores"}),i.jsx("p",{className:"text-muted-foreground",children:"Gestiona tus solicitudes de conexin pendientes"})]})]})]}),i.jsxs(be,{className:"w-full",children:[i.jsxs(mt,{children:[i.jsx(ht,{className:"text-2xl",children:"Solicitudes de Conexin"}),i.jsx(ur,{children:"Revisa las solicitudes recibidas y las que has enviado"})]}),i.jsx(we,{children:i.jsxs(Fu,{defaultValue:"received",children:[i.jsxs(zl,{className:"grid w-full grid-cols-2",children:[i.jsxs(qr,{value:"received",children:["Recibidas (",d,")"]}),i.jsxs(qr,{value:"sent",children:["Enviadas (",f,")"]})]}),i.jsx(An,{value:"received",className:"space-y-4 mt-6",children:n?i.jsx("div",{className:"text-center py-8",children:i.jsx(_t,{className:"h-8 w-8 animate-spin mx-auto text-muted-foreground"})}):c.length===0?i.jsx(y,{icon:ZE,title:"No tienes solicitudes recibidas",description:"Las solicitudes de conexin que recibas aparecern aqu"}):c.map(x=>i.jsx(g,{connectionWithUser:x,type:"received"},x.connection.id))}),i.jsx(An,{value:"sent",className:"space-y-4 mt-6",children:n?i.jsx("div",{className:"text-center py-8",children:i.jsx(_t,{className:"h-8 w-8 animate-spin mx-auto text-muted-foreground"})}):u.length===0?i.jsx(y,{icon:ax,title:"No has enviado solicitudes",description:"Busca usuarios y envales una solicitud de conexin"}):u.map(x=>i.jsx(g,{connectionWithUser:x,type:"sent"},x.connection.id))})]})})]})]})]})}const PP=e=>Ut({queryKey:["conversations"],queryFn:async()=>await Kl.getConversations(),enabled:(e==null?void 0:e.enabled)!==!1,staleTime:60*1e3,gcTime:300*1e3});function Qt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function r8(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const Od=43200,Ij=1440;let n8={};function s8(){return n8}function Mj(e){const t=Qt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function cf(e,t){const r=Qt(e),n=Qt(t),s=r.getTime()-n.getTime();return s<0?-1:s>0?1:s}function a8(e){return r8(e,Date.now())}function i8(e,t){const r=Qt(e),n=Qt(t),s=r.getFullYear()-n.getFullYear(),a=r.getMonth()-n.getMonth();return s*12+a}function o8(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function l8(e,t){return+Qt(e)-+Qt(t)}function c8(e){const t=Qt(e);return t.setHours(23,59,59,999),t}function u8(e){const t=Qt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function d8(e){const t=Qt(e);return+c8(t)==+u8(t)}function f8(e,t){const r=Qt(e),n=Qt(t),s=cf(r,n),a=Math.abs(i8(r,n));let o;if(a<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*a);let l=cf(r,n)===-s;d8(Qt(e))&&a===1&&cf(e,n)===1&&(l=!1),o=s*(a-Number(l))}return o===0?0:o}function h8(e,t,r){const n=l8(e,t)/1e3;return o8(r==null?void 0:r.roundingMethod)(n)}const m8={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},p8=(e,t,r)=>{let n;const s=m8[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Jo(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const g8={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},v8={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},y8={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},x8={date:Jo({formats:g8,defaultWidth:"full"}),time:Jo({formats:v8,defaultWidth:"full"}),dateTime:Jo({formats:y8,defaultWidth:"full"})},w8={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},b8=(e,t,r,n)=>w8[e];function rs(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return s[a]}}const j8={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},_8={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},S8={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},N8={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},E8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},C8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},k8=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},R8={ordinalNumber:k8,era:rs({values:j8,defaultWidth:"wide"}),quarter:rs({values:_8,defaultWidth:"wide",argumentCallback:e=>e-1}),month:rs({values:S8,defaultWidth:"wide"}),day:rs({values:N8,defaultWidth:"wide"}),dayPeriod:rs({values:E8,defaultWidth:"wide",formattingValues:C8,defaultFormattingWidth:"wide"})};function ns(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(s);if(!a)return null;const o=a[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?T8(l,f=>f.test(o)):P8(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function P8(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function T8(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function TP(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(s.length);return{value:o,rest:l}}}const A8=/^(\d+)(th|st|nd|rd)?/i,O8=/\d+/i,I8={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},M8={any:[/^b/i,/^(a|c)/i]},D8={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},L8={any:[/1/i,/2/i,/3/i,/4/i]},$8={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},F8={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},U8={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},z8={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},B8={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},V8={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},q8={ordinalNumber:TP({matchPattern:A8,parsePattern:O8,valueCallback:e=>parseInt(e,10)}),era:ns({matchPatterns:I8,defaultMatchWidth:"wide",parsePatterns:M8,defaultParseWidth:"any"}),quarter:ns({matchPatterns:D8,defaultMatchWidth:"wide",parsePatterns:L8,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ns({matchPatterns:$8,defaultMatchWidth:"wide",parsePatterns:F8,defaultParseWidth:"any"}),day:ns({matchPatterns:U8,defaultMatchWidth:"wide",parsePatterns:z8,defaultParseWidth:"any"}),dayPeriod:ns({matchPatterns:B8,defaultMatchWidth:"any",parsePatterns:V8,defaultParseWidth:"any"})},W8={code:"en-US",formatDistance:p8,formatLong:x8,formatRelative:b8,localize:R8,match:q8,options:{weekStartsOn:0,firstWeekContainsDate:1}};function H8(e,t,r){const n=s8(),s=(r==null?void 0:r.locale)??n.locale??W8,a=2520,o=cf(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,u;o>0?(c=Qt(t),u=Qt(e)):(c=Qt(e),u=Qt(t));const d=h8(u,c),f=(Mj(u)-Mj(c))/1e3,h=Math.round((d-f)/60);let p;if(h<2)return r!=null&&r.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,l):d<10?s.formatDistance("lessThanXSeconds",10,l):d<20?s.formatDistance("lessThanXSeconds",20,l):d<40?s.formatDistance("halfAMinute",0,l):d<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):h===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",h,l);if(h<45)return s.formatDistance("xMinutes",h,l);if(h<90)return s.formatDistance("aboutXHours",1,l);if(h<Ij){const b=Math.round(h/60);return s.formatDistance("aboutXHours",b,l)}else{if(h<a)return s.formatDistance("xDays",1,l);if(h<Od){const b=Math.round(h/Ij);return s.formatDistance("xDays",b,l)}else if(h<Od*2)return p=Math.round(h/Od),s.formatDistance("aboutXMonths",p,l)}if(p=f8(u,c),p<12){const b=Math.round(h/Od);return s.formatDistance("xMonths",b,l)}else{const b=p%12,g=Math.trunc(p/12);return b<3?s.formatDistance("aboutXYears",g,l):b<9?s.formatDistance("overXYears",g,l):s.formatDistance("almostXYears",g+1,l)}}function lm(e,t){return H8(e,a8(e),t)}const K8={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},G8=(e,t,r)=>{let n;const s=K8[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"en "+n:"hace "+n:n},Q8={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},J8={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Y8={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},X8={date:Jo({formats:Q8,defaultWidth:"full"}),time:Jo({formats:J8,defaultWidth:"full"}),dateTime:Jo({formats:Y8,defaultWidth:"full"})},Z8={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},eq={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},tq=(e,t,r,n)=>t.getHours()!==1?eq[e]:Z8[e],rq={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},nq={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},sq={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},aq={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},iq={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},oq={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},lq=(e,t)=>Number(e)+"",cq={ordinalNumber:lq,era:rs({values:rq,defaultWidth:"wide"}),quarter:rs({values:nq,defaultWidth:"wide",argumentCallback:e=>Number(e)-1}),month:rs({values:sq,defaultWidth:"wide"}),day:rs({values:aq,defaultWidth:"wide"}),dayPeriod:rs({values:iq,defaultWidth:"wide",formattingValues:oq,defaultFormattingWidth:"wide"})},uq=/^(\d+)()?/i,dq=/\d+/i,fq={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},hq={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},mq={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},pq={any:[/1/i,/2/i,/3/i,/4/i]},gq={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},vq={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},yq={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},xq={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},wq={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},bq={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},jq={ordinalNumber:TP({matchPattern:uq,parsePattern:dq,valueCallback:function(e){return parseInt(e,10)}}),era:ns({matchPatterns:fq,defaultMatchWidth:"wide",parsePatterns:hq,defaultParseWidth:"any"}),quarter:ns({matchPatterns:mq,defaultMatchWidth:"wide",parsePatterns:pq,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ns({matchPatterns:gq,defaultMatchWidth:"wide",parsePatterns:vq,defaultParseWidth:"any"}),day:ns({matchPatterns:yq,defaultMatchWidth:"wide",parsePatterns:xq,defaultParseWidth:"any"}),dayPeriod:ns({matchPatterns:wq,defaultMatchWidth:"any",parsePatterns:bq,defaultParseWidth:"any"})},cm={code:"es",formatDistance:G8,formatLong:X8,formatRelative:tq,localize:cq,match:jq,options:{weekStartsOn:1,firstWeekContainsDate:1}};function Dj({onSelectConversation:e,selectedUserId:t}){const{data:r,isLoading:n,error:s,refetch:a}=PP();return n?i.jsx("div",{className:"space-y-2",children:[1,2,3].map(o=>i.jsx(be,{children:i.jsx(we,{className:"p-4",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(dr,{className:"h-12 w-12 rounded-full"}),i.jsxs("div",{className:"flex-1 space-y-2",children:[i.jsx(dr,{className:"h-4 w-24"}),i.jsx(dr,{className:"h-3 w-full"}),i.jsx(dr,{className:"h-3 w-16"})]})]})})},o))}):s?i.jsxs(Qh,{variant:"destructive",className:"m-4",children:[i.jsx(Gf,{className:"h-4 w-4"}),i.jsxs(Jh,{className:"flex flex-col gap-2",children:[i.jsx("p",{className:"text-sm",children:"Error al cargar conversaciones"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:s.message}),i.jsxs(B,{variant:"outline",size:"sm",onClick:()=>a(),className:"w-fit",children:[i.jsx($3,{className:"h-4 w-4 mr-2"}),"Reintentar"]})]})]}):!r||r.conversations.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center",children:[i.jsx(Iu,{className:"h-12 w-12 text-muted-foreground mb-4"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"No tienes conversaciones an"})]}):i.jsx("div",{className:"space-y-2",children:r.conversations.map(o=>{var u,d;const l=t===o.user.id,c=lm(new Date(o.last_message.created_at),{addSuffix:!0,locale:cm});return i.jsx(be,{className:`cursor-pointer transition-colors hover:bg-accent ${l?"bg-accent border-primary":""}`,onClick:()=>e==null?void 0:e(o.user.id),children:i.jsx(we,{className:"p-4",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsxs(At,{className:"h-12 w-12",children:[i.jsx(Ft,{src:o.user.avatar_url||void 0,alt:o.user.name}),i.jsx(Ot,{children:(d=(u=o.user.name)==null?void 0:u.charAt(0))==null?void 0:d.toUpperCase()})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[i.jsx("h4",{className:"font-semibold text-sm truncate",children:o.user.name}),o.unread_count>0&&i.jsx(Te,{variant:"default",className:"shrink-0",children:o.unread_count})]}),i.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2 mb-1",children:o.last_message.content}),i.jsx("p",{className:"text-xs text-muted-foreground",children:c})]})]})})},o.user.id)})})}function _q(e,t){return m.useReducer((r,n)=>t[r][n]??r,e)}var qx="ScrollArea",[AP]=gr(qx),[Sq,fn]=AP(qx),OP=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:a=600,...o}=e,[l,c]=m.useState(null),[u,d]=m.useState(null),[f,h]=m.useState(null),[p,b]=m.useState(null),[g,y]=m.useState(null),[x,v]=m.useState(0),[w,j]=m.useState(0),[_,S]=m.useState(!1),[N,C]=m.useState(!1),R=Re(t,z=>c(z)),T=Lu(s);return i.jsx(Sq,{scope:r,type:n,dir:T,scrollHideDelay:a,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:p,onScrollbarXChange:b,scrollbarXEnabled:_,onScrollbarXEnabledChange:S,scrollbarY:g,onScrollbarYChange:y,scrollbarYEnabled:N,onScrollbarYEnabledChange:C,onCornerWidthChange:v,onCornerHeightChange:j,children:i.jsx(de.div,{dir:T,...o,ref:R,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});OP.displayName=qx;var IP="ScrollAreaViewport",MP=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:s,...a}=e,o=fn(IP,r),l=m.useRef(null),c=Re(t,l,o.onViewportChange);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),i.jsx(de.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:i.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});MP.displayName=IP;var ws="ScrollAreaScrollbar",Wx=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=fn(ws,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=s,l=e.orientation==="horizontal";return m.useEffect(()=>(l?a(!0):o(!0),()=>{l?a(!1):o(!1)}),[l,a,o]),s.type==="hover"?i.jsx(Nq,{...n,ref:t,forceMount:r}):s.type==="scroll"?i.jsx(Eq,{...n,ref:t,forceMount:r}):s.type==="auto"?i.jsx(DP,{...n,ref:t,forceMount:r}):s.type==="always"?i.jsx(Hx,{...n,ref:t}):null});Wx.displayName=ws;var Nq=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=fn(ws,e.__scopeScrollArea),[a,o]=m.useState(!1);return m.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),i.jsx(vr,{present:r||a,children:i.jsx(DP,{"data-state":a?"visible":"hidden",...n,ref:t})})}),Eq=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=fn(ws,e.__scopeScrollArea),a=e.orientation==="horizontal",o=dm(()=>c("SCROLL_END"),100),[l,c]=_q("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return m.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),m.useEffect(()=>{const u=s.viewport,d=a?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const p=u[d];f!==p&&(c("SCROLL"),o()),f=p};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[s.viewport,a,c,o]),i.jsx(vr,{present:r||l!=="hidden",children:i.jsx(Hx,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:X(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:X(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),DP=m.forwardRef((e,t)=>{const r=fn(ws,e.__scopeScrollArea),{forceMount:n,...s}=e,[a,o]=m.useState(!1),l=e.orientation==="horizontal",c=dm(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:d)}},10);return Rl(r.viewport,c),Rl(r.content,c),i.jsx(vr,{present:n||a,children:i.jsx(Hx,{"data-state":a?"visible":"hidden",...s,ref:t})})}),Hx=m.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,s=fn(ws,e.__scopeScrollArea),a=m.useRef(null),o=m.useRef(0),[l,c]=m.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=zP(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>a.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,p){return Aq(h,o.current,l,p)}return r==="horizontal"?i.jsx(Cq,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const h=s.viewport.scrollLeft,p=Lj(h,l,s.dir);a.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollLeft=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollLeft=f(h,s.dir))}}):r==="vertical"?i.jsx(kq,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const h=s.viewport.scrollTop,p=Lj(h,l);a.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollTop=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollTop=f(h))}}):null}),Cq=m.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,a=fn(ws,e.__scopeScrollArea),[o,l]=m.useState(),c=m.useRef(null),u=Re(t,c,a.onScrollbarXChange);return m.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx($P,{"data-orientation":"horizontal",...s,ref:u,sizes:r,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":um(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(a.viewport){const h=a.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),VP(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:ih(o.paddingLeft),paddingEnd:ih(o.paddingRight)}})}})}),kq=m.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,a=fn(ws,e.__scopeScrollArea),[o,l]=m.useState(),c=m.useRef(null),u=Re(t,c,a.onScrollbarYChange);return m.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx($P,{"data-orientation":"vertical",...s,ref:u,sizes:r,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":um(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(a.viewport){const h=a.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),VP(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:ih(o.paddingTop),paddingEnd:ih(o.paddingBottom)}})}})}),[Rq,LP]=AP(ws),$P=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,p=fn(ws,r),[b,g]=m.useState(null),y=Re(t,R=>g(R)),x=m.useRef(null),v=m.useRef(""),w=p.viewport,j=n.content-n.viewport,_=bt(d),S=bt(c),N=dm(f,10);function C(R){if(x.current){const T=R.clientX-x.current.left,z=R.clientY-x.current.top;u({x:T,y:z})}}return m.useEffect(()=>{const R=T=>{const z=T.target;(b==null?void 0:b.contains(z))&&_(T,j)};return document.addEventListener("wheel",R,{passive:!1}),()=>document.removeEventListener("wheel",R,{passive:!1})},[w,b,j,_]),m.useEffect(S,[n,S]),Rl(b,N),Rl(p.content,N),i.jsx(Rq,{scope:r,scrollbar:b,hasThumb:s,onThumbChange:bt(a),onThumbPointerUp:bt(o),onThumbPositionChange:S,onThumbPointerDown:bt(l),children:i.jsx(de.div,{...h,ref:y,style:{position:"absolute",...h.style},onPointerDown:X(e.onPointerDown,R=>{R.button===0&&(R.target.setPointerCapture(R.pointerId),x.current=b.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),C(R))}),onPointerMove:X(e.onPointerMove,C),onPointerUp:X(e.onPointerUp,R=>{const T=R.target;T.hasPointerCapture(R.pointerId)&&T.releasePointerCapture(R.pointerId),document.body.style.webkitUserSelect=v.current,p.viewport&&(p.viewport.style.scrollBehavior=""),x.current=null})})})}),ah="ScrollAreaThumb",FP=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=LP(ah,e.__scopeScrollArea);return i.jsx(vr,{present:r||s.hasThumb,children:i.jsx(Pq,{ref:t,...n})})}),Pq=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...s}=e,a=fn(ah,r),o=LP(ah,r),{onThumbPositionChange:l}=o,c=Re(t,f=>o.onThumbChange(f)),u=m.useRef(void 0),d=dm(()=>{u.current&&(u.current(),u.current=void 0)},100);return m.useEffect(()=>{const f=a.viewport;if(f){const h=()=>{if(d(),!u.current){const p=Oq(f,l);u.current=p,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[a.viewport,d,l]),i.jsx(de.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:X(e.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),b=f.clientX-p.left,g=f.clientY-p.top;o.onThumbPointerDown({x:b,y:g})}),onPointerUp:X(e.onPointerUp,o.onThumbPointerUp)})});FP.displayName=ah;var Kx="ScrollAreaCorner",UP=m.forwardRef((e,t)=>{const r=fn(Kx,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?i.jsx(Tq,{...e,ref:t}):null});UP.displayName=Kx;var Tq=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,s=fn(Kx,r),[a,o]=m.useState(0),[l,c]=m.useState(0),u=!!(a&&l);return Rl(s.scrollbarX,()=>{var f;const d=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),Rl(s.scrollbarY,()=>{var f;const d=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(d),o(d)}),u?i.jsx(de.div,{...n,ref:t,style:{width:a,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function ih(e){return e?parseInt(e,10):0}function zP(e,t){const r=e/t;return isNaN(r)?0:r}function um(e){const t=zP(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function Aq(e,t,r,n="ltr"){const s=um(r),a=s/2,o=t||a,l=s-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return BP([c,u],f)(e)}function Lj(e,t,r="ltr"){const n=um(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-s,o=t.content-t.viewport,l=a-n,c=r==="ltr"?[0,o]:[o*-1,0],u=xv(e,c);return BP([0,o],[0,l])(u)}function BP(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function VP(e,t){return e>0&&e<t}var Oq=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return(function s(){const a={left:e.scrollLeft,top:e.scrollTop},o=r.left!==a.left,l=r.top!==a.top;(o||l)&&t(),r=a,n=window.requestAnimationFrame(s)})(),()=>window.cancelAnimationFrame(n)};function dm(e,t){const r=bt(e),n=m.useRef(0);return m.useEffect(()=>()=>window.clearTimeout(n.current),[]),m.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Rl(e,t){const r=bt(t);Nt(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}var qP=OP,Iq=MP,Mq=UP;const WP=m.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(qP,{ref:n,className:te("relative overflow-hidden",e),...r,children:[i.jsx(Iq,{className:"h-full w-full rounded-[inherit]",children:t}),i.jsx(HP,{}),i.jsx(Mq,{})]}));WP.displayName=qP.displayName;const HP=m.forwardRef(({className:e,orientation:t="vertical",...r},n)=>i.jsx(Wx,{ref:n,orientation:t,className:te("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:i.jsx(FP,{className:"relative flex-1 rounded-full bg-border"})}));HP.displayName=Wx.displayName;const Dq=()=>{const e=et(),t=lt({mutationFn:async r=>{await Kl.deleteMessage(r)},onSuccess:()=>{e.invalidateQueries({queryKey:["conversations"]}),e.invalidateQueries({queryKey:["conversation-messages"]})}});return{action:t.mutate,isLoading:t.isPending,error:t.error,isSuccess:t.isSuccess,data:t.data}};function Lq({message:e,currentUserId:t,showActions:r=!1}){var u,d;const{action:n,isLoading:s}=Dq(),a=e.sender_id===t,o=e.sender,l=()=>{confirm("Ests seguro de que quieres eliminar este mensaje?")&&n(e.id)},c=lm(new Date(e.created_at),{addSuffix:!0,locale:cm});return i.jsxs("div",{className:`flex gap-3 ${a?"flex-row-reverse":"flex-row"}`,children:[i.jsxs(At,{className:"h-8 w-8 shrink-0",children:[i.jsx(Ft,{src:o.avatar_url||void 0,alt:o.name}),i.jsx(Ot,{children:(d=(u=o.name)==null?void 0:u.charAt(0))==null?void 0:d.toUpperCase()})]}),i.jsxs("div",{className:`flex flex-col gap-1 max-w-[70%] ${a?"items-end":"items-start"}`,children:[i.jsx("div",{className:`rounded-lg px-4 py-2 ${a?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"}`,children:i.jsx("p",{className:"text-sm whitespace-pre-wrap break-words",children:e.content})}),i.jsxs("div",{className:"flex items-center gap-2 px-1",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:c}),a&&e.read_at&&i.jsx("p",{className:"text-xs text-muted-foreground",children:" Ledo"}),r&&a&&i.jsx(B,{variant:"ghost",size:"sm",onClick:l,disabled:s,className:"h-6 px-2",children:i.jsx($h,{className:"h-3 w-3"})})]})]})]})}const $q=()=>{const e=et(),t=lt({mutationFn:async r=>{console.log("[useMarkAsReadMutation] Sending request:",r);const n=await Kl.markAsRead(r);return console.log("[useMarkAsReadMutation] Response:",n),n},onSuccess:r=>{console.log("[useMarkAsReadMutation] Success! Updated count:",r.updated_count),e.invalidateQueries({queryKey:["conversations"]}),e.invalidateQueries({queryKey:["conversation-messages"]}),e.invalidateQueries({queryKey:["unread-count"]}),console.log("[useMarkAsReadMutation] Queries invalidated")},onError:r=>{console.error("[useMarkAsReadMutation] Error marking messages as read:",r)}});return{action:t.mutate,isLoading:t.isPending,error:t.error,isSuccess:t.isSuccess,data:t.data}};function $j({userId:e,messages:t,isLoading:r,error:n}){const{user:s}=Et(),a=m.useRef(null),o=m.useRef(null),{action:l}=$q(),[c,u]=m.useState(!1),d=m.useRef(t.length);m.useEffect(()=>{if(!o.current||!a.current)return;const h=a.current.querySelector("[data-radix-scroll-area-viewport]");if(!h){o.current.scrollIntoView({behavior:"smooth"});return}const p=h.scrollHeight-h.scrollTop-h.clientHeight<100;t.length!==d.current&&(p?(o.current.scrollIntoView({behavior:"smooth"}),u(!1)):u(!0),d.current=t.length)},[t]);const f=()=>{o.current&&(o.current.scrollIntoView({behavior:"smooth"}),u(!1))};return m.useEffect(()=>{if(!e||!t||t.length===0)return;const h=t.filter(p=>p.recipient_id===(s==null?void 0:s.id)&&p.sender_id===e&&!p.read_at);if(console.log("[MessagesList] Checking unread messages:",{userId:e,currentUserId:s==null?void 0:s.id,totalMessages:t.length,unreadCount:h.length,unreadMessageIds:h.map(p=>p.id)}),h.length>0){const p=h.map(b=>b.id);console.log("[MessagesList] Marking messages as read:",p),l({message_ids:p})}},[e,t,s==null?void 0:s.id,l]),r?i.jsx("div",{className:"p-4 space-y-4",children:[1,2,3,4].map(h=>i.jsxs("div",{className:`flex gap-3 ${h%2===0?"flex-row-reverse":"flex-row"}`,children:[i.jsx(dr,{className:"h-8 w-8 rounded-full shrink-0"}),i.jsxs("div",{className:"flex flex-col gap-1 max-w-[70%]",children:[i.jsx(dr,{className:"h-16 w-48 rounded-lg"}),i.jsx(dr,{className:"h-3 w-24"})]})]},h))}):n?i.jsx("div",{className:"flex flex-col items-center justify-center h-full p-8",children:i.jsxs(Qh,{variant:"destructive",children:[i.jsx(Gf,{className:"h-4 w-4"}),i.jsxs(Jh,{className:"flex flex-col gap-2",children:[i.jsx("p",{className:"text-sm font-medium",children:"Error al cargar mensajes"}),i.jsx("p",{className:"text-xs",children:n.message})]})]})}):!t||t.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-8 text-center",children:[i.jsx(Iu,{className:"h-12 w-12 text-muted-foreground mb-4"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"No hay mensajes an. S el primero en enviar un mensaje!"})]}):i.jsxs("div",{className:"relative h-full",children:[i.jsx(WP,{className:"h-full",ref:a,children:i.jsxs("div",{className:"p-4 space-y-4",children:[t.map(h=>i.jsx(Lq,{message:h,currentUserId:(s==null?void 0:s.id)||"",showActions:!0},h.id)),i.jsx("div",{ref:o})]})}),c&&i.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2",children:i.jsxs(B,{onClick:f,size:"sm",className:"shadow-lg",children:[i.jsx(N3,{className:"h-4 w-4 mr-2"}),"Nuevos mensajes"]})})]})}const ni=m.forwardRef(({className:e,...t},r)=>i.jsx("textarea",{className:te("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));ni.displayName="Textarea";const Fq=()=>{const e=et(),t=lt({mutationFn:async r=>(await Kl.sendMessage(r)).message,onMutate:async r=>{var a;await e.cancelQueries({queryKey:["conversation-messages",r.recipient_id]});const n=["conversation-messages",r.recipient_id],s=e.getQueryData(n);if(s){const o={id:`temp-${Date.now()}`,content:r.content,sender_id:"",recipient_id:r.recipient_id,created_at:new Date().toISOString(),read_at:null,sender:{id:"",name:"Enviando...",email:"",avatar_url:null,headline:null,bio:null,location:null,website:null,linkedin_url:null,twitter_url:null,github_url:null,skills:[],interests:[],completed_pct:0,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),status:"pending_approval",approved_at:null,role:"user"},recipient:((a=s.messages[0])==null?void 0:a.recipient)||{id:r.recipient_id,name:"",email:"",avatar_url:null,headline:null,bio:null,location:null,website:null,linkedin_url:null,twitter_url:null,github_url:null,skills:[],interests:[],completed_pct:0,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),status:"pending_approval",approved_at:null,role:"user"}};e.setQueryData(["conversation-messages",r.recipient_id],{messages:[...s.messages,o]})}return{previousMessages:s}},onError:(r,n,s)=>{s!=null&&s.previousMessages&&e.setQueryData(["conversation-messages",n.recipient_id],s.previousMessages)},onSuccess:(r,n)=>{e.invalidateQueries({queryKey:["conversations"]}),e.invalidateQueries({queryKey:["conversation-messages",n.recipient_id]}),e.invalidateQueries({queryKey:["unread-count"]})}});return{action:t.mutate,isLoading:t.isPending,error:t.error,isSuccess:t.isSuccess,data:t.data}},Fj=5e3;function Uj({recipientId:e,onMessageSent:t}){const[r,n]=m.useState(""),{action:s,isLoading:a}=Fq(),o=async d=>{d.preventDefault(),!(!r.trim()||a)&&s({recipient_id:e,content:r.trim()},{onSuccess:()=>{n(""),t==null||t()}})},l=d=>{d.key==="Enter"&&!d.shiftKey&&(d.preventDefault(),o(d))},c=Fj-r.length,u=c<0;return i.jsxs("form",{onSubmit:o,className:"space-y-2",children:[i.jsxs("div",{className:"relative",children:[i.jsx(ni,{value:r,onChange:d=>n(d.target.value),onKeyDown:l,placeholder:"Escribe un mensaje...",className:"min-h-[100px] resize-none pr-20",disabled:a,maxLength:Fj}),i.jsx("div",{className:"absolute bottom-2 right-2",children:i.jsx("span",{className:`text-xs ${u?"text-destructive font-semibold":c<100?"text-warning":"text-muted-foreground"}`,children:c})})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:"Presiona Enter para enviar, Shift+Enter para nueva lnea"}),i.jsx(B,{type:"submit",disabled:!r.trim()||a||u,size:"sm",children:a?i.jsxs(i.Fragment,{children:[i.jsx(_t,{className:"h-4 w-4 mr-2 animate-spin"}),"Enviando..."]}):i.jsxs(i.Fragment,{children:[i.jsx(ax,{className:"h-4 w-4 mr-2"}),"Enviar"]})})]})]})}function Uq({children:e}){const[t,r]=m.useState(!1),[n,s]=m.useState(""),a=vt(),{data:o,isLoading:l}=kl({status:"accepted"},{enabled:t}),c=o==null?void 0:o.filter(d=>d.user.name.toLowerCase().includes(n.toLowerCase())),u=d=>{r(!1),s(""),a(`/messages/${d}`)};return i.jsxs(Ys,{open:t,onOpenChange:r,children:[i.jsx(IC,{asChild:!0,children:e||i.jsxs(B,{children:[i.jsx(Ji,{className:"h-4 w-4 mr-2"}),"Nuevo mensaje"]})}),i.jsxs(ms,{className:"sm:max-w-[500px]",children:[i.jsxs(ps,{children:[i.jsx(gs,{children:"Nueva conversacin"}),i.jsx(vs,{children:"Selecciona una persona de tu red para iniciar una conversacin"})]}),i.jsxs("div",{className:"relative",children:[i.jsx(fs,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),i.jsx(ye,{placeholder:"Buscar en tu red...",className:"pl-10",value:n,onChange:d=>s(d.target.value)})]}),i.jsx("div",{className:"h-[400px] overflow-y-auto pr-4",children:l?i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsx("p",{className:"text-sm text-muted-foreground",children:"Cargando..."})}):c&&c.length>0?i.jsx("div",{className:"space-y-2",children:c.map(d=>{var f,h;return i.jsxs("div",{onClick:()=>u(d.user.id),className:"w-full flex items-center space-x-3 p-3 rounded-lg hover:bg-accent transition-colors cursor-pointer",role:"button",tabIndex:0,onKeyDown:p=>{(p.key==="Enter"||p.key===" ")&&(p.preventDefault(),u(d.user.id))},children:[i.jsxs(At,{className:"h-10 w-10",children:[i.jsx(Ft,{src:d.user.avatar_url||void 0,alt:d.user.name}),i.jsx(Ot,{children:(h=(f=d.user.name)==null?void 0:f.charAt(0))==null?void 0:h.toUpperCase()})]}),i.jsxs("div",{className:"flex-1 text-left",children:[i.jsx("p",{className:"font-medium text-sm",children:d.user.name}),i.jsx("p",{className:"text-xs text-muted-foreground",children:d.user.headline||"Miembro de Espaa Creativa"})]})]},d.user.id)})}):n?i.jsxs("div",{className:"flex flex-col items-center justify-center py-8 space-y-3",children:[i.jsx(fs,{className:"h-12 w-12 text-muted-foreground"}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:['No se encontraron resultados para "',n,'"']})]}):i.jsxs("div",{className:"flex flex-col items-center justify-center py-8 space-y-3",children:[i.jsx(Xa,{className:"h-12 w-12 text-muted-foreground"}),i.jsxs("div",{className:"text-center space-y-1",children:[i.jsx("p",{className:"text-sm font-medium",children:"No tienes conexiones an"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Conctate con otros miembros para empezar a chatear"})]}),i.jsx(B,{variant:"outline",size:"sm",onClick:()=>{r(!1),a("/network")},children:"Explorar red"})]})})]})]})}const zq=(e,t)=>Ut({queryKey:["conversation-messages",e.user_id,e.limit,e.offset],queryFn:async()=>await Kl.getConversationMessages(e),enabled:(t==null?void 0:t.enabled)!==!1&&!!e.user_id,staleTime:30*1e3,gcTime:300*1e3});function Bq(){const e=et(),{user:t}=Et();m.useEffect(()=>{if(!(t!=null&&t.id))return;const r=nr.channel("conversations-realtime").on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`recipient_id=eq.${t.id}`},()=>{e.invalidateQueries({queryKey:["conversations"]})}).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`sender_id=eq.${t.id}`},()=>{e.invalidateQueries({queryKey:["conversations"]})}).subscribe();return()=>{nr.removeChannel(r)}},[t==null?void 0:t.id,e])}function Vq(e){const t=et(),{user:r}=Et();m.useEffect(()=>{if(!(r!=null&&r.id)||!e)return;const n=nr.channel(`messages-${e}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`recipient_id=eq.${r.id},sender_id=eq.${e}`},()=>{t.invalidateQueries({queryKey:["conversation-messages",e]}),t.invalidateQueries({queryKey:["unread-count"]})}).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`sender_id=eq.${r.id},recipient_id=eq.${e}`},()=>{t.invalidateQueries({queryKey:["conversation-messages",e]})}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"messages",filter:`recipient_id=eq.${r.id},sender_id=eq.${e}`},()=>{t.invalidateQueries({queryKey:["conversation-messages",e]}),t.invalidateQueries({queryKey:["unread-count"]})}).subscribe();return()=>{nr.removeChannel(n)}},[r==null?void 0:r.id,e,t])}function zj(){var f,h,p,b,g;const{userId:e}=Nu(),t=vt(),[r,n]=m.useState("");Bq(),Vq(e),VR();const{data:s}=PP(),{data:a}=zq({user_id:e||""},{enabled:!!e}),{data:o}=kl({status:"accepted"},{enabled:!!e}),l=s==null?void 0:s.conversations.find(y=>y.user.id===e),c=(l==null?void 0:l.user)||(a!=null&&a.messages.length?a.messages[0].sender.id===e?a.messages[0].sender:a.messages[0].recipient:null)||((f=o==null?void 0:o.find(y=>y.user.id===e))==null?void 0:f.user)||null,u=y=>{t(`/messages/${y}`)},d=()=>{t("/messages")};return s==null||s.conversations.filter(y=>y.user.name.toLowerCase().includes(r.toLowerCase())),i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted",children:[i.jsx(Hr,{}),i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[i.jsx("div",{className:"mb-8",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary to-emerald-600 rounded-xl flex items-center justify-center",children:i.jsx(lu,{className:"h-6 w-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Mensajes"}),i.jsx("p",{className:"text-muted-foreground",children:"Chatea con otros miembros de la comunidad"})]})]}),i.jsx(Uq,{})]})}),i.jsxs("div",{className:"hidden lg:grid lg:grid-cols-3 gap-6 h-[calc(100vh-200px)]",children:[i.jsxs(be,{className:"lg:col-span-1 flex flex-col",children:[i.jsxs(mt,{children:[i.jsx(ht,{className:"text-lg",children:"Conversaciones"}),i.jsxs("div",{className:"relative",children:[i.jsx(fs,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),i.jsx(ye,{placeholder:"Buscar conversaciones...",className:"pl-10",value:r,onChange:y=>n(y.target.value)})]})]}),i.jsx(we,{className:"flex-1 overflow-y-auto p-4",children:i.jsx(Dj,{onSelectConversation:u,selectedUserId:e})})]}),i.jsx(be,{className:"lg:col-span-2 flex flex-col",children:e?i.jsxs(i.Fragment,{children:[i.jsx(mt,{className:"border-b",children:i.jsx("div",{className:"flex items-center space-x-3",children:c?i.jsxs(i.Fragment,{children:[i.jsxs(At,{className:"h-10 w-10",children:[i.jsx(Ft,{src:c.avatar_url||void 0,alt:c.name}),i.jsx(Ot,{children:(p=(h=c.name)==null?void 0:h.charAt(0))==null?void 0:p.toUpperCase()})]}),i.jsxs("div",{children:[i.jsx(ht,{className:"text-lg",children:c.name}),i.jsx(ur,{children:c.headline||"Miembro de Espaa Creativa"})]})]}):i.jsxs("div",{children:[i.jsx(ht,{className:"text-lg",children:"Nueva conversacin"}),i.jsx(ur,{children:"Cargando informacin..."})]})})}),i.jsx(we,{className:"flex-1 overflow-hidden p-0",children:i.jsx($j,{userId:e,messages:(a==null?void 0:a.messages)||[]})}),i.jsx(we,{className:"border-t p-4",children:i.jsx(Uj,{recipientId:e})})]}):i.jsx(we,{className:"flex items-center justify-center h-full",children:i.jsxs("div",{className:"text-center",children:[i.jsx(lu,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"Selecciona una conversacin para empezar a chatear"})]})})})]}),i.jsx("div",{className:"lg:hidden",children:e?i.jsx(be,{className:"min-h-[calc(100vh-200px)] flex flex-col",children:i.jsxs(i.Fragment,{children:[i.jsx(mt,{className:"border-b",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(B,{variant:"ghost",size:"sm",onClick:d,className:"mr-2",children:i.jsx(In,{className:"h-4 w-4"})}),c?i.jsxs(i.Fragment,{children:[i.jsxs(At,{className:"h-10 w-10",children:[i.jsx(Ft,{src:c.avatar_url||void 0,alt:c.name}),i.jsx(Ot,{children:(g=(b=c.name)==null?void 0:b.charAt(0))==null?void 0:g.toUpperCase()})]}),i.jsxs("div",{children:[i.jsx(ht,{className:"text-lg",children:c.name}),i.jsx(ur,{children:c.headline||"Miembro de Espaa Creativa"})]})]}):i.jsxs("div",{children:[i.jsx(ht,{className:"text-lg",children:"Nueva conversacin"}),i.jsx(ur,{children:"Cargando informacin..."})]})]})}),i.jsx(we,{className:"flex-1 overflow-hidden p-0",children:i.jsx($j,{userId:e,messages:(a==null?void 0:a.messages)||[]})}),i.jsx(we,{className:"border-t p-4",children:i.jsx(Uj,{recipientId:e})})]})}):i.jsxs(be,{children:[i.jsxs(mt,{children:[i.jsx(ht,{className:"text-lg",children:"Conversaciones"}),i.jsxs("div",{className:"relative",children:[i.jsx(fs,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),i.jsx(ye,{placeholder:"Buscar conversaciones...",className:"pl-10",value:r,onChange:y=>n(y.target.value)})]})]}),i.jsx(we,{className:"p-4",children:i.jsx(Dj,{onSelectConversation:u,selectedUserId:e})})]})})]})]})}const fm=sa(["proyecto","colaboracion","empleo","mentoria","evento","otro"]),Gx=sa(["abierta","en_progreso","cerrada","cancelada"]),Qx=G({id:CE([P(),Ae()]).transform(e=>String(e)),title:P(),description:P(),type:fm,status:Gx,skills_required:We(P()),created_by:P().uuid(),location:P().nullish(),remote:dn(),duration:P().nullish(),compensation:P().nullish(),created_at:P(),updated_at:P()}),KP=Qx.extend({creator:G({id:P().uuid(),name:P(),avatar_url:P().nullable().optional(),professional_title:P().nullable().optional()})}),GP=G({title:P().min(5,"El ttulo debe tener al menos 5 caracteres").max(100,"El ttulo no puede superar 100 caracteres"),description:P().min(20,"La descripcin debe tener al menos 20 caracteres").max(2e3,"La descripcin no puede superar 2000 caracteres"),type:fm,skills_required:We(P()).min(1,"Debes especificar al menos una habilidad"),location:P().max(100).nullable().optional(),remote:dn().default(!1),duration:P().max(100).nullable().optional(),compensation:P().max(200).nullable().optional()});G({title:P().min(5).max(100).optional(),description:P().min(20).max(2e3).optional(),type:fm.optional(),status:Gx.optional(),skills_required:We(P()).min(1).optional(),location:P().max(100).nullable().optional(),remote:dn().optional(),duration:P().max(100).nullable().optional(),compensation:P().max(200).nullable().optional()});G({type:fm.optional(),status:Gx.optional(),skills:We(P()).optional(),remote:dn().optional(),search:P().optional()});const qq=G({opportunity:KP}),Bj=G({opportunities:We(KP),total:Ae()}),Wq=G({opportunity:Qx}),Hq=G({opportunity:Qx}),Wu={async getOpportunities(e){var r;const t=await xe.get("/opportunities",{params:{type:e==null?void 0:e.type,status:e==null?void 0:e.status,skills:(r=e==null?void 0:e.skills)==null?void 0:r.join(","),remote:e==null?void 0:e.remote,search:e==null?void 0:e.search}});return Bj.parse(t.data)},async getOpportunity(e){const t=await xe.get(`/opportunities/${e}`);return qq.parse(t.data)},async getMyOpportunities(){const e=await xe.get("/opportunities/my");return Bj.parse(e.data)},async createOpportunity(e){const t=await xe.post("/opportunities",e);return Wq.parse(t.data)},async updateOpportunity(e,t){const r=await xe.put(`/opportunities/${e}`,t);return Hq.parse(r.data)},async deleteOpportunity(e){await xe.delete(`/opportunities/${e}`)}},Kq=(e,t)=>Ut({queryKey:["opportunities",e||{}],queryFn:async()=>await Wu.getOpportunities(e),enabled:(t==null?void 0:t.enabled)!==!1,staleTime:120*1e3,gcTime:300*1e3}),Gq=e=>Ut({queryKey:["my-opportunities"],queryFn:async()=>await Wu.getMyOpportunities(),enabled:(e==null?void 0:e.enabled)!==!1,staleTime:120*1e3,gcTime:300*1e3});var Hu=e=>e.type==="checkbox",Ci=e=>e instanceof Date,Sr=e=>e==null;const QP=e=>typeof e=="object";var Tt=e=>!Sr(e)&&!Array.isArray(e)&&QP(e)&&!Ci(e),JP=e=>Tt(e)&&e.target?Hu(e.target)?e.target.checked:e.target.value:e,Qq=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,YP=(e,t)=>e.has(Qq(t)),Jq=e=>{const t=e.constructor&&e.constructor.prototype;return Tt(t)&&t.hasOwnProperty("isPrototypeOf")},Jx=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Mt(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(Jx&&(e instanceof Blob||n))&&(r||Tt(e)))if(t=r?[]:Object.create(Object.getPrototypeOf(e)),!r&&!Jq(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=Mt(e[s]));else return e;return t}var hm=e=>/^\w*$/.test(e),wt=e=>e===void 0,Yx=e=>Array.isArray(e)?e.filter(Boolean):[],Xx=e=>Yx(e.replace(/["|']|\]/g,"").split(/\.|\[/)),re=(e,t,r)=>{if(!t||!Tt(e))return r;const n=(hm(t)?[t]:Xx(t)).reduce((s,a)=>Sr(s)?s:s[a],e);return wt(n)||n===e?wt(e[t])?r:e[t]:n},Lr=e=>typeof e=="boolean",Qe=(e,t,r)=>{let n=-1;const s=hm(t)?[t]:Xx(t),a=s.length,o=a-1;for(;++n<a;){const l=s[n];let c=r;if(n!==o){const u=e[l];c=Tt(u)||Array.isArray(u)?u:isNaN(+s[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const oh={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},kn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Es={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Zx=U.createContext(null);Zx.displayName="HookFormContext";const mm=()=>U.useContext(Zx),Yq=e=>{const{children:t,...r}=e;return U.createElement(Zx.Provider,{value:r},t)};var XP=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(s,a,{get:()=>{const o=a;return t._proxyFormState[o]!==kn.all&&(t._proxyFormState[o]=!n||kn.all),r&&(r[o]=!0),e[o]}});return s};const ew=typeof window<"u"?U.useLayoutEffect:U.useEffect;function Xq(e){const t=mm(),{control:r=t.control,disabled:n,name:s,exact:a}=e||{},[o,l]=U.useState(r._formState),c=U.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return ew(()=>r._subscribe({name:s,formState:c.current,exact:a,callback:u=>{!n&&l({...r._formState,...u})}}),[s,n,a]),U.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),U.useMemo(()=>XP(o,r,c.current,!1),[o,r])}var zr=e=>typeof e=="string",ZP=(e,t,r,n,s)=>zr(e)?(n&&t.watch.add(e),re(r,e,s)):Array.isArray(e)?e.map(a=>(n&&t.watch.add(a),re(r,a))):(n&&(t.watchAll=!0),r),Nv=e=>Sr(e)||!QP(e);function $s(e,t,r=new WeakSet){if(Nv(e)||Nv(t))return e===t;if(Ci(e)&&Ci(t))return e.getTime()===t.getTime();const n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const a of n){const o=e[a];if(!s.includes(a))return!1;if(a!=="ref"){const l=t[a];if(Ci(o)&&Ci(l)||Tt(o)&&Tt(l)||Array.isArray(o)&&Array.isArray(l)?!$s(o,l,r):o!==l)return!1}}return!0}function Zq(e){const t=mm(),{control:r=t.control,name:n,defaultValue:s,disabled:a,exact:o,compute:l}=e||{},c=U.useRef(s),u=U.useRef(l),d=U.useRef(void 0);u.current=l;const f=U.useMemo(()=>r._getWatch(n,c.current),[r,n]),[h,p]=U.useState(u.current?u.current(f):f);return ew(()=>r._subscribe({name:n,formState:{values:!0},exact:o,callback:b=>{if(!a){const g=ZP(n,r._names,b.values||r._formValues,!1,c.current);if(u.current){const y=u.current(g);$s(y,d.current)||(p(y),d.current=y)}else p(g)}}}),[r,a,n,o]),U.useEffect(()=>r._removeUnmounted()),h}function eW(e){const t=mm(),{name:r,disabled:n,control:s=t.control,shouldUnregister:a,defaultValue:o}=e,l=YP(s._names.array,r),c=U.useMemo(()=>re(s._formValues,r,re(s._defaultValues,r,o)),[s,r,o]),u=Zq({control:s,name:r,defaultValue:c,exact:!0}),d=Xq({control:s,name:r,exact:!0}),f=U.useRef(e),h=U.useRef(void 0),p=U.useRef(s.register(r,{...e.rules,value:u,...Lr(e.disabled)?{disabled:e.disabled}:{}}));f.current=e;const b=U.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!re(d.errors,r)},isDirty:{enumerable:!0,get:()=>!!re(d.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!re(d.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!re(d.validatingFields,r)},error:{enumerable:!0,get:()=>re(d.errors,r)}}),[d,r]),g=U.useCallback(w=>p.current.onChange({target:{value:JP(w),name:r},type:oh.CHANGE}),[r]),y=U.useCallback(()=>p.current.onBlur({target:{value:re(s._formValues,r),name:r},type:oh.BLUR}),[r,s._formValues]),x=U.useCallback(w=>{const j=re(s._fields,r);j&&w&&(j._f.ref={focus:()=>w.focus&&w.focus(),select:()=>w.select&&w.select(),setCustomValidity:_=>w.setCustomValidity(_),reportValidity:()=>w.reportValidity()})},[s._fields,r]),v=U.useMemo(()=>({name:r,value:u,...Lr(n)||d.disabled?{disabled:d.disabled||n}:{},onChange:g,onBlur:y,ref:x}),[r,n,d.disabled,g,y,x,u]);return U.useEffect(()=>{const w=s._options.shouldUnregister||a,j=h.current;j&&j!==r&&!l&&s.unregister(j),s.register(r,{...f.current.rules,...Lr(f.current.disabled)?{disabled:f.current.disabled}:{}});const _=(S,N)=>{const C=re(s._fields,S);C&&C._f&&(C._f.mount=N)};if(_(r,!0),w){const S=Mt(re(s._options.defaultValues,r,f.current.defaultValue));Qe(s._defaultValues,r,S),wt(re(s._formValues,r))&&Qe(s._formValues,r,S)}return!l&&s.register(r),h.current=r,()=>{(l?w&&!s._state.action:w)?s.unregister(r):_(r,!1)}},[r,s,l,a]),U.useEffect(()=>{s._setDisabledField({disabled:n,name:r})},[n,r,s]),U.useMemo(()=>({field:v,formState:d,fieldState:b}),[v,d,b])}const tW=e=>e.render(eW(e));var eT=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},Mc=e=>Array.isArray(e)?e:[e],Vj=()=>{let e=[];return{get observers(){return e},next:s=>{for(const a of e)a.next&&a.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(a=>a!==s)}}),unsubscribe:()=>{e=[]}}};function tT(e,t){const r={};for(const n in e)if(e.hasOwnProperty(n)){const s=e[n],a=t[n];if(s&&Tt(s)&&a){const o=tT(s,a);Tt(o)&&(r[n]=o)}else e[n]&&(r[n]=a)}return r}var jr=e=>Tt(e)&&!Object.keys(e).length,tw=e=>e.type==="file",Rn=e=>typeof e=="function",lh=e=>{if(!Jx)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},rT=e=>e.type==="select-multiple",rw=e=>e.type==="radio",rW=e=>rw(e)||Hu(e),Sp=e=>lh(e)&&e.isConnected;function nW(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=wt(e)?n++:e[t[n++]];return e}function sW(e){for(const t in e)if(e.hasOwnProperty(t)&&!wt(e[t]))return!1;return!0}function Ct(e,t){const r=Array.isArray(t)?t:hm(t)?[t]:Xx(t),n=r.length===1?e:nW(e,r),s=r.length-1,a=r[s];return n&&delete n[a],s!==0&&(Tt(n)&&jr(n)||Array.isArray(n)&&sW(n))&&Ct(e,r.slice(0,-1)),e}var aW=e=>{for(const t in e)if(Rn(e[t]))return!0;return!1};function nT(e){return Array.isArray(e)||Tt(e)&&!aW(e)}function Ev(e,t={}){for(const r in e)nT(e[r])?(t[r]=Array.isArray(e[r])?[]:{},Ev(e[r],t[r])):wt(e[r])||(t[r]=!0);return t}function Co(e,t,r){r||(r=Ev(t));for(const n in e)nT(e[n])?wt(t)||Nv(r[n])?r[n]=Ev(e[n],Array.isArray(e[n])?[]:{}):Co(e[n],Sr(t)?{}:t[n],r[n]):r[n]=!$s(e[n],t[n]);return r}const qj={value:!1,isValid:!1},Wj={value:!0,isValid:!0};var sT=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!wt(e[0].attributes.value)?wt(e[0].value)||e[0].value===""?Wj:{value:e[0].value,isValid:!0}:Wj:qj}return qj},aT=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>wt(e)?e:t?e===""?NaN:e&&+e:r&&zr(e)?new Date(e):n?n(e):e;const Hj={isValid:!1,value:null};var iT=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,Hj):Hj;function Kj(e){const t=e.ref;return tw(t)?t.files:rw(t)?iT(e.refs).value:rT(t)?[...t.selectedOptions].map(({value:r})=>r):Hu(t)?sT(e.refs).value:aT(wt(t.value)?e.ref.value:t.value,e)}var iW=(e,t,r,n)=>{const s={};for(const a of e){const o=re(t,a);o&&Qe(s,a,o._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},ch=e=>e instanceof RegExp,uc=e=>wt(e)?e:ch(e)?e.source:Tt(e)?ch(e.value)?e.value.source:e.value:e,Gj=e=>({isOnSubmit:!e||e===kn.onSubmit,isOnBlur:e===kn.onBlur,isOnChange:e===kn.onChange,isOnAll:e===kn.all,isOnTouch:e===kn.onTouched});const Qj="AsyncFunction";var oW=e=>!!e&&!!e.validate&&!!(Rn(e.validate)&&e.validate.constructor.name===Qj||Tt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===Qj)),lW=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),Jj=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Dc=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const a=re(e,s);if(a){const{_f:o,...l}=a;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],s)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(Dc(l,t))break}else if(Tt(l)&&Dc(l,t))break}}};function Yj(e,t,r){const n=re(e,r);if(n||hm(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const a=s.join("."),o=re(t,a),l=re(e,a);if(o&&!Array.isArray(o)&&r!==a)return{name:r};if(l&&l.type)return{name:a,error:l};if(l&&l.root&&l.root.type)return{name:`${a}.root`,error:l.root};s.pop()}return{name:r}}var cW=(e,t,r,n)=>{r(e);const{name:s,...a}=e;return jr(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(o=>t[o]===(!n||kn.all))},uW=(e,t,r)=>!e||!t||e===t||Mc(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),dW=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,fW=(e,t)=>!Yx(re(e,t)).length&&Ct(e,t),hW=(e,t,r)=>{const n=Mc(re(e,r));return Qe(n,"root",t[r]),Qe(e,r,n),e};function Xj(e,t,r="validate"){if(zr(e)||Array.isArray(e)&&e.every(zr)||Lr(e)&&!e)return{type:r,message:zr(e)?e:"",ref:t}}var jo=e=>Tt(e)&&!ch(e)?e:{value:e,message:""},Zj=async(e,t,r,n,s,a)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:p,validate:b,name:g,valueAsNumber:y,mount:x}=e._f,v=re(r,g);if(!x||t.has(g))return{};const w=l?l[0]:o,j=D=>{s&&w.reportValidity&&(w.setCustomValidity(Lr(D)?"":D||""),w.reportValidity())},_={},S=rw(o),N=Hu(o),C=S||N,R=(y||tw(o))&&wt(o.value)&&wt(v)||lh(o)&&o.value===""||v===""||Array.isArray(v)&&!v.length,T=eT.bind(null,g,n,_),z=(D,q,F,M=Es.maxLength,V=Es.minLength)=>{const Z=D?q:F;_[g]={type:D?M:V,message:Z,ref:o,...T(D?M:V,Z)}};if(a?!Array.isArray(v)||!v.length:c&&(!C&&(R||Sr(v))||Lr(v)&&!v||N&&!sT(l).isValid||S&&!iT(l).isValid)){const{value:D,message:q}=zr(c)?{value:!!c,message:c}:jo(c);if(D&&(_[g]={type:Es.required,message:q,ref:w,...T(Es.required,q)},!n))return j(q),_}if(!R&&(!Sr(f)||!Sr(h))){let D,q;const F=jo(h),M=jo(f);if(!Sr(v)&&!isNaN(v)){const V=o.valueAsNumber||v&&+v;Sr(F.value)||(D=V>F.value),Sr(M.value)||(q=V<M.value)}else{const V=o.valueAsDate||new Date(v),Z=H=>new Date(new Date().toDateString()+" "+H),I=o.type=="time",A=o.type=="week";zr(F.value)&&v&&(D=I?Z(v)>Z(F.value):A?v>F.value:V>new Date(F.value)),zr(M.value)&&v&&(q=I?Z(v)<Z(M.value):A?v<M.value:V<new Date(M.value))}if((D||q)&&(z(!!D,F.message,M.message,Es.max,Es.min),!n))return j(_[g].message),_}if((u||d)&&!R&&(zr(v)||a&&Array.isArray(v))){const D=jo(u),q=jo(d),F=!Sr(D.value)&&v.length>+D.value,M=!Sr(q.value)&&v.length<+q.value;if((F||M)&&(z(F,D.message,q.message),!n))return j(_[g].message),_}if(p&&!R&&zr(v)){const{value:D,message:q}=jo(p);if(ch(D)&&!v.match(D)&&(_[g]={type:Es.pattern,message:q,ref:o,...T(Es.pattern,q)},!n))return j(q),_}if(b){if(Rn(b)){const D=await b(v,r),q=Xj(D,w);if(q&&(_[g]={...q,...T(Es.validate,q.message)},!n))return j(q.message),_}else if(Tt(b)){let D={};for(const q in b){if(!jr(D)&&!n)break;const F=Xj(await b[q](v,r),w,q);F&&(D={...F,...T(q,F.message)},j(F.message),n&&(_[g]=D))}if(!jr(D)&&(_[g]={ref:w,...D},!n))return _}}return j(!0),_};const mW={mode:kn.onSubmit,reValidateMode:kn.onChange,shouldFocusError:!0};function pW(e={}){let t={...mW,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Rn(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},s=Tt(t.defaultValues)||Tt(t.values)?Mt(t.defaultValues||t.values)||{}:{},a=t.shouldUnregister?{}:Mt(s),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:Vj(),state:Vj()},p=t.criteriaMode===kn.all,b=k=>O=>{clearTimeout(u),u=setTimeout(k,O)},g=async k=>{if(!t.disabled&&(d.isValid||f.isValid||k)){const O=t.resolver?jr((await N()).errors):await R(n,!0);O!==r.isValid&&h.state.next({isValid:O})}},y=(k,O)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((k||Array.from(l.mount)).forEach($=>{$&&(O?Qe(r.validatingFields,$,O):Ct(r.validatingFields,$))}),h.state.next({validatingFields:r.validatingFields,isValidating:!jr(r.validatingFields)}))},x=(k,O=[],$,ee,Y=!0,Q=!0)=>{if(ee&&$&&!t.disabled){if(o.action=!0,Q&&Array.isArray(re(n,k))){const oe=$(re(n,k),ee.argA,ee.argB);Y&&Qe(n,k,oe)}if(Q&&Array.isArray(re(r.errors,k))){const oe=$(re(r.errors,k),ee.argA,ee.argB);Y&&Qe(r.errors,k,oe),fW(r.errors,k)}if((d.touchedFields||f.touchedFields)&&Q&&Array.isArray(re(r.touchedFields,k))){const oe=$(re(r.touchedFields,k),ee.argA,ee.argB);Y&&Qe(r.touchedFields,k,oe)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=Co(s,a)),h.state.next({name:k,isDirty:z(k,O),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Qe(a,k,O)},v=(k,O)=>{Qe(r.errors,k,O),h.state.next({errors:r.errors})},w=k=>{r.errors=k,h.state.next({errors:r.errors,isValid:!1})},j=(k,O,$,ee)=>{const Y=re(n,k);if(Y){const Q=re(a,k,wt($)?re(s,k):$);wt(Q)||ee&&ee.defaultChecked||O?Qe(a,k,O?Q:Kj(Y._f)):F(k,Q),o.mount&&g()}},_=(k,O,$,ee,Y)=>{let Q=!1,oe=!1;const $e={name:k};if(!t.disabled){if(!$||ee){(d.isDirty||f.isDirty)&&(oe=r.isDirty,r.isDirty=$e.isDirty=z(),Q=oe!==$e.isDirty);const Ye=$s(re(s,k),O);oe=!!re(r.dirtyFields,k),Ye?Ct(r.dirtyFields,k):Qe(r.dirtyFields,k,!0),$e.dirtyFields=r.dirtyFields,Q=Q||(d.dirtyFields||f.dirtyFields)&&oe!==!Ye}if($){const Ye=re(r.touchedFields,k);Ye||(Qe(r.touchedFields,k,$),$e.touchedFields=r.touchedFields,Q=Q||(d.touchedFields||f.touchedFields)&&Ye!==$)}Q&&Y&&h.state.next($e)}return Q?$e:{}},S=(k,O,$,ee)=>{const Y=re(r.errors,k),Q=(d.isValid||f.isValid)&&Lr(O)&&r.isValid!==O;if(t.delayError&&$?(c=b(()=>v(k,$)),c(t.delayError)):(clearTimeout(u),c=null,$?Qe(r.errors,k,$):Ct(r.errors,k)),($?!$s(Y,$):Y)||!jr(ee)||Q){const oe={...ee,...Q&&Lr(O)?{isValid:O}:{},errors:r.errors,name:k};r={...r,...oe},h.state.next(oe)}},N=async k=>{y(k,!0);const O=await t.resolver(a,t.context,iW(k||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return y(k),O},C=async k=>{const{errors:O}=await N(k);if(k)for(const $ of k){const ee=re(O,$);ee?Qe(r.errors,$,ee):Ct(r.errors,$)}else r.errors=O;return O},R=async(k,O,$={valid:!0})=>{for(const ee in k){const Y=k[ee];if(Y){const{_f:Q,...oe}=Y;if(Q){const $e=l.array.has(Q.name),Ye=Y._f&&oW(Y._f);Ye&&d.validatingFields&&y([Q.name],!0);const xr=await Zj(Y,l.disabled,a,p,t.shouldUseNativeValidation&&!O,$e);if(Ye&&d.validatingFields&&y([Q.name]),xr[Q.name]&&($.valid=!1,O))break;!O&&(re(xr,Q.name)?$e?hW(r.errors,xr,Q.name):Qe(r.errors,Q.name,xr[Q.name]):Ct(r.errors,Q.name))}!jr(oe)&&await R(oe,O,$)}}return $.valid},T=()=>{for(const k of l.unMount){const O=re(n,k);O&&(O._f.refs?O._f.refs.every($=>!Sp($)):!Sp(O._f.ref))&&J(k)}l.unMount=new Set},z=(k,O)=>!t.disabled&&(k&&O&&Qe(a,k,O),!$s(H(),s)),D=(k,O,$)=>ZP(k,l,{...o.mount?a:wt(O)?s:zr(k)?{[k]:O}:O},$,O),q=k=>Yx(re(o.mount?a:s,k,t.shouldUnregister?re(s,k,[]):[])),F=(k,O,$={})=>{const ee=re(n,k);let Y=O;if(ee){const Q=ee._f;Q&&(!Q.disabled&&Qe(a,k,aT(O,Q)),Y=lh(Q.ref)&&Sr(O)?"":O,rT(Q.ref)?[...Q.ref.options].forEach(oe=>oe.selected=Y.includes(oe.value)):Q.refs?Hu(Q.ref)?Q.refs.forEach(oe=>{(!oe.defaultChecked||!oe.disabled)&&(Array.isArray(Y)?oe.checked=!!Y.find($e=>$e===oe.value):oe.checked=Y===oe.value||!!Y)}):Q.refs.forEach(oe=>oe.checked=oe.value===Y):tw(Q.ref)?Q.ref.value="":(Q.ref.value=Y,Q.ref.type||h.state.next({name:k,values:Mt(a)})))}($.shouldDirty||$.shouldTouch)&&_(k,Y,$.shouldTouch,$.shouldDirty,!0),$.shouldValidate&&A(k)},M=(k,O,$)=>{for(const ee in O){if(!O.hasOwnProperty(ee))return;const Y=O[ee],Q=k+"."+ee,oe=re(n,Q);(l.array.has(k)||Tt(Y)||oe&&!oe._f)&&!Ci(Y)?M(Q,Y,$):F(Q,Y,$)}},V=(k,O,$={})=>{const ee=re(n,k),Y=l.array.has(k),Q=Mt(O);Qe(a,k,Q),Y?(h.array.next({name:k,values:Mt(a)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&$.shouldDirty&&h.state.next({name:k,dirtyFields:Co(s,a),isDirty:z(k,Q)})):ee&&!ee._f&&!Sr(Q)?M(k,Q,$):F(k,Q,$),Jj(k,l)&&h.state.next({...r,name:k}),h.state.next({name:o.mount?k:void 0,values:Mt(a)})},Z=async k=>{o.mount=!0;const O=k.target;let $=O.name,ee=!0;const Y=re(n,$),Q=Ye=>{ee=Number.isNaN(Ye)||Ci(Ye)&&isNaN(Ye.getTime())||$s(Ye,re(a,$,Ye))},oe=Gj(t.mode),$e=Gj(t.reValidateMode);if(Y){let Ye,xr;const _s=O.type?Kj(Y._f):JP(k),zn=k.type===oh.BLUR||k.type===oh.FOCUS_OUT,Gu=!lW(Y._f)&&!t.resolver&&!re(r.errors,$)&&!Y._f.deps||dW(zn,re(r.touchedFields,$),r.isSubmitted,$e,oe),fi=Jj($,l,zn);Qe(a,$,_s),zn?(!O||!O.readOnly)&&(Y._f.onBlur&&Y._f.onBlur(k),c&&c(0)):Y._f.onChange&&Y._f.onChange(k);const Bn=_($,_s,zn),Qu=!jr(Bn)||fi;if(!zn&&h.state.next({name:$,type:k.type,values:Mt(a)}),Gu)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?zn&&g():zn||g()),Qu&&h.state.next({name:$,...fi?{}:Bn});if(!zn&&fi&&h.state.next({...r}),t.resolver){const{errors:Ss}=await N([$]);if(Q(_s),ee){const wm=Yj(r.errors,n,$),Ju=Yj(Ss,n,wm.name||$);Ye=Ju.error,$=Ju.name,xr=jr(Ss)}}else y([$],!0),Ye=(await Zj(Y,l.disabled,a,p,t.shouldUseNativeValidation))[$],y([$]),Q(_s),ee&&(Ye?xr=!1:(d.isValid||f.isValid)&&(xr=await R(n,!0)));ee&&(Y._f.deps&&(!Array.isArray(Y._f.deps)||Y._f.deps.length>0)&&A(Y._f.deps),S($,xr,Ye,Bn))}},I=(k,O)=>{if(re(r.errors,O)&&k.focus)return k.focus(),1},A=async(k,O={})=>{let $,ee;const Y=Mc(k);if(t.resolver){const Q=await C(wt(k)?k:Y);$=jr(Q),ee=k?!Y.some(oe=>re(Q,oe)):$}else k?(ee=(await Promise.all(Y.map(async Q=>{const oe=re(n,Q);return await R(oe&&oe._f?{[Q]:oe}:oe)}))).every(Boolean),!(!ee&&!r.isValid)&&g()):ee=$=await R(n);return h.state.next({...!zr(k)||(d.isValid||f.isValid)&&$!==r.isValid?{}:{name:k},...t.resolver||!k?{isValid:$}:{},errors:r.errors}),O.shouldFocus&&!ee&&Dc(n,I,k?Y:l.mount),ee},H=(k,O)=>{let $={...o.mount?a:s};return O&&($=tT(O.dirtyFields?r.dirtyFields:r.touchedFields,$)),wt(k)?$:zr(k)?re($,k):k.map(ee=>re($,ee))},ie=(k,O)=>({invalid:!!re((O||r).errors,k),isDirty:!!re((O||r).dirtyFields,k),error:re((O||r).errors,k),isValidating:!!re(r.validatingFields,k),isTouched:!!re((O||r).touchedFields,k)}),ne=k=>{k&&Mc(k).forEach(O=>Ct(r.errors,O)),h.state.next({errors:k?r.errors:{}})},ge=(k,O,$)=>{const ee=(re(n,k,{_f:{}})._f||{}).ref,Y=re(r.errors,k)||{},{ref:Q,message:oe,type:$e,...Ye}=Y;Qe(r.errors,k,{...Ye,...O,ref:ee}),h.state.next({name:k,errors:r.errors,isValid:!1}),$&&$.shouldFocus&&ee&&ee.focus&&ee.focus()},me=(k,O)=>Rn(k)?h.state.subscribe({next:$=>"values"in $&&k(D(void 0,O),$)}):D(k,O,!0),Ve=k=>h.state.subscribe({next:O=>{uW(k.name,O.name,k.exact)&&cW(O,k.formState||d,bs,k.reRenderRoot)&&k.callback({values:{...a},...r,...O,defaultValues:s})}}).unsubscribe,Ke=k=>(o.mount=!0,f={...f,...k.formState},Ve({...k,formState:f})),J=(k,O={})=>{for(const $ of k?Mc(k):l.mount)l.mount.delete($),l.array.delete($),O.keepValue||(Ct(n,$),Ct(a,$)),!O.keepError&&Ct(r.errors,$),!O.keepDirty&&Ct(r.dirtyFields,$),!O.keepTouched&&Ct(r.touchedFields,$),!O.keepIsValidating&&Ct(r.validatingFields,$),!t.shouldUnregister&&!O.keepDefaultValue&&Ct(s,$);h.state.next({values:Mt(a)}),h.state.next({...r,...O.keepDirty?{isDirty:z()}:{}}),!O.keepIsValid&&g()},Fe=({disabled:k,name:O})=>{(Lr(k)&&o.mount||k||l.disabled.has(O))&&(k?l.disabled.add(O):l.disabled.delete(O))},De=(k,O={})=>{let $=re(n,k);const ee=Lr(O.disabled)||Lr(t.disabled);return Qe(n,k,{...$||{},_f:{...$&&$._f?$._f:{ref:{name:k}},name:k,mount:!0,...O}}),l.mount.add(k),$?Fe({disabled:Lr(O.disabled)?O.disabled:t.disabled,name:k}):j(k,!0,O.value),{...ee?{disabled:O.disabled||t.disabled}:{},...t.progressive?{required:!!O.required,min:uc(O.min),max:uc(O.max),minLength:uc(O.minLength),maxLength:uc(O.maxLength),pattern:uc(O.pattern)}:{},name:k,onChange:Z,onBlur:Z,ref:Y=>{if(Y){De(k,O),$=re(n,k);const Q=wt(Y.value)&&Y.querySelectorAll&&Y.querySelectorAll("input,select,textarea")[0]||Y,oe=rW(Q),$e=$._f.refs||[];if(oe?$e.find(Ye=>Ye===Q):Q===$._f.ref)return;Qe(n,k,{_f:{...$._f,...oe?{refs:[...$e.filter(Sp),Q,...Array.isArray(re(s,k))?[{}]:[]],ref:{type:Q.type,name:k}}:{ref:Q}}}),j(k,!1,void 0,Q)}else $=re(n,k,{}),$._f&&($._f.mount=!1),(t.shouldUnregister||O.shouldUnregister)&&!(YP(l.array,k)&&o.action)&&l.unMount.add(k)}}},Ie=()=>t.shouldFocusError&&Dc(n,I,l.mount),Le=k=>{Lr(k)&&(h.state.next({disabled:k}),Dc(n,(O,$)=>{const ee=re(n,$);ee&&(O.disabled=ee._f.disabled||k,Array.isArray(ee._f.refs)&&ee._f.refs.forEach(Y=>{Y.disabled=ee._f.disabled||k}))},0,!1))},Ue=(k,O)=>async $=>{let ee;$&&($.preventDefault&&$.preventDefault(),$.persist&&$.persist());let Y=Mt(a);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:Q,values:oe}=await N();r.errors=Q,Y=Mt(oe)}else await R(n);if(l.disabled.size)for(const Q of l.disabled)Ct(Y,Q);if(Ct(r.errors,"root"),jr(r.errors)){h.state.next({errors:{}});try{await k(Y,$)}catch(Q){ee=Q}}else O&&await O({...r.errors},$),Ie(),setTimeout(Ie);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:jr(r.errors)&&!ee,submitCount:r.submitCount+1,errors:r.errors}),ee)throw ee},zt=(k,O={})=>{re(n,k)&&(wt(O.defaultValue)?V(k,Mt(re(s,k))):(V(k,O.defaultValue),Qe(s,k,Mt(O.defaultValue))),O.keepTouched||Ct(r.touchedFields,k),O.keepDirty||(Ct(r.dirtyFields,k),r.isDirty=O.defaultValue?z(k,Mt(re(s,k))):z()),O.keepError||(Ct(r.errors,k),d.isValid&&g()),h.state.next({...r}))},ar=(k,O={})=>{const $=k?Mt(k):s,ee=Mt($),Y=jr(k),Q=Y?s:ee;if(O.keepDefaultValues||(s=$),!O.keepValues){if(O.keepDirtyValues){const oe=new Set([...l.mount,...Object.keys(Co(s,a))]);for(const $e of Array.from(oe))re(r.dirtyFields,$e)?Qe(Q,$e,re(a,$e)):V($e,re(Q,$e))}else{if(Jx&&wt(k))for(const oe of l.mount){const $e=re(n,oe);if($e&&$e._f){const Ye=Array.isArray($e._f.refs)?$e._f.refs[0]:$e._f.ref;if(lh(Ye)){const xr=Ye.closest("form");if(xr){xr.reset();break}}}}if(O.keepFieldsRef)for(const oe of l.mount)V(oe,re(Q,oe));else n={}}a=t.shouldUnregister?O.keepDefaultValues?Mt(s):{}:Mt(Q),h.array.next({values:{...Q}}),h.state.next({values:{...Q}})}l={mount:O.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!O.keepIsValid||!!O.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:O.keepSubmitCount?r.submitCount:0,isDirty:Y?!1:O.keepDirty?r.isDirty:!!(O.keepDefaultValues&&!$s(k,s)),isSubmitted:O.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Y?{}:O.keepDirtyValues?O.keepDefaultValues&&a?Co(s,a):r.dirtyFields:O.keepDefaultValues&&k?Co(s,k):O.keepDirty?r.dirtyFields:{},touchedFields:O.keepTouched?r.touchedFields:{},errors:O.keepErrors?r.errors:{},isSubmitSuccessful:O.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},Fn=(k,O)=>ar(Rn(k)?k(a):k,O),Un=(k,O={})=>{const $=re(n,k),ee=$&&$._f;if(ee){const Y=ee.refs?ee.refs[0]:ee.ref;Y.focus&&(Y.focus(),O.shouldSelect&&Rn(Y.select)&&Y.select())}},bs=k=>{r={...r,...k}},js={control:{register:De,unregister:J,getFieldState:ie,handleSubmit:Ue,setError:ge,_subscribe:Ve,_runSchema:N,_focusError:Ie,_getWatch:D,_getDirty:z,_setValid:g,_setFieldArray:x,_setDisabledField:Fe,_setErrors:w,_getFieldArray:q,_reset:ar,_resetDefaultValues:()=>Rn(t.defaultValues)&&t.defaultValues().then(k=>{Fn(k,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:T,_disableForm:Le,_subjects:h,_proxyFormState:d,get _fields(){return n},get _formValues(){return a},get _state(){return o},set _state(k){o=k},get _defaultValues(){return s},get _names(){return l},set _names(k){l=k},get _formState(){return r},get _options(){return t},set _options(k){t={...t,...k}}},subscribe:Ke,trigger:A,register:De,handleSubmit:Ue,watch:me,setValue:V,getValues:H,reset:Fn,resetField:zt,clearErrors:ne,unregister:J,setError:ge,setFocus:Un,getFieldState:ie};return{...js,formControl:js}}function nw(e={}){const t=U.useRef(void 0),r=U.useRef(void 0),[n,s]=U.useState({isDirty:!1,isValidating:!1,isLoading:Rn(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Rn(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!Rn(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=pW(e);t.current={...l,formState:n}}const a=t.current.control;return a._options=e,ew(()=>{const o=a._subscribe({formState:a._proxyFormState,callback:()=>s({...a._formState}),reRenderRoot:!0});return s(l=>({...l,isReady:!0})),a._formState.isReady=!0,o},[a]),U.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),U.useEffect(()=>{e.mode&&(a._options.mode=e.mode),e.reValidateMode&&(a._options.reValidateMode=e.reValidateMode)},[a,e.mode,e.reValidateMode]),U.useEffect(()=>{e.errors&&(a._setErrors(e.errors),a._focusError())},[a,e.errors]),U.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,e.shouldUnregister]),U.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==n.isDirty&&a._subjects.state.next({isDirty:o})}},[a,n.isDirty]),U.useEffect(()=>{e.values&&!$s(e.values,r.current)?(a._reset(e.values,{keepFieldsRef:!0,...a._options.resetOptions}),r.current=e.values,s(o=>({...o}))):a._resetDefaultValues()},[a,e.values]),U.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),t.current.formState=XP(n,a),t.current}const e_=(e,t,r)=>{if(e&&"reportValidity"in e){const n=re(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},oT=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?e_(n.ref,r,e):n.refs&&n.refs.forEach(s=>e_(s,r,e))}},gW=(e,t)=>{t.shouldUseNativeValidation&&oT(e,t);const r={};for(const n in e){const s=re(t.fields,n),a=Object.assign(e[n]||{},{ref:s&&s.ref});if(vW(t.names||Object.keys(e),n)){const o=Object.assign({},re(r,n));Qe(o,"root",a),Qe(r,n,o)}else Qe(r,n,a)}return r},vW=(e,t)=>e.some(r=>r.startsWith(t+"."));var yW=function(e,t){for(var r={};e.length;){var n=e[0],s=n.code,a=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:a,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[o].types,u=c&&c[n.code];r[o]=eT(o,t,r,s,u?[].concat(u,n.message):n.message)}e.shift()}return r},sw=function(e,t,r){return r===void 0&&(r={}),function(n,s,a){try{return Promise.resolve((function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return a.shouldUseNativeValidation&&oT({},a),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c})(0,function(o){if((function(l){return Array.isArray(l==null?void 0:l.errors)})(o))return{values:{},errors:gW(yW(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}}};const xW=Yq,lT=m.createContext({}),Cs=({...e})=>i.jsx(lT.Provider,{value:{name:e.name},children:i.jsx(tW,{...e})}),pm=()=>{const e=m.useContext(lT),t=m.useContext(cT),{getFieldState:r,formState:n}=mm(),s=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:a}=t;return{id:a,name:e.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...s}},cT=m.createContext({}),Hn=m.forwardRef(({className:e,...t},r)=>{const n=m.useId();return i.jsx(cT.Provider,{value:{id:n},children:i.jsx("div",{ref:r,className:te("space-y-2",e),...t})})});Hn.displayName="FormItem";const Kn=m.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:s}=pm();return i.jsx(je,{ref:r,className:te(n&&"text-destructive",e),htmlFor:s,...t})});Kn.displayName="FormLabel";const Gn=m.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:s,formMessageId:a}=pm();return i.jsx(RE,{ref:t,id:n,"aria-describedby":r?`${s} ${a}`:`${s}`,"aria-invalid":!!r,...e})});Gn.displayName="FormControl";const Rs=m.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=pm();return i.jsx("p",{ref:r,id:n,className:te("text-sm text-muted-foreground",e),...t})});Rs.displayName="FormDescription";const Ps=m.forwardRef(({className:e,children:t,...r},n)=>{const{error:s,formMessageId:a}=pm(),o=s?String(s==null?void 0:s.message):t;return o?i.jsx("p",{ref:n,id:a,className:te("text-sm font-medium text-destructive",e),...r,children:o}):null});Ps.displayName="FormMessage";const wW=()=>{const e=et(),t=lt({mutationFn:async r=>(await Wu.createOpportunity(r)).opportunity,onSuccess:()=>{e.invalidateQueries({queryKey:["opportunities"]}),e.invalidateQueries({queryKey:["my-opportunities"]})}});return{action:t.mutate,isLoading:t.isPending,error:t.error,isSuccess:t.isSuccess,data:t.data}},bW=()=>{const e=et(),t=lt({mutationFn:async({id:r,data:n})=>(await Wu.updateOpportunity(r,n)).opportunity,onSuccess:(r,{id:n})=>{e.invalidateQueries({queryKey:["opportunities"]}),e.invalidateQueries({queryKey:["my-opportunities"]}),e.invalidateQueries({queryKey:["opportunity",n]})}});return{action:t.mutate,isLoading:t.isPending,error:t.error,isSuccess:t.isSuccess,data:t.data}},jW=GP.extend({status:sa(["abierta","en_progreso","cerrada","cancelada"]).optional()}),_W=[{value:"proyecto",label:"Proyecto"},{value:"colaboracion",label:"Colaboracin"},{value:"empleo",label:"Empleo"},{value:"mentoria",label:"Mentora"},{value:"evento",label:"Evento"},{value:"otro",label:"Otro"}],SW=[{value:"abierta",label:"Abierta"},{value:"en_progreso",label:"En Progreso"},{value:"cerrada",label:"Cerrada"},{value:"cancelada",label:"Cancelada"}];function uT({open:e,onOpenChange:t,opportunity:r}){const[n,s]=m.useState(""),{action:a,isLoading:o}=wW(),{action:l,isLoading:c}=bW(),u=!!r,d=o||c,f=nw({resolver:sw(u?jW:GP),defaultValues:{title:"",description:"",type:"proyecto",skills_required:[],location:null,remote:!1,duration:null,compensation:null,status:"abierta"}});m.useEffect(()=>{r?f.reset({title:r.title,description:r.description,type:r.type,skills_required:r.skills_required,location:r.location||null,remote:r.remote,duration:r.duration||null,compensation:r.compensation||null,status:r.status}):f.reset({title:"",description:"",type:"proyecto",skills_required:[],location:null,remote:!1,duration:null,compensation:null,status:"abierta"})},[r,f]);const h=f.watch("skills_required"),p=()=>{const x=n.trim();x&&!h.includes(x)&&(f.setValue("skills_required",[...h,x]),s(""))},b=x=>{f.setValue("skills_required",h.filter(v=>v!==x))},g=x=>{x.key==="Enter"&&(x.preventDefault(),p())},y=x=>{if(u&&r)l({id:r.id,data:x},{onSuccess:()=>{f.reset(),t(!1)},onError:v=>{console.error("Error al actualizar oportunidad:",v)}});else{const{status:v,...w}=x;a(w,{onSuccess:()=>{f.reset(),t(!1)},onError:j=>{console.error("Error al crear oportunidad:",j)}})}};return i.jsx(Ys,{open:e,onOpenChange:t,children:i.jsxs(ms,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[i.jsxs(ps,{children:[i.jsxs(gs,{className:"flex items-center gap-2 text-2xl",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary to-emerald-600 rounded-xl flex items-center justify-center",children:i.jsx(Qs,{className:"h-5 w-5 text-white"})}),u?"Editar oportunidad":"Publicar nueva oportunidad"]}),i.jsx(vs,{children:u?"Actualiza los detalles de tu oportunidad":"Completa los detalles de la oportunidad que quieres compartir con la comunidad"})]}),i.jsx(xW,{...f,children:i.jsxs("form",{onSubmit:f.handleSubmit(y),className:"space-y-6",children:[i.jsx(Cs,{control:f.control,name:"title",render:({field:x})=>i.jsxs(Hn,{children:[i.jsx(Kn,{children:"Ttulo *"}),i.jsx(Gn,{children:i.jsx(ye,{placeholder:"Ej: Desarrollador Frontend React para Startup Fintech",...x})}),i.jsx(Rs,{children:"Un ttulo claro y descriptivo (5-100 caracteres)"}),i.jsx(Ps,{})]})}),i.jsx(Cs,{control:f.control,name:"type",render:({field:x})=>i.jsxs(Hn,{children:[i.jsx(Kn,{children:"Tipo de oportunidad *"}),i.jsxs(ti,{onValueChange:x.onChange,defaultValue:x.value,children:[i.jsx(Gn,{children:i.jsx(ea,{children:i.jsx(ri,{placeholder:"Selecciona un tipo"})})}),i.jsx(ta,{children:_W.map(v=>i.jsx(tt,{value:v.value,children:v.label},v.value))})]}),i.jsx(Ps,{})]})}),u&&i.jsx(Cs,{control:f.control,name:"status",render:({field:x})=>i.jsxs(Hn,{children:[i.jsx(Kn,{children:"Estado"}),i.jsxs(ti,{onValueChange:x.onChange,defaultValue:x.value,children:[i.jsx(Gn,{children:i.jsx(ea,{children:i.jsx(ri,{placeholder:"Selecciona un estado"})})}),i.jsx(ta,{children:SW.map(v=>i.jsx(tt,{value:v.value,children:v.label},v.value))})]}),i.jsx(Rs,{children:"Las oportunidades cerradas no aparecern en el listado principal"}),i.jsx(Ps,{})]})}),i.jsx(Cs,{control:f.control,name:"description",render:({field:x})=>i.jsxs(Hn,{children:[i.jsx(Kn,{children:"Descripcin *"}),i.jsx(Gn,{children:i.jsx(ni,{placeholder:"Describe los detalles de la oportunidad, qu buscas, requisitos, etc.",className:"min-h-[120px] resize-none",...x})}),i.jsx(Rs,{children:"Mnimo 20 caracteres, mximo 2000"}),i.jsx(Ps,{})]})}),i.jsx(Cs,{control:f.control,name:"skills_required",render:()=>i.jsxs(Hn,{children:[i.jsx(Kn,{children:"Habilidades requeridas *"}),i.jsx(Gn,{children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsx(ye,{placeholder:"Ej: React, TypeScript, Node.js...",value:n,onChange:x=>s(x.target.value),onKeyDown:g}),i.jsx(B,{type:"button",variant:"outline",onClick:p,children:"Aadir"})]}),h.length>0&&i.jsx("div",{className:"flex flex-wrap gap-2",children:h.map(x=>i.jsxs(Te,{variant:"secondary",className:"text-sm pl-3 pr-1 py-1.5",children:[x,i.jsx("button",{type:"button",onClick:()=>b(x),className:"ml-2 hover:bg-muted rounded-full p-0.5",children:i.jsx(Or,{className:"h-3 w-3"})})]},x))})]})}),i.jsx(Rs,{children:"Agrega al menos una habilidad requerida"}),i.jsx(Ps,{})]})}),i.jsx(Cs,{control:f.control,name:"location",render:({field:x})=>i.jsxs(Hn,{children:[i.jsxs(Kn,{children:[i.jsx(aa,{className:"inline h-4 w-4 mr-1"}),"Ubicacin"]}),i.jsx(Gn,{children:i.jsx(ye,{placeholder:"Ej: Madrid, Barcelona, Remoto...",...x,value:x.value||""})}),i.jsx(Rs,{children:"Opcional - Dnde se realizar"}),i.jsx(Ps,{})]})}),i.jsx(Cs,{control:f.control,name:"remote",render:({field:x})=>i.jsxs(Hn,{className:"flex flex-row items-start space-x-3 space-y-0 rounded-md border p-4",children:[i.jsx(Gn,{children:i.jsx(ox,{checked:x.value,onCheckedChange:x.onChange})}),i.jsxs("div",{className:"space-y-1 leading-none",children:[i.jsx(Kn,{children:"Trabajo remoto"}),i.jsx(Rs,{children:"Esta oportunidad permite trabajar de forma remota"})]})]})}),i.jsx(Cs,{control:f.control,name:"duration",render:({field:x})=>i.jsxs(Hn,{children:[i.jsxs(Kn,{children:[i.jsx(Js,{className:"inline h-4 w-4 mr-1"}),"Duracin estimada"]}),i.jsx(Gn,{children:i.jsx(ye,{placeholder:"Ej: 3 meses, 6 meses, Indefinido...",...x,value:x.value||""})}),i.jsx(Rs,{children:"Opcional - Cunto durar el proyecto"}),i.jsx(Ps,{})]})}),i.jsx(Cs,{control:f.control,name:"compensation",render:({field:x})=>i.jsxs(Hn,{children:[i.jsxs(Kn,{children:[i.jsx(sx,{className:"inline h-4 w-4 mr-1"}),"Compensacin"]}),i.jsx(Gn,{children:i.jsx(ye,{placeholder:"Ej: 30.000-40.000/ao, Por proyecto, Voluntario...",...x,value:x.value||""})}),i.jsx(Rs,{children:"Opcional - Tipo de compensacin ofrecida"}),i.jsx(Ps,{})]})}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[i.jsx(B,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:d,children:"Cancelar"}),i.jsxs(B,{type:"submit",disabled:d,children:[d&&i.jsx(_t,{className:"mr-2 h-4 w-4 animate-spin"}),u?"Guardar cambios":"Publicar oportunidad"]})]})]})})]})})}const NW={proyecto:"Proyecto",colaboracion:"Colaboracin",empleo:"Empleo",mentoria:"Mentora",evento:"Evento",otro:"Otro"};function EW(){const e=vt(),{toast:t}=ql(),{user:r}=Et(),[n,s]=m.useState("all"),[a,o]=m.useState("all"),[l,c]=m.useState("all"),[u,d]=m.useState(""),[f,h]=m.useState(!1),[p,b]=m.useState(null),[g,y]=m.useState(new Set),x={...a!=="all"&&{type:a},...u&&{search:u}},{data:v,isLoading:w,error:j}=Kq(x,{enabled:n==="all"}),{data:_,isLoading:S,error:N}=Gq({enabled:n==="my"}),C=n==="all"?(v==null?void 0:v.opportunities)||[]:(_==null?void 0:_.opportunities)||[],R=n==="all"?w:S,T=n==="all"?j:N,z=C.filter(M=>{const V=a==="all"||M.type===a,Z=!u||M.title.toLowerCase().includes(u.toLowerCase())||M.description.toLowerCase().includes(u.toLowerCase()),I=l!=="all"?M.status===l:M.status!=="cerrada"&&M.status!=="cancelada";return V&&Z&&I}),D=M=>{e(`/opportunities/${M}`)},q=async(M,V)=>{try{await new Promise(Z=>setTimeout(Z,300)),y(Z=>new Set(Z).add(M)),t({title:"Inters registrado!",description:`Hemos notificado a ${V} sobre tu inters.`})}catch{t({title:"Error",description:"No se pudo registrar tu inters. Intntalo de nuevo.",variant:"destructive"})}},F=M=>{b(M),h(!0)};return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted",children:[i.jsx(Hr,{}),i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[i.jsx("div",{className:"mb-8",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary to-emerald-600 rounded-xl flex items-center justify-center",children:i.jsx(Qs,{className:"h-6 w-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Oportunidades"}),i.jsx("p",{className:"text-muted-foreground",children:"Encuentra colaboraciones, proyectos y oportunidades de negocio"})]})]}),i.jsxs(B,{onClick:()=>h(!0),children:[i.jsx(Ji,{className:"h-4 w-4 mr-2"}),"Publicar oportunidad"]})]})}),i.jsx(Fu,{value:n,onValueChange:M=>s(M),className:"mb-6",children:i.jsxs(zl,{className:"grid w-full max-w-md grid-cols-2",children:[i.jsx(qr,{value:"all",children:"Todas las oportunidades"}),i.jsx(qr,{value:"my",children:"Mis oportunidades"})]})}),i.jsx(be,{className:"mb-8",children:i.jsx(we,{className:"p-6",children:i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsxs("div",{className:"relative",children:[i.jsx(fs,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),i.jsx(ye,{placeholder:"Buscar oportunidades...",className:"pl-10",value:u,onChange:M=>d(M.target.value)})]})}),i.jsxs(ti,{value:a,onValueChange:M=>o(M),children:[i.jsx(ea,{className:"w-full md:w-48",children:i.jsx(ri,{placeholder:"Tipo"})}),i.jsxs(ta,{children:[i.jsx(tt,{value:"all",children:"Todas"}),i.jsx(tt,{value:"proyecto",children:"Proyecto"}),i.jsx(tt,{value:"colaboracion",children:"Colaboracin"}),i.jsx(tt,{value:"empleo",children:"Empleo"}),i.jsx(tt,{value:"mentoria",children:"Mentora"}),i.jsx(tt,{value:"evento",children:"Evento"}),i.jsx(tt,{value:"otro",children:"Otro"})]})]}),i.jsxs(ti,{value:l,onValueChange:M=>c(M),children:[i.jsx(ea,{className:"w-full md:w-48",children:i.jsx(ri,{placeholder:"Estado"})}),i.jsxs(ta,{children:[i.jsx(tt,{value:"all",children:"Activas"}),i.jsx(tt,{value:"abierta",children:"Abiertas"}),i.jsx(tt,{value:"en_progreso",children:"En Progreso"}),i.jsx(tt,{value:"cerrada",children:"Cerradas"}),i.jsx(tt,{value:"cancelada",children:"Canceladas"})]})]})]})})}),R&&i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx(_t,{className:"h-8 w-8 animate-spin text-primary"})}),T&&i.jsxs(be,{className:"p-8 text-center",children:[i.jsx("p",{className:"text-destructive",children:"Error al cargar las oportunidades"}),i.jsx("p",{className:"text-muted-foreground text-sm mt-2",children:T.message})]}),!R&&!T&&z.length===0&&i.jsxs(be,{className:"p-12 text-center",children:[i.jsx(Qs,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:n==="my"?"No has publicado oportunidades":"No hay oportunidades"}),i.jsx("p",{className:"text-muted-foreground mb-4",children:n==="my"?u||a!=="all"?"No se encontraron oportunidades tuyas con los filtros aplicados":"Publica tu primera oportunidad para empezar a colaborar":u||a!=="all"?"No se encontraron oportunidades con los filtros aplicados":"S el primero en publicar una oportunidad"}),i.jsxs(B,{onClick:()=>h(!0),children:[i.jsx(Ji,{className:"h-4 w-4 mr-2"}),"Publicar oportunidad"]})]}),!R&&!T&&z.length>0&&i.jsx("div",{className:"space-y-6",children:z.map(M=>{const V=new Date(M.created_at),Z=lm(V,{addSuffix:!0,locale:cm});return i.jsxs(be,{className:"hover:shadow-lg transition-shadow",children:[i.jsx(mt,{children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"flex items-center gap-2 mb-2",children:i.jsx(ht,{className:"text-xl",children:M.title})}),i.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-muted-foreground",children:[M.location&&i.jsxs("div",{className:"flex items-center",children:[i.jsx(aa,{className:"h-4 w-4 mr-1"}),M.location]}),M.remote&&i.jsx(Te,{variant:"secondary",className:"text-xs",children:"Remoto"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(lo,{className:"h-4 w-4 mr-1"}),Z]})]})]}),i.jsx(Te,{variant:"secondary",children:NW[M.type]})]})}),i.jsxs(we,{children:[i.jsx("p",{className:"text-muted-foreground mb-4",children:M.description}),M.skills_required&&M.skills_required.length>0&&i.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:M.skills_required.map(I=>i.jsx(Te,{variant:"outline",className:"text-xs",children:I},I))}),i.jsxs("div",{className:"flex flex-wrap gap-4 mb-4 text-sm text-muted-foreground",children:[M.duration&&i.jsxs("div",{className:"flex items-center",children:[i.jsx(Js,{className:"h-4 w-4 mr-1"}),"Duracin: ",M.duration]}),M.compensation&&i.jsxs("div",{className:"flex items-center",children:[i.jsx(sx,{className:"h-4 w-4 mr-1"}),M.compensation]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs(At,{className:"h-6 w-6",children:[M.creator.avatar_url&&i.jsx(Ft,{src:M.creator.avatar_url}),i.jsx(Ot,{className:"text-xs",children:M.creator.name.split(" ").map(I=>I[0]).join("").toUpperCase()})]}),i.jsxs("span",{className:"text-sm text-muted-foreground",children:["Por ",M.creator.name]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(B,{variant:"outline",size:"sm",onClick:()=>D(M.id),children:"Ver detalles"}),(r==null?void 0:r.id)===M.created_by&&i.jsxs(B,{variant:"outline",size:"sm",onClick:()=>F(M),className:"flex items-center gap-2",children:[i.jsx(rC,{className:"h-4 w-4"}),"Editar"]}),(r==null?void 0:r.id)!==M.created_by&&i.jsx(B,{size:"sm",onClick:()=>q(M.id,M.creator.name),disabled:g.has(M.id),children:g.has(M.id)?"Te interesa!":"Me interesa"})]})]})]})]},M.id)})})]}),i.jsx(uT,{open:f,onOpenChange:M=>{h(M),M||b(null)},opportunity:p})]})}const CW=(e,t)=>Ut({queryKey:["opportunity",e],queryFn:async()=>{if(!e)throw new Error("Opportunity ID is required");return(await Wu.getOpportunity(e)).opportunity},enabled:!!e,staleTime:300*1e3,gcTime:600*1e3}),kW={proyecto:"Proyecto",colaboracion:"Colaboracin",empleo:"Empleo",mentoria:"Mentora",evento:"Evento",otro:"Otro"},RW={abierta:"Abierta",en_progreso:"En Progreso",cerrada:"Cerrada",cancelada:"Cancelada"},PW={abierta:"default",en_progreso:"secondary",cerrada:"outline",cancelada:"destructive"};function TW(){var w,j;const{opportunityId:e}=Nu(),t=vt(),{user:r}=Et(),{toast:n}=ql(),[s,a]=m.useState(!1),[o,l]=m.useState(!1),[c,u]=m.useState(!1),{data:d,isLoading:f,error:h}=CW(e),p=()=>{t("/opportunities")},b=()=>{d!=null&&d.creator.id&&t(`/messages/${d.creator.id}`)},g=async()=>{if(d){l(!0);try{await new Promise(_=>setTimeout(_,500)),a(!0),n({title:"Inters registrado!",description:`Hemos notificado a ${d.creator.name} sobre tu inters. Pronto te contactar.`})}catch{n({title:"Error",description:"No se pudo registrar tu inters. Intntalo de nuevo.",variant:"destructive"})}finally{l(!1)}}};if(f)return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted",children:[i.jsx(Hr,{}),i.jsx("div",{className:"container mx-auto px-4 py-8",children:i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx(_t,{className:"h-8 w-8 animate-spin text-primary"})})})]});if(h||!d)return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted",children:[i.jsx(Hr,{}),i.jsx("div",{className:"container mx-auto px-4 py-8",children:i.jsxs(be,{className:"p-8 text-center",children:[i.jsx("p",{className:"text-destructive",children:"No se pudo cargar la oportunidad"}),i.jsx("p",{className:"text-muted-foreground text-sm mt-2",children:(h==null?void 0:h.message)||"Oportunidad no encontrada"}),i.jsxs(B,{onClick:p,className:"mt-4",children:[i.jsx(In,{className:"h-4 w-4 mr-2"}),"Volver a oportunidades"]})]})})]});const y=new Date(d.created_at),x=lm(y,{addSuffix:!0,locale:cm}),v=(r==null?void 0:r.id)===d.created_by;return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted",children:[i.jsx(Hr,{}),i.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[i.jsxs(B,{variant:"ghost",onClick:p,className:"mb-6",children:[i.jsx(In,{className:"h-4 w-4 mr-2"}),"Volver a oportunidades"]}),i.jsxs(be,{className:"shadow-lg",children:[i.jsx(mt,{children:i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Te,{variant:PW[d.status],children:RW[d.status]}),i.jsxs(Te,{variant:"outline",children:[i.jsx(Qs,{className:"h-3 w-3 mr-1"}),kW[d.type]]})]}),i.jsx(ht,{className:"text-3xl",children:d.title}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs(At,{className:"h-12 w-12",children:[i.jsx(Ft,{src:d.creator.avatar_url||void 0,alt:d.creator.name}),i.jsx(Ot,{children:(j=(w=d.creator.name)==null?void 0:w.charAt(0))==null?void 0:j.toUpperCase()})]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:d.creator.name}),d.creator.professional_title&&i.jsx("p",{className:"text-sm text-muted-foreground",children:d.creator.professional_title})]})]}),i.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[i.jsx(lo,{className:"h-4 w-4 mr-1"}),x]})]})]})}),i.jsxs(we,{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold mb-2",children:"Descripcin"}),i.jsx("p",{className:"text-muted-foreground whitespace-pre-wrap",children:d.description})]}),i.jsx(Ga,{}),d.skills_required.length>0&&i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold mb-3",children:"Habilidades requeridas"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:d.skills_required.map(_=>i.jsx(Te,{variant:"secondary",children:_},_))})]}),i.jsx(Ga,{}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.location&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(aa,{className:"h-5 w-5 text-muted-foreground"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:"Ubicacin"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:d.location})]})]}),d.duration&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Js,{className:"h-5 w-5 text-muted-foreground"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:"Duracin"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:d.duration})]})]}),d.remote&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Qs,{className:"h-5 w-5 text-muted-foreground"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:"Modalidad"}),i.jsx(Te,{variant:"secondary",children:"Remoto"})]})]}),d.compensation&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(sx,{className:"h-5 w-5 text-muted-foreground"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:"Compensacin"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:d.compensation})]})]})]}),i.jsx(Ga,{}),!v&&i.jsxs("div",{className:"flex gap-3 pt-4",children:[i.jsxs(B,{onClick:g,disabled:o||s,className:"flex-1",size:"lg",children:[i.jsx(T3,{className:`h-5 w-5 mr-2 ${s?"fill-current":""}`}),o?"Enviando...":s?"Te interesa!":"Me interesa"]}),i.jsxs(B,{variant:"outline",onClick:b,className:"flex-1",size:"lg",children:[i.jsx(Iu,{className:"h-5 w-5 mr-2"}),"Contactar"]})]}),v&&i.jsx("div",{className:"flex gap-3 pt-4",children:i.jsxs(B,{onClick:()=>u(!0),className:"flex-1",size:"lg",children:[i.jsx(rC,{className:"h-5 w-5 mr-2"}),"Editar oportunidad"]})})]})]})]}),i.jsx(uT,{open:c,onOpenChange:u,opportunity:d})]})}const gm=sa(["aceleracion","workshop","bootcamp","mentoria","curso","otro"]),aw=sa(["upcoming","active","completed","cancelled"]),iw=G({id:CE([P(),Ae()]).transform(e=>String(e)),title:P(),description:P(),type:gm,start_date:P(),end_date:P(),duration:P(),location:P().nullish(),participants:Ae(),max_participants:Ae().nullish(),instructor:P(),status:aw,featured:dn(),skills:We(P()),price:P().nullish(),image_url:P().nullish(),created_by:P().uuid(),created_at:P(),updated_at:P()}),dT=iw.extend({creator:G({id:P().uuid(),name:P(),avatar_url:P().nullable().optional(),professional_title:P().nullable().optional()})}),AW=G({title:P().min(5,"El ttulo debe tener al menos 5 caracteres").max(255,"El ttulo no puede superar 255 caracteres"),description:P().min(20,"La descripcin debe tener al menos 20 caracteres"),type:gm,start_date:P(),end_date:P(),duration:P().min(1,"La duracin es requerida"),instructor:P().min(1,"El instructor es requerido"),skills:We(P()).min(1,"Debes especificar al menos una habilidad"),location:P().max(255).nullable().optional(),max_participants:Ae().positive().nullable().optional(),price:P().max(100).nullable().optional(),image_url:P().url().nullable().optional(),featured:dn().optional()});G({title:P().min(5).max(255).optional(),description:P().min(20).optional(),type:gm.optional(),start_date:P().optional(),end_date:P().optional(),duration:P().optional(),location:P().max(255).nullable().optional(),max_participants:Ae().positive().nullable().optional(),instructor:P().optional(),status:aw.optional(),featured:dn().optional(),skills:We(P()).min(1).optional(),price:P().max(100).nullable().optional(),image_url:P().url().nullable().optional()});G({type:gm.optional(),status:aw.optional(),skills:We(P()).optional(),featured:dn().optional(),search:P().optional()});const OW=G({program:dT}),t_=G({programs:We(dT),total:Ae()}),IW=G({program:iw}),MW=G({program:iw}),ow={async getPrograms(e){var r;const t=await xe.get("/programs",{params:{type:e==null?void 0:e.type,status:e==null?void 0:e.status,skills:(r=e==null?void 0:e.skills)==null?void 0:r.join(","),featured:e==null?void 0:e.featured,search:e==null?void 0:e.search}});return t_.parse(t.data)},async getProgram(e){const t=await xe.get(`/programs/${e}`);return OW.parse(t.data)},async getMyPrograms(){const e=await xe.get("/programs/my");return t_.parse(e.data)},async createProgram(e){const t=await xe.post("/programs",e);return IW.parse(t.data)},async updateProgram(e,t){const r=await xe.put(`/programs/${e}`,t);return MW.parse(r.data)},async deleteProgram(e){await xe.delete(`/programs/${e}`)},async enrollInProgram(e){await xe.post(`/programs/${e}/enroll`)},async getMyEnrollments(){return(await xe.get("/programs/my/enrollments")).data}};function DW(e){return Ut({queryKey:["programs",e],queryFn:()=>ow.getPrograms(e),staleTime:1e3*60*5})}function LW(){const e=et(),t=lt({mutationFn:r=>ow.enrollInProgram(r),onSuccess:()=>{e.invalidateQueries({queryKey:["programs"]}),e.invalidateQueries({queryKey:["enrollments"]})}});return{action:t.mutate,actionAsync:t.mutateAsync,isLoading:t.isPending,isError:t.isError,error:t.error,isSuccess:t.isSuccess}}const $W={aceleracion:"Aceleracin",workshop:"Workshop",bootcamp:"Bootcamp",mentoria:"Mentora",curso:"Curso",otro:"Otro"},FW={upcoming:"Prximo",active:"En curso",completed:"Completado",cancelled:"Cancelado"},UW={upcoming:"default",active:"default",completed:"secondary",cancelled:"destructive"},zW={upcoming:"bg-blue-500",active:"bg-green-500",completed:"bg-gray-500",cancelled:"bg-red-500"};function BW({program:e,onViewDetails:t}){const{user:r}=Et(),{action:n,isLoading:s,isSuccess:a}=LW(),[o,l]=m.useState(!1),c=()=>{n(e.id,{onSuccess:()=>{l(!0)}})},u=()=>{t&&t(e)},d=e.max_participants&&e.participants>=e.max_participants,f=e.status==="upcoming"&&!d&&!o&&!a;return i.jsxs(be,{className:`hover:shadow-lg transition-shadow ${e.featured?"ring-2 ring-primary/20":""}`,children:[i.jsx(mt,{children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(Te,{variant:"outline",className:"text-xs",children:$W[e.type]}),i.jsx(Te,{variant:UW[e.status],className:zW[e.status],children:FW[e.status]}),e.featured&&i.jsx(Te,{variant:"default",className:"bg-yellow-500 text-white text-xs",children:"Destacado"})]}),i.jsx("h3",{className:"text-xl font-semibold mb-2",children:e.title})]}),i.jsx("div",{className:"text-right",children:i.jsx("div",{className:"text-lg font-bold text-primary",children:e.price||"Gratuito"})})]})}),i.jsxs(we,{className:"space-y-4",children:[i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-3",children:e.description}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{className:"flex items-center text-muted-foreground",children:[i.jsx(lo,{className:"h-4 w-4 mr-2"}),e.duration]}),i.jsxs("div",{className:"flex items-center text-muted-foreground",children:[i.jsx(aa,{className:"h-4 w-4 mr-2"}),e.location||"Online"]}),i.jsxs("div",{className:"flex items-center text-muted-foreground",children:[i.jsx(Gr,{className:"h-4 w-4 mr-2"}),e.participants,"/",e.max_participants||""," plazas"]}),i.jsxs("div",{className:"flex items-center text-muted-foreground",children:[i.jsx(Js,{className:"h-4 w-4 mr-2"}),new Date(e.start_date).toLocaleDateString("es-ES")]})]}),e.skills.length>0&&i.jsx("div",{className:"flex flex-wrap gap-2",children:e.skills.map(h=>i.jsx(Te,{variant:"secondary",className:"text-xs",children:h},h))}),i.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(At,{className:"h-6 w-6",children:i.jsx(Ot,{className:"text-xs",children:e.instructor.split(" ").map(h=>h[0]).join("")})}),i.jsx("span",{className:"text-sm text-muted-foreground",children:e.instructor})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(B,{variant:"outline",size:"sm",onClick:u,children:"Ver detalles"}),f&&i.jsx(B,{size:"sm",onClick:c,disabled:s,children:s?"Inscribiendo...":"Inscribirse"}),(o||a)&&i.jsx(Te,{variant:"default",className:"bg-green-500",children:"Inscrito "}),d&&e.status==="upcoming"&&i.jsx(Te,{variant:"secondary",children:"Completo"})]})]})]})]})}function VW(){const e=et(),t=lt({mutationFn:r=>ow.createProgram(r),onSuccess:()=>{e.invalidateQueries({queryKey:["programs"]})}});return{action:t.mutate,actionAsync:t.mutateAsync,isLoading:t.isPending,isError:t.isError,error:t.error}}function qW(){const[e,t]=m.useState(!1),{action:r,isLoading:n}=VW(),{register:s,handleSubmit:a,formState:{errors:o},reset:l,setValue:c,watch:u}=nw({resolver:sw(AW),defaultValues:{type:"workshop",skills:[],featured:!1}}),[d,f]=m.useState(""),h=u("skills")||[],p=()=>{d.trim()&&!h.includes(d.trim())&&(c("skills",[...h,d.trim()]),f(""))},b=y=>{c("skills",h.filter(x=>x!==y))},g=async y=>{try{await r(y),l(),t(!1)}catch(x){console.error("Error creating program:",x)}};return i.jsxs(Ys,{open:e,onOpenChange:t,children:[i.jsx(IC,{asChild:!0,children:i.jsxs(B,{className:"gap-2",children:[i.jsx(Ji,{className:"h-4 w-4"}),"Crear Programa"]})}),i.jsxs(ms,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[i.jsxs(ps,{children:[i.jsx(gs,{children:"Crear Nuevo Programa"}),i.jsx(vs,{children:"Crea un nuevo programa educativo para la comunidad"})]}),i.jsxs("form",{onSubmit:a(g),className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"title",children:"Ttulo *"}),i.jsx(ye,{id:"title",...s("title"),placeholder:"Ej: Workshop de Design Thinking"}),o.title&&i.jsx("p",{className:"text-sm text-destructive",children:o.title.message})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"description",children:"Descripcin *"}),i.jsx(ni,{id:"description",...s("description"),placeholder:"Describe el programa, qu aprendern los participantes...",rows:4}),o.description&&i.jsx("p",{className:"text-sm text-destructive",children:o.description.message})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"type",children:"Tipo *"}),i.jsxs(ti,{onValueChange:y=>c("type",y),defaultValue:"workshop",children:[i.jsx(ea,{children:i.jsx(ri,{placeholder:"Selecciona tipo"})}),i.jsxs(ta,{children:[i.jsx(tt,{value:"aceleracion",children:"Aceleracin"}),i.jsx(tt,{value:"workshop",children:"Workshop"}),i.jsx(tt,{value:"bootcamp",children:"Bootcamp"}),i.jsx(tt,{value:"mentoria",children:"Mentora"}),i.jsx(tt,{value:"curso",children:"Curso"}),i.jsx(tt,{value:"otro",children:"Otro"})]})]}),o.type&&i.jsx("p",{className:"text-sm text-destructive",children:o.type.message})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"instructor",children:"Instructor *"}),i.jsx(ye,{id:"instructor",...s("instructor"),placeholder:"Nombre del instructor"}),o.instructor&&i.jsx("p",{className:"text-sm text-destructive",children:o.instructor.message})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"start_date",children:"Fecha inicio *"}),i.jsx(ye,{id:"start_date",type:"date",...s("start_date")}),o.start_date&&i.jsx("p",{className:"text-sm text-destructive",children:o.start_date.message})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"end_date",children:"Fecha fin *"}),i.jsx(ye,{id:"end_date",type:"date",...s("end_date")}),o.end_date&&i.jsx("p",{className:"text-sm text-destructive",children:o.end_date.message})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"duration",children:"Duracin *"}),i.jsx(ye,{id:"duration",...s("duration"),placeholder:"Ej: 2 semanas"}),o.duration&&i.jsx("p",{className:"text-sm text-destructive",children:o.duration.message})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"location",children:"Ubicacin"}),i.jsx(ye,{id:"location",...s("location"),placeholder:"Madrid, Online..."})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"price",children:"Precio"}),i.jsx(ye,{id:"price",...s("price"),placeholder:"150, Gratuito..."})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"max_participants",children:"Plazas mximas"}),i.jsx(ye,{id:"max_participants",type:"number",...s("max_participants",{valueAsNumber:!0}),placeholder:"30"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{children:"Habilidades *"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(ye,{value:d,onChange:y=>f(y.target.value),onKeyPress:y=>{y.key==="Enter"&&(y.preventDefault(),p())},placeholder:"Aade una habilidad y presiona Enter"}),i.jsx(B,{type:"button",onClick:p,variant:"outline",children:"Aadir"})]}),i.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:h.map(y=>i.jsxs("div",{className:"bg-primary/10 text-primary px-3 py-1 rounded-full text-sm flex items-center gap-2",children:[y,i.jsx("button",{type:"button",onClick:()=>b(y),className:"hover:text-destructive",children:""})]},y))}),o.skills&&i.jsx("p",{className:"text-sm text-destructive",children:o.skills.message})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"image_url",children:"URL de imagen"}),i.jsx(ye,{id:"image_url",...s("image_url"),placeholder:"https://example.com/image.jpg"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",id:"featured",...s("featured"),className:"rounded"}),i.jsx(je,{htmlFor:"featured",className:"cursor-pointer",children:"Destacar este programa"})]}),i.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[i.jsx(B,{type:"button",variant:"outline",onClick:()=>{l(),t(!1)},children:"Cancelar"}),i.jsx(B,{type:"submit",disabled:n,children:n?"Creando...":"Crear Programa"})]})]})]})]})}function r_(){const[e,t]=m.useState("upcoming"),r=e==="all"?{}:{status:e},{data:n,isLoading:s,isError:a}=DW(r),o=(n==null?void 0:n.programs)||[],l=(n==null?void 0:n.total)||0,c={active:o.filter(u=>u.status==="active").length,participants:o.reduce((u,d)=>u+d.participants,0),completionRate:85,averageRating:4.8};return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted",children:[i.jsx(Hr,{}),i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary to-emerald-600 rounded-xl flex items-center justify-center",children:i.jsx(Js,{className:"h-6 w-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Programas"}),i.jsx("p",{className:"text-muted-foreground",children:"Descubre cursos, talleres y programas de aceleracin"})]})]}),i.jsx(qW,{})]}),i.jsxs("div",{className:"flex space-x-1 bg-muted p-1 rounded-lg w-fit",children:[i.jsx(B,{variant:e==="upcoming"?"default":"ghost",size:"sm",onClick:()=>t("upcoming"),children:"Prximos"}),i.jsx(B,{variant:e==="active"?"default":"ghost",size:"sm",onClick:()=>t("active"),children:"En curso"}),i.jsx(B,{variant:e==="completed"?"default":"ghost",size:"sm",onClick:()=>t("completed"),children:"Completados"}),i.jsx(B,{variant:e==="all"?"default":"ghost",size:"sm",onClick:()=>t("all"),children:"Todos"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[i.jsx(be,{children:i.jsxs(we,{className:"p-6 text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-primary mb-2",children:c.active}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Programas activos"})]})}),i.jsx(be,{children:i.jsxs(we,{className:"p-6 text-center",children:[i.jsxs("div",{className:"text-2xl font-bold text-primary mb-2",children:[c.participants,"+"]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Participantes"})]})}),i.jsx(be,{children:i.jsxs(we,{className:"p-6 text-center",children:[i.jsxs("div",{className:"text-2xl font-bold text-primary mb-2",children:[c.completionRate,"%"]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Tasa de finalizacin"})]})}),i.jsx(be,{children:i.jsxs(we,{className:"p-6 text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-primary mb-2",children:c.averageRating}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Puntuacin media"})]})})]}),s&&i.jsx("div",{className:"text-center py-12",children:i.jsx("p",{className:"text-muted-foreground",children:"Cargando programas..."})}),a&&i.jsx(be,{className:"text-center py-12",children:i.jsx(we,{children:i.jsx("p",{className:"text-destructive",children:"Error al cargar los programas. Por favor, intenta de nuevo."})})}),!s&&!a&&i.jsxs(i.Fragment,{children:[o.length>0?i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:o.map(u=>i.jsx(BW,{program:u,onViewDetails:d=>{console.log("Ver detalles de:",d.title)}},u.id))}):i.jsx(be,{className:"text-center py-12",children:i.jsxs(we,{children:[i.jsx(Js,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"No hay programas disponibles en esta categora"}),e!=="all"&&i.jsx(B,{variant:"link",onClick:()=>t("all"),className:"mt-2",children:"Ver todos los programas"})]})}),o.length>0&&i.jsxs("div",{className:"text-center mt-8 text-sm text-muted-foreground",children:["Mostrando ",o.length," de ",l," programas"]})]})]})]})}const WW=G({name:P().min(1,"El nombre es requerido").max(100,"El nombre es demasiado largo"),bio:P().max(500,"La biografa es demasiado larga").optional().nullable(),location:P().max(100,"La ubicacin es demasiado larga").optional().nullable(),linkedin_url:P().url("URL invlida").or(Ac("")).optional().nullable(),website_url:P().url("URL invlida").or(Ac("")).optional().nullable()});function HW({user:e}){var R,T,z,D,q,F;const{toast:t}=ql(),r=et(),[n,s]=m.useState(e.skills||[]),[a,o]=m.useState(""),[l,c]=m.useState(e.interests||[]),[u,d]=m.useState(""),[f,h]=m.useState(!1),[p,b]=m.useState(!1),{register:g,handleSubmit:y,formState:{errors:x,isDirty:v}}=nw({resolver:sw(WW),defaultValues:{name:e.name||"",bio:e.bio||"",location:e.location||"",linkedin_url:e.linkedin_url||"",website_url:e.website_url||""}}),w=()=>{a.trim()&&!n.includes(a.trim())&&(s([...n,a.trim()]),o(""))},j=M=>{s(n.filter(V=>V!==M))},_=()=>{u.trim()&&!l.includes(u.trim())&&(c([...l,u.trim()]),d(""))},S=M=>{c(l.filter(V=>V!==M))},N=async M=>{h(!0);try{await xe.put(`/users/${e.id}`,{name:M.name,bio:M.bio||null,location:M.location||null,linkedin_url:M.linkedin_url||null,website_url:M.website_url||null,skills:n,interests:l}),await r.invalidateQueries({queryKey:["auth","currentUser"]}),t({title:"Perfil actualizado",description:"Tu perfil se ha actualizado correctamente"})}catch(V){console.error("Error updating profile:",V),t({title:"Error",description:"No se pudo actualizar el perfil. Por favor, intntalo de nuevo.",variant:"destructive"})}finally{h(!1)}},C=async()=>{await r.invalidateQueries({queryKey:["auth","currentUser"]}),t({title:"Foto actualizada",description:"Tu foto de perfil se ha actualizado correctamente"})};return i.jsxs("form",{onSubmit:y(N),className:"space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"name",children:"Nombre *"}),i.jsx(ye,{id:"name",...g("name"),placeholder:"Tu nombre completo"}),x.name&&i.jsx("p",{className:"text-sm text-destructive",children:x.name.message})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"email",children:"Correo electrnico"}),i.jsx(ye,{id:"email",value:e.email||"",disabled:!0,className:"bg-muted cursor-not-allowed"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Para modificar tu correo, contacta al administrador"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{children:"Foto de perfil"}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs(At,{className:"w-20 h-20",children:[i.jsx(Ft,{src:e.avatar_url||"",alt:e.name||"Usuario"}),i.jsx(Ot,{className:"text-xl bg-gradient-to-br from-primary to-primary/80 text-white",children:((T=(R=e.name)==null?void 0:R.charAt(0))==null?void 0:T.toUpperCase())||((D=(z=e.email)==null?void 0:z.charAt(0))==null?void 0:D.toUpperCase())||"U"})]}),i.jsxs("div",{className:"flex-1",children:[i.jsxs(B,{type:"button",variant:"outline",onClick:()=>b(!0),className:"w-full sm:w-auto",children:[i.jsx(GE,{className:"h-4 w-4 mr-2"}),e.avatar_url?"Cambiar foto":"Subir foto"]}),i.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"JPG, PNG o GIF. Mximo 5MB."})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"bio",children:"Biografa"}),i.jsx(ni,{id:"bio",...g("bio"),placeholder:"Cuntanos sobre ti...",rows:4}),x.bio&&i.jsx("p",{className:"text-sm text-destructive",children:x.bio.message})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"location",children:"Ubicacin"}),i.jsx(ye,{id:"location",...g("location"),placeholder:"Ciudad, Pas"}),x.location&&i.jsx("p",{className:"text-sm text-destructive",children:x.location.message})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"linkedin_url",children:"LinkedIn"}),i.jsx(ye,{id:"linkedin_url",...g("linkedin_url"),placeholder:"https://linkedin.com/in/tu-perfil",type:"url"}),x.linkedin_url&&i.jsx("p",{className:"text-sm text-destructive",children:x.linkedin_url.message})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"website_url",children:"Sitio web"}),i.jsx(ye,{id:"website_url",...g("website_url"),placeholder:"https://tu-sitio.com",type:"url"}),x.website_url&&i.jsx("p",{className:"text-sm text-destructive",children:x.website_url.message})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{children:"Habilidades"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(ye,{value:a,onChange:M=>o(M.target.value),placeholder:"Aade una habilidad",onKeyDown:M=>{M.key==="Enter"&&(M.preventDefault(),w())}}),i.jsx(B,{type:"button",variant:"outline",size:"icon",onClick:w,children:i.jsx(Ji,{className:"h-4 w-4"})})]}),i.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:n.map(M=>i.jsxs(Te,{variant:"secondary",className:"gap-1",children:[M,i.jsx("button",{type:"button",onClick:()=>j(M),className:"ml-1 hover:text-destructive",children:i.jsx(Or,{className:"h-3 w-3"})})]},M))})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{children:"Intereses"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(ye,{value:u,onChange:M=>d(M.target.value),placeholder:"Aade un inters",onKeyDown:M=>{M.key==="Enter"&&(M.preventDefault(),_())}}),i.jsx(B,{type:"button",variant:"outline",size:"icon",onClick:_,children:i.jsx(Ji,{className:"h-4 w-4"})})]}),i.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:l.map(M=>i.jsxs(Te,{variant:"secondary",className:"gap-1",children:[M,i.jsx("button",{type:"button",onClick:()=>S(M),className:"ml-1 hover:text-destructive",children:i.jsx(Or,{className:"h-3 w-3"})})]},M))})]}),i.jsx("div",{className:"flex justify-end",children:i.jsx(B,{type:"submit",disabled:f||!v&&n.length===(((q=e.skills)==null?void 0:q.length)||0)&&l.length===(((F=e.interests)==null?void 0:F.length)||0),children:f?i.jsxs(i.Fragment,{children:[i.jsx(_t,{className:"mr-2 h-4 w-4 animate-spin"}),"Guardando..."]}):"Guardar cambios"})}),i.jsx(bk,{open:p,onOpenChange:b,onPhotoUpdated:C})]})}function KW(){const e=lt({mutationFn:t=>oo.changePassword(t)});return{action:e.mutate,isLoading:e.isPending,error:e.error,isSuccess:e.isSuccess,data:e.data}}function GW({open:e,onOpenChange:t}){const{action:r,isLoading:n,error:s,isSuccess:a}=KW(),[o,l]=m.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[c,u]=m.useState({}),[d,f]=m.useState(!1),[h,p]=m.useState(!1),[b,g]=m.useState(!1);m.useEffect(()=>{e||(l({currentPassword:"",newPassword:"",confirmPassword:""}),u({}),f(!1),p(!1),g(!1))},[e]),m.useEffect(()=>{a&&setTimeout(()=>{t(!1)},1500)},[a,t]);const y=v=>w=>{l(j=>({...j,[v]:w.target.value})),c[v]&&u(j=>{const _={...j};return delete _[v],_})},x=v=>{v.preventDefault(),u({});try{const w=oF.parse(o);r(w)}catch(w){if(w instanceof ln){const j={};w.errors.forEach(_=>{_.path[0]&&(j[_.path[0]]=_.message)}),u(j)}}};return i.jsx(Ys,{open:e,onOpenChange:t,children:i.jsxs(ms,{className:"sm:max-w-md",children:[i.jsxs(ps,{children:[i.jsxs(gs,{className:"flex items-center gap-2",children:[i.jsx(Nl,{className:"h-5 w-5 text-primary"}),"Cambiar Contrasea"]}),i.jsx(vs,{children:"Introduce tu contrasea actual y elige una nueva contrasea segura"})]}),i.jsxs("form",{onSubmit:x,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"currentPassword",children:"Contrasea actual"}),i.jsxs("div",{className:"relative",children:[i.jsx(ye,{id:"currentPassword",type:d?"text":"password",value:o.currentPassword,onChange:y("currentPassword"),disabled:n||a,className:c.currentPassword?"border-red-500":""}),i.jsx("button",{type:"button",onClick:()=>f(!d),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:d?i.jsx(Oc,{className:"h-4 w-4"}):i.jsx(ls,{className:"h-4 w-4"})})]}),c.currentPassword&&i.jsx("p",{className:"text-sm text-red-600",children:c.currentPassword})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"newPassword",children:"Nueva contrasea"}),i.jsxs("div",{className:"relative",children:[i.jsx(ye,{id:"newPassword",type:h?"text":"password",value:o.newPassword,onChange:y("newPassword"),disabled:n||a,className:c.newPassword?"border-red-500":""}),i.jsx("button",{type:"button",onClick:()=>p(!h),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:h?i.jsx(Oc,{className:"h-4 w-4"}):i.jsx(ls,{className:"h-4 w-4"})})]}),c.newPassword&&i.jsx("p",{className:"text-sm text-red-600",children:c.newPassword}),i.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[i.jsx("p",{className:"font-medium",children:"La contrasea debe contener:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-0.5 ml-2",children:[i.jsx("li",{children:"Mnimo 8 caracteres"}),i.jsx("li",{children:"Al menos una letra mayscula"}),i.jsx("li",{children:"Al menos una letra minscula"}),i.jsx("li",{children:"Al menos un nmero"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"confirmPassword",children:"Confirmar nueva contrasea"}),i.jsxs("div",{className:"relative",children:[i.jsx(ye,{id:"confirmPassword",type:b?"text":"password",value:o.confirmPassword,onChange:y("confirmPassword"),disabled:n||a,className:c.confirmPassword?"border-red-500":""}),i.jsx("button",{type:"button",onClick:()=>g(!b),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:b?i.jsx(Oc,{className:"h-4 w-4"}):i.jsx(ls,{className:"h-4 w-4"})})]}),c.confirmPassword&&i.jsx("p",{className:"text-sm text-red-600",children:c.confirmPassword})]}),s&&i.jsx("div",{className:"text-sm text-red-600 bg-red-50 border border-red-200 rounded-xl p-4",children:s instanceof Error?s.message:"Error al cambiar la contrasea"}),a&&i.jsx("div",{className:"text-sm text-green-600 bg-green-50 border border-green-200 rounded-xl p-4",children:"Contrasea cambiada exitosamente!"}),i.jsxs("div",{className:"flex gap-3 pt-4",children:[i.jsx(B,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:n,className:"flex-1",children:"Cancelar"}),i.jsx(B,{type:"submit",disabled:n||a,className:"flex-1",children:n?"Cambiando...":"Cambiar Contrasea"})]})]})]})})}function QW(){var n,s;const{user:e}=Et(),[t,r]=m.useState(!1);return e?i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted",children:[i.jsx(Hr,{}),i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[i.jsx("div",{className:"mb-8",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary to-emerald-600 rounded-xl flex items-center justify-center",children:i.jsx(uu,{className:"h-6 w-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Mi Perfil"}),i.jsx("p",{className:"text-muted-foreground",children:"Completa tu informacin para conectar mejor con otros miembros"})]})]})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[i.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[i.jsxs(be,{children:[i.jsxs(mt,{children:[i.jsxs(ht,{className:"flex items-center",children:[i.jsx(cu,{className:"h-5 w-5 mr-2"}),"Completado del perfil"]}),i.jsx(ur,{children:"Mejora tu visibilidad completando toda tu informacin"})]}),i.jsx(we,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"text-3xl font-bold text-primary mb-2",children:[e.completed_pct||30,"%"]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Completado"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{children:"Informacin bsica"}),i.jsx("span",{className:e.name?"text-green-600":"text-yellow-600",children:e.name?"":""})]}),i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{children:"Foto de perfil"}),i.jsx("span",{className:e.avatar_url?"text-green-600":"text-yellow-600",children:e.avatar_url?"":""})]}),i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{children:"Biografa"}),i.jsx("span",{className:e.bio?"text-green-600":"text-yellow-600",children:e.bio?"":""})]}),i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{children:"Habilidades"}),i.jsx("span",{className:(n=e.skills)!=null&&n.length?"text-green-600":"text-yellow-600",children:(s=e.skills)!=null&&s.length?"":""})]}),i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{children:"Enlaces sociales"}),i.jsx("span",{className:e.linkedin_url||e.website_url?"text-green-600":"text-yellow-600",children:e.linkedin_url||e.website_url?"":""})]})]})]})})]}),i.jsxs(be,{children:[i.jsxs(mt,{children:[i.jsxs(ht,{className:"flex items-center",children:[i.jsx(Nl,{className:"h-5 w-5 mr-2"}),"Seguridad"]}),i.jsx(ur,{children:"Gestiona la seguridad de tu cuenta"})]}),i.jsx(we,{children:i.jsxs(B,{onClick:()=>r(!0),variant:"outline",className:"w-full",children:[i.jsx(Nl,{className:"h-4 w-4 mr-2"}),"Cambiar Contrasea"]})})]})]}),i.jsx("div",{className:"lg:col-span-2",children:i.jsxs(be,{children:[i.jsxs(mt,{children:[i.jsx(ht,{children:"Informacin del perfil"}),i.jsx(ur,{children:"Actualiza tu informacin personal y profesional"})]}),i.jsx(we,{children:i.jsx(HW,{user:e})})]})})]})]}),i.jsx(GW,{open:t,onOpenChange:r})]}):i.jsx("div",{children:"Cargando..."})}function JW(){var v,w,j,_,S,N,C;const{userId:e}=Nu(),t=vt(),{user:r}=Et(),{data:n,isLoading:s}=Ut({queryKey:["user-profile",e],queryFn:async()=>(await xe.get(`/users/${e}`)).data.user,enabled:!!e}),{data:a}=Nx(e||""),{action:o,isLoading:l}=Sx(),{action:c,isLoading:u}=zu(),d=(r==null?void 0:r.id)===e,f=a==null?void 0:a.status,h=(v=a==null?void 0:a.connection)==null?void 0:v.id,p=((w=a==null?void 0:a.connection)==null?void 0:w.requester_id)===(r==null?void 0:r.id),b=((j=a==null?void 0:a.connection)==null?void 0:j.addressee_id)===(r==null?void 0:r.id),g=()=>{e&&o({addressee_id:e})},y=()=>{h&&c({connection_id:h,status:"accepted"})},x=()=>{t(`/messages?userId=${e}`)};return s?i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted",children:[i.jsx(Hr,{}),i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[i.jsx(dr,{className:"h-8 w-48 mb-8"}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[i.jsx("div",{className:"lg:col-span-1",children:i.jsx(dr,{className:"h-96"})}),i.jsx("div",{className:"lg:col-span-2",children:i.jsx(dr,{className:"h-64"})})]})]})]}):n?i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted",children:[i.jsx(Hr,{}),i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[i.jsxs(B,{variant:"ghost",onClick:()=>t(-1),className:"mb-6",children:[i.jsx(In,{className:"h-4 w-4 mr-2"}),"Volver"]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[i.jsx("div",{className:"lg:col-span-1",children:i.jsx(be,{children:i.jsx(we,{className:"p-6",children:i.jsxs("div",{className:"flex flex-col items-center text-center",children:[i.jsxs(At,{className:"h-32 w-32 mb-4",children:[i.jsx(Ft,{src:n.avatar_url||void 0,alt:n.name}),i.jsx(Ot,{className:"bg-gradient-to-br from-primary to-primary/80 text-white text-3xl",children:((S=(_=n.name)==null?void 0:_.charAt(0))==null?void 0:S.toUpperCase())||((C=(N=n.email)==null?void 0:N.charAt(0))==null?void 0:C.toUpperCase())})]}),i.jsx("h1",{className:"text-2xl font-bold mb-1",children:n.name}),i.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:n.email}),!d&&i.jsxs("div",{className:"w-full space-y-2 mb-6",children:[f===null&&i.jsx(B,{className:"w-full",onClick:g,disabled:l,children:l?i.jsxs(i.Fragment,{children:[i.jsx(_t,{className:"h-4 w-4 mr-2 animate-spin"}),"Enviando..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Xa,{className:"h-4 w-4 mr-2"}),"Conectar"]})}),f==="pending"&&b&&i.jsx(B,{className:"w-full",onClick:y,disabled:u,children:u?i.jsxs(i.Fragment,{children:[i.jsx(_t,{className:"h-4 w-4 mr-2 animate-spin"}),"Aceptando..."]}):i.jsxs(i.Fragment,{children:[i.jsx(hs,{className:"h-4 w-4 mr-2"}),"Aceptar solicitud"]})}),f==="pending"&&p&&i.jsxs(Te,{variant:"secondary",className:"w-full py-2 justify-center",children:[i.jsx(Xa,{className:"h-4 w-4 mr-2"}),"Solicitud enviada"]}),f==="accepted"&&i.jsxs(Te,{variant:"default",className:"w-full py-2 justify-center",children:[i.jsx(hs,{className:"h-4 w-4 mr-2"}),"Conectado"]}),i.jsxs(B,{variant:"outline",className:"w-full",onClick:x,children:[i.jsx(Iu,{className:"h-4 w-4 mr-2"}),"Enviar mensaje"]})]}),n.location&&i.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-4",children:[i.jsx(aa,{className:"h-4 w-4"}),i.jsx("span",{className:"text-sm",children:n.location})]}),i.jsxs("div",{className:"w-full space-y-2",children:[n.linkedin_url&&i.jsxs("a",{href:n.linkedin_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm text-primary hover:underline",children:[i.jsx(eC,{className:"h-4 w-4"}),"LinkedIn"]}),n.website_url&&i.jsxs("a",{href:n.website_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm text-primary hover:underline",children:[i.jsx(M3,{className:"h-4 w-4"}),"Sitio web"]})]})]})})})}),i.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.bio&&i.jsx(be,{children:i.jsxs(we,{className:"p-6",children:[i.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Acerca de"}),i.jsx("p",{className:"text-muted-foreground whitespace-pre-wrap",children:n.bio})]})}),n.skills&&n.skills.length>0&&i.jsx(be,{children:i.jsxs(we,{className:"p-6",children:[i.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Habilidades"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:n.skills.map(R=>i.jsx(Te,{variant:"secondary",children:R},R))})]})}),n.interests&&n.interests.length>0&&i.jsx(be,{children:i.jsxs(we,{className:"p-6",children:[i.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Intereses"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:n.interests.map(R=>i.jsx(Te,{variant:"outline",children:R},R))})]})})]})]})]})]}):i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted",children:[i.jsx(Hr,{}),i.jsx("div",{className:"container mx-auto px-4 py-8",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Usuario no encontrado"}),i.jsx(B,{onClick:()=>t("/network"),children:"Volver a Mi Red"})]})})]})}function YW(){const{isAdmin:e,isLoading:t}=Uu(),r=vt();return m.useEffect(()=>{!t&&!e&&r("/")},[e,t,r]),t?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):e?i.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[i.jsxs(B,{variant:"ghost",onClick:()=>r("/dashboard"),className:"mb-6 hover:bg-gray-100",children:[i.jsx(In,{className:"h-4 w-4 mr-2"}),"Volver al Dashboard"]}),i.jsxs("div",{className:"mb-8",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx(ix,{className:"h-8 w-8 text-primary"}),i.jsx("h1",{className:"text-3xl font-bold",children:"Panel de Gestin"})]}),i.jsx("p",{className:"text-muted-foreground",children:"Herramientas de administracin y gestin del sistema"})]}),i.jsxs("div",{className:"bg-primary/10 border border-primary/20 rounded-xl p-4 mb-8 flex items-start gap-3",children:[i.jsx(Gf,{className:"h-5 w-5 text-primary mt-0.5 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-primary",children:"Acceso de Administrador"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Ests visualizando esta pgina con permisos de administrador. Ten cuidado con las acciones que realices."})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:i.jsx(Gr,{className:"h-6 w-6 text-blue-600"})}),i.jsx("h2",{className:"text-xl font-semibold",children:"Usuarios"})]}),i.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"Administra usuarios, roles y permisos del sistema"}),i.jsx("button",{onClick:()=>r("/gestion/usuarios"),className:"text-primary hover:underline text-sm font-medium",children:"Ver usuarios "})]}),i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:i.jsx(nj,{className:"h-6 w-6 text-green-600"})}),i.jsx("h2",{className:"text-xl font-semibold",children:"Aprobaciones"})]}),i.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"Gestiona solicitudes de registro pendientes"}),i.jsx("button",{onClick:()=>r("/signup-approval"),className:"text-primary hover:underline text-sm font-medium",children:"Ver solicitudes "})]}),i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:i.jsx(QE,{className:"h-6 w-6 text-purple-600"})}),i.jsx("h2",{className:"text-xl font-semibold",children:"Estadsticas"})]}),i.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"Mtricas y anlisis de uso de la plataforma"}),i.jsx("button",{onClick:()=>r("/gestion/estadisticas"),className:"text-primary hover:underline text-sm font-medium",children:"Ver estadsticas "})]}),i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:i.jsx(cu,{className:"h-6 w-6 text-orange-600"})}),i.jsx("h2",{className:"text-xl font-semibold",children:"Configuracin"})]}),i.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"Ajustes generales del sistema y plataforma"}),i.jsx("button",{onClick:()=>r("/gestion/configuracion"),className:"text-primary hover:underline text-sm font-medium",children:"Configurar "})]}),i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"p-3 bg-indigo-100 rounded-lg",children:i.jsx(nj,{className:"h-6 w-6 text-indigo-600"})}),i.jsx("h2",{className:"text-xl font-semibold",children:"Contenido"})]}),i.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"Gestiona oportunidades, proyectos y recursos"}),i.jsx("button",{className:"text-primary hover:underline text-sm font-medium",children:"Gestionar contenido "})]}),i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"p-3 bg-red-100 rounded-lg",children:i.jsx(Gf,{className:"h-6 w-6 text-red-600"})}),i.jsx("h2",{className:"text-xl font-semibold",children:"Reportes"})]}),i.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"Revisa reportes y contenido denunciado"}),i.jsx("button",{className:"text-primary hover:underline text-sm font-medium",children:"Ver reportes "})]})]}),i.jsxs("div",{className:"mt-8 bg-gray-50 rounded-xl border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Informacin del Sistema"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Versin"}),i.jsx("p",{className:"font-medium",children:"1.0.0"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Entorno"}),i.jsx("p",{className:"font-medium",children:"production"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Base de Datos"}),i.jsx("p",{className:"font-medium",children:"Supabase PostgreSQL"})]})]})]})]}):null}const XW=G({id:P().uuid(),email:P().email(),name:P(),avatar_url:P().nullable().optional(),bio:P().nullable().optional(),location:P().nullable().optional(),linkedin_url:P().nullable().optional(),website_url:P().nullable().optional(),skills:We(P()).default([]),interests:We(P()).default([]),roles:We(P()).default([]),completed_pct:Ae().min(0).max(100),created_at:P(),updated_at:P()}),ZW=G({users:We(XW),count:Ae()}),e9={async getAllUsers(){const e=await xe.get("/admin/users");return ZW.parse(e.data)}},t9=["admin","users"];function fT(){return Ut({queryKey:t9,queryFn:()=>e9.getAllUsers(),staleTime:1e3*60*5,retry:1})}function r9(){const{data:e,isLoading:t,error:r}=fT(),[n,s]=m.useState("");if(t)return i.jsx("div",{className:"flex items-center justify-center p-12",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Cargando usuarios..."})]})});if(r)return i.jsx("div",{className:"p-6 bg-red-50 border border-red-200 rounded-xl",children:i.jsxs("p",{className:"text-red-800",children:["Error al cargar usuarios: ",r.message]})});const o=((e==null?void 0:e.users)||[]).filter(c=>{const u=n.toLowerCase();return c.name.toLowerCase().includes(u)||c.email.toLowerCase().includes(u)||c.roles.some(d=>d.toLowerCase().includes(u))||c.location&&c.location.toLowerCase().includes(u)}),l=c=>{switch(c.toLowerCase()){case"admin":return"bg-red-100 text-red-800 hover:bg-red-100";case"mentor":return"bg-blue-100 text-blue-800 hover:bg-blue-100";case"emprendedor":return"bg-green-100 text-green-800 hover:bg-green-100";default:return"bg-gray-100 text-gray-800 hover:bg-gray-100"}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Gestin de Usuarios"}),i.jsxs("p",{className:"text-gray-600 mt-1",children:["Total: ",o.length," usuarios"]})]}),i.jsxs("div",{className:"relative w-full max-w-md",children:[i.jsx(fs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),i.jsx(ye,{type:"text",placeholder:"Buscar por nombre, email, rol o ubicacin...",value:n,onChange:c=>s(c.target.value),className:"pl-10"})]})]}),o.length===0?i.jsx("div",{className:"text-center p-12 bg-gray-50 rounded-xl",children:i.jsx("p",{className:"text-gray-600",children:n?"No se encontraron usuarios que coincidan con la bsqueda.":"No hay usuarios registrados."})}):i.jsx("div",{className:"border rounded-xl bg-white overflow-hidden",children:i.jsxs(Hh,{children:[i.jsx(Kh,{children:i.jsxs(Ka,{children:[i.jsx(tr,{children:"Nombre"}),i.jsx(tr,{children:"Email"}),i.jsx(tr,{children:"Roles"}),i.jsx(tr,{children:"Ubicacin"}),i.jsx(tr,{children:"Perfil"}),i.jsx(tr,{children:"Fecha de Registro"})]})}),i.jsx(Gh,{children:o.map(c=>i.jsxs(Ka,{children:[i.jsx(Gt,{className:"font-medium",children:c.name}),i.jsx(Gt,{className:"text-gray-600",children:c.email}),i.jsx(Gt,{children:i.jsx("div",{className:"flex gap-1 flex-wrap",children:c.roles.length>0?c.roles.map(u=>i.jsx(Te,{variant:"secondary",className:l(u),children:u},u)):i.jsx("span",{className:"text-gray-400 text-sm",children:"Sin roles"})})}),i.jsx(Gt,{className:"text-gray-600",children:c.location||i.jsx("span",{className:"text-gray-400",children:"-"})}),i.jsx(Gt,{children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 max-w-[80px]",children:i.jsx("div",{className:"bg-primary h-2 rounded-full transition-all",style:{width:`${c.completed_pct}%`}})}),i.jsxs("span",{className:"text-sm text-gray-600 min-w-[40px]",children:[c.completed_pct,"%"]})]})}),i.jsx(Gt,{className:"text-gray-600",children:new Date(c.created_at).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric"})})]},c.id))})]})})]})}function n9(){const{isAdmin:e,isLoading:t}=Uu(),r=vt();return m.useEffect(()=>{!t&&!e&&r("/")},[e,t,r]),t?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):e?i.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[i.jsxs(B,{variant:"ghost",onClick:()=>r("/gestion"),className:"mb-6 hover:bg-gray-100",children:[i.jsx(In,{className:"h-4 w-4 mr-2"}),"Volver a Gestin"]}),i.jsxs("div",{className:"mb-8",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx(Gr,{className:"h-8 w-8 text-primary"}),i.jsx("h1",{className:"text-3xl font-bold",children:"Gestin de Usuarios"})]}),i.jsx("p",{className:"text-muted-foreground",children:"Visualiza y administra los usuarios del sistema"})]}),i.jsx(r9,{})]}):null}const s9=G({totalUsers:Ae().int().min(0),usersByRole:nF(P(),Ae().int().min(0)),totalOpportunities:Ae().int().min(0),activeConnections:Ae().int().min(0),pendingSignups:Ae().int().min(0)}),a9=G({statistics:s9}),i9={async getStatistics(){const e=await xe.get("/admin/statistics");return a9.parse(e.data)}},o9=["admin","statistics"];function l9(){return Ut({queryKey:o9,queryFn:()=>i9.getStatistics(),staleTime:1e3*60*2,retry:1})}function c9(){const{data:e,isLoading:t,error:r}=l9();if(t)return i.jsx("div",{className:"flex items-center justify-center p-12",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Cargando estadsticas..."})]})});if(r)return i.jsx("div",{className:"p-6 bg-red-50 border border-red-200 rounded-xl",children:i.jsxs("p",{className:"text-red-800",children:["Error al cargar estadsticas: ",r.message]})});const n=e==null?void 0:e.statistics;if(!n)return null;const s=Object.entries(n.usersByRole),a=o=>{switch(o.toLowerCase()){case"admin":return"bg-red-100 text-red-800";case"mentor":return"bg-blue-100 text-blue-800";case"emprendedor":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:i.jsx(Gr,{className:"h-6 w-6 text-blue-600"})}),i.jsx("span",{className:"text-3xl font-bold text-gray-900",children:n.totalUsers})]}),i.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Total Usuarios"})]}),i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:i.jsx(Qs,{className:"h-6 w-6 text-purple-600"})}),i.jsx("span",{className:"text-3xl font-bold text-gray-900",children:n.totalOpportunities})]}),i.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Oportunidades"})]}),i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:i.jsx(I3,{className:"h-6 w-6 text-green-600"})}),i.jsx("span",{className:"text-3xl font-bold text-gray-900",children:n.activeConnections})]}),i.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Conexiones Activas"})]}),i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:i.jsx(lo,{className:"h-6 w-6 text-yellow-600"})}),i.jsx("span",{className:"text-3xl font-bold text-gray-900",children:n.pendingSignups})]}),i.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Solicitudes Pendientes"})]})]}),i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx(hs,{className:"h-6 w-6 text-primary"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Usuarios por Rol"})]}),s.length===0?i.jsx("p",{className:"text-gray-500 text-center py-4",children:"No hay roles asignados"}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:s.map(([o,l])=>i.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-gray-200",children:[i.jsx("div",{children:i.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${a(o)}`,children:o})}),i.jsx("span",{className:"text-2xl font-bold text-gray-900",children:l})]},o))})]})]})}function u9(){const{isAdmin:e,isLoading:t}=Uu(),r=vt();return m.useEffect(()=>{!t&&!e&&r("/")},[e,t,r]),t?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):e?i.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[i.jsxs(B,{variant:"ghost",onClick:()=>r("/gestion"),className:"mb-6 hover:bg-gray-100",children:[i.jsx(In,{className:"h-4 w-4 mr-2"}),"Volver a Gestin"]}),i.jsxs("div",{className:"mb-8",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx(QE,{className:"h-8 w-8 text-primary"}),i.jsx("h1",{className:"text-3xl font-bold",children:"Estadsticas de la Plataforma"})]}),i.jsx("p",{className:"text-muted-foreground",children:"Mtricas y anlisis de uso del sistema"})]}),i.jsx(c9,{})]}):null}var hT="AlertDialog",[d9]=gr(hT,[pC]),ia=pC(),mT=e=>{const{__scopeAlertDialog:t,...r}=e,n=ia(t);return i.jsx(TC,{...n,...r,modal:!0})};mT.displayName=hT;var f9="AlertDialogTrigger",h9=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=ia(r);return i.jsx(AC,{...s,...n,ref:t})});h9.displayName=f9;var m9="AlertDialogPortal",pT=e=>{const{__scopeAlertDialog:t,...r}=e,n=ia(t);return i.jsx(OC,{...n,...r})};pT.displayName=m9;var p9="AlertDialogOverlay",gT=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=ia(r);return i.jsx(hx,{...s,...n,ref:t})});gT.displayName=p9;var Yo="AlertDialogContent",[g9,v9]=d9(Yo),y9=NF("AlertDialogContent"),vT=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...s}=e,a=ia(r),o=m.useRef(null),l=Re(t,o),c=m.useRef(null);return i.jsx(XU,{contentName:Yo,titleName:yT,docsSlug:"alert-dialog",children:i.jsx(g9,{scope:r,cancelRef:c,children:i.jsxs(mx,{role:"alertdialog",...a,...s,ref:l,onOpenAutoFocus:X(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[i.jsx(y9,{children:n}),i.jsx(w9,{contentRef:o})]})})})});vT.displayName=Yo;var yT="AlertDialogTitle",xT=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=ia(r);return i.jsx(px,{...s,...n,ref:t})});xT.displayName=yT;var wT="AlertDialogDescription",bT=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=ia(r);return i.jsx(gx,{...s,...n,ref:t})});bT.displayName=wT;var x9="AlertDialogAction",jT=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=ia(r);return i.jsx(vx,{...s,...n,ref:t})});jT.displayName=x9;var _T="AlertDialogCancel",ST=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:s}=v9(_T,r),a=ia(r),o=Re(t,s);return i.jsx(vx,{...a,...n,ref:o})});ST.displayName=_T;var w9=({contentRef:e})=>{const t=`\`${Yo}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Yo}\` by passing a \`${wT}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Yo}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return m.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},b9=mT,j9=pT,NT=gT,ET=vT,CT=jT,kT=ST,RT=xT,PT=bT;const TT=b9,_9=j9,AT=m.forwardRef(({className:e,...t},r)=>i.jsx(NT,{className:te("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));AT.displayName=NT.displayName;const lw=m.forwardRef(({className:e,...t},r)=>i.jsxs(_9,{children:[i.jsx(AT,{}),i.jsx(ET,{ref:r,className:te("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));lw.displayName=ET.displayName;const cw=({className:e,...t})=>i.jsx("div",{className:te("flex flex-col space-y-2 text-center sm:text-left",e),...t});cw.displayName="AlertDialogHeader";const uw=({className:e,...t})=>i.jsx("div",{className:te("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});uw.displayName="AlertDialogFooter";const dw=m.forwardRef(({className:e,...t},r)=>i.jsx(RT,{ref:r,className:te("text-lg font-semibold",e),...t}));dw.displayName=RT.displayName;const fw=m.forwardRef(({className:e,...t},r)=>i.jsx(PT,{ref:r,className:te("text-sm text-muted-foreground",e),...t}));fw.displayName=PT.displayName;const hw=m.forwardRef(({className:e,...t},r)=>i.jsx(CT,{ref:r,className:te(Xy(),e),...t}));hw.displayName=CT.displayName;const mw=m.forwardRef(({className:e,...t},r)=>i.jsx(kT,{ref:r,className:te(Xy({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));mw.displayName=kT.displayName;const OT=G({id:Ae(),name:P().min(1),description:P().nullable(),created_at:P()});G({name:P().min(1,"El nombre es requerido"),description:P().optional()});G({name:P().min(1,"El nombre es requerido"),description:P().optional()});const IT=G({key:P(),value:Ih(),description:P().nullable(),data_type:sa(["boolean","number","string","text","json"]),updated_at:P()});G({key:P().min(1,"La clave es requerida"),value:Ih(),description:P().optional(),data_type:sa(["boolean","number","string","text","json"])});G({value:Ih()});const S9=G({user_id:P().uuid(),role_id:Ae(),created_at:P()}),N9=G({roles:We(OT)}),n_=G({role:OT}),E9=G({settings:We(IT)}),Np=G({setting:IT}),C9=G({userRole:S9}),vm={async getAll(){const e=await xe.get("/admin/config/roles");return N9.parse(e.data).roles},async create(e){const t=await xe.post("/admin/config/roles",e);return n_.parse(t.data).role},async update(e,t){const r=await xe.put(`/admin/config/roles/${e}`,t);return n_.parse(r.data).role},async delete(e){await xe.delete(`/admin/config/roles/${e}`)}},MT={async getAll(){const e=await xe.get("/admin/config/settings");return E9.parse(e.data).settings},async getByKey(e){const t=await xe.get(`/admin/config/settings/${e}`);return Np.parse(t.data).setting},async update(e,t){const r=await xe.put(`/admin/config/settings/${e}`,t);return Np.parse(r.data).setting},async create(e){const t=await xe.post("/admin/config/settings",e);return Np.parse(t.data).setting}},DT={async assign(e,t){const r=await xe.post(`/admin/config/users/${e}/roles/${t}`);return C9.parse(r.data).userRole},async remove(e,t){await xe.delete(`/admin/config/users/${e}/roles/${t}`)}},LT=()=>Ut({queryKey:["admin","config","roles"],queryFn:()=>vm.getAll(),staleTime:1e3*60*5});var k9=e=>{switch(e){case"success":return T9;case"info":return O9;case"warning":return A9;case"error":return I9;default:return null}},R9=Array(12).fill(0),P9=({visible:e,className:t})=>U.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},U.createElement("div",{className:"sonner-spinner"},R9.map((r,n)=>U.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),T9=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),A9=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),O9=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),I9=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),M9=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},U.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),U.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),D9=()=>{let[e,t]=U.useState(document.hidden);return U.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},Cv=1,L9=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Cv++,a=this.toasts.find(l=>l.id===s),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),a?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0,a,o=n.then(async c=>{if(a=["resolve",c],U.isValidElement(c))s=!1,this.create({id:r,type:"default",message:c});else if(F9(c)&&!c.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:d})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:d})}}).catch(async c=>{if(a=["reject",c],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:d})}}).finally(()=>{var c;s&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>o.then(()=>a[0]==="reject"?u(a[1]):c(a[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||Cv++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},_r=new L9,$9=(e,t)=>{let r=(t==null?void 0:t.id)||Cv++;return _r.addToast({title:e,...t,id:r}),r},F9=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",U9=$9,z9=()=>_r.toasts,B9=()=>_r.getActiveToasts(),cn=Object.assign(U9,{success:_r.success,info:_r.info,warning:_r.warning,error:_r.error,custom:_r.custom,message:_r.message,promise:_r.promise,dismiss:_r.dismiss,loading:_r.loading},{getHistory:z9,getToasts:B9});function V9(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}V9(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Id(e){return e.label!==void 0}var q9=3,W9="32px",H9="16px",s_=4e3,K9=356,G9=14,Q9=20,J9=200;function yn(...e){return e.filter(Boolean).join(" ")}function Y9(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var X9=e=>{var t,r,n,s,a,o,l,c,u,d,f;let{invert:h,toast:p,unstyled:b,interacting:g,setHeights:y,visibleToasts:x,heights:v,index:w,toasts:j,expanded:_,removeToast:S,defaultRichColors:N,closeButton:C,style:R,cancelButtonStyle:T,actionButtonStyle:z,className:D="",descriptionClassName:q="",duration:F,position:M,gap:V,loadingIcon:Z,expandByDefault:I,classNames:A,icons:H,closeButtonAriaLabel:ie="Close toast",pauseWhenPageIsHidden:ne}=e,[ge,me]=U.useState(null),[Ve,Ke]=U.useState(null),[J,Fe]=U.useState(!1),[De,Ie]=U.useState(!1),[Le,Ue]=U.useState(!1),[zt,ar]=U.useState(!1),[Fn,Un]=U.useState(!1),[bs,fo]=U.useState(0),[js,k]=U.useState(0),O=U.useRef(p.duration||F||s_),$=U.useRef(null),ee=U.useRef(null),Y=w===0,Q=w+1<=x,oe=p.type,$e=p.dismissible!==!1,Ye=p.className||"",xr=p.descriptionClassName||"",_s=U.useMemo(()=>v.findIndex(Ee=>Ee.toastId===p.id)||0,[v,p.id]),zn=U.useMemo(()=>{var Ee;return(Ee=p.closeButton)!=null?Ee:C},[p.closeButton,C]),Gu=U.useMemo(()=>p.duration||F||s_,[p.duration,F]),fi=U.useRef(0),Bn=U.useRef(0),Qu=U.useRef(0),Ss=U.useRef(null),[wm,Ju]=M.split("-"),yw=U.useMemo(()=>v.reduce((Ee,Xe,ct)=>ct>=_s?Ee:Ee+Xe.height,0),[v,_s]),xw=D9(),p2=p.invert||h,bm=oe==="loading";Bn.current=U.useMemo(()=>_s*V+yw,[_s,yw]),U.useEffect(()=>{O.current=Gu},[Gu]),U.useEffect(()=>{Fe(!0)},[]),U.useEffect(()=>{let Ee=ee.current;if(Ee){let Xe=Ee.getBoundingClientRect().height;return k(Xe),y(ct=>[{toastId:p.id,height:Xe,position:p.position},...ct]),()=>y(ct=>ct.filter(hn=>hn.toastId!==p.id))}},[y,p.id]),U.useLayoutEffect(()=>{if(!J)return;let Ee=ee.current,Xe=Ee.style.height;Ee.style.height="auto";let ct=Ee.getBoundingClientRect().height;Ee.style.height=Xe,k(ct),y(hn=>hn.find(mn=>mn.toastId===p.id)?hn.map(mn=>mn.toastId===p.id?{...mn,height:ct}:mn):[{toastId:p.id,height:ct,position:p.position},...hn])},[J,p.title,p.description,y,p.id]);let oa=U.useCallback(()=>{Ie(!0),fo(Bn.current),y(Ee=>Ee.filter(Xe=>Xe.toastId!==p.id)),setTimeout(()=>{S(p)},J9)},[p,S,y,Bn]);U.useEffect(()=>{if(p.promise&&oe==="loading"||p.duration===1/0||p.type==="loading")return;let Ee;return _||g||ne&&xw?(()=>{if(Qu.current<fi.current){let Xe=new Date().getTime()-fi.current;O.current=O.current-Xe}Qu.current=new Date().getTime()})():O.current!==1/0&&(fi.current=new Date().getTime(),Ee=setTimeout(()=>{var Xe;(Xe=p.onAutoClose)==null||Xe.call(p,p),oa()},O.current)),()=>clearTimeout(Ee)},[_,g,p,oe,ne,xw,oa]),U.useEffect(()=>{p.delete&&oa()},[oa,p.delete]);function g2(){var Ee,Xe,ct;return H!=null&&H.loading?U.createElement("div",{className:yn(A==null?void 0:A.loader,(Ee=p==null?void 0:p.classNames)==null?void 0:Ee.loader,"sonner-loader"),"data-visible":oe==="loading"},H.loading):Z?U.createElement("div",{className:yn(A==null?void 0:A.loader,(Xe=p==null?void 0:p.classNames)==null?void 0:Xe.loader,"sonner-loader"),"data-visible":oe==="loading"},Z):U.createElement(P9,{className:yn(A==null?void 0:A.loader,(ct=p==null?void 0:p.classNames)==null?void 0:ct.loader),visible:oe==="loading"})}return U.createElement("li",{tabIndex:0,ref:ee,className:yn(D,Ye,A==null?void 0:A.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,A==null?void 0:A.default,A==null?void 0:A[oe],(r=p==null?void 0:p.classNames)==null?void 0:r[oe]),"data-sonner-toast":"","data-rich-colors":(n=p.richColors)!=null?n:N,"data-styled":!(p.jsx||p.unstyled||b),"data-mounted":J,"data-promise":!!p.promise,"data-swiped":Fn,"data-removed":De,"data-visible":Q,"data-y-position":wm,"data-x-position":Ju,"data-index":w,"data-front":Y,"data-swiping":Le,"data-dismissible":$e,"data-type":oe,"data-invert":p2,"data-swipe-out":zt,"data-swipe-direction":Ve,"data-expanded":!!(_||I&&J),style:{"--index":w,"--toasts-before":w,"--z-index":j.length-w,"--offset":`${De?bs:Bn.current}px`,"--initial-height":I?"auto":`${js}px`,...R,...p.style},onDragEnd:()=>{Ue(!1),me(null),Ss.current=null},onPointerDown:Ee=>{bm||!$e||($.current=new Date,fo(Bn.current),Ee.target.setPointerCapture(Ee.pointerId),Ee.target.tagName!=="BUTTON"&&(Ue(!0),Ss.current={x:Ee.clientX,y:Ee.clientY}))},onPointerUp:()=>{var Ee,Xe,ct,hn;if(zt||!$e)return;Ss.current=null;let mn=Number(((Ee=ee.current)==null?void 0:Ee.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),la=Number(((Xe=ee.current)==null?void 0:Xe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),hi=new Date().getTime()-((ct=$.current)==null?void 0:ct.getTime()),pn=ge==="x"?mn:la,ca=Math.abs(pn)/hi;if(Math.abs(pn)>=Q9||ca>.11){fo(Bn.current),(hn=p.onDismiss)==null||hn.call(p,p),Ke(ge==="x"?mn>0?"right":"left":la>0?"down":"up"),oa(),ar(!0),Un(!1);return}Ue(!1),me(null)},onPointerMove:Ee=>{var Xe,ct,hn,mn;if(!Ss.current||!$e||((Xe=window.getSelection())==null?void 0:Xe.toString().length)>0)return;let la=Ee.clientY-Ss.current.y,hi=Ee.clientX-Ss.current.x,pn=(ct=e.swipeDirections)!=null?ct:Y9(M);!ge&&(Math.abs(hi)>1||Math.abs(la)>1)&&me(Math.abs(hi)>Math.abs(la)?"x":"y");let ca={x:0,y:0};ge==="y"?(pn.includes("top")||pn.includes("bottom"))&&(pn.includes("top")&&la<0||pn.includes("bottom")&&la>0)&&(ca.y=la):ge==="x"&&(pn.includes("left")||pn.includes("right"))&&(pn.includes("left")&&hi<0||pn.includes("right")&&hi>0)&&(ca.x=hi),(Math.abs(ca.x)>0||Math.abs(ca.y)>0)&&Un(!0),(hn=ee.current)==null||hn.style.setProperty("--swipe-amount-x",`${ca.x}px`),(mn=ee.current)==null||mn.style.setProperty("--swipe-amount-y",`${ca.y}px`)}},zn&&!p.jsx?U.createElement("button",{"aria-label":ie,"data-disabled":bm,"data-close-button":!0,onClick:bm||!$e?()=>{}:()=>{var Ee;oa(),(Ee=p.onDismiss)==null||Ee.call(p,p)},className:yn(A==null?void 0:A.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},(a=H==null?void 0:H.close)!=null?a:M9):null,p.jsx||m.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:U.createElement(U.Fragment,null,oe||p.icon||p.promise?U.createElement("div",{"data-icon":"",className:yn(A==null?void 0:A.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||g2():null,p.type!=="loading"?p.icon||(H==null?void 0:H[oe])||k9(oe):null):null,U.createElement("div",{"data-content":"",className:yn(A==null?void 0:A.content,(l=p==null?void 0:p.classNames)==null?void 0:l.content)},U.createElement("div",{"data-title":"",className:yn(A==null?void 0:A.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?U.createElement("div",{"data-description":"",className:yn(q,xr,A==null?void 0:A.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),m.isValidElement(p.cancel)?p.cancel:p.cancel&&Id(p.cancel)?U.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||T,onClick:Ee=>{var Xe,ct;Id(p.cancel)&&$e&&((ct=(Xe=p.cancel).onClick)==null||ct.call(Xe,Ee),oa())},className:yn(A==null?void 0:A.cancelButton,(d=p==null?void 0:p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,m.isValidElement(p.action)?p.action:p.action&&Id(p.action)?U.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||z,onClick:Ee=>{var Xe,ct;Id(p.action)&&((ct=(Xe=p.action).onClick)==null||ct.call(Xe,Ee),!Ee.defaultPrevented&&oa())},className:yn(A==null?void 0:A.actionButton,(f=p==null?void 0:p.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function a_(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function Z9(e,t){let r={};return[e,t].forEach((n,s)=>{let a=s===1,o=a?"--mobile-offset":"--offset",l=a?H9:W9;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=l:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}m.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:a,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:h,style:p,visibleToasts:b=q9,toastOptions:g,dir:y=a_(),gap:x=G9,loadingIcon:v,icons:w,containerAriaLabel:j="Notifications",pauseWhenPageIsHidden:_}=e,[S,N]=U.useState([]),C=U.useMemo(()=>Array.from(new Set([n].concat(S.filter(ne=>ne.position).map(ne=>ne.position)))),[S,n]),[R,T]=U.useState([]),[z,D]=U.useState(!1),[q,F]=U.useState(!1),[M,V]=U.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Z=U.useRef(null),I=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),A=U.useRef(null),H=U.useRef(!1),ie=U.useCallback(ne=>{N(ge=>{var me;return(me=ge.find(Ve=>Ve.id===ne.id))!=null&&me.delete||_r.dismiss(ne.id),ge.filter(({id:Ve})=>Ve!==ne.id)})},[]);return U.useEffect(()=>_r.subscribe(ne=>{if(ne.dismiss){N(ge=>ge.map(me=>me.id===ne.id?{...me,delete:!0}:me));return}setTimeout(()=>{AN.flushSync(()=>{N(ge=>{let me=ge.findIndex(Ve=>Ve.id===ne.id);return me!==-1?[...ge.slice(0,me),{...ge[me],...ne},...ge.slice(me+1)]:[ne,...ge]})})})}),[]),U.useEffect(()=>{if(d!=="system"){V(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?V("dark"):V("light")),typeof window>"u")return;let ne=window.matchMedia("(prefers-color-scheme: dark)");try{ne.addEventListener("change",({matches:ge})=>{V(ge?"dark":"light")})}catch{ne.addListener(({matches:me})=>{try{V(me?"dark":"light")}catch(Ve){console.error(Ve)}})}},[d]),U.useEffect(()=>{S.length<=1&&D(!1)},[S]),U.useEffect(()=>{let ne=ge=>{var me,Ve;s.every(Ke=>ge[Ke]||ge.code===Ke)&&(D(!0),(me=Z.current)==null||me.focus()),ge.code==="Escape"&&(document.activeElement===Z.current||(Ve=Z.current)!=null&&Ve.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",ne),()=>document.removeEventListener("keydown",ne)},[s]),U.useEffect(()=>{if(Z.current)return()=>{A.current&&(A.current.focus({preventScroll:!0}),A.current=null,H.current=!1)}},[Z.current]),U.createElement("section",{ref:t,"aria-label":`${j} ${I}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},C.map((ne,ge)=>{var me;let[Ve,Ke]=ne.split("-");return S.length?U.createElement("ol",{key:ne,dir:y==="auto"?a_():y,tabIndex:-1,ref:Z,className:l,"data-sonner-toaster":!0,"data-theme":M,"data-y-position":Ve,"data-lifted":z&&S.length>1&&!a,"data-x-position":Ke,style:{"--front-toast-height":`${((me=R[0])==null?void 0:me.height)||0}px`,"--width":`${K9}px`,"--gap":`${x}px`,...p,...Z9(c,u)},onBlur:J=>{H.current&&!J.currentTarget.contains(J.relatedTarget)&&(H.current=!1,A.current&&(A.current.focus({preventScroll:!0}),A.current=null))},onFocus:J=>{J.target instanceof HTMLElement&&J.target.dataset.dismissible==="false"||H.current||(H.current=!0,A.current=J.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{q||D(!1)},onDragEnd:()=>D(!1),onPointerDown:J=>{J.target instanceof HTMLElement&&J.target.dataset.dismissible==="false"||F(!0)},onPointerUp:()=>F(!1)},S.filter(J=>!J.position&&ge===0||J.position===ne).map((J,Fe)=>{var De,Ie;return U.createElement(X9,{key:J.id,icons:w,index:Fe,toast:J,defaultRichColors:f,duration:(De=g==null?void 0:g.duration)!=null?De:h,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:r,visibleToasts:b,closeButton:(Ie=g==null?void 0:g.closeButton)!=null?Ie:o,interacting:q,position:ne,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:ie,toasts:S.filter(Le=>Le.position==J.position),heights:R.filter(Le=>Le.position==J.position),setHeights:T,expandByDefault:a,gap:x,loadingIcon:v,expanded:z,pauseWhenPageIsHidden:_,swipeDirections:e.swipeDirections})})):null}))});const eH=()=>{const e=et();return lt({mutationFn:t=>vm.create(t),onSuccess:()=>{e.invalidateQueries({queryKey:["admin","config","roles"]}),cn.success("Rol creado exitosamente")},onError:t=>{var r,n;console.error("Error creating role:",t),cn.error(((n=(r=t.response)==null?void 0:r.data)==null?void 0:n.error)||"Error al crear rol")}})},tH=()=>{const e=et();return lt({mutationFn:({id:t,data:r})=>vm.update(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:["admin","config","roles"]}),cn.success("Rol actualizado exitosamente")},onError:t=>{var r,n;console.error("Error updating role:",t),cn.error(((n=(r=t.response)==null?void 0:r.data)==null?void 0:n.error)||"Error al actualizar rol")}})},rH=()=>{const e=et();return lt({mutationFn:t=>vm.delete(t),onSuccess:()=>{e.invalidateQueries({queryKey:["admin","config","roles"]}),cn.success("Rol eliminado exitosamente")},onError:t=>{var n,s;console.error("Error deleting role:",t);const r=((s=(n=t.response)==null?void 0:n.data)==null?void 0:s.error)||"Error al eliminar rol";cn.error(r)}})},nH=()=>{const{data:e,isLoading:t}=LT(),r=eH(),n=tH(),s=rH(),[a,o]=m.useState(!1),[l,c]=m.useState(!1),[u,d]=m.useState(!1),[f,h]=m.useState(null),[p,b]=m.useState({name:"",description:""}),g=()=>{b({name:"",description:""}),o(!0)},y=_=>{h(_),b({name:_.name,description:_.description||""}),c(!0)},x=_=>{h(_),d(!0)},v=async()=>{await r.mutateAsync(p),o(!1),b({name:"",description:""})},w=async()=>{f&&(await n.mutateAsync({id:f.id,data:p}),c(!1),h(null),b({name:"",description:""}))},j=async()=>{f&&(await s.mutateAsync(f.id),d(!1),h(null))};return t?i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsx("div",{className:"text-muted-foreground",children:"Cargando roles..."})}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Gestin de Roles"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Crea, edita o elimina roles del sistema"})]}),i.jsxs(B,{onClick:g,children:[i.jsx(Ji,{className:"mr-2 h-4 w-4"}),"Crear Rol"]})]}),i.jsx("div",{className:"border rounded-xl overflow-hidden",children:i.jsxs(Hh,{children:[i.jsx(Kh,{children:i.jsxs(Ka,{children:[i.jsx(tr,{children:"Nombre"}),i.jsx(tr,{children:"Descripcin"}),i.jsx(tr,{children:"Fecha de Creacin"}),i.jsx(tr,{className:"text-right",children:"Acciones"})]})}),i.jsxs(Gh,{children:[e==null?void 0:e.map(_=>i.jsxs(Ka,{children:[i.jsx(Gt,{className:"font-medium",children:_.name}),i.jsx(Gt,{className:"text-muted-foreground",children:_.description||"Sin descripcin"}),i.jsx(Gt,{className:"text-muted-foreground",children:new Date(_.created_at).toLocaleDateString("es-ES")}),i.jsx(Gt,{className:"text-right",children:i.jsxs("div",{className:"flex items-center justify-end gap-2",children:[i.jsx(B,{variant:"ghost",size:"sm",onClick:()=>y(_),children:i.jsx(L3,{className:"h-4 w-4"})}),i.jsx(B,{variant:"ghost",size:"sm",onClick:()=>x(_),disabled:_.name==="admin",children:i.jsx($h,{className:"h-4 w-4"})})]})})]},_.id)),(!e||e.length===0)&&i.jsx(Ka,{children:i.jsx(Gt,{colSpan:4,className:"text-center py-8 text-muted-foreground",children:"No hay roles creados"})})]})]})}),i.jsx(Ys,{open:a,onOpenChange:o,children:i.jsxs(ms,{children:[i.jsxs(ps,{children:[i.jsx(gs,{children:"Crear Nuevo Rol"}),i.jsx(vs,{children:"Define un nuevo rol para el sistema"})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"name",children:"Nombre *"}),i.jsx(ye,{id:"name",value:p.name,onChange:_=>b({...p,name:_.target.value}),placeholder:"ej: mentor, emprendedor"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"description",children:"Descripcin"}),i.jsx(ni,{id:"description",value:p.description,onChange:_=>b({...p,description:_.target.value}),placeholder:"Describe el propsito de este rol",rows:3})]})]}),i.jsxs(Jf,{children:[i.jsx(B,{variant:"outline",onClick:()=>o(!1),children:"Cancelar"}),i.jsx(B,{onClick:v,disabled:!p.name||r.isPending,children:r.isPending?"Creando...":"Crear Rol"})]})]})}),i.jsx(Ys,{open:l,onOpenChange:c,children:i.jsxs(ms,{children:[i.jsxs(ps,{children:[i.jsx(gs,{children:"Editar Rol"}),i.jsx(vs,{children:"Modifica la informacin del rol"})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"edit-name",children:"Nombre *"}),i.jsx(ye,{id:"edit-name",value:p.name,onChange:_=>b({...p,name:_.target.value}),placeholder:"ej: mentor, emprendedor"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"edit-description",children:"Descripcin"}),i.jsx(ni,{id:"edit-description",value:p.description,onChange:_=>b({...p,description:_.target.value}),placeholder:"Describe el propsito de este rol",rows:3})]})]}),i.jsxs(Jf,{children:[i.jsx(B,{variant:"outline",onClick:()=>c(!1),children:"Cancelar"}),i.jsx(B,{onClick:w,disabled:!p.name||n.isPending,children:n.isPending?"Guardando...":"Guardar Cambios"})]})]})}),i.jsx(TT,{open:u,onOpenChange:d,children:i.jsxs(lw,{children:[i.jsxs(cw,{children:[i.jsx(dw,{children:"Ests seguro?"}),i.jsxs(fw,{children:['Esta accin eliminar el rol "',f==null?void 0:f.name,'". Solo podrs eliminar roles que no estn asignados a ningn usuario.']})]}),i.jsxs(uw,{children:[i.jsx(mw,{children:"Cancelar"}),i.jsx(hw,{onClick:j,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:s.isPending?"Eliminando...":"Eliminar"})]})]})})]})},sH=()=>{const e=et();return lt({mutationFn:({userId:t,roleId:r})=>DT.assign(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:["admin","users"]}),e.invalidateQueries({queryKey:["admin","config","roles"]}),cn.success("Rol asignado exitosamente")},onError:t=>{var r,n;console.error("Error assigning role:",t),cn.error(((n=(r=t.response)==null?void 0:r.data)==null?void 0:n.error)||"Error al asignar rol")}})},aH=()=>{const e=et();return lt({mutationFn:({userId:t,roleId:r})=>DT.remove(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:["admin","users"]}),e.invalidateQueries({queryKey:["admin","config","roles"]}),cn.success("Rol removido exitosamente")},onError:t=>{var n,s;console.error("Error removing role:",t);const r=((s=(n=t.response)==null?void 0:n.data)==null?void 0:s.error)||"Error al remover rol";cn.error(r)}})},iH=()=>{const{data:e,isLoading:t}=fT(),{data:r,isLoading:n}=LT(),s=sH(),a=aH(),[o,l]=m.useState(!1),[c,u]=m.useState(!1),[d,f]=m.useState(""),[h,p]=m.useState(""),[b,g]=m.useState(""),[y,x]=m.useState(null),v=(e==null?void 0:e.users)||[],w=v.filter(R=>R.name.toLowerCase().includes(d.toLowerCase())||R.email.toLowerCase().includes(d.toLowerCase())),j=()=>{p(""),g(""),l(!0)},_=async()=>{!h||!b||(await s.mutateAsync({userId:h,roleId:b}),l(!1),p(""),g(""))},S=(R,T,z,D)=>{x({userId:R,roleId:T,roleName:z,userName:D}),u(!0)},N=async()=>{y&&(await a.mutateAsync({userId:y.userId,roleId:y.roleId}),u(!1),x(null))},C=R=>{switch(R.toLowerCase()){case"admin":return"bg-red-100 text-red-800 hover:bg-red-100";case"mentor":return"bg-blue-100 text-blue-800 hover:bg-blue-100";case"emprendedor":return"bg-green-100 text-green-800 hover:bg-green-100";default:return"bg-gray-100 text-gray-800 hover:bg-gray-100"}};return t||n?i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsx("div",{className:"text-muted-foreground",children:"Cargando datos..."})}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Asignacin de Roles"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Asigna o remueve roles de los usuarios"})]}),i.jsxs(B,{onClick:j,children:[i.jsx(Xa,{className:"mr-2 h-4 w-4"}),"Asignar Rol"]})]}),i.jsxs("div",{className:"relative",children:[i.jsx(fs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(ye,{placeholder:"Buscar usuarios por nombre o email...",value:d,onChange:R=>f(R.target.value),className:"pl-9"})]}),i.jsxs("div",{className:"border rounded-xl divide-y",children:[w.map(R=>i.jsx("div",{className:"p-4 hover:bg-muted/50 transition-colors",children:i.jsx("div",{className:"flex items-start justify-between",children:i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"font-medium truncate",children:R.name}),i.jsx("div",{className:"text-sm text-muted-foreground truncate",children:R.email}),i.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:R.roles&&R.roles.length>0?R.roles.map(T=>{const z=r==null?void 0:r.find(D=>D.name===T);return i.jsxs(Te,{variant:"secondary",className:`${C(T)} flex items-center gap-1`,children:[T,i.jsx("button",{onClick:()=>S(R.id,(z==null?void 0:z.id)||"",T,R.name),className:"ml-1 hover:bg-black/10 rounded-full p-0.5",children:i.jsx(Or,{className:"h-3 w-3"})})]},T)}):i.jsx("span",{className:"text-sm text-muted-foreground italic",children:"Sin roles asignados"})})]})})},R.id)),w.length===0&&i.jsx("div",{className:"p-8 text-center text-muted-foreground",children:"No se encontraron usuarios"})]}),i.jsx(Ys,{open:o,onOpenChange:l,children:i.jsxs(ms,{children:[i.jsxs(ps,{children:[i.jsx(gs,{children:"Asignar Rol a Usuario"}),i.jsx(vs,{children:"Selecciona un usuario y el rol que deseas asignarle"})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"user-select",children:"Usuario *"}),i.jsxs(ti,{value:h,onValueChange:p,children:[i.jsx(ea,{id:"user-select",children:i.jsx(ri,{placeholder:"Selecciona un usuario"})}),i.jsx(ta,{children:v.map(R=>i.jsxs(tt,{value:R.id,children:[R.name," (",R.email,")"]},R.id))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"role-select",children:"Rol *"}),i.jsxs(ti,{value:b,onValueChange:g,children:[i.jsx(ea,{id:"role-select",children:i.jsx(ri,{placeholder:"Selecciona un rol"})}),i.jsx(ta,{children:r==null?void 0:r.map(R=>i.jsxs(tt,{value:R.id,children:[R.name,R.description&&i.jsxs("span",{className:"text-muted-foreground",children:[" - ",R.description]})]},R.id))})]})]})]}),i.jsxs(Jf,{children:[i.jsx(B,{variant:"outline",onClick:()=>l(!1),children:"Cancelar"}),i.jsx(B,{onClick:_,disabled:!h||!b||s.isPending,children:s.isPending?"Asignando...":"Asignar Rol"})]})]})}),i.jsx(TT,{open:c,onOpenChange:u,children:i.jsxs(lw,{children:[i.jsxs(cw,{children:[i.jsx(dw,{children:"Remover rol de usuario?"}),i.jsxs(fw,{children:['Ests a punto de remover el rol "',y==null?void 0:y.roleName,'" del usuario "',y==null?void 0:y.userName,'". Esta accin puede ser revertida asignando el rol nuevamente.']})]}),i.jsxs(uw,{children:[i.jsx(mw,{children:"Cancelar"}),i.jsx(hw,{onClick:N,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:a.isPending?"Removiendo...":"Remover Rol"})]})]})})]})};var ym="Switch",[oH]=gr(ym),[lH,cH]=oH(ym),$T=m.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,p]=m.useState(null),b=Re(t,w=>p(w)),g=m.useRef(!1),y=h?d||!!h.closest("form"):!0,[x,v]=Gs({prop:s,defaultProp:a??!1,onChange:u,caller:ym});return i.jsxs(lH,{scope:r,checked:x,disabled:l,children:[i.jsx(de.button,{type:"button",role:"switch","aria-checked":x,"aria-required":o,"data-state":BT(x),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:b,onClick:X(e.onClick,w=>{v(j=>!j),y&&(g.current=w.isPropagationStopped(),g.current||w.stopPropagation())})}),y&&i.jsx(zT,{control:h,bubbles:!g.current,name:n,value:c,checked:x,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});$T.displayName=ym;var FT="SwitchThumb",UT=m.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=cH(FT,r);return i.jsx(de.span,{"data-state":BT(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});UT.displayName=FT;var uH="SwitchBubbleInput",zT=m.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...s},a)=>{const o=m.useRef(null),l=Re(o,a),c=ex(r),u=tx(t);return m.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&p){const b=new Event("click",{bubbles:n});p.call(d,r),d.dispatchEvent(b)}},[c,r,n]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});zT.displayName=uH;function BT(e){return e?"checked":"unchecked"}var VT=$T,dH=UT;const qT=m.forwardRef(({className:e,...t},r)=>i.jsx(VT,{className:te("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:i.jsx(dH,{className:te("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));qT.displayName=VT.displayName;const fH=()=>Ut({queryKey:["admin","config","settings"],queryFn:()=>MT.getAll(),staleTime:1e3*60*5}),hH=()=>{const e=et();return lt({mutationFn:({key:t,data:r})=>MT.update(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:["admin","config","settings"]}),cn.success("Configuracin actualizada exitosamente")},onError:t=>{var r,n;console.error("Error updating setting:",t),cn.error(((n=(r=t.response)==null?void 0:r.data)==null?void 0:n.error)||"Error al actualizar configuracin")}})},mH=()=>{const{data:e,isLoading:t}=fH(),r=hH(),[n,s]=m.useState({}),a=(c,u)=>{s(d=>({...d,[c]:u}))},o=async c=>{const u=n[c.key];if(u===void 0)return;let d=u;c.data_type==="boolean"?d=u:c.data_type==="number"?d=Number(u):(c.data_type==="string"||c.data_type==="text")&&(d=JSON.stringify(u)),await r.mutateAsync({key:c.key,data:{value:d}}),s(f=>{const h={...f};return delete h[c.key],h})},l=c=>{const u=n[c.key]!==void 0?n[c.key]:pH(c.value,c.data_type),d=n[c.key]!==void 0;switch(c.data_type){case"boolean":return i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(je,{children:Md(c.key)}),i.jsx("p",{className:"text-sm text-muted-foreground",children:c.description})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(qT,{checked:u,onCheckedChange:f=>a(c.key,f)}),d&&i.jsx(B,{size:"sm",onClick:()=>o(c),disabled:r.isPending,children:i.jsx(Cd,{className:"h-4 w-4"})})]})]});case"number":return i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:c.key,children:Md(c.key)}),i.jsx("p",{className:"text-sm text-muted-foreground",children:c.description}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ye,{id:c.key,type:"number",value:u,onChange:f=>a(c.key,f.target.value),className:"flex-1"}),d&&i.jsxs(B,{size:"sm",onClick:()=>o(c),disabled:r.isPending,children:[i.jsx(Cd,{className:"h-4 w-4 mr-2"}),"Guardar"]})]})]});case"text":return i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:c.key,children:Md(c.key)}),i.jsx("p",{className:"text-sm text-muted-foreground",children:c.description}),i.jsx(ni,{id:c.key,value:u,onChange:f=>a(c.key,f.target.value),rows:3}),d&&i.jsxs(B,{size:"sm",onClick:()=>o(c),disabled:r.isPending,className:"mt-2",children:[i.jsx(Cd,{className:"h-4 w-4 mr-2"}),"Guardar"]})]});case"string":default:return i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:c.key,children:Md(c.key)}),i.jsx("p",{className:"text-sm text-muted-foreground",children:c.description}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ye,{id:c.key,type:"text",value:u,onChange:f=>a(c.key,f.target.value),className:"flex-1"}),d&&i.jsxs(B,{size:"sm",onClick:()=>o(c),disabled:r.isPending,children:[i.jsx(Cd,{className:"h-4 w-4 mr-2"}),"Guardar"]})]})]})}};return t?i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsx("div",{className:"text-muted-foreground",children:"Cargando configuraciones..."})}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Configuraciones del Sistema"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Gestiona las configuraciones globales de la plataforma"})]}),i.jsxs("div",{className:"grid gap-4",children:[e==null?void 0:e.map(c=>i.jsx(be,{children:i.jsx(we,{className:"pt-6",children:l(c)})},c.key)),(!e||e.length===0)&&i.jsx(be,{children:i.jsx(we,{className:"py-8 text-center text-muted-foreground",children:"No hay configuraciones disponibles"})})]}),i.jsxs(be,{className:"border-blue-200 bg-blue-50/50",children:[i.jsx(mt,{children:i.jsxs(ht,{className:"flex items-center gap-2 text-blue-900",children:[i.jsx(O3,{className:"h-5 w-5"}),"Informacin Importante"]})}),i.jsx(we,{children:i.jsxs("ul",{className:"space-y-2 text-sm text-blue-800",children:[i.jsx("li",{children:" Los cambios en las configuraciones afectan inmediatamente a toda la plataforma"}),i.jsx("li",{children:" Asegrate de entender el impacto antes de modificar valores crticos"}),i.jsx("li",{children:" Todos los cambios quedan registrados con tu usuario"})]})})]})]})};function pH(e,t){return t==="boolean"?!!e:t==="number"?Number(e):(t==="string"||t==="text")&&typeof e=="string"?e.replace(/^"(.*)"$/,"$1"):e}function Md(e){return e.split("_").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}const gH=()=>{const[e,t]=m.useState("roles"),r=vt();return i.jsxs("div",{className:"container mx-auto py-8 px-4 max-w-7xl",children:[i.jsxs(B,{variant:"ghost",onClick:()=>r("/gestion"),className:"mb-6 hover:bg-gray-100",children:[i.jsx(In,{className:"h-4 w-4 mr-2"}),"Volver a Gestin"]}),i.jsx("div",{className:"mb-8",children:i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:i.jsx(cu,{className:"h-6 w-6 text-primary"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Configuracin del Sistema"}),i.jsx("p",{className:"text-muted-foreground",children:"Gestiona roles, asignaciones y configuraciones generales de la plataforma"})]})]})}),i.jsxs(Fu,{value:e,onValueChange:t,className:"space-y-6",children:[i.jsxs(zl,{className:"grid w-full grid-cols-3 lg:w-auto lg:inline-grid",children:[i.jsxs(qr,{value:"roles",className:"flex items-center gap-2",children:[i.jsx(ix,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Roles"})]}),i.jsxs(qr,{value:"assignments",className:"flex items-center gap-2",children:[i.jsx(U3,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Asignaciones"})]}),i.jsxs(qr,{value:"settings",className:"flex items-center gap-2",children:[i.jsx(cu,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Configuraciones"})]})]}),i.jsx(An,{value:"roles",className:"space-y-6",children:i.jsx(nH,{})}),i.jsx(An,{value:"assignments",className:"space-y-6",children:i.jsx(iH,{})}),i.jsx(An,{value:"settings",className:"space-y-6",children:i.jsx(mH,{})})]})]})};function vH(){const e=new Date().getFullYear();return i.jsx("div",{className:"container max-w-5xl mx-auto py-8 px-4",children:i.jsx(be,{className:"shadow-lg",children:i.jsx(we,{className:"p-8",children:i.jsxs("article",{children:[i.jsxs("header",{className:"mb-8",children:[i.jsx("h1",{className:"text-4xl font-bold text-primary mb-4",children:"Aviso Legal, Poltica de Privacidad y Cookies"}),i.jsxs("p",{className:"text-muted-foreground",children:[i.jsx("strong",{children:"ltima actualizacin:"})," ",i.jsx("time",{dateTime:"2025-11-01",children:"1 de noviembre de 2025"})]}),i.jsxs("p",{className:"text-muted-foreground mt-2",children:["Este documento aplica a ",i.jsx("strong",{children:"Red Espaa Creativa"})," (",i.jsx("a",{href:"https://elcaminocreativo.es",className:"text-primary hover:underline",children:"elcaminocreativo.es"}),")."]})]}),i.jsxs("nav",{"aria-label":"ndice de secciones",className:"mb-8",children:[i.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"ndice"}),i.jsxs("ul",{className:"space-y-2 list-none pl-0",children:[i.jsx("li",{children:i.jsx("a",{href:"#privacidad",className:"text-primary hover:underline",children:"1. Poltica de Privacidad"})}),i.jsx("li",{children:i.jsx("a",{href:"#terminos",className:"text-primary hover:underline",children:"2. Trminos de Servicio"})}),i.jsx("li",{children:i.jsx("a",{href:"#cookies",className:"text-primary hover:underline",children:"3. Poltica de Cookies"})})]})]}),i.jsx(Ga,{className:"my-8"}),i.jsxs("section",{id:"privacidad",className:"mb-12",children:[i.jsx("h2",{className:"text-3xl font-bold text-primary mb-6",children:"1. Poltica de Privacidad"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold mb-3",children:"1.1 Responsable del tratamiento"}),i.jsxs("div",{className:"space-y-2 text-muted-foreground",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Titular:"})," Asoc Espaa Creativa Innovacion En Red"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Forma jurdica:"})," Asociacin u otros tipos no definidos"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"CIF/NIF:"})," G87600359"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Domicilio:"})," CIFUENTES. N 5 28021, MADRID, MADRID"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Correo de contacto:"})," ",i.jsx("a",{href:"mailto:privacidad@espanacreativa.com",className:"text-primary hover:underline",children:"privacidad@espanacreativa.com"})]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Actividad:"})," Red privada para emprendedores que permite conectar, colaborar y compartir recursos."]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold mb-3",children:"1.2 Finalidad del tratamiento"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[i.jsx("li",{children:"Gestionar el registro, autenticacin y acceso a la plataforma."}),i.jsx("li",{children:"Facilitar la comunicacin y colaboracin entre usuarios autorizados."}),i.jsx("li",{children:"Enviar notificaciones operativas o relacionadas con el servicio."})]}),i.jsx("p",{className:"mt-3 text-muted-foreground",children:"No se realizarn tratamientos adicionales incompatibles con estas finalidades."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold mb-3",children:"1.3 Base jurdica"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Ejecucin de un contrato"})," (art. 6.1.b RGPD) para crear y mantener la cuenta."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Cumplimiento de obligaciones legales"})," (art. 6.1.c RGPD)."]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold mb-3",children:"1.4 Conservacin"}),i.jsx("p",{className:"text-muted-foreground",children:"Los datos se conservarn mientras dure la relacin contractual y, posteriormente, durante los plazos exigidos por ley o hasta que solicites su supresin."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold mb-3",children:"1.5 Comunicacin y encargados"}),i.jsxs("p",{className:"text-muted-foreground mb-3",children:["Podrn tratar datos proveedores que prestan servicios necesarios para el funcionamiento del SaaS (alojamiento, soporte tcnico, correo electrnico, etc.), con los que mantenemos los correspondientes ",i.jsx("em",{children:"contratos de encargo de tratamiento"})," conforme al art. 28 RGPD."]}),i.jsx("p",{className:"text-muted-foreground",children:"No se realizarn transferencias internacionales fuera del EEE salvo que existan garantas adecuadas (por ejemplo, clusulas contractuales tipo de la Comisin Europea)."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold mb-3",children:"1.6 Derechos"}),i.jsxs("p",{className:"text-muted-foreground mb-3",children:["Puedes ejercer los derechos de acceso, rectificacin, supresin, limitacin, portabilidad y oposicin enviando un correo a"," ",i.jsx("a",{href:"mailto:privacidad@espanacreativa.com",className:"text-primary hover:underline",children:"privacidad@espanacreativa.com"})," ","y acreditando tu identidad."]}),i.jsxs("p",{className:"text-muted-foreground",children:["Si consideras que no se han atendido correctamente tus derechos, puedes reclamar ante la"," ",i.jsx("a",{href:"https://www.aepd.es/",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"Agencia Espaola de Proteccin de Datos"}),"."]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold mb-3",children:"1.7 Seguridad"}),i.jsx("p",{className:"text-muted-foreground",children:"Aplicamos medidas tcnicas y organizativas adecuadas para garantizar la confidencialidad, integridad y disponibilidad de la informacin, incluyendo cifrado, control de accesos y auditoras peridicas."})]})]})]}),i.jsx(Ga,{className:"my-8"}),i.jsxs("section",{id:"terminos",className:"mb-12",children:[i.jsx("h2",{className:"text-3xl font-bold text-primary mb-6",children:"2. Trminos de Servicio"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold mb-3",children:"2.1 Objeto"}),i.jsxs("p",{className:"text-muted-foreground",children:["Estos Trminos regulan el uso de la plataforma SaaS"," ",i.jsx("strong",{children:"Red Espaa Creativa"}),", que permite a emprendedores registrados conectarse y colaborar en un entorno privado moderado."]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold mb-3",children:"2.2 Registro y acceso"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[i.jsx("li",{children:"El acceso requiere solicitud mediante el formulario correspondiente."}),i.jsx("li",{children:"El acceso efectivo requiere aprobacin previa por un administrador."}),i.jsx("li",{children:"El usuario se compromete a proporcionar informacin veraz y mantenerla actualizada."})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold mb-3",children:"2.3 Uso correcto del servicio"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[i.jsx("li",{children:"No utilizar la plataforma para actividades ilcitas ni vulnerar derechos de terceros."}),i.jsx("li",{children:"No publicar contenidos ofensivos, ilegales o confidenciales sin autorizacin."}),i.jsx("li",{children:"No intentar acceder sin permiso a sistemas o datos."})]}),i.jsx("p",{className:"mt-3 text-muted-foreground",children:"Podremos suspender o cancelar cuentas por incumplimiento de estos Trminos o por motivos de seguridad."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold mb-3",children:"2.4 Propiedad intelectual"}),i.jsx("p",{className:"text-muted-foreground",children:"Software, diseos, marcas y contenidos son propiedad de Asoc Espaa Creativa Innovacion En Red o de sus licenciantes, protegidos por la legislacin de propiedad intelectual e industrial."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold mb-3",children:"2.5 Limitacin de responsabilidad"}),i.jsx("p",{className:"text-muted-foreground",children:"No seremos responsables de fallos tcnicos ajenos a nuestro control, de usos indebidos del servicio por parte del usuario ni de contenidos publicados por terceros."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold mb-3",children:"2.6 Modificaciones"}),i.jsx("p",{className:"text-muted-foreground",children:"Podremos modificar estos Trminos para adaptarlos a cambios legales o mejoras del servicio. Las modificaciones relevantes se comunicarn con antelacin razonable."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold mb-3",children:"2.7 Baja del servicio"}),i.jsxs("p",{className:"text-muted-foreground",children:["El usuario puede solicitar la baja escribiendo a"," ",i.jsx("a",{href:"mailto:privacidad@espanacreativa.com",className:"text-primary hover:underline",children:"privacidad@espanacreativa.com"}),". Podemos suspender o eliminar cuentas por incumplimiento o inactividad prolongada."]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold mb-3",children:"2.8 Legislacin aplicable y jurisdiccin"}),i.jsxs("p",{className:"text-muted-foreground",children:["Se aplica la legislacin espaola. Para cualquier controversia, las partes se someten a los Juzgados y Tribunales de"," ",i.jsx("strong",{children:"Madrid"}),", salvo disposicin legal imperativa en contrario."]})]})]})]}),i.jsx(Ga,{className:"my-8"}),i.jsxs("section",{id:"cookies",className:"mb-12",children:[i.jsx("h2",{className:"text-3xl font-bold text-primary mb-6",children:"3. Poltica de Cookies"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold mb-3",children:"3.1 Qu son las cookies?"}),i.jsx("p",{className:"text-muted-foreground",children:"Pequeos archivos que el sitio web guarda en tu dispositivo para recordar informacin y garantizar el correcto funcionamiento del servicio."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold mb-3",children:"3.2 Cookies utilizadas (solo tcnicas)"}),i.jsxs("p",{className:"text-muted-foreground mb-3",children:["En ",i.jsx("strong",{children:"Red Espaa Creativa"})," usamos exclusivamente"," ",i.jsx("strong",{children:"cookies tcnicas"})," necesarias para:"]}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[i.jsx("li",{children:"Mantener la sesin iniciada y la seguridad de la autenticacin."}),i.jsx("li",{children:"Recordar preferencias bsicas (como el idioma)."}),i.jsx("li",{children:"Garantizar el funcionamiento esencial de la plataforma."})]}),i.jsx("p",{className:"mt-3 text-muted-foreground",children:"Estas cookies no requieren consentimiento previo (art. 22.2 LSSI-CE) y no se utilizan con fines analticos ni publicitarios."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold mb-3",children:"3.3 Gestin o desactivacin"}),i.jsx("p",{className:"text-muted-foreground",children:"Puedes configurar tu navegador para bloquear o eliminar cookies. Si desactivas las cookies tcnicas, algunas funciones pueden no estar disponibles."})]})]})]}),i.jsx("footer",{className:"mt-12 pt-8 border-t text-sm text-muted-foreground",children:i.jsxs("p",{children:[" ",e," Asoc Espaa Creativa Innovacion En Red "," ",i.jsx("a",{href:"mailto:privacidad@espanacreativa.com",className:"text-primary hover:underline",children:"privacidad@espanacreativa.com"})]})})]})})})})}var pw="ToastProvider",[gw,yH,xH]=Vh("Toast"),[WT]=gr("Toast",[xH]),[wH,xm]=WT(pw),HT=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:a=50,children:o}=e,[l,c]=m.useState(null),[u,d]=m.useState(0),f=m.useRef(!1),h=m.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${pw}\`. Expected non-empty \`string\`.`),i.jsx(gw.Provider,{scope:t,children:i.jsx(wH,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:a,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:m.useCallback(()=>d(p=>p+1),[]),onToastRemove:m.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};HT.displayName=pw;var KT="ToastViewport",bH=["F8"],kv="toast.viewportPause",Rv="toast.viewportResume",GT=m.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=bH,label:s="Notifications ({hotkey})",...a}=e,o=xm(KT,r),l=yH(r),c=m.useRef(null),u=m.useRef(null),d=m.useRef(null),f=m.useRef(null),h=Re(t,f,o.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=o.toastCount>0;m.useEffect(()=>{const y=x=>{var w;n.length!==0&&n.every(j=>x[j]||x.code===j)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[n]),m.useEffect(()=>{const y=c.current,x=f.current;if(b&&y&&x){const v=()=>{if(!o.isClosePausedRef.current){const S=new CustomEvent(kv);x.dispatchEvent(S),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const S=new CustomEvent(Rv);x.dispatchEvent(S),o.isClosePausedRef.current=!1}},j=S=>{!y.contains(S.relatedTarget)&&w()},_=()=>{y.contains(document.activeElement)||w()};return y.addEventListener("focusin",v),y.addEventListener("focusout",j),y.addEventListener("pointermove",v),y.addEventListener("pointerleave",_),window.addEventListener("blur",v),window.addEventListener("focus",w),()=>{y.removeEventListener("focusin",v),y.removeEventListener("focusout",j),y.removeEventListener("pointermove",v),y.removeEventListener("pointerleave",_),window.removeEventListener("blur",v),window.removeEventListener("focus",w)}}},[b,o.isClosePausedRef]);const g=m.useCallback(({tabbingDirection:y})=>{const v=l().map(w=>{const j=w.ref.current,_=[j,...IH(j)];return y==="forwards"?_:_.reverse()});return(y==="forwards"?v.reverse():v).flat()},[l]);return m.useEffect(()=>{const y=f.current;if(y){const x=v=>{var _,S,N;const w=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!w){const C=document.activeElement,R=v.shiftKey;if(v.target===y&&R){(_=u.current)==null||_.focus();return}const D=g({tabbingDirection:R?"backwards":"forwards"}),q=D.findIndex(F=>F===C);Ep(D.slice(q+1))?v.preventDefault():R?(S=u.current)==null||S.focus():(N=d.current)==null||N.focus()}};return y.addEventListener("keydown",x),()=>y.removeEventListener("keydown",x)}},[l,g]),i.jsxs(Z3,{ref:c,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&i.jsx(Pv,{ref:u,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"forwards"});Ep(y)}}),i.jsx(gw.Slot,{scope:r,children:i.jsx(de.ol,{tabIndex:-1,...a,ref:h})}),b&&i.jsx(Pv,{ref:d,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"backwards"});Ep(y)}})]})});GT.displayName=KT;var QT="ToastFocusProxy",Pv=m.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,a=xm(QT,r);return i.jsx(zx,{tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=a.viewport)!=null&&u.contains(l))&&n()}})});Pv.displayName=QT;var Ku="Toast",jH="toast.swipeStart",_H="toast.swipeMove",SH="toast.swipeCancel",NH="toast.swipeEnd",JT=m.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:a,...o}=e,[l,c]=Gs({prop:n,defaultProp:s??!0,onChange:a,caller:Ku});return i.jsx(vr,{present:r||l,children:i.jsx(kH,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:bt(e.onPause),onResume:bt(e.onResume),onSwipeStart:X(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:X(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:X(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:X(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});JT.displayName=Ku;var[EH,CH]=WT(Ku,{onClose(){}}),kH=m.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:p,...b}=e,g=xm(Ku,r),[y,x]=m.useState(null),v=Re(t,F=>x(F)),w=m.useRef(null),j=m.useRef(null),_=s||g.duration,S=m.useRef(0),N=m.useRef(_),C=m.useRef(0),{onToastAdd:R,onToastRemove:T}=g,z=bt(()=>{var M;(y==null?void 0:y.contains(document.activeElement))&&((M=g.viewport)==null||M.focus()),o()}),D=m.useCallback(F=>{!F||F===1/0||(window.clearTimeout(C.current),S.current=new Date().getTime(),C.current=window.setTimeout(z,F))},[z]);m.useEffect(()=>{const F=g.viewport;if(F){const M=()=>{D(N.current),u==null||u()},V=()=>{const Z=new Date().getTime()-S.current;N.current=N.current-Z,window.clearTimeout(C.current),c==null||c()};return F.addEventListener(kv,V),F.addEventListener(Rv,M),()=>{F.removeEventListener(kv,V),F.removeEventListener(Rv,M)}}},[g.viewport,_,c,u,D]),m.useEffect(()=>{a&&!g.isClosePausedRef.current&&D(_)},[a,_,g.isClosePausedRef,D]),m.useEffect(()=>(R(),()=>T()),[R,T]);const q=m.useMemo(()=>y?n2(y):null,[y]);return g.viewport?i.jsxs(i.Fragment,{children:[q&&i.jsx(RH,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:q}),i.jsx(EH,{scope:r,onClose:z,children:no.createPortal(i.jsx(gw.ItemSlot,{scope:r,children:i.jsx(X3,{asChild:!0,onEscapeKeyDown:X(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||z(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:i.jsx(de.li,{tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":g.swipeDirection,...b,ref:v,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:X(e.onKeyDown,F=>{F.key==="Escape"&&(l==null||l(F.nativeEvent),F.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,z()))}),onPointerDown:X(e.onPointerDown,F=>{F.button===0&&(w.current={x:F.clientX,y:F.clientY})}),onPointerMove:X(e.onPointerMove,F=>{if(!w.current)return;const M=F.clientX-w.current.x,V=F.clientY-w.current.y,Z=!!j.current,I=["left","right"].includes(g.swipeDirection),A=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,H=I?A(0,M):0,ie=I?0:A(0,V),ne=F.pointerType==="touch"?10:2,ge={x:H,y:ie},me={originalEvent:F,delta:ge};Z?(j.current=ge,Dd(_H,f,me,{discrete:!1})):i_(ge,g.swipeDirection,ne)?(j.current=ge,Dd(jH,d,me,{discrete:!1}),F.target.setPointerCapture(F.pointerId)):(Math.abs(M)>ne||Math.abs(V)>ne)&&(w.current=null)}),onPointerUp:X(e.onPointerUp,F=>{const M=j.current,V=F.target;if(V.hasPointerCapture(F.pointerId)&&V.releasePointerCapture(F.pointerId),j.current=null,w.current=null,M){const Z=F.currentTarget,I={originalEvent:F,delta:M};i_(M,g.swipeDirection,g.swipeThreshold)?Dd(NH,p,I,{discrete:!0}):Dd(SH,h,I,{discrete:!0}),Z.addEventListener("click",A=>A.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),RH=e=>{const{__scopeToast:t,children:r,...n}=e,s=xm(Ku,t),[a,o]=m.useState(!1),[l,c]=m.useState(!1);return AH(()=>o(!0)),m.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:i.jsx(Du,{asChild:!0,children:i.jsx(zx,{...n,children:a&&i.jsxs(i.Fragment,{children:[s.label," ",r]})})})},PH="ToastTitle",YT=m.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return i.jsx(de.div,{...n,ref:t})});YT.displayName=PH;var TH="ToastDescription",XT=m.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return i.jsx(de.div,{...n,ref:t})});XT.displayName=TH;var ZT="ToastAction",e2=m.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?i.jsx(r2,{altText:r,asChild:!0,children:i.jsx(vw,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${ZT}\`. Expected non-empty \`string\`.`),null)});e2.displayName=ZT;var t2="ToastClose",vw=m.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=CH(t2,r);return i.jsx(r2,{asChild:!0,children:i.jsx(de.button,{type:"button",...n,ref:t,onClick:X(e.onClick,s.onClose)})})});vw.displayName=t2;var r2=m.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return i.jsx(de.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function n2(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),OH(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!s)if(a){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...n2(n))}}),t}function Dd(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?Zy(s,a):s.dispatchEvent(a)}var i_=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),a=n>s;return t==="left"||t==="right"?a&&n>r:!a&&s>r};function AH(e=()=>{}){const t=bt(e);Nt(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function OH(e){return e.nodeType===e.ELEMENT_NODE}function IH(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Ep(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var MH=HT,s2=GT,a2=JT,i2=YT,o2=XT,l2=e2,c2=vw;const DH=MH,u2=m.forwardRef(({className:e,...t},r)=>i.jsx(s2,{ref:r,className:te("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));u2.displayName=s2.displayName;const LH=Au("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),d2=m.forwardRef(({className:e,variant:t,...r},n)=>i.jsx(a2,{ref:n,className:te(LH({variant:t}),e),...r}));d2.displayName=a2.displayName;const $H=m.forwardRef(({className:e,...t},r)=>i.jsx(l2,{ref:r,className:te("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));$H.displayName=l2.displayName;const f2=m.forwardRef(({className:e,...t},r)=>i.jsx(c2,{ref:r,className:te("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:i.jsx(Or,{className:"h-4 w-4"})}));f2.displayName=c2.displayName;const h2=m.forwardRef(({className:e,...t},r)=>i.jsx(i2,{ref:r,className:te("text-sm font-semibold",e),...t}));h2.displayName=i2.displayName;const m2=m.forwardRef(({className:e,...t},r)=>i.jsx(o2,{ref:r,className:te("text-sm opacity-90",e),...t}));m2.displayName=o2.displayName;function FH(){const{toasts:e}=ql();return i.jsxs(DH,{children:[e.map(function({id:t,title:r,description:n,action:s,...a}){return i.jsxs(d2,{...a,children:[i.jsxs("div",{className:"grid gap-1",children:[r&&i.jsx(h2,{children:r}),n&&i.jsx(m2,{children:n})]}),s,i.jsx(f2,{})]},t)}),i.jsx(u2,{})]})}function UH(){const{user:e,isLoading:t}=Et();return t?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 border-4 border-primary/30 border-t-primary rounded-full animate-spin mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})]})}):i.jsxs(lf,{children:[i.jsxs(MI,{children:[i.jsx(rt,{path:"/auth",element:e?i.jsx(wg,{to:"/dashboard"}):i.jsx(w5,{})}),i.jsx(rt,{path:"/auth/pending",element:i.jsx(S5,{})}),i.jsx(rt,{path:"/auth/set-password/:token",element:i.jsx(b5,{})}),i.jsx(rt,{path:"/auth/reset-password",element:i.jsx(_5,{})}),i.jsx(rt,{path:"/admin/signup-approval/:action/:token",element:i.jsx(P5,{})}),i.jsx(rt,{path:"/signup-approval",element:i.jsx(Bt,{children:i.jsx(gj,{})})}),i.jsx(rt,{path:"/admin/pending-signups",element:i.jsx(Bt,{children:i.jsx(gj,{})})}),i.jsx(rt,{path:"/dashboard",element:i.jsx(Bt,{children:i.jsx(E6,{})})}),i.jsx(rt,{path:"/network",element:i.jsx(Bt,{children:i.jsx(ZV,{})})}),i.jsx(rt,{path:"/network/my-network",element:i.jsx(Bt,{children:i.jsx(e8,{})})}),i.jsx(rt,{path:"/network/followers",element:i.jsx(Bt,{children:i.jsx(t8,{})})}),i.jsx(rt,{path:"/messages",element:i.jsx(Bt,{children:i.jsx(zj,{})})}),i.jsx(rt,{path:"/messages/:userId",element:i.jsx(Bt,{children:i.jsx(zj,{})})}),i.jsx(rt,{path:"/opportunities",element:i.jsx(Bt,{children:i.jsx(EW,{})})}),i.jsx(rt,{path:"/opportunities/:opportunityId",element:i.jsx(Bt,{children:i.jsx(TW,{})})}),i.jsx(rt,{path:"/programs",element:i.jsx(Bt,{children:i.jsx(r_,{})})}),i.jsx(rt,{path:"/projects",element:i.jsx(Bt,{children:i.jsx(r_,{})})}),i.jsx(rt,{path:"/profile",element:i.jsx(Bt,{children:i.jsx(QW,{})})}),i.jsx(rt,{path:"/users/:userId",element:i.jsx(Bt,{children:i.jsx(JW,{})})}),i.jsx(rt,{path:"/gestion",element:i.jsx(Bt,{children:i.jsx(YW,{})})}),i.jsx(rt,{path:"/gestion/usuarios",element:i.jsx(Bt,{children:i.jsx(n9,{})})}),i.jsx(rt,{path:"/gestion/estadisticas",element:i.jsx(Bt,{children:i.jsx(u9,{})})}),i.jsx(rt,{path:"/gestion/configuracion",element:i.jsx(Bt,{children:i.jsx(gH,{})})}),i.jsx(rt,{path:"/privacidad",element:i.jsx(vH,{})}),i.jsx(rt,{path:"/",element:i.jsx(wg,{to:e?"/dashboard":"/auth"})})]}),i.jsx(FH,{})]})}class zH{constructor(){gn(this,"isDevelopment");gn(this,"logQueue",[]);gn(this,"isFlushingLogs",!1);gn(this,"sessionId");gn(this,"originalConsole",{});this.isDevelopment=!1,this.sessionId=this.generateSessionId(),this.isDevelopment&&(this.interceptConsole(),this.setupPeriodicFlush())}generateSessionId(){return`${Date.now()}-${Math.random().toString(36).substr(2,9)}`}interceptConsole(){this.originalConsole={log:console.log,warn:console.warn,error:console.error,info:console.info,debug:console.debug},console.log=(...t)=>{this.originalConsole.log(...t),this.queueLog("info","CONSOLE",this.formatLogMessage(t))},console.warn=(...t)=>{this.originalConsole.warn(...t),this.queueLog("warn","CONSOLE",this.formatLogMessage(t))},console.error=(...t)=>{this.originalConsole.error(...t),this.queueLog("error","CONSOLE",this.formatLogMessage(t))},console.info=(...t)=>{this.originalConsole.info(...t),this.queueLog("info","CONSOLE",this.formatLogMessage(t))},console.debug=(...t)=>{this.originalConsole.debug(...t),this.queueLog("debug","CONSOLE",this.formatLogMessage(t))}}formatLogMessage(t){return t.map(r=>{if(typeof r=="object"&&r!==null)try{return JSON.stringify(r,null,2)}catch{return String(r)}return String(r)}).join(" ")}shouldSkipLog(t){return["runtime.lastError","Extension context invalidated","chrome-extension://","moz-extension://","The message port closed before a response was received","Non-Error promise rejection captured"].some(n=>t.toLowerCase().includes(n.toLowerCase()))}queueLog(t,r,n,s){if(!this.isDevelopment||this.shouldSkipLog(n))return;const a={level:t,component:r,message:n,data:s,timestamp:new Date().toISOString(),session:this.sessionId,url:window.location.href,userAgent:navigator.userAgent.substring(0,100)};this.logQueue.push(a),this.logQueue.length>=10&&this.flushLogs()}log(t,r,n,s){this.queueLog(t,r,n,s)}async flushLogs(){if(!this.isDevelopment||this.isFlushingLogs||this.logQueue.length===0)return;this.isFlushingLogs=!0;const t=[...this.logQueue];this.logQueue=[];try{const r=await fetch("/api/dev/logs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({logs:t,batchTimestamp:new Date().toISOString(),sessionId:this.sessionId})});r.ok||(this.logQueue.unshift(...t),this.originalConsole.warn("ClientLogger: Failed to send logs to server",r.status))}catch(r){this.logQueue.unshift(...t),this.originalConsole.warn("ClientLogger: Error sending logs to server",r)}finally{this.isFlushingLogs=!1}}setupPeriodicFlush(){setInterval(()=>{this.flushLogs()},5e3),window.addEventListener("beforeunload",()=>{if(this.logQueue.length>0)try{navigator.sendBeacon("/api/dev/logs",JSON.stringify({logs:this.logQueue,batchTimestamp:new Date().toISOString(),sessionId:this.sessionId,unload:!0}))}catch{}}),document.addEventListener("visibilitychange",()=>{document.hidden||this.flushLogs()})}disable(){this.isDevelopment=!1,this.originalConsole.log&&(console.log=this.originalConsole.log,console.warn=this.originalConsole.warn,console.error=this.originalConsole.error,console.info=this.originalConsole.info,console.debug=this.originalConsole.debug)}}const _o=new zH;_o.isDevelopment&&(window.addEventListener("error",e=>{var r,n;const t=((r=e.error)==null?void 0:r.message)||e.message||"";_o.shouldSkipLog(t)||_o.shouldSkipLog(e.filename||"")||_o.log("error","WINDOW",`Uncaught error: ${t}`,{filename:e.filename,lineno:e.lineno,colno:e.colno,stack:(n=e.error)==null?void 0:n.stack})}),window.addEventListener("unhandledrejection",e=>{const t=String(e.reason||"");_o.shouldSkipLog(t)||_o.log("error","PROMISE",`Unhandled promise rejection: ${t}`,{reason:e.reason,promise:e.promise})}));ON(document.getElementById("root")).render(i.jsx(m.StrictMode,{children:i.jsx(PM,{children:i.jsx(vF,{children:i.jsx(VI,{children:i.jsx(UH,{})})})})}));
