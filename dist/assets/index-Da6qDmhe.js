var jT=Object.defineProperty;var jw=e=>{throw TypeError(e)};var _T=(e,t,r)=>t in e?jT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var vn=(e,t,r)=>_T(e,typeof t!="symbol"?t+"":t,r),Sm=(e,t,r)=>t.has(e)||jw("Cannot "+r);var C=(e,t,r)=>(Sm(e,t,"read from private field"),r?r.call(e):t.get(e)),me=(e,t,r)=>t.has(e)?jw("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),se=(e,t,r,n)=>(Sm(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Te=(e,t,r)=>(Sm(e,t,"access private method"),r);var Zu=(e,t,r,n)=>({set _(s){se(e,t,s,r)},get _(){return C(e,t,n)}});function ST(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();function w_(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function b_(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var j_={exports:{}},df={},__={exports:{}},Me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bu=Symbol.for("react.element"),NT=Symbol.for("react.portal"),CT=Symbol.for("react.fragment"),ET=Symbol.for("react.strict_mode"),kT=Symbol.for("react.profiler"),PT=Symbol.for("react.provider"),RT=Symbol.for("react.context"),TT=Symbol.for("react.forward_ref"),AT=Symbol.for("react.suspense"),OT=Symbol.for("react.memo"),IT=Symbol.for("react.lazy"),_w=Symbol.iterator;function MT(e){return e===null||typeof e!="object"?null:(e=_w&&e[_w]||e["@@iterator"],typeof e=="function"?e:null)}var S_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N_=Object.assign,C_={};function Rl(e,t,r){this.props=e,this.context=t,this.refs=C_,this.updater=r||S_}Rl.prototype.isReactComponent={};Rl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Rl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function E_(){}E_.prototype=Rl.prototype;function Mv(e,t,r){this.props=e,this.context=t,this.refs=C_,this.updater=r||S_}var Dv=Mv.prototype=new E_;Dv.constructor=Mv;N_(Dv,Rl.prototype);Dv.isPureReactComponent=!0;var Sw=Array.isArray,k_=Object.prototype.hasOwnProperty,Lv={current:null},P_={key:!0,ref:!0,__self:!0,__source:!0};function R_(e,t,r){var n,s={},a=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)k_.call(t,n)&&!P_.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:bu,type:e,key:a,ref:o,props:s,_owner:Lv.current}}function DT(e,t){return{$$typeof:bu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function $v(e){return typeof e=="object"&&e!==null&&e.$$typeof===bu}function LT(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Nw=/\/+/g;function Nm(e,t){return typeof e=="object"&&e!==null&&e.key!=null?LT(""+e.key):t.toString(36)}function Fd(e,t,r,n,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case bu:case NT:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+Nm(o,0):n,Sw(s)?(r="",e!=null&&(r=e.replace(Nw,"$&/")+"/"),Fd(s,t,r,"",function(u){return u})):s!=null&&($v(s)&&(s=DT(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Nw,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",Sw(e))for(var l=0;l<e.length;l++){a=e[l];var c=n+Nm(a,l);o+=Fd(a,t,r,c,s)}else if(c=MT(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=n+Nm(a,l++),o+=Fd(a,t,r,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ed(e,t,r){if(e==null)return e;var n=[],s=0;return Fd(e,n,"","",function(a){return t.call(r,a,s++)}),n}function $T(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var mr={current:null},Ud={transition:null},FT={ReactCurrentDispatcher:mr,ReactCurrentBatchConfig:Ud,ReactCurrentOwner:Lv};function T_(){throw Error("act(...) is not supported in production builds of React.")}Me.Children={map:ed,forEach:function(e,t,r){ed(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ed(e,function(){t++}),t},toArray:function(e){return ed(e,function(t){return t})||[]},only:function(e){if(!$v(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Me.Component=Rl;Me.Fragment=CT;Me.Profiler=kT;Me.PureComponent=Mv;Me.StrictMode=ET;Me.Suspense=AT;Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FT;Me.act=T_;Me.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=N_({},e.props),s=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=Lv.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)k_.call(t,c)&&!P_.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:bu,type:e.type,key:s,ref:a,props:n,_owner:o}};Me.createContext=function(e){return e={$$typeof:RT,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:PT,_context:e},e.Consumer=e};Me.createElement=R_;Me.createFactory=function(e){var t=R_.bind(null,e);return t.type=e,t};Me.createRef=function(){return{current:null}};Me.forwardRef=function(e){return{$$typeof:TT,render:e}};Me.isValidElement=$v;Me.lazy=function(e){return{$$typeof:IT,_payload:{_status:-1,_result:e},_init:$T}};Me.memo=function(e,t){return{$$typeof:OT,type:e,compare:t===void 0?null:t}};Me.startTransition=function(e){var t=Ud.transition;Ud.transition={};try{e()}finally{Ud.transition=t}};Me.unstable_act=T_;Me.useCallback=function(e,t){return mr.current.useCallback(e,t)};Me.useContext=function(e){return mr.current.useContext(e)};Me.useDebugValue=function(){};Me.useDeferredValue=function(e){return mr.current.useDeferredValue(e)};Me.useEffect=function(e,t){return mr.current.useEffect(e,t)};Me.useId=function(){return mr.current.useId()};Me.useImperativeHandle=function(e,t,r){return mr.current.useImperativeHandle(e,t,r)};Me.useInsertionEffect=function(e,t){return mr.current.useInsertionEffect(e,t)};Me.useLayoutEffect=function(e,t){return mr.current.useLayoutEffect(e,t)};Me.useMemo=function(e,t){return mr.current.useMemo(e,t)};Me.useReducer=function(e,t,r){return mr.current.useReducer(e,t,r)};Me.useRef=function(e){return mr.current.useRef(e)};Me.useState=function(e){return mr.current.useState(e)};Me.useSyncExternalStore=function(e,t,r){return mr.current.useSyncExternalStore(e,t,r)};Me.useTransition=function(){return mr.current.useTransition()};Me.version="18.3.1";__.exports=Me;var p=__.exports;const z=w_(p),Fv=ST({__proto__:null,default:z},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UT=p,zT=Symbol.for("react.element"),BT=Symbol.for("react.fragment"),VT=Object.prototype.hasOwnProperty,qT=UT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,WT={key:!0,ref:!0,__self:!0,__source:!0};function A_(e,t,r){var n,s={},a=null,o=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)VT.call(t,n)&&!WT.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:zT,type:e,key:a,ref:o,props:s,_owner:qT.current}}df.Fragment=BT;df.jsx=A_;df.jsxs=A_;j_.exports=df;var i=j_.exports,O_={exports:{}},Qr={},I_={exports:{}},M_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,A){var H=I.length;I.push(A);e:for(;0<H;){var ie=H-1>>>1,ne=I[ie];if(0<s(ne,A))I[ie]=A,I[H]=ne,H=ie;else break e}}function r(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var A=I[0],H=I.pop();if(H!==A){I[0]=H;e:for(var ie=0,ne=I.length,ye=ne>>>1;ie<ye;){var ve=2*(ie+1)-1,Ve=I[ve],Ke=ve+1,J=I[Ke];if(0>s(Ve,H))Ke<ne&&0>s(J,Ve)?(I[ie]=J,I[Ke]=H,ie=Ke):(I[ie]=Ve,I[ve]=H,ie=ve);else if(Ke<ne&&0>s(J,H))I[ie]=J,I[Ke]=H,ie=Ke;else break e}}return A}function s(I,A){var H=I.sortIndex-A.sortIndex;return H!==0?H:I.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,m=!1,x=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(I){for(var A=r(u);A!==null;){if(A.callback===null)n(u);else if(A.startTime<=I)n(u),A.sortIndex=A.expirationTime,t(c,A);else break;A=r(u)}}function j(I){if(g=!1,b(I),!x)if(r(c)!==null)x=!0,V(_);else{var A=r(u);A!==null&&Z(j,A.startTime-I)}}function _(I,A){x=!1,g&&(g=!1,y(E),E=-1),m=!0;var H=f;try{for(b(A),h=r(c);h!==null&&(!(h.expirationTime>A)||I&&!B());){var ie=h.callback;if(typeof ie=="function"){h.callback=null,f=h.priorityLevel;var ne=ie(h.expirationTime<=A);A=e.unstable_now(),typeof ne=="function"?h.callback=ne:h===r(c)&&n(c),b(A)}else n(c);h=r(c)}if(h!==null)var ye=!0;else{var ve=r(u);ve!==null&&Z(j,ve.startTime-A),ye=!1}return ye}finally{h=null,f=H,m=!1}}var S=!1,N=null,E=-1,P=5,T=-1;function B(){return!(e.unstable_now()-T<P)}function D(){if(N!==null){var I=e.unstable_now();T=I;var A=!0;try{A=N(!0,I)}finally{A?q():(S=!1,N=null)}}else S=!1}var q;if(typeof v=="function")q=function(){v(D)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,M=F.port2;F.port1.onmessage=D,q=function(){M.postMessage(null)}}else q=function(){w(D,0)};function V(I){N=I,S||(S=!0,q())}function Z(I,A){E=w(function(){I(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){x||m||(x=!0,V(_))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(I){switch(f){case 1:case 2:case 3:var A=3;break;default:A=f}var H=f;f=A;try{return I()}finally{f=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,A){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var H=f;f=I;try{return A()}finally{f=H}},e.unstable_scheduleCallback=function(I,A,H){var ie=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?ie+H:ie):H=ie,I){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=H+ne,I={id:d++,callback:A,priorityLevel:I,startTime:H,expirationTime:ne,sortIndex:-1},H>ie?(I.sortIndex=H,t(u,I),r(c)===null&&I===r(u)&&(g?(y(E),E=-1):g=!0,Z(j,H-ie))):(I.sortIndex=ne,t(c,I),x||m||(x=!0,V(_))),I},e.unstable_shouldYield=B,e.unstable_wrapCallback=function(I){var A=f;return function(){var H=f;f=A;try{return I.apply(this,arguments)}finally{f=H}}}})(M_);I_.exports=M_;var HT=I_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KT=p,Gr=HT;function W(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var D_=new Set,$c={};function ro(e,t){ul(e,t),ul(e+"Capture",t)}function ul(e,t){for($c[e]=t,e=0;e<t.length;e++)D_.add(t[e])}var Ks=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pp=Object.prototype.hasOwnProperty,GT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Cw={},Ew={};function QT(e){return Pp.call(Ew,e)?!0:Pp.call(Cw,e)?!1:GT.test(e)?Ew[e]=!0:(Cw[e]=!0,!1)}function JT(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function YT(e,t,r,n){if(t===null||typeof t>"u"||JT(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function pr(e,t,r,n,s,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Yt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Yt[e]=new pr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Yt[t]=new pr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Yt[e]=new pr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Yt[e]=new pr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Yt[e]=new pr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Yt[e]=new pr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Yt[e]=new pr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Yt[e]=new pr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Yt[e]=new pr(e,5,!1,e.toLowerCase(),null,!1,!1)});var Uv=/[\-:]([a-z])/g;function zv(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Uv,zv);Yt[t]=new pr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Uv,zv);Yt[t]=new pr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Uv,zv);Yt[t]=new pr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Yt[e]=new pr(e,1,!1,e.toLowerCase(),null,!1,!1)});Yt.xlinkHref=new pr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Yt[e]=new pr(e,1,!1,e.toLowerCase(),null,!0,!0)});function Bv(e,t,r,n){var s=Yt.hasOwnProperty(t)?Yt[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(YT(t,r,s,n)&&(r=null),n||s===null?QT(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var na=KT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,td=Symbol.for("react.element"),ko=Symbol.for("react.portal"),Po=Symbol.for("react.fragment"),Vv=Symbol.for("react.strict_mode"),Rp=Symbol.for("react.profiler"),L_=Symbol.for("react.provider"),$_=Symbol.for("react.context"),qv=Symbol.for("react.forward_ref"),Tp=Symbol.for("react.suspense"),Ap=Symbol.for("react.suspense_list"),Wv=Symbol.for("react.memo"),ya=Symbol.for("react.lazy"),F_=Symbol.for("react.offscreen"),kw=Symbol.iterator;function Ql(e){return e===null||typeof e!="object"?null:(e=kw&&e[kw]||e["@@iterator"],typeof e=="function"?e:null)}var gt=Object.assign,Cm;function dc(e){if(Cm===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Cm=t&&t[1]||""}return`
`+Cm+e}var Em=!1;function km(e,t){if(!e||Em)return"";Em=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=n.stack.split(`
`),o=s.length-1,l=a.length-1;1<=o&&0<=l&&s[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==a[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Em=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?dc(e):""}function XT(e){switch(e.tag){case 5:return dc(e.type);case 16:return dc("Lazy");case 13:return dc("Suspense");case 19:return dc("SuspenseList");case 0:case 2:case 15:return e=km(e.type,!1),e;case 11:return e=km(e.type.render,!1),e;case 1:return e=km(e.type,!0),e;default:return""}}function Op(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Po:return"Fragment";case ko:return"Portal";case Rp:return"Profiler";case Vv:return"StrictMode";case Tp:return"Suspense";case Ap:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case $_:return(e.displayName||"Context")+".Consumer";case L_:return(e._context.displayName||"Context")+".Provider";case qv:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Wv:return t=e.displayName||null,t!==null?t:Op(e.type)||"Memo";case ya:t=e._payload,e=e._init;try{return Op(e(t))}catch{}}return null}function ZT(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Op(t);case 8:return t===Vv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ja(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function U_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function eA(e){var t=U_(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function rd(e){e._valueTracker||(e._valueTracker=eA(e))}function z_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=U_(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function uh(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ip(e,t){var r=t.checked;return gt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Pw(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ja(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function B_(e,t){t=t.checked,t!=null&&Bv(e,"checked",t,!1)}function Mp(e,t){B_(e,t);var r=Ja(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Dp(e,t.type,r):t.hasOwnProperty("defaultValue")&&Dp(e,t.type,Ja(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Rw(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Dp(e,t,r){(t!=="number"||uh(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var hc=Array.isArray;function Uo(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ja(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Lp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(W(91));return gt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Tw(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(W(92));if(hc(r)){if(1<r.length)throw Error(W(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ja(r)}}function V_(e,t){var r=Ja(t.value),n=Ja(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Aw(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function q_(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $p(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?q_(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var nd,W_=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(nd=nd||document.createElement("div"),nd.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=nd.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Fc(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var bc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tA=["Webkit","ms","Moz","O"];Object.keys(bc).forEach(function(e){tA.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),bc[t]=bc[e]})});function H_(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||bc.hasOwnProperty(e)&&bc[e]?(""+t).trim():t+"px"}function K_(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=H_(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var rA=gt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fp(e,t){if(t){if(rA[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(W(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(W(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(W(61))}if(t.style!=null&&typeof t.style!="object")throw Error(W(62))}}function Up(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zp=null;function Hv(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Bp=null,zo=null,Bo=null;function Ow(e){if(e=Su(e)){if(typeof Bp!="function")throw Error(W(280));var t=e.stateNode;t&&(t=gf(t),Bp(e.stateNode,e.type,t))}}function G_(e){zo?Bo?Bo.push(e):Bo=[e]:zo=e}function Q_(){if(zo){var e=zo,t=Bo;if(Bo=zo=null,Ow(e),t)for(e=0;e<t.length;e++)Ow(t[e])}}function J_(e,t){return e(t)}function Y_(){}var Pm=!1;function X_(e,t,r){if(Pm)return e(t,r);Pm=!0;try{return J_(e,t,r)}finally{Pm=!1,(zo!==null||Bo!==null)&&(Y_(),Q_())}}function Uc(e,t){var r=e.stateNode;if(r===null)return null;var n=gf(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(W(231,t,typeof r));return r}var Vp=!1;if(Ks)try{var Jl={};Object.defineProperty(Jl,"passive",{get:function(){Vp=!0}}),window.addEventListener("test",Jl,Jl),window.removeEventListener("test",Jl,Jl)}catch{Vp=!1}function nA(e,t,r,n,s,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var jc=!1,dh=null,hh=!1,qp=null,sA={onError:function(e){jc=!0,dh=e}};function aA(e,t,r,n,s,a,o,l,c){jc=!1,dh=null,nA.apply(sA,arguments)}function iA(e,t,r,n,s,a,o,l,c){if(aA.apply(this,arguments),jc){if(jc){var u=dh;jc=!1,dh=null}else throw Error(W(198));hh||(hh=!0,qp=u)}}function no(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Z_(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Iw(e){if(no(e)!==e)throw Error(W(188))}function oA(e){var t=e.alternate;if(!t){if(t=no(e),t===null)throw Error(W(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return Iw(s),e;if(a===n)return Iw(s),t;a=a.sibling}throw Error(W(188))}if(r.return!==n.return)r=s,n=a;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=a;break}if(l===n){o=!0,n=s,r=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===r){o=!0,r=a,n=s;break}if(l===n){o=!0,n=a,r=s;break}l=l.sibling}if(!o)throw Error(W(189))}}if(r.alternate!==n)throw Error(W(190))}if(r.tag!==3)throw Error(W(188));return r.stateNode.current===r?e:t}function eS(e){return e=oA(e),e!==null?tS(e):null}function tS(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=tS(e);if(t!==null)return t;e=e.sibling}return null}var rS=Gr.unstable_scheduleCallback,Mw=Gr.unstable_cancelCallback,lA=Gr.unstable_shouldYield,cA=Gr.unstable_requestPaint,_t=Gr.unstable_now,uA=Gr.unstable_getCurrentPriorityLevel,Kv=Gr.unstable_ImmediatePriority,nS=Gr.unstable_UserBlockingPriority,fh=Gr.unstable_NormalPriority,dA=Gr.unstable_LowPriority,sS=Gr.unstable_IdlePriority,hf=null,ds=null;function hA(e){if(ds&&typeof ds.onCommitFiberRoot=="function")try{ds.onCommitFiberRoot(hf,e,void 0,(e.current.flags&128)===128)}catch{}}var An=Math.clz32?Math.clz32:pA,fA=Math.log,mA=Math.LN2;function pA(e){return e>>>=0,e===0?32:31-(fA(e)/mA|0)|0}var sd=64,ad=4194304;function fc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function mh(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,a=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=fc(l):(a&=o,a!==0&&(n=fc(a)))}else o=r&~s,o!==0?n=fc(o):a!==0&&(n=fc(a));if(n===0)return 0;if(t!==0&&t!==n&&(t&s)===0&&(s=n&-n,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if((n&4)!==0&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-An(t),s=1<<r,n|=e[r],t&=~s;return n}function gA(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vA(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-An(a),l=1<<o,c=s[o];c===-1?((l&r)===0||(l&n)!==0)&&(s[o]=gA(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function Wp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function aS(){var e=sd;return sd<<=1,(sd&4194240)===0&&(sd=64),e}function Rm(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ju(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-An(t),e[t]=r}function yA(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-An(r),a=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~a}}function Gv(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-An(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Je=0;function iS(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var oS,Qv,lS,cS,uS,Hp=!1,id=[],Da=null,La=null,$a=null,zc=new Map,Bc=new Map,ba=[],xA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dw(e,t){switch(e){case"focusin":case"focusout":Da=null;break;case"dragenter":case"dragleave":La=null;break;case"mouseover":case"mouseout":$a=null;break;case"pointerover":case"pointerout":zc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bc.delete(t.pointerId)}}function Yl(e,t,r,n,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},t!==null&&(t=Su(t),t!==null&&Qv(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function wA(e,t,r,n,s){switch(t){case"focusin":return Da=Yl(Da,e,t,r,n,s),!0;case"dragenter":return La=Yl(La,e,t,r,n,s),!0;case"mouseover":return $a=Yl($a,e,t,r,n,s),!0;case"pointerover":var a=s.pointerId;return zc.set(a,Yl(zc.get(a)||null,e,t,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,Bc.set(a,Yl(Bc.get(a)||null,e,t,r,n,s)),!0}return!1}function dS(e){var t=ji(e.target);if(t!==null){var r=no(t);if(r!==null){if(t=r.tag,t===13){if(t=Z_(r),t!==null){e.blockedOn=t,uS(e.priority,function(){lS(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Kp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);zp=n,r.target.dispatchEvent(n),zp=null}else return t=Su(r),t!==null&&Qv(t),e.blockedOn=r,!1;t.shift()}return!0}function Lw(e,t,r){zd(e)&&r.delete(t)}function bA(){Hp=!1,Da!==null&&zd(Da)&&(Da=null),La!==null&&zd(La)&&(La=null),$a!==null&&zd($a)&&($a=null),zc.forEach(Lw),Bc.forEach(Lw)}function Xl(e,t){e.blockedOn===t&&(e.blockedOn=null,Hp||(Hp=!0,Gr.unstable_scheduleCallback(Gr.unstable_NormalPriority,bA)))}function Vc(e){function t(s){return Xl(s,e)}if(0<id.length){Xl(id[0],e);for(var r=1;r<id.length;r++){var n=id[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Da!==null&&Xl(Da,e),La!==null&&Xl(La,e),$a!==null&&Xl($a,e),zc.forEach(t),Bc.forEach(t),r=0;r<ba.length;r++)n=ba[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ba.length&&(r=ba[0],r.blockedOn===null);)dS(r),r.blockedOn===null&&ba.shift()}var Vo=na.ReactCurrentBatchConfig,ph=!0;function jA(e,t,r,n){var s=Je,a=Vo.transition;Vo.transition=null;try{Je=1,Jv(e,t,r,n)}finally{Je=s,Vo.transition=a}}function _A(e,t,r,n){var s=Je,a=Vo.transition;Vo.transition=null;try{Je=4,Jv(e,t,r,n)}finally{Je=s,Vo.transition=a}}function Jv(e,t,r,n){if(ph){var s=Kp(e,t,r,n);if(s===null)Um(e,t,n,gh,r),Dw(e,n);else if(wA(s,e,t,r,n))n.stopPropagation();else if(Dw(e,n),t&4&&-1<xA.indexOf(e)){for(;s!==null;){var a=Su(s);if(a!==null&&oS(a),a=Kp(e,t,r,n),a===null&&Um(e,t,n,gh,r),a===s)break;s=a}s!==null&&n.stopPropagation()}else Um(e,t,n,null,r)}}var gh=null;function Kp(e,t,r,n){if(gh=null,e=Hv(n),e=ji(e),e!==null)if(t=no(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Z_(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return gh=e,null}function hS(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uA()){case Kv:return 1;case nS:return 4;case fh:case dA:return 16;case sS:return 536870912;default:return 16}default:return 16}}var Oa=null,Yv=null,Bd=null;function fS(){if(Bd)return Bd;var e,t=Yv,r=t.length,n,s="value"in Oa?Oa.value:Oa.textContent,a=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[a-n];n++);return Bd=s.slice(e,1<n?1-n:void 0)}function Vd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function od(){return!0}function $w(){return!1}function Jr(e){function t(r,n,s,a,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?od:$w,this.isPropagationStopped=$w,this}return gt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=od)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=od)},persist:function(){},isPersistent:od}),t}var Tl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xv=Jr(Tl),_u=gt({},Tl,{view:0,detail:0}),SA=Jr(_u),Tm,Am,Zl,ff=gt({},_u,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zv,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zl&&(Zl&&e.type==="mousemove"?(Tm=e.screenX-Zl.screenX,Am=e.screenY-Zl.screenY):Am=Tm=0,Zl=e),Tm)},movementY:function(e){return"movementY"in e?e.movementY:Am}}),Fw=Jr(ff),NA=gt({},ff,{dataTransfer:0}),CA=Jr(NA),EA=gt({},_u,{relatedTarget:0}),Om=Jr(EA),kA=gt({},Tl,{animationName:0,elapsedTime:0,pseudoElement:0}),PA=Jr(kA),RA=gt({},Tl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),TA=Jr(RA),AA=gt({},Tl,{data:0}),Uw=Jr(AA),OA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},IA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},MA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function DA(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=MA[e])?!!t[e]:!1}function Zv(){return DA}var LA=gt({},_u,{key:function(e){if(e.key){var t=OA[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Vd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?IA[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zv,charCode:function(e){return e.type==="keypress"?Vd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Vd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),$A=Jr(LA),FA=gt({},ff,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zw=Jr(FA),UA=gt({},_u,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zv}),zA=Jr(UA),BA=gt({},Tl,{propertyName:0,elapsedTime:0,pseudoElement:0}),VA=Jr(BA),qA=gt({},ff,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),WA=Jr(qA),HA=[9,13,27,32],ey=Ks&&"CompositionEvent"in window,_c=null;Ks&&"documentMode"in document&&(_c=document.documentMode);var KA=Ks&&"TextEvent"in window&&!_c,mS=Ks&&(!ey||_c&&8<_c&&11>=_c),Bw=" ",Vw=!1;function pS(e,t){switch(e){case"keyup":return HA.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gS(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ro=!1;function GA(e,t){switch(e){case"compositionend":return gS(t);case"keypress":return t.which!==32?null:(Vw=!0,Bw);case"textInput":return e=t.data,e===Bw&&Vw?null:e;default:return null}}function QA(e,t){if(Ro)return e==="compositionend"||!ey&&pS(e,t)?(e=fS(),Bd=Yv=Oa=null,Ro=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return mS&&t.locale!=="ko"?null:t.data;default:return null}}var JA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!JA[e.type]:t==="textarea"}function vS(e,t,r,n){G_(n),t=vh(t,"onChange"),0<t.length&&(r=new Xv("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Sc=null,qc=null;function YA(e){kS(e,0)}function mf(e){var t=Oo(e);if(z_(t))return e}function XA(e,t){if(e==="change")return t}var yS=!1;if(Ks){var Im;if(Ks){var Mm="oninput"in document;if(!Mm){var Ww=document.createElement("div");Ww.setAttribute("oninput","return;"),Mm=typeof Ww.oninput=="function"}Im=Mm}else Im=!1;yS=Im&&(!document.documentMode||9<document.documentMode)}function Hw(){Sc&&(Sc.detachEvent("onpropertychange",xS),qc=Sc=null)}function xS(e){if(e.propertyName==="value"&&mf(qc)){var t=[];vS(t,qc,e,Hv(e)),X_(YA,t)}}function ZA(e,t,r){e==="focusin"?(Hw(),Sc=t,qc=r,Sc.attachEvent("onpropertychange",xS)):e==="focusout"&&Hw()}function eO(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return mf(qc)}function tO(e,t){if(e==="click")return mf(t)}function rO(e,t){if(e==="input"||e==="change")return mf(t)}function nO(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Mn=typeof Object.is=="function"?Object.is:nO;function Wc(e,t){if(Mn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Pp.call(t,s)||!Mn(e[s],t[s]))return!1}return!0}function Kw(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Gw(e,t){var r=Kw(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Kw(r)}}function wS(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?wS(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function bS(){for(var e=window,t=uh();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=uh(e.document)}return t}function ty(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function sO(e){var t=bS(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&wS(r.ownerDocument.documentElement,r)){if(n!==null&&ty(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=n.end===void 0?a:Math.min(n.end,s),!e.extend&&a>n&&(s=n,n=a,a=s),s=Gw(r,a);var o=Gw(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var aO=Ks&&"documentMode"in document&&11>=document.documentMode,To=null,Gp=null,Nc=null,Qp=!1;function Qw(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Qp||To==null||To!==uh(n)||(n=To,"selectionStart"in n&&ty(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Nc&&Wc(Nc,n)||(Nc=n,n=vh(Gp,"onSelect"),0<n.length&&(t=new Xv("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=To)))}function ld(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ao={animationend:ld("Animation","AnimationEnd"),animationiteration:ld("Animation","AnimationIteration"),animationstart:ld("Animation","AnimationStart"),transitionend:ld("Transition","TransitionEnd")},Dm={},jS={};Ks&&(jS=document.createElement("div").style,"AnimationEvent"in window||(delete Ao.animationend.animation,delete Ao.animationiteration.animation,delete Ao.animationstart.animation),"TransitionEvent"in window||delete Ao.transitionend.transition);function pf(e){if(Dm[e])return Dm[e];if(!Ao[e])return e;var t=Ao[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in jS)return Dm[e]=t[r];return e}var _S=pf("animationend"),SS=pf("animationiteration"),NS=pf("animationstart"),CS=pf("transitionend"),ES=new Map,Jw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ai(e,t){ES.set(e,t),ro(t,[e])}for(var Lm=0;Lm<Jw.length;Lm++){var $m=Jw[Lm],iO=$m.toLowerCase(),oO=$m[0].toUpperCase()+$m.slice(1);ai(iO,"on"+oO)}ai(_S,"onAnimationEnd");ai(SS,"onAnimationIteration");ai(NS,"onAnimationStart");ai("dblclick","onDoubleClick");ai("focusin","onFocus");ai("focusout","onBlur");ai(CS,"onTransitionEnd");ul("onMouseEnter",["mouseout","mouseover"]);ul("onMouseLeave",["mouseout","mouseover"]);ul("onPointerEnter",["pointerout","pointerover"]);ul("onPointerLeave",["pointerout","pointerover"]);ro("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ro("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ro("onBeforeInput",["compositionend","keypress","textInput","paste"]);ro("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ro("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ro("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lO=new Set("cancel close invalid load scroll toggle".split(" ").concat(mc));function Yw(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,iA(n,t,void 0,e),e.currentTarget=null}function kS(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;Yw(s,l,u),a=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;Yw(s,l,u),a=c}}}if(hh)throw e=qp,hh=!1,qp=null,e}function ot(e,t){var r=t[eg];r===void 0&&(r=t[eg]=new Set);var n=e+"__bubble";r.has(n)||(PS(t,e,2,!1),r.add(n))}function Fm(e,t,r){var n=0;t&&(n|=4),PS(r,e,n,t)}var cd="_reactListening"+Math.random().toString(36).slice(2);function Hc(e){if(!e[cd]){e[cd]=!0,D_.forEach(function(r){r!=="selectionchange"&&(lO.has(r)||Fm(r,!1,e),Fm(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[cd]||(t[cd]=!0,Fm("selectionchange",!1,t))}}function PS(e,t,r,n){switch(hS(t)){case 1:var s=jA;break;case 4:s=_A;break;default:s=Jv}r=s.bind(null,t,r,e),s=void 0,!Vp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Um(e,t,r,n,s){var a=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=ji(l),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}l=l.parentNode}}n=n.return}X_(function(){var u=a,d=Hv(r),h=[];e:{var f=ES.get(e);if(f!==void 0){var m=Xv,x=e;switch(e){case"keypress":if(Vd(r)===0)break e;case"keydown":case"keyup":m=$A;break;case"focusin":x="focus",m=Om;break;case"focusout":x="blur",m=Om;break;case"beforeblur":case"afterblur":m=Om;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Fw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=CA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=zA;break;case _S:case SS:case NS:m=PA;break;case CS:m=VA;break;case"scroll":m=SA;break;case"wheel":m=WA;break;case"copy":case"cut":case"paste":m=TA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=zw}var g=(t&4)!==0,w=!g&&e==="scroll",y=g?f!==null?f+"Capture":null:f;g=[];for(var v=u,b;v!==null;){b=v;var j=b.stateNode;if(b.tag===5&&j!==null&&(b=j,y!==null&&(j=Uc(v,y),j!=null&&g.push(Kc(v,j,b)))),w)break;v=v.return}0<g.length&&(f=new m(f,x,null,r,d),h.push({event:f,listeners:g}))}}if((t&7)===0){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&r!==zp&&(x=r.relatedTarget||r.fromElement)&&(ji(x)||x[Gs]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(x=r.relatedTarget||r.toElement,m=u,x=x?ji(x):null,x!==null&&(w=no(x),x!==w||x.tag!==5&&x.tag!==6)&&(x=null)):(m=null,x=u),m!==x)){if(g=Fw,j="onMouseLeave",y="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(g=zw,j="onPointerLeave",y="onPointerEnter",v="pointer"),w=m==null?f:Oo(m),b=x==null?f:Oo(x),f=new g(j,v+"leave",m,r,d),f.target=w,f.relatedTarget=b,j=null,ji(d)===u&&(g=new g(y,v+"enter",x,r,d),g.target=b,g.relatedTarget=w,j=g),w=j,m&&x)t:{for(g=m,y=x,v=0,b=g;b;b=fo(b))v++;for(b=0,j=y;j;j=fo(j))b++;for(;0<v-b;)g=fo(g),v--;for(;0<b-v;)y=fo(y),b--;for(;v--;){if(g===y||y!==null&&g===y.alternate)break t;g=fo(g),y=fo(y)}g=null}else g=null;m!==null&&Xw(h,f,m,g,!1),x!==null&&w!==null&&Xw(h,w,x,g,!0)}}e:{if(f=u?Oo(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var _=XA;else if(qw(f))if(yS)_=rO;else{_=eO;var S=ZA}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(_=tO);if(_&&(_=_(e,u))){vS(h,_,r,d);break e}S&&S(e,f,u),e==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&Dp(f,"number",f.value)}switch(S=u?Oo(u):window,e){case"focusin":(qw(S)||S.contentEditable==="true")&&(To=S,Gp=u,Nc=null);break;case"focusout":Nc=Gp=To=null;break;case"mousedown":Qp=!0;break;case"contextmenu":case"mouseup":case"dragend":Qp=!1,Qw(h,r,d);break;case"selectionchange":if(aO)break;case"keydown":case"keyup":Qw(h,r,d)}var N;if(ey)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Ro?pS(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(mS&&r.locale!=="ko"&&(Ro||E!=="onCompositionStart"?E==="onCompositionEnd"&&Ro&&(N=fS()):(Oa=d,Yv="value"in Oa?Oa.value:Oa.textContent,Ro=!0)),S=vh(u,E),0<S.length&&(E=new Uw(E,e,null,r,d),h.push({event:E,listeners:S}),N?E.data=N:(N=gS(r),N!==null&&(E.data=N)))),(N=KA?GA(e,r):QA(e,r))&&(u=vh(u,"onBeforeInput"),0<u.length&&(d=new Uw("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=N))}kS(h,t)})}function Kc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function vh(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=Uc(e,r),a!=null&&n.unshift(Kc(e,a,s)),a=Uc(e,t),a!=null&&n.push(Kc(e,a,s))),e=e.return}return n}function fo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Xw(e,t,r,n,s){for(var a=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=Uc(r,a),c!=null&&o.unshift(Kc(r,c,l))):s||(c=Uc(r,a),c!=null&&o.push(Kc(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var cO=/\r\n?/g,uO=/\u0000|\uFFFD/g;function Zw(e){return(typeof e=="string"?e:""+e).replace(cO,`
`).replace(uO,"")}function ud(e,t,r){if(t=Zw(t),Zw(e)!==t&&r)throw Error(W(425))}function yh(){}var Jp=null,Yp=null;function Xp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Zp=typeof setTimeout=="function"?setTimeout:void 0,dO=typeof clearTimeout=="function"?clearTimeout:void 0,e0=typeof Promise=="function"?Promise:void 0,hO=typeof queueMicrotask=="function"?queueMicrotask:typeof e0<"u"?function(e){return e0.resolve(null).then(e).catch(fO)}:Zp;function fO(e){setTimeout(function(){throw e})}function zm(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Vc(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Vc(t)}function Fa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function t0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Al=Math.random().toString(36).slice(2),os="__reactFiber$"+Al,Gc="__reactProps$"+Al,Gs="__reactContainer$"+Al,eg="__reactEvents$"+Al,mO="__reactListeners$"+Al,pO="__reactHandles$"+Al;function ji(e){var t=e[os];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Gs]||r[os]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=t0(e);e!==null;){if(r=e[os])return r;e=t0(e)}return t}e=r,r=e.parentNode}return null}function Su(e){return e=e[os]||e[Gs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Oo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(W(33))}function gf(e){return e[Gc]||null}var tg=[],Io=-1;function ii(e){return{current:e}}function lt(e){0>Io||(e.current=tg[Io],tg[Io]=null,Io--)}function st(e,t){Io++,tg[Io]=e.current,e.current=t}var Ya={},sr=ii(Ya),kr=ii(!1),zi=Ya;function dl(e,t){var r=e.type.contextTypes;if(!r)return Ya;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Pr(e){return e=e.childContextTypes,e!=null}function xh(){lt(kr),lt(sr)}function r0(e,t,r){if(sr.current!==Ya)throw Error(W(168));st(sr,t),st(kr,r)}function RS(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(W(108,ZT(e)||"Unknown",s));return gt({},r,n)}function wh(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ya,zi=sr.current,st(sr,e),st(kr,kr.current),!0}function n0(e,t,r){var n=e.stateNode;if(!n)throw Error(W(169));r?(e=RS(e,t,zi),n.__reactInternalMemoizedMergedChildContext=e,lt(kr),lt(sr),st(sr,e)):lt(kr),st(kr,r)}var Ds=null,vf=!1,Bm=!1;function TS(e){Ds===null?Ds=[e]:Ds.push(e)}function gO(e){vf=!0,TS(e)}function oi(){if(!Bm&&Ds!==null){Bm=!0;var e=0,t=Je;try{var r=Ds;for(Je=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ds=null,vf=!1}catch(s){throw Ds!==null&&(Ds=Ds.slice(e+1)),rS(Kv,oi),s}finally{Je=t,Bm=!1}}return null}var Mo=[],Do=0,bh=null,jh=0,Zr=[],en=0,Bi=null,Bs=1,Vs="";function vi(e,t){Mo[Do++]=jh,Mo[Do++]=bh,bh=e,jh=t}function AS(e,t,r){Zr[en++]=Bs,Zr[en++]=Vs,Zr[en++]=Bi,Bi=e;var n=Bs;e=Vs;var s=32-An(n)-1;n&=~(1<<s),r+=1;var a=32-An(t)+s;if(30<a){var o=s-s%5;a=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Bs=1<<32-An(t)+s|r<<s|n,Vs=a+e}else Bs=1<<a|r<<s|n,Vs=e}function ry(e){e.return!==null&&(vi(e,1),AS(e,1,0))}function ny(e){for(;e===bh;)bh=Mo[--Do],Mo[Do]=null,jh=Mo[--Do],Mo[Do]=null;for(;e===Bi;)Bi=Zr[--en],Zr[en]=null,Vs=Zr[--en],Zr[en]=null,Bs=Zr[--en],Zr[en]=null}var Wr=null,qr=null,ut=!1,kn=null;function OS(e,t){var r=rn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function s0(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Wr=e,qr=Fa(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Wr=e,qr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Bi!==null?{id:Bs,overflow:Vs}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=rn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Wr=e,qr=null,!0):!1;default:return!1}}function rg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ng(e){if(ut){var t=qr;if(t){var r=t;if(!s0(e,t)){if(rg(e))throw Error(W(418));t=Fa(r.nextSibling);var n=Wr;t&&s0(e,t)?OS(n,r):(e.flags=e.flags&-4097|2,ut=!1,Wr=e)}}else{if(rg(e))throw Error(W(418));e.flags=e.flags&-4097|2,ut=!1,Wr=e}}}function a0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Wr=e}function dd(e){if(e!==Wr)return!1;if(!ut)return a0(e),ut=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Xp(e.type,e.memoizedProps)),t&&(t=qr)){if(rg(e))throw IS(),Error(W(418));for(;t;)OS(e,t),t=Fa(t.nextSibling)}if(a0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(W(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){qr=Fa(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}qr=null}}else qr=Wr?Fa(e.stateNode.nextSibling):null;return!0}function IS(){for(var e=qr;e;)e=Fa(e.nextSibling)}function hl(){qr=Wr=null,ut=!1}function sy(e){kn===null?kn=[e]:kn.push(e)}var vO=na.ReactCurrentBatchConfig;function ec(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(W(309));var n=r.stateNode}if(!n)throw Error(W(147,e));var s=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=s.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(W(284));if(!r._owner)throw Error(W(290,e))}return e}function hd(e,t){throw e=Object.prototype.toString.call(t),Error(W(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function i0(e){var t=e._init;return t(e._payload)}function MS(e){function t(y,v){if(e){var b=y.deletions;b===null?(y.deletions=[v],y.flags|=16):b.push(v)}}function r(y,v){if(!e)return null;for(;v!==null;)t(y,v),v=v.sibling;return null}function n(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function s(y,v){return y=Va(y,v),y.index=0,y.sibling=null,y}function a(y,v,b){return y.index=b,e?(b=y.alternate,b!==null?(b=b.index,b<v?(y.flags|=2,v):b):(y.flags|=2,v)):(y.flags|=1048576,v)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,v,b,j){return v===null||v.tag!==6?(v=Qm(b,y.mode,j),v.return=y,v):(v=s(v,b),v.return=y,v)}function c(y,v,b,j){var _=b.type;return _===Po?d(y,v,b.props.children,j,b.key):v!==null&&(v.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===ya&&i0(_)===v.type)?(j=s(v,b.props),j.ref=ec(y,v,b),j.return=y,j):(j=Jd(b.type,b.key,b.props,null,y.mode,j),j.ref=ec(y,v,b),j.return=y,j)}function u(y,v,b,j){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=Jm(b,y.mode,j),v.return=y,v):(v=s(v,b.children||[]),v.return=y,v)}function d(y,v,b,j,_){return v===null||v.tag!==7?(v=Fi(b,y.mode,j,_),v.return=y,v):(v=s(v,b),v.return=y,v)}function h(y,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Qm(""+v,y.mode,b),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case td:return b=Jd(v.type,v.key,v.props,null,y.mode,b),b.ref=ec(y,null,v),b.return=y,b;case ko:return v=Jm(v,y.mode,b),v.return=y,v;case ya:var j=v._init;return h(y,j(v._payload),b)}if(hc(v)||Ql(v))return v=Fi(v,y.mode,b,null),v.return=y,v;hd(y,v)}return null}function f(y,v,b,j){var _=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return _!==null?null:l(y,v,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case td:return b.key===_?c(y,v,b,j):null;case ko:return b.key===_?u(y,v,b,j):null;case ya:return _=b._init,f(y,v,_(b._payload),j)}if(hc(b)||Ql(b))return _!==null?null:d(y,v,b,j,null);hd(y,b)}return null}function m(y,v,b,j,_){if(typeof j=="string"&&j!==""||typeof j=="number")return y=y.get(b)||null,l(v,y,""+j,_);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case td:return y=y.get(j.key===null?b:j.key)||null,c(v,y,j,_);case ko:return y=y.get(j.key===null?b:j.key)||null,u(v,y,j,_);case ya:var S=j._init;return m(y,v,b,S(j._payload),_)}if(hc(j)||Ql(j))return y=y.get(b)||null,d(v,y,j,_,null);hd(v,j)}return null}function x(y,v,b,j){for(var _=null,S=null,N=v,E=v=0,P=null;N!==null&&E<b.length;E++){N.index>E?(P=N,N=null):P=N.sibling;var T=f(y,N,b[E],j);if(T===null){N===null&&(N=P);break}e&&N&&T.alternate===null&&t(y,N),v=a(T,v,E),S===null?_=T:S.sibling=T,S=T,N=P}if(E===b.length)return r(y,N),ut&&vi(y,E),_;if(N===null){for(;E<b.length;E++)N=h(y,b[E],j),N!==null&&(v=a(N,v,E),S===null?_=N:S.sibling=N,S=N);return ut&&vi(y,E),_}for(N=n(y,N);E<b.length;E++)P=m(N,y,E,b[E],j),P!==null&&(e&&P.alternate!==null&&N.delete(P.key===null?E:P.key),v=a(P,v,E),S===null?_=P:S.sibling=P,S=P);return e&&N.forEach(function(B){return t(y,B)}),ut&&vi(y,E),_}function g(y,v,b,j){var _=Ql(b);if(typeof _!="function")throw Error(W(150));if(b=_.call(b),b==null)throw Error(W(151));for(var S=_=null,N=v,E=v=0,P=null,T=b.next();N!==null&&!T.done;E++,T=b.next()){N.index>E?(P=N,N=null):P=N.sibling;var B=f(y,N,T.value,j);if(B===null){N===null&&(N=P);break}e&&N&&B.alternate===null&&t(y,N),v=a(B,v,E),S===null?_=B:S.sibling=B,S=B,N=P}if(T.done)return r(y,N),ut&&vi(y,E),_;if(N===null){for(;!T.done;E++,T=b.next())T=h(y,T.value,j),T!==null&&(v=a(T,v,E),S===null?_=T:S.sibling=T,S=T);return ut&&vi(y,E),_}for(N=n(y,N);!T.done;E++,T=b.next())T=m(N,y,E,T.value,j),T!==null&&(e&&T.alternate!==null&&N.delete(T.key===null?E:T.key),v=a(T,v,E),S===null?_=T:S.sibling=T,S=T);return e&&N.forEach(function(D){return t(y,D)}),ut&&vi(y,E),_}function w(y,v,b,j){if(typeof b=="object"&&b!==null&&b.type===Po&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case td:e:{for(var _=b.key,S=v;S!==null;){if(S.key===_){if(_=b.type,_===Po){if(S.tag===7){r(y,S.sibling),v=s(S,b.props.children),v.return=y,y=v;break e}}else if(S.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===ya&&i0(_)===S.type){r(y,S.sibling),v=s(S,b.props),v.ref=ec(y,S,b),v.return=y,y=v;break e}r(y,S);break}else t(y,S);S=S.sibling}b.type===Po?(v=Fi(b.props.children,y.mode,j,b.key),v.return=y,y=v):(j=Jd(b.type,b.key,b.props,null,y.mode,j),j.ref=ec(y,v,b),j.return=y,y=j)}return o(y);case ko:e:{for(S=b.key;v!==null;){if(v.key===S)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){r(y,v.sibling),v=s(v,b.children||[]),v.return=y,y=v;break e}else{r(y,v);break}else t(y,v);v=v.sibling}v=Jm(b,y.mode,j),v.return=y,y=v}return o(y);case ya:return S=b._init,w(y,v,S(b._payload),j)}if(hc(b))return x(y,v,b,j);if(Ql(b))return g(y,v,b,j);hd(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(r(y,v.sibling),v=s(v,b),v.return=y,y=v):(r(y,v),v=Qm(b,y.mode,j),v.return=y,y=v),o(y)):r(y,v)}return w}var fl=MS(!0),DS=MS(!1),_h=ii(null),Sh=null,Lo=null,ay=null;function iy(){ay=Lo=Sh=null}function oy(e){var t=_h.current;lt(_h),e._currentValue=t}function sg(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function qo(e,t){Sh=e,ay=Lo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Er=!0),e.firstContext=null)}function an(e){var t=e._currentValue;if(ay!==e)if(e={context:e,memoizedValue:t,next:null},Lo===null){if(Sh===null)throw Error(W(308));Lo=e,Sh.dependencies={lanes:0,firstContext:e}}else Lo=Lo.next=e;return t}var _i=null;function ly(e){_i===null?_i=[e]:_i.push(e)}function LS(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,ly(t)):(r.next=s.next,s.next=r),t.interleaved=r,Qs(e,n)}function Qs(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var xa=!1;function cy(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $S(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ws(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ua(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,(qe&2)!==0){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Qs(e,r)}return s=n.interleaved,s===null?(t.next=t,ly(n)):(t.next=s.next,s.next=t),n.interleaved=t,Qs(e,r)}function qd(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Gv(e,r)}}function o0(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?s=a=t:a=a.next=t}else s=a=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Nh(e,t,r,n){var s=e.updateQueue;xa=!1;var a=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var h=s.baseState;o=0,d=u=c=null,l=a;do{var f=l.lane,m=l.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,g=l;switch(f=t,m=r,g.tag){case 1:if(x=g.payload,typeof x=="function"){h=x.call(m,h,f);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=g.payload,f=typeof x=="function"?x.call(m,h,f):x,f==null)break e;h=gt({},h,f);break e;case 2:xa=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else m={eventTime:m,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=h):d=d.next=m,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);qi|=o,e.lanes=o,e.memoizedState=h}}function l0(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(W(191,s));s.call(n)}}}var Nu={},hs=ii(Nu),Qc=ii(Nu),Jc=ii(Nu);function Si(e){if(e===Nu)throw Error(W(174));return e}function uy(e,t){switch(st(Jc,t),st(Qc,e),st(hs,Nu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:$p(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=$p(t,e)}lt(hs),st(hs,t)}function ml(){lt(hs),lt(Qc),lt(Jc)}function FS(e){Si(Jc.current);var t=Si(hs.current),r=$p(t,e.type);t!==r&&(st(Qc,e),st(hs,r))}function dy(e){Qc.current===e&&(lt(hs),lt(Qc))}var ht=ii(0);function Ch(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Vm=[];function hy(){for(var e=0;e<Vm.length;e++)Vm[e]._workInProgressVersionPrimary=null;Vm.length=0}var Wd=na.ReactCurrentDispatcher,qm=na.ReactCurrentBatchConfig,Vi=0,pt=null,$t=null,qt=null,Eh=!1,Cc=!1,Yc=0,yO=0;function Xt(){throw Error(W(321))}function fy(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Mn(e[r],t[r]))return!1;return!0}function my(e,t,r,n,s,a){if(Vi=a,pt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Wd.current=e===null||e.memoizedState===null?jO:_O,e=r(n,s),Cc){a=0;do{if(Cc=!1,Yc=0,25<=a)throw Error(W(301));a+=1,qt=$t=null,t.updateQueue=null,Wd.current=SO,e=r(n,s)}while(Cc)}if(Wd.current=kh,t=$t!==null&&$t.next!==null,Vi=0,qt=$t=pt=null,Eh=!1,t)throw Error(W(300));return e}function py(){var e=Yc!==0;return Yc=0,e}function rs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?pt.memoizedState=qt=e:qt=qt.next=e,qt}function on(){if($t===null){var e=pt.alternate;e=e!==null?e.memoizedState:null}else e=$t.next;var t=qt===null?pt.memoizedState:qt.next;if(t!==null)qt=t,$t=e;else{if(e===null)throw Error(W(310));$t=e,e={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},qt===null?pt.memoizedState=qt=e:qt=qt.next=e}return qt}function Xc(e,t){return typeof t=="function"?t(e):t}function Wm(e){var t=on(),r=t.queue;if(r===null)throw Error(W(311));r.lastRenderedReducer=e;var n=$t,s=n.baseQueue,a=r.pending;if(a!==null){if(s!==null){var o=s.next;s.next=a.next,a.next=o}n.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,n=n.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((Vi&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=n):c=c.next=h,pt.lanes|=d,qi|=d}u=u.next}while(u!==null&&u!==a);c===null?o=n:c.next=l,Mn(n,t.memoizedState)||(Er=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do a=s.lane,pt.lanes|=a,qi|=a,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Hm(e){var t=on(),r=t.queue;if(r===null)throw Error(W(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,a=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do a=e(a,o.action),o=o.next;while(o!==s);Mn(a,t.memoizedState)||(Er=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function US(){}function zS(e,t){var r=pt,n=on(),s=t(),a=!Mn(n.memoizedState,s);if(a&&(n.memoizedState=s,Er=!0),n=n.queue,gy(qS.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||qt!==null&&qt.memoizedState.tag&1){if(r.flags|=2048,Zc(9,VS.bind(null,r,n,s,t),void 0,null),Wt===null)throw Error(W(349));(Vi&30)!==0||BS(r,t,s)}return s}function BS(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=pt.updateQueue,t===null?(t={lastEffect:null,stores:null},pt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function VS(e,t,r,n){t.value=r,t.getSnapshot=n,WS(t)&&HS(e)}function qS(e,t,r){return r(function(){WS(t)&&HS(e)})}function WS(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Mn(e,r)}catch{return!0}}function HS(e){var t=Qs(e,1);t!==null&&On(t,e,1,-1)}function c0(e){var t=rs();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xc,lastRenderedState:e},t.queue=e,e=e.dispatch=bO.bind(null,pt,e),[t.memoizedState,e]}function Zc(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=pt.updateQueue,t===null?(t={lastEffect:null,stores:null},pt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function KS(){return on().memoizedState}function Hd(e,t,r,n){var s=rs();pt.flags|=e,s.memoizedState=Zc(1|t,r,void 0,n===void 0?null:n)}function yf(e,t,r,n){var s=on();n=n===void 0?null:n;var a=void 0;if($t!==null){var o=$t.memoizedState;if(a=o.destroy,n!==null&&fy(n,o.deps)){s.memoizedState=Zc(t,r,a,n);return}}pt.flags|=e,s.memoizedState=Zc(1|t,r,a,n)}function u0(e,t){return Hd(8390656,8,e,t)}function gy(e,t){return yf(2048,8,e,t)}function GS(e,t){return yf(4,2,e,t)}function QS(e,t){return yf(4,4,e,t)}function JS(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function YS(e,t,r){return r=r!=null?r.concat([e]):null,yf(4,4,JS.bind(null,t,e),r)}function vy(){}function XS(e,t){var r=on();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&fy(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function ZS(e,t){var r=on();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&fy(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function eN(e,t,r){return(Vi&21)===0?(e.baseState&&(e.baseState=!1,Er=!0),e.memoizedState=r):(Mn(r,t)||(r=aS(),pt.lanes|=r,qi|=r,e.baseState=!0),t)}function xO(e,t){var r=Je;Je=r!==0&&4>r?r:4,e(!0);var n=qm.transition;qm.transition={};try{e(!1),t()}finally{Je=r,qm.transition=n}}function tN(){return on().memoizedState}function wO(e,t,r){var n=Ba(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},rN(e))nN(t,r);else if(r=LS(e,t,r,n),r!==null){var s=hr();On(r,e,n,s),sN(r,t,n)}}function bO(e,t,r){var n=Ba(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(rN(e))nN(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,r);if(s.hasEagerState=!0,s.eagerState=l,Mn(l,o)){var c=t.interleaved;c===null?(s.next=s,ly(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=LS(e,t,s,n),r!==null&&(s=hr(),On(r,e,n,s),sN(r,t,n))}}function rN(e){var t=e.alternate;return e===pt||t!==null&&t===pt}function nN(e,t){Cc=Eh=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function sN(e,t,r){if((r&4194240)!==0){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Gv(e,r)}}var kh={readContext:an,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useInsertionEffect:Xt,useLayoutEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useMutableSource:Xt,useSyncExternalStore:Xt,useId:Xt,unstable_isNewReconciler:!1},jO={readContext:an,useCallback:function(e,t){return rs().memoizedState=[e,t===void 0?null:t],e},useContext:an,useEffect:u0,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Hd(4194308,4,JS.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Hd(4194308,4,e,t)},useInsertionEffect:function(e,t){return Hd(4,2,e,t)},useMemo:function(e,t){var r=rs();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=rs();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=wO.bind(null,pt,e),[n.memoizedState,e]},useRef:function(e){var t=rs();return e={current:e},t.memoizedState=e},useState:c0,useDebugValue:vy,useDeferredValue:function(e){return rs().memoizedState=e},useTransition:function(){var e=c0(!1),t=e[0];return e=xO.bind(null,e[1]),rs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=pt,s=rs();if(ut){if(r===void 0)throw Error(W(407));r=r()}else{if(r=t(),Wt===null)throw Error(W(349));(Vi&30)!==0||BS(n,t,r)}s.memoizedState=r;var a={value:r,getSnapshot:t};return s.queue=a,u0(qS.bind(null,n,a,e),[e]),n.flags|=2048,Zc(9,VS.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=rs(),t=Wt.identifierPrefix;if(ut){var r=Vs,n=Bs;r=(n&~(1<<32-An(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Yc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=yO++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},_O={readContext:an,useCallback:XS,useContext:an,useEffect:gy,useImperativeHandle:YS,useInsertionEffect:GS,useLayoutEffect:QS,useMemo:ZS,useReducer:Wm,useRef:KS,useState:function(){return Wm(Xc)},useDebugValue:vy,useDeferredValue:function(e){var t=on();return eN(t,$t.memoizedState,e)},useTransition:function(){var e=Wm(Xc)[0],t=on().memoizedState;return[e,t]},useMutableSource:US,useSyncExternalStore:zS,useId:tN,unstable_isNewReconciler:!1},SO={readContext:an,useCallback:XS,useContext:an,useEffect:gy,useImperativeHandle:YS,useInsertionEffect:GS,useLayoutEffect:QS,useMemo:ZS,useReducer:Hm,useRef:KS,useState:function(){return Hm(Xc)},useDebugValue:vy,useDeferredValue:function(e){var t=on();return $t===null?t.memoizedState=e:eN(t,$t.memoizedState,e)},useTransition:function(){var e=Hm(Xc)[0],t=on().memoizedState;return[e,t]},useMutableSource:US,useSyncExternalStore:zS,useId:tN,unstable_isNewReconciler:!1};function jn(e,t){if(e&&e.defaultProps){t=gt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ag(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:gt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var xf={isMounted:function(e){return(e=e._reactInternals)?no(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=hr(),s=Ba(e),a=Ws(n,s);a.payload=t,r!=null&&(a.callback=r),t=Ua(e,a,s),t!==null&&(On(t,e,s,n),qd(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=hr(),s=Ba(e),a=Ws(n,s);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Ua(e,a,s),t!==null&&(On(t,e,s,n),qd(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=hr(),n=Ba(e),s=Ws(r,n);s.tag=2,t!=null&&(s.callback=t),t=Ua(e,s,n),t!==null&&(On(t,e,n,r),qd(t,e,n))}};function d0(e,t,r,n,s,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,o):t.prototype&&t.prototype.isPureReactComponent?!Wc(r,n)||!Wc(s,a):!0}function aN(e,t,r){var n=!1,s=Ya,a=t.contextType;return typeof a=="object"&&a!==null?a=an(a):(s=Pr(t)?zi:sr.current,n=t.contextTypes,a=(n=n!=null)?dl(e,s):Ya),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=xf,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function h0(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&xf.enqueueReplaceState(t,t.state,null)}function ig(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},cy(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=an(a):(a=Pr(t)?zi:sr.current,s.context=dl(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(ag(e,t,a,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&xf.enqueueReplaceState(s,s.state,null),Nh(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function pl(e,t){try{var r="",n=t;do r+=XT(n),n=n.return;while(n);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function Km(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function og(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var NO=typeof WeakMap=="function"?WeakMap:Map;function iN(e,t,r){r=Ws(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Rh||(Rh=!0,vg=n),og(e,t)},r}function oN(e,t,r){r=Ws(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){og(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){og(e,t),typeof n!="function"&&(za===null?za=new Set([this]):za.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function f0(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new NO;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=FO.bind(null,e,t,r),t.then(e,e))}function m0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function p0(e,t,r,n,s){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ws(-1,1),t.tag=2,Ua(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=s,e)}var CO=na.ReactCurrentOwner,Er=!1;function lr(e,t,r,n){t.child=e===null?DS(t,null,r,n):fl(t,e.child,r,n)}function g0(e,t,r,n,s){r=r.render;var a=t.ref;return qo(t,s),n=my(e,t,r,n,a,s),r=py(),e!==null&&!Er?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Js(e,t,s)):(ut&&r&&ry(t),t.flags|=1,lr(e,t,n,s),t.child)}function v0(e,t,r,n,s){if(e===null){var a=r.type;return typeof a=="function"&&!Ny(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,lN(e,t,a,n,s)):(e=Jd(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,(e.lanes&s)===0){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:Wc,r(o,n)&&e.ref===t.ref)return Js(e,t,s)}return t.flags|=1,e=Va(a,n),e.ref=t.ref,e.return=t,t.child=e}function lN(e,t,r,n,s){if(e!==null){var a=e.memoizedProps;if(Wc(a,n)&&e.ref===t.ref)if(Er=!1,t.pendingProps=n=a,(e.lanes&s)!==0)(e.flags&131072)!==0&&(Er=!0);else return t.lanes=e.lanes,Js(e,t,s)}return lg(e,t,r,n,s)}function cN(e,t,r){var n=t.pendingProps,s=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},st(Fo,$r),$r|=r;else{if((r&1073741824)===0)return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,st(Fo,$r),$r|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,st(Fo,$r),$r|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,st(Fo,$r),$r|=n;return lr(e,t,s,r),t.child}function uN(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function lg(e,t,r,n,s){var a=Pr(r)?zi:sr.current;return a=dl(t,a),qo(t,s),r=my(e,t,r,n,a,s),n=py(),e!==null&&!Er?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Js(e,t,s)):(ut&&n&&ry(t),t.flags|=1,lr(e,t,r,s),t.child)}function y0(e,t,r,n,s){if(Pr(r)){var a=!0;wh(t)}else a=!1;if(qo(t,s),t.stateNode===null)Kd(e,t),aN(t,r,n),ig(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=an(u):(u=Pr(r)?zi:sr.current,u=dl(t,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&h0(t,o,n,u),xa=!1;var f=t.memoizedState;o.state=f,Nh(t,n,o,s),c=t.memoizedState,l!==n||f!==c||kr.current||xa?(typeof d=="function"&&(ag(t,r,d,n),c=t.memoizedState),(l=xa||d0(t,r,l,n,f,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,$S(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:jn(t.type,l),o.props=u,h=t.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=an(c):(c=Pr(r)?zi:sr.current,c=dl(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&h0(t,o,n,c),xa=!1,f=t.memoizedState,o.state=f,Nh(t,n,o,s);var x=t.memoizedState;l!==h||f!==x||kr.current||xa?(typeof m=="function"&&(ag(t,r,m,n),x=t.memoizedState),(u=xa||d0(t,r,u,n,f,x,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,x,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),o.props=n,o.state=x,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return cg(e,t,r,n,a,s)}function cg(e,t,r,n,s,a){uN(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&n0(t,r,!1),Js(e,t,a);n=t.stateNode,CO.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=fl(t,e.child,null,a),t.child=fl(t,null,l,a)):lr(e,t,l,a),t.memoizedState=n.state,s&&n0(t,r,!0),t.child}function dN(e){var t=e.stateNode;t.pendingContext?r0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&r0(e,t.context,!1),uy(e,t.containerInfo)}function x0(e,t,r,n,s){return hl(),sy(s),t.flags|=256,lr(e,t,r,n),t.child}var ug={dehydrated:null,treeContext:null,retryLane:0};function dg(e){return{baseLanes:e,cachePool:null,transitions:null}}function hN(e,t,r){var n=t.pendingProps,s=ht.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),st(ht,s&1),e===null)return ng(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(o=n.children,e=n.fallback,a?(n=t.mode,a=t.child,o={mode:"hidden",children:o},(n&1)===0&&a!==null?(a.childLanes=0,a.pendingProps=o):a=jf(o,n,0,null),e=Fi(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=dg(r),t.memoizedState=ug,e):yy(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return EO(e,t,o,n,l,s,r);if(a){a=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return(o&1)===0&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Va(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=Va(l,a):(a=Fi(a,o,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,o=e.child.memoizedState,o=o===null?dg(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~r,t.memoizedState=ug,n}return a=e.child,e=a.sibling,n=Va(a,{mode:"visible",children:n.children}),(t.mode&1)===0&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function yy(e,t){return t=jf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function fd(e,t,r,n){return n!==null&&sy(n),fl(t,e.child,null,r),e=yy(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function EO(e,t,r,n,s,a,o){if(r)return t.flags&256?(t.flags&=-257,n=Km(Error(W(422))),fd(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,s=t.mode,n=jf({mode:"visible",children:n.children},s,0,null),a=Fi(a,s,o,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,(t.mode&1)!==0&&fl(t,e.child,null,o),t.child.memoizedState=dg(o),t.memoizedState=ug,a);if((t.mode&1)===0)return fd(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(W(419)),n=Km(a,n,void 0),fd(e,t,o,n)}if(l=(o&e.childLanes)!==0,Er||l){if(n=Wt,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=(s&(n.suspendedLanes|o))!==0?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Qs(e,s),On(n,e,s,-1))}return Sy(),n=Km(Error(W(421))),fd(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=UO.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,qr=Fa(s.nextSibling),Wr=t,ut=!0,kn=null,e!==null&&(Zr[en++]=Bs,Zr[en++]=Vs,Zr[en++]=Bi,Bs=e.id,Vs=e.overflow,Bi=t),t=yy(t,n.children),t.flags|=4096,t)}function w0(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),sg(e.return,t,r)}function Gm(e,t,r,n,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function fN(e,t,r){var n=t.pendingProps,s=n.revealOrder,a=n.tail;if(lr(e,t,n.children,r),n=ht.current,(n&2)!==0)n=n&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&w0(e,r,t);else if(e.tag===19)w0(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(st(ht,n),(t.mode&1)===0)t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Ch(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Gm(t,!1,s,r,a);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ch(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Gm(t,!0,r,null,a);break;case"together":Gm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Kd(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Js(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),qi|=t.lanes,(r&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(W(153));if(t.child!==null){for(e=t.child,r=Va(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Va(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function kO(e,t,r){switch(t.tag){case 3:dN(t),hl();break;case 5:FS(t);break;case 1:Pr(t.type)&&wh(t);break;case 4:uy(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;st(_h,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(st(ht,ht.current&1),t.flags|=128,null):(r&t.child.childLanes)!==0?hN(e,t,r):(st(ht,ht.current&1),e=Js(e,t,r),e!==null?e.sibling:null);st(ht,ht.current&1);break;case 19:if(n=(r&t.childLanes)!==0,(e.flags&128)!==0){if(n)return fN(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),st(ht,ht.current),n)break;return null;case 22:case 23:return t.lanes=0,cN(e,t,r)}return Js(e,t,r)}var mN,hg,pN,gN;mN=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};hg=function(){};pN=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Si(hs.current);var a=null;switch(r){case"input":s=Ip(e,s),n=Ip(e,n),a=[];break;case"select":s=gt({},s,{value:void 0}),n=gt({},n,{value:void 0}),a=[];break;case"textarea":s=Lp(e,s),n=Lp(e,n),a=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=yh)}Fp(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&($c.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&($c.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ot("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};gN=function(e,t,r,n){r!==n&&(t.flags|=4)};function tc(e,t){if(!ut)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Zt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function PO(e,t,r){var n=t.pendingProps;switch(ny(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(t),null;case 1:return Pr(t.type)&&xh(),Zt(t),null;case 3:return n=t.stateNode,ml(),lt(kr),lt(sr),hy(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(dd(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,kn!==null&&(wg(kn),kn=null))),hg(e,t),Zt(t),null;case 5:dy(t);var s=Si(Jc.current);if(r=t.type,e!==null&&t.stateNode!=null)pN(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(W(166));return Zt(t),null}if(e=Si(hs.current),dd(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[os]=t,n[Gc]=a,e=(t.mode&1)!==0,r){case"dialog":ot("cancel",n),ot("close",n);break;case"iframe":case"object":case"embed":ot("load",n);break;case"video":case"audio":for(s=0;s<mc.length;s++)ot(mc[s],n);break;case"source":ot("error",n);break;case"img":case"image":case"link":ot("error",n),ot("load",n);break;case"details":ot("toggle",n);break;case"input":Pw(n,a),ot("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},ot("invalid",n);break;case"textarea":Tw(n,a),ot("invalid",n)}Fp(r,a),s=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&ud(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&ud(n.textContent,l,e),s=["children",""+l]):$c.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ot("scroll",n)}switch(r){case"input":rd(n),Rw(n,a,!0);break;case"textarea":rd(n),Aw(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=yh)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=q_(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[os]=t,e[Gc]=n,mN(e,t,!1,!1),t.stateNode=e;e:{switch(o=Up(r,n),r){case"dialog":ot("cancel",e),ot("close",e),s=n;break;case"iframe":case"object":case"embed":ot("load",e),s=n;break;case"video":case"audio":for(s=0;s<mc.length;s++)ot(mc[s],e);s=n;break;case"source":ot("error",e),s=n;break;case"img":case"image":case"link":ot("error",e),ot("load",e),s=n;break;case"details":ot("toggle",e),s=n;break;case"input":Pw(e,n),s=Ip(e,n),ot("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=gt({},n,{value:void 0}),ot("invalid",e);break;case"textarea":Tw(e,n),s=Lp(e,n),ot("invalid",e);break;default:s=n}Fp(r,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?K_(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&W_(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Fc(e,c):typeof c=="number"&&Fc(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&($c.hasOwnProperty(a)?c!=null&&a==="onScroll"&&ot("scroll",e):c!=null&&Bv(e,a,c,o))}switch(r){case"input":rd(e),Rw(e,n,!1);break;case"textarea":rd(e),Aw(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ja(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Uo(e,!!n.multiple,a,!1):n.defaultValue!=null&&Uo(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=yh)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Zt(t),null;case 6:if(e&&t.stateNode!=null)gN(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(W(166));if(r=Si(Jc.current),Si(hs.current),dd(t)){if(n=t.stateNode,r=t.memoizedProps,n[os]=t,(a=n.nodeValue!==r)&&(e=Wr,e!==null))switch(e.tag){case 3:ud(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ud(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[os]=t,t.stateNode=n}return Zt(t),null;case 13:if(lt(ht),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ut&&qr!==null&&(t.mode&1)!==0&&(t.flags&128)===0)IS(),hl(),t.flags|=98560,a=!1;else if(a=dd(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(W(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(W(317));a[os]=t}else hl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Zt(t),a=!1}else kn!==null&&(wg(kn),kn=null),a=!0;if(!a)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(ht.current&1)!==0?Ut===0&&(Ut=3):Sy())),t.updateQueue!==null&&(t.flags|=4),Zt(t),null);case 4:return ml(),hg(e,t),e===null&&Hc(t.stateNode.containerInfo),Zt(t),null;case 10:return oy(t.type._context),Zt(t),null;case 17:return Pr(t.type)&&xh(),Zt(t),null;case 19:if(lt(ht),a=t.memoizedState,a===null)return Zt(t),null;if(n=(t.flags&128)!==0,o=a.rendering,o===null)if(n)tc(a,!1);else{if(Ut!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(o=Ch(e),o!==null){for(t.flags|=128,tc(a,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return st(ht,ht.current&1|2),t.child}e=e.sibling}a.tail!==null&&_t()>gl&&(t.flags|=128,n=!0,tc(a,!1),t.lanes=4194304)}else{if(!n)if(e=Ch(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),tc(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!ut)return Zt(t),null}else 2*_t()-a.renderingStartTime>gl&&r!==1073741824&&(t.flags|=128,n=!0,tc(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(r=a.last,r!==null?r.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=_t(),t.sibling=null,r=ht.current,st(ht,n?r&1|2:r&1),t):(Zt(t),null);case 22:case 23:return _y(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&(t.mode&1)!==0?($r&1073741824)!==0&&(Zt(t),t.subtreeFlags&6&&(t.flags|=8192)):Zt(t),null;case 24:return null;case 25:return null}throw Error(W(156,t.tag))}function RO(e,t){switch(ny(t),t.tag){case 1:return Pr(t.type)&&xh(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ml(),lt(kr),lt(sr),hy(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return dy(t),null;case 13:if(lt(ht),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(W(340));hl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return lt(ht),null;case 4:return ml(),null;case 10:return oy(t.type._context),null;case 22:case 23:return _y(),null;case 24:return null;default:return null}}var md=!1,er=!1,TO=typeof WeakSet=="function"?WeakSet:Set,le=null;function $o(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){xt(e,t,n)}else r.current=null}function fg(e,t,r){try{r()}catch(n){xt(e,t,n)}}var b0=!1;function AO(e,t){if(Jp=ph,e=bS(),ty(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var m;h!==r||s!==0&&h.nodeType!==3||(l=o+s),h!==a||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===e)break t;if(f===r&&++u===s&&(l=o),f===a&&++d===n&&(c=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Yp={focusedElem:e,selectionRange:r},ph=!1,le=t;le!==null;)if(t=le,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,le=e;else for(;le!==null;){t=le;try{var x=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var g=x.memoizedProps,w=x.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:jn(t.type,g),w);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(j){xt(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,le=e;break}le=t.return}return x=b0,b0=!1,x}function Ec(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&fg(t,r,a)}s=s.next}while(s!==n)}}function wf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function mg(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function vN(e){var t=e.alternate;t!==null&&(e.alternate=null,vN(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[os],delete t[Gc],delete t[eg],delete t[mO],delete t[pO])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function yN(e){return e.tag===5||e.tag===3||e.tag===4}function j0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||yN(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function pg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=yh));else if(n!==4&&(e=e.child,e!==null))for(pg(e,t,r),e=e.sibling;e!==null;)pg(e,t,r),e=e.sibling}function gg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(gg(e,t,r),e=e.sibling;e!==null;)gg(e,t,r),e=e.sibling}var Ht=null,Cn=!1;function da(e,t,r){for(r=r.child;r!==null;)xN(e,t,r),r=r.sibling}function xN(e,t,r){if(ds&&typeof ds.onCommitFiberUnmount=="function")try{ds.onCommitFiberUnmount(hf,r)}catch{}switch(r.tag){case 5:er||$o(r,t);case 6:var n=Ht,s=Cn;Ht=null,da(e,t,r),Ht=n,Cn=s,Ht!==null&&(Cn?(e=Ht,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ht.removeChild(r.stateNode));break;case 18:Ht!==null&&(Cn?(e=Ht,r=r.stateNode,e.nodeType===8?zm(e.parentNode,r):e.nodeType===1&&zm(e,r),Vc(e)):zm(Ht,r.stateNode));break;case 4:n=Ht,s=Cn,Ht=r.stateNode.containerInfo,Cn=!0,da(e,t,r),Ht=n,Cn=s;break;case 0:case 11:case 14:case 15:if(!er&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var a=s,o=a.destroy;a=a.tag,o!==void 0&&((a&2)!==0||(a&4)!==0)&&fg(r,t,o),s=s.next}while(s!==n)}da(e,t,r);break;case 1:if(!er&&($o(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){xt(r,t,l)}da(e,t,r);break;case 21:da(e,t,r);break;case 22:r.mode&1?(er=(n=er)||r.memoizedState!==null,da(e,t,r),er=n):da(e,t,r);break;default:da(e,t,r)}}function _0(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new TO),t.forEach(function(n){var s=zO.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function yn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ht=l.stateNode,Cn=!1;break e;case 3:Ht=l.stateNode.containerInfo,Cn=!0;break e;case 4:Ht=l.stateNode.containerInfo,Cn=!0;break e}l=l.return}if(Ht===null)throw Error(W(160));xN(a,o,s),Ht=null,Cn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){xt(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)wN(t,e),t=t.sibling}function wN(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(yn(t,e),Jn(e),n&4){try{Ec(3,e,e.return),wf(3,e)}catch(g){xt(e,e.return,g)}try{Ec(5,e,e.return)}catch(g){xt(e,e.return,g)}}break;case 1:yn(t,e),Jn(e),n&512&&r!==null&&$o(r,r.return);break;case 5:if(yn(t,e),Jn(e),n&512&&r!==null&&$o(r,r.return),e.flags&32){var s=e.stateNode;try{Fc(s,"")}catch(g){xt(e,e.return,g)}}if(n&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,o=r!==null?r.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&B_(s,a),Up(l,o);var u=Up(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?K_(s,h):d==="dangerouslySetInnerHTML"?W_(s,h):d==="children"?Fc(s,h):Bv(s,d,h,u)}switch(l){case"input":Mp(s,a);break;case"textarea":V_(s,a);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?Uo(s,!!a.multiple,m,!1):f!==!!a.multiple&&(a.defaultValue!=null?Uo(s,!!a.multiple,a.defaultValue,!0):Uo(s,!!a.multiple,a.multiple?[]:"",!1))}s[Gc]=a}catch(g){xt(e,e.return,g)}}break;case 6:if(yn(t,e),Jn(e),n&4){if(e.stateNode===null)throw Error(W(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(g){xt(e,e.return,g)}}break;case 3:if(yn(t,e),Jn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Vc(t.containerInfo)}catch(g){xt(e,e.return,g)}break;case 4:yn(t,e),Jn(e);break;case 13:yn(t,e),Jn(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(by=_t())),n&4&&_0(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(er=(u=er)||d,yn(t,e),er=u):yn(t,e),Jn(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&(e.mode&1)!==0)for(le=e,d=e.child;d!==null;){for(h=le=d;le!==null;){switch(f=le,m=f.child,f.tag){case 0:case 11:case 14:case 15:Ec(4,f,f.return);break;case 1:$o(f,f.return);var x=f.stateNode;if(typeof x.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(g){xt(n,r,g)}}break;case 5:$o(f,f.return);break;case 22:if(f.memoizedState!==null){N0(h);continue}}m!==null?(m.return=f,le=m):N0(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=H_("display",o))}catch(g){xt(e,e.return,g)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){xt(e,e.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:yn(t,e),Jn(e),n&4&&_0(e);break;case 21:break;default:yn(t,e),Jn(e)}}function Jn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(yN(r)){var n=r;break e}r=r.return}throw Error(W(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Fc(s,""),n.flags&=-33);var a=j0(e);gg(e,a,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=j0(e);pg(e,l,o);break;default:throw Error(W(161))}}catch(c){xt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function OO(e,t,r){le=e,bN(e)}function bN(e,t,r){for(var n=(e.mode&1)!==0;le!==null;){var s=le,a=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||md;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||er;l=md;var u=er;if(md=o,(er=c)&&!u)for(le=s;le!==null;)o=le,c=o.child,o.tag===22&&o.memoizedState!==null?C0(s):c!==null?(c.return=o,le=c):C0(s);for(;a!==null;)le=a,bN(a),a=a.sibling;le=s,md=l,er=u}S0(e)}else(s.subtreeFlags&8772)!==0&&a!==null?(a.return=s,le=a):S0(e)}}function S0(e){for(;le!==null;){var t=le;if((t.flags&8772)!==0){var r=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:er||wf(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!er)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:jn(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&l0(t,a,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}l0(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Vc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}er||t.flags&512&&mg(t)}catch(f){xt(t,t.return,f)}}if(t===e){le=null;break}if(r=t.sibling,r!==null){r.return=t.return,le=r;break}le=t.return}}function N0(e){for(;le!==null;){var t=le;if(t===e){le=null;break}var r=t.sibling;if(r!==null){r.return=t.return,le=r;break}le=t.return}}function C0(e){for(;le!==null;){var t=le;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{wf(4,t)}catch(c){xt(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){xt(t,s,c)}}var a=t.return;try{mg(t)}catch(c){xt(t,a,c)}break;case 5:var o=t.return;try{mg(t)}catch(c){xt(t,o,c)}}}catch(c){xt(t,t.return,c)}if(t===e){le=null;break}var l=t.sibling;if(l!==null){l.return=t.return,le=l;break}le=t.return}}var IO=Math.ceil,Ph=na.ReactCurrentDispatcher,xy=na.ReactCurrentOwner,nn=na.ReactCurrentBatchConfig,qe=0,Wt=null,At=null,Jt=0,$r=0,Fo=ii(0),Ut=0,eu=null,qi=0,bf=0,wy=0,kc=null,Nr=null,by=0,gl=1/0,Is=null,Rh=!1,vg=null,za=null,pd=!1,Ia=null,Th=0,Pc=0,yg=null,Gd=-1,Qd=0;function hr(){return(qe&6)!==0?_t():Gd!==-1?Gd:Gd=_t()}function Ba(e){return(e.mode&1)===0?1:(qe&2)!==0&&Jt!==0?Jt&-Jt:vO.transition!==null?(Qd===0&&(Qd=aS()),Qd):(e=Je,e!==0||(e=window.event,e=e===void 0?16:hS(e.type)),e)}function On(e,t,r,n){if(50<Pc)throw Pc=0,yg=null,Error(W(185));ju(e,r,n),((qe&2)===0||e!==Wt)&&(e===Wt&&((qe&2)===0&&(bf|=r),Ut===4&&ja(e,Jt)),Rr(e,n),r===1&&qe===0&&(t.mode&1)===0&&(gl=_t()+500,vf&&oi()))}function Rr(e,t){var r=e.callbackNode;vA(e,t);var n=mh(e,e===Wt?Jt:0);if(n===0)r!==null&&Mw(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Mw(r),t===1)e.tag===0?gO(E0.bind(null,e)):TS(E0.bind(null,e)),hO(function(){(qe&6)===0&&oi()}),r=null;else{switch(iS(n)){case 1:r=Kv;break;case 4:r=nS;break;case 16:r=fh;break;case 536870912:r=sS;break;default:r=fh}r=PN(r,jN.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function jN(e,t){if(Gd=-1,Qd=0,(qe&6)!==0)throw Error(W(327));var r=e.callbackNode;if(Wo()&&e.callbackNode!==r)return null;var n=mh(e,e===Wt?Jt:0);if(n===0)return null;if((n&30)!==0||(n&e.expiredLanes)!==0||t)t=Ah(e,n);else{t=n;var s=qe;qe|=2;var a=SN();(Wt!==e||Jt!==t)&&(Is=null,gl=_t()+500,$i(e,t));do try{LO();break}catch(l){_N(e,l)}while(!0);iy(),Ph.current=a,qe=s,At!==null?t=0:(Wt=null,Jt=0,t=Ut)}if(t!==0){if(t===2&&(s=Wp(e),s!==0&&(n=s,t=xg(e,s))),t===1)throw r=eu,$i(e,0),ja(e,n),Rr(e,_t()),r;if(t===6)ja(e,n);else{if(s=e.current.alternate,(n&30)===0&&!MO(s)&&(t=Ah(e,n),t===2&&(a=Wp(e),a!==0&&(n=a,t=xg(e,a))),t===1))throw r=eu,$i(e,0),ja(e,n),Rr(e,_t()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(W(345));case 2:yi(e,Nr,Is);break;case 3:if(ja(e,n),(n&130023424)===n&&(t=by+500-_t(),10<t)){if(mh(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){hr(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Zp(yi.bind(null,e,Nr,Is),t);break}yi(e,Nr,Is);break;case 4:if(ja(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-An(n);a=1<<o,o=t[o],o>s&&(s=o),n&=~a}if(n=s,n=_t()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*IO(n/1960))-n,10<n){e.timeoutHandle=Zp(yi.bind(null,e,Nr,Is),n);break}yi(e,Nr,Is);break;case 5:yi(e,Nr,Is);break;default:throw Error(W(329))}}}return Rr(e,_t()),e.callbackNode===r?jN.bind(null,e):null}function xg(e,t){var r=kc;return e.current.memoizedState.isDehydrated&&($i(e,t).flags|=256),e=Ah(e,t),e!==2&&(t=Nr,Nr=r,t!==null&&wg(t)),e}function wg(e){Nr===null?Nr=e:Nr.push.apply(Nr,e)}function MO(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!Mn(a(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ja(e,t){for(t&=~wy,t&=~bf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-An(t),n=1<<r;e[r]=-1,t&=~n}}function E0(e){if((qe&6)!==0)throw Error(W(327));Wo();var t=mh(e,0);if((t&1)===0)return Rr(e,_t()),null;var r=Ah(e,t);if(e.tag!==0&&r===2){var n=Wp(e);n!==0&&(t=n,r=xg(e,n))}if(r===1)throw r=eu,$i(e,0),ja(e,t),Rr(e,_t()),r;if(r===6)throw Error(W(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,yi(e,Nr,Is),Rr(e,_t()),null}function jy(e,t){var r=qe;qe|=1;try{return e(t)}finally{qe=r,qe===0&&(gl=_t()+500,vf&&oi())}}function Wi(e){Ia!==null&&Ia.tag===0&&(qe&6)===0&&Wo();var t=qe;qe|=1;var r=nn.transition,n=Je;try{if(nn.transition=null,Je=1,e)return e()}finally{Je=n,nn.transition=r,qe=t,(qe&6)===0&&oi()}}function _y(){$r=Fo.current,lt(Fo)}function $i(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,dO(r)),At!==null)for(r=At.return;r!==null;){var n=r;switch(ny(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&xh();break;case 3:ml(),lt(kr),lt(sr),hy();break;case 5:dy(n);break;case 4:ml();break;case 13:lt(ht);break;case 19:lt(ht);break;case 10:oy(n.type._context);break;case 22:case 23:_y()}r=r.return}if(Wt=e,At=e=Va(e.current,null),Jt=$r=t,Ut=0,eu=null,wy=bf=qi=0,Nr=kc=null,_i!==null){for(t=0;t<_i.length;t++)if(r=_i[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=s,n.next=o}r.pending=n}_i=null}return e}function _N(e,t){do{var r=At;try{if(iy(),Wd.current=kh,Eh){for(var n=pt.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Eh=!1}if(Vi=0,qt=$t=pt=null,Cc=!1,Yc=0,xy.current=null,r===null||r.return===null){Ut=1,eu=t,At=null;break}e:{var a=e,o=r.return,l=r,c=t;if(t=Jt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if((d.mode&1)===0&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=m0(o);if(m!==null){m.flags&=-257,p0(m,o,l,a,t),m.mode&1&&f0(a,u,t),t=m,c=u;var x=t.updateQueue;if(x===null){var g=new Set;g.add(c),t.updateQueue=g}else x.add(c);break e}else{if((t&1)===0){f0(a,u,t),Sy();break e}c=Error(W(426))}}else if(ut&&l.mode&1){var w=m0(o);if(w!==null){(w.flags&65536)===0&&(w.flags|=256),p0(w,o,l,a,t),sy(pl(c,l));break e}}a=c=pl(c,l),Ut!==4&&(Ut=2),kc===null?kc=[a]:kc.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var y=iN(a,c,t);o0(a,y);break e;case 1:l=c;var v=a.type,b=a.stateNode;if((a.flags&128)===0&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(za===null||!za.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t;var j=oN(a,l,t);o0(a,j);break e}}a=a.return}while(a!==null)}CN(r)}catch(_){t=_,At===r&&r!==null&&(At=r=r.return);continue}break}while(!0)}function SN(){var e=Ph.current;return Ph.current=kh,e===null?kh:e}function Sy(){(Ut===0||Ut===3||Ut===2)&&(Ut=4),Wt===null||(qi&268435455)===0&&(bf&268435455)===0||ja(Wt,Jt)}function Ah(e,t){var r=qe;qe|=2;var n=SN();(Wt!==e||Jt!==t)&&(Is=null,$i(e,t));do try{DO();break}catch(s){_N(e,s)}while(!0);if(iy(),qe=r,Ph.current=n,At!==null)throw Error(W(261));return Wt=null,Jt=0,Ut}function DO(){for(;At!==null;)NN(At)}function LO(){for(;At!==null&&!lA();)NN(At)}function NN(e){var t=kN(e.alternate,e,$r);e.memoizedProps=e.pendingProps,t===null?CN(e):At=t,xy.current=null}function CN(e){var t=e;do{var r=t.alternate;if(e=t.return,(t.flags&32768)===0){if(r=PO(r,t,$r),r!==null){At=r;return}}else{if(r=RO(r,t),r!==null){r.flags&=32767,At=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ut=6,At=null;return}}if(t=t.sibling,t!==null){At=t;return}At=t=e}while(t!==null);Ut===0&&(Ut=5)}function yi(e,t,r){var n=Je,s=nn.transition;try{nn.transition=null,Je=1,$O(e,t,r,n)}finally{nn.transition=s,Je=n}return null}function $O(e,t,r,n){do Wo();while(Ia!==null);if((qe&6)!==0)throw Error(W(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(W(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(yA(e,a),e===Wt&&(At=Wt=null,Jt=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||pd||(pd=!0,PN(fh,function(){return Wo(),null})),a=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||a){a=nn.transition,nn.transition=null;var o=Je;Je=1;var l=qe;qe|=4,xy.current=null,AO(e,r),wN(r,e),sO(Yp),ph=!!Jp,Yp=Jp=null,e.current=r,OO(r),cA(),qe=l,Je=o,nn.transition=a}else e.current=r;if(pd&&(pd=!1,Ia=e,Th=s),a=e.pendingLanes,a===0&&(za=null),hA(r.stateNode),Rr(e,_t()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Rh)throw Rh=!1,e=vg,vg=null,e;return(Th&1)!==0&&e.tag!==0&&Wo(),a=e.pendingLanes,(a&1)!==0?e===yg?Pc++:(Pc=0,yg=e):Pc=0,oi(),null}function Wo(){if(Ia!==null){var e=iS(Th),t=nn.transition,r=Je;try{if(nn.transition=null,Je=16>e?16:e,Ia===null)var n=!1;else{if(e=Ia,Ia=null,Th=0,(qe&6)!==0)throw Error(W(331));var s=qe;for(qe|=4,le=e.current;le!==null;){var a=le,o=a.child;if((le.flags&16)!==0){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(le=u;le!==null;){var d=le;switch(d.tag){case 0:case 11:case 15:Ec(8,d,a)}var h=d.child;if(h!==null)h.return=d,le=h;else for(;le!==null;){d=le;var f=d.sibling,m=d.return;if(vN(d),d===u){le=null;break}if(f!==null){f.return=m,le=f;break}le=m}}}var x=a.alternate;if(x!==null){var g=x.child;if(g!==null){x.child=null;do{var w=g.sibling;g.sibling=null,g=w}while(g!==null)}}le=a}}if((a.subtreeFlags&2064)!==0&&o!==null)o.return=a,le=o;else e:for(;le!==null;){if(a=le,(a.flags&2048)!==0)switch(a.tag){case 0:case 11:case 15:Ec(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,le=y;break e}le=a.return}}var v=e.current;for(le=v;le!==null;){o=le;var b=o.child;if((o.subtreeFlags&2064)!==0&&b!==null)b.return=o,le=b;else e:for(o=v;le!==null;){if(l=le,(l.flags&2048)!==0)try{switch(l.tag){case 0:case 11:case 15:wf(9,l)}}catch(_){xt(l,l.return,_)}if(l===o){le=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,le=j;break e}le=l.return}}if(qe=s,oi(),ds&&typeof ds.onPostCommitFiberRoot=="function")try{ds.onPostCommitFiberRoot(hf,e)}catch{}n=!0}return n}finally{Je=r,nn.transition=t}}return!1}function k0(e,t,r){t=pl(r,t),t=iN(e,t,1),e=Ua(e,t,1),t=hr(),e!==null&&(ju(e,1,t),Rr(e,t))}function xt(e,t,r){if(e.tag===3)k0(e,e,r);else for(;t!==null;){if(t.tag===3){k0(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(za===null||!za.has(n))){e=pl(r,e),e=oN(t,e,1),t=Ua(t,e,1),e=hr(),t!==null&&(ju(t,1,e),Rr(t,e));break}}t=t.return}}function FO(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=hr(),e.pingedLanes|=e.suspendedLanes&r,Wt===e&&(Jt&r)===r&&(Ut===4||Ut===3&&(Jt&130023424)===Jt&&500>_t()-by?$i(e,0):wy|=r),Rr(e,t)}function EN(e,t){t===0&&((e.mode&1)===0?t=1:(t=ad,ad<<=1,(ad&130023424)===0&&(ad=4194304)));var r=hr();e=Qs(e,t),e!==null&&(ju(e,t,r),Rr(e,r))}function UO(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),EN(e,r)}function zO(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(W(314))}n!==null&&n.delete(t),EN(e,r)}var kN;kN=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||kr.current)Er=!0;else{if((e.lanes&r)===0&&(t.flags&128)===0)return Er=!1,kO(e,t,r);Er=(e.flags&131072)!==0}else Er=!1,ut&&(t.flags&1048576)!==0&&AS(t,jh,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Kd(e,t),e=t.pendingProps;var s=dl(t,sr.current);qo(t,r),s=my(null,t,n,e,s,r);var a=py();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pr(n)?(a=!0,wh(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,cy(t),s.updater=xf,t.stateNode=s,s._reactInternals=t,ig(t,n,e,r),t=cg(null,t,n,!0,a,r)):(t.tag=0,ut&&a&&ry(t),lr(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Kd(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=VO(n),e=jn(n,e),s){case 0:t=lg(null,t,n,e,r);break e;case 1:t=y0(null,t,n,e,r);break e;case 11:t=g0(null,t,n,e,r);break e;case 14:t=v0(null,t,n,jn(n.type,e),r);break e}throw Error(W(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:jn(n,s),lg(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:jn(n,s),y0(e,t,n,s,r);case 3:e:{if(dN(t),e===null)throw Error(W(387));n=t.pendingProps,a=t.memoizedState,s=a.element,$S(e,t),Nh(t,n,null,r);var o=t.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=pl(Error(W(423)),t),t=x0(e,t,n,r,s);break e}else if(n!==s){s=pl(Error(W(424)),t),t=x0(e,t,n,r,s);break e}else for(qr=Fa(t.stateNode.containerInfo.firstChild),Wr=t,ut=!0,kn=null,r=DS(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(hl(),n===s){t=Js(e,t,r);break e}lr(e,t,n,r)}t=t.child}return t;case 5:return FS(t),e===null&&ng(t),n=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,o=s.children,Xp(n,s)?o=null:a!==null&&Xp(n,a)&&(t.flags|=32),uN(e,t),lr(e,t,o,r),t.child;case 6:return e===null&&ng(t),null;case 13:return hN(e,t,r);case 4:return uy(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=fl(t,null,n,r):lr(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:jn(n,s),g0(e,t,n,s,r);case 7:return lr(e,t,t.pendingProps,r),t.child;case 8:return lr(e,t,t.pendingProps.children,r),t.child;case 12:return lr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,a=t.memoizedProps,o=s.value,st(_h,n._currentValue),n._currentValue=o,a!==null)if(Mn(a.value,o)){if(a.children===s.children&&!kr.current){t=Js(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=Ws(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),sg(a.return,r,t),l.lanes|=r;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(W(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),sg(o,r,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}lr(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,qo(t,r),s=an(s),n=n(s),t.flags|=1,lr(e,t,n,r),t.child;case 14:return n=t.type,s=jn(n,t.pendingProps),s=jn(n.type,s),v0(e,t,n,s,r);case 15:return lN(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:jn(n,s),Kd(e,t),t.tag=1,Pr(n)?(e=!0,wh(t)):e=!1,qo(t,r),aN(t,n,s),ig(t,n,s,r),cg(null,t,n,!0,e,r);case 19:return fN(e,t,r);case 22:return cN(e,t,r)}throw Error(W(156,t.tag))};function PN(e,t){return rS(e,t)}function BO(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rn(e,t,r,n){return new BO(e,t,r,n)}function Ny(e){return e=e.prototype,!(!e||!e.isReactComponent)}function VO(e){if(typeof e=="function")return Ny(e)?1:0;if(e!=null){if(e=e.$$typeof,e===qv)return 11;if(e===Wv)return 14}return 2}function Va(e,t){var r=e.alternate;return r===null?(r=rn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Jd(e,t,r,n,s,a){var o=2;if(n=e,typeof e=="function")Ny(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Po:return Fi(r.children,s,a,t);case Vv:o=8,s|=8;break;case Rp:return e=rn(12,r,t,s|2),e.elementType=Rp,e.lanes=a,e;case Tp:return e=rn(13,r,t,s),e.elementType=Tp,e.lanes=a,e;case Ap:return e=rn(19,r,t,s),e.elementType=Ap,e.lanes=a,e;case F_:return jf(r,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case L_:o=10;break e;case $_:o=9;break e;case qv:o=11;break e;case Wv:o=14;break e;case ya:o=16,n=null;break e}throw Error(W(130,e==null?e:typeof e,""))}return t=rn(o,r,t,s),t.elementType=e,t.type=n,t.lanes=a,t}function Fi(e,t,r,n){return e=rn(7,e,n,t),e.lanes=r,e}function jf(e,t,r,n){return e=rn(22,e,n,t),e.elementType=F_,e.lanes=r,e.stateNode={isHidden:!1},e}function Qm(e,t,r){return e=rn(6,e,null,t),e.lanes=r,e}function Jm(e,t,r){return t=rn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function qO(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rm(0),this.expirationTimes=Rm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rm(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Cy(e,t,r,n,s,a,o,l,c){return e=new qO(e,t,r,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=rn(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},cy(a),e}function WO(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ko,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function RN(e){if(!e)return Ya;e=e._reactInternals;e:{if(no(e)!==e||e.tag!==1)throw Error(W(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(W(171))}if(e.tag===1){var r=e.type;if(Pr(r))return RS(e,r,t)}return t}function TN(e,t,r,n,s,a,o,l,c){return e=Cy(r,n,!0,e,s,a,o,l,c),e.context=RN(null),r=e.current,n=hr(),s=Ba(r),a=Ws(n,s),a.callback=t??null,Ua(r,a,s),e.current.lanes=s,ju(e,s,n),Rr(e,n),e}function _f(e,t,r,n){var s=t.current,a=hr(),o=Ba(s);return r=RN(r),t.context===null?t.context=r:t.pendingContext=r,t=Ws(a,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Ua(s,t,o),e!==null&&(On(e,s,o,a),qd(e,s,o)),o}function Oh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function P0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Ey(e,t){P0(e,t),(e=e.alternate)&&P0(e,t)}function HO(){return null}var AN=typeof reportError=="function"?reportError:function(e){console.error(e)};function ky(e){this._internalRoot=e}Sf.prototype.render=ky.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(W(409));_f(e,t,null,null)};Sf.prototype.unmount=ky.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Wi(function(){_f(null,e,null,null)}),t[Gs]=null}};function Sf(e){this._internalRoot=e}Sf.prototype.unstable_scheduleHydration=function(e){if(e){var t=cS();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ba.length&&t!==0&&t<ba[r].priority;r++);ba.splice(r,0,e),r===0&&dS(e)}};function Py(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Nf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function R0(){}function KO(e,t,r,n,s){if(s){if(typeof n=="function"){var a=n;n=function(){var u=Oh(o);a.call(u)}}var o=TN(t,n,e,0,null,!1,!1,"",R0);return e._reactRootContainer=o,e[Gs]=o.current,Hc(e.nodeType===8?e.parentNode:e),Wi(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=Oh(c);l.call(u)}}var c=Cy(e,0,!1,null,null,!1,!1,"",R0);return e._reactRootContainer=c,e[Gs]=c.current,Hc(e.nodeType===8?e.parentNode:e),Wi(function(){_f(t,c,r,n)}),c}function Cf(e,t,r,n,s){var a=r._reactRootContainer;if(a){var o=a;if(typeof s=="function"){var l=s;s=function(){var c=Oh(o);l.call(c)}}_f(t,o,e,s)}else o=KO(r,t,e,s,n);return Oh(o)}oS=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=fc(t.pendingLanes);r!==0&&(Gv(t,r|1),Rr(t,_t()),(qe&6)===0&&(gl=_t()+500,oi()))}break;case 13:Wi(function(){var n=Qs(e,1);if(n!==null){var s=hr();On(n,e,1,s)}}),Ey(e,1)}};Qv=function(e){if(e.tag===13){var t=Qs(e,134217728);if(t!==null){var r=hr();On(t,e,134217728,r)}Ey(e,134217728)}};lS=function(e){if(e.tag===13){var t=Ba(e),r=Qs(e,t);if(r!==null){var n=hr();On(r,e,t,n)}Ey(e,t)}};cS=function(){return Je};uS=function(e,t){var r=Je;try{return Je=e,t()}finally{Je=r}};Bp=function(e,t,r){switch(t){case"input":if(Mp(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=gf(n);if(!s)throw Error(W(90));z_(n),Mp(n,s)}}}break;case"textarea":V_(e,r);break;case"select":t=r.value,t!=null&&Uo(e,!!r.multiple,t,!1)}};J_=jy;Y_=Wi;var GO={usingClientEntryPoint:!1,Events:[Su,Oo,gf,G_,Q_,jy]},rc={findFiberByHostInstance:ji,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},QO={bundleType:rc.bundleType,version:rc.version,rendererPackageName:rc.rendererPackageName,rendererConfig:rc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:na.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=eS(e),e===null?null:e.stateNode},findFiberByHostInstance:rc.findFiberByHostInstance||HO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gd.isDisabled&&gd.supportsFiber)try{hf=gd.inject(QO),ds=gd}catch{}}Qr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GO;Qr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Py(t))throw Error(W(200));return WO(e,t,null,r)};Qr.createRoot=function(e,t){if(!Py(e))throw Error(W(299));var r=!1,n="",s=AN;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Cy(e,1,!1,null,null,r,!1,n,s),e[Gs]=t.current,Hc(e.nodeType===8?e.parentNode:e),new ky(t)};Qr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(W(188)):(e=Object.keys(e).join(","),Error(W(268,e)));return e=eS(t),e=e===null?null:e.stateNode,e};Qr.flushSync=function(e){return Wi(e)};Qr.hydrate=function(e,t,r){if(!Nf(t))throw Error(W(200));return Cf(null,e,t,!0,r)};Qr.hydrateRoot=function(e,t,r){if(!Py(e))throw Error(W(405));var n=r!=null&&r.hydratedSources||null,s=!1,a="",o=AN;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=TN(t,null,e,1,r??null,s,!1,a,o),e[Gs]=t.current,Hc(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Sf(t)};Qr.render=function(e,t,r){if(!Nf(t))throw Error(W(200));return Cf(null,e,t,!1,r)};Qr.unmountComponentAtNode=function(e){if(!Nf(e))throw Error(W(40));return e._reactRootContainer?(Wi(function(){Cf(null,null,e,!1,function(){e._reactRootContainer=null,e[Gs]=null})}),!0):!1};Qr.unstable_batchedUpdates=jy;Qr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Nf(r))throw Error(W(200));if(e==null||e._reactInternals===void 0)throw Error(W(38));return Cf(e,t,r,!1,n)};Qr.version="18.3.1-next-f1338f8080-20240426";function ON(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ON)}catch(e){console.error(e)}}ON(),O_.exports=Qr;var so=O_.exports;const IN=w_(so);var MN,T0=so;MN=T0.createRoot,T0.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tu(){return tu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tu.apply(this,arguments)}var Ma;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ma||(Ma={}));const A0="popstate";function JO(e){e===void 0&&(e={});function t(n,s){let{pathname:a,search:o,hash:l}=n.location;return bg("",{pathname:a,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Ih(s)}return XO(t,r,null,e)}function Nt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function DN(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function YO(){return Math.random().toString(36).substr(2,8)}function O0(e,t){return{usr:e.state,key:e.key,idx:t}}function bg(e,t,r,n){return r===void 0&&(r=null),tu({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ol(t):t,{state:r,key:t&&t.key||n||YO()})}function Ih(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ol(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function XO(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:a=!1}=n,o=s.history,l=Ma.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(tu({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=Ma.Pop;let w=d(),y=w==null?null:w-u;u=w,c&&c({action:l,location:g.location,delta:y})}function f(w,y){l=Ma.Push;let v=bg(g.location,w,y);u=d()+1;let b=O0(v,u),j=g.createHref(v);try{o.pushState(b,"",j)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;s.location.assign(j)}a&&c&&c({action:l,location:g.location,delta:1})}function m(w,y){l=Ma.Replace;let v=bg(g.location,w,y);u=d();let b=O0(v,u),j=g.createHref(v);o.replaceState(b,"",j),a&&c&&c({action:l,location:g.location,delta:0})}function x(w){let y=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof w=="string"?w:Ih(w);return v=v.replace(/ $/,"%20"),Nt(y,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,y)}let g={get action(){return l},get location(){return e(s,o)},listen(w){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(A0,h),c=w,()=>{s.removeEventListener(A0,h),c=null}},createHref(w){return t(s,w)},createURL:x,encodeLocation(w){let y=x(w);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:m,go(w){return o.go(w)}};return g}var I0;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(I0||(I0={}));function ZO(e,t,r){return r===void 0&&(r="/"),eI(e,t,r)}function eI(e,t,r,n){let s=typeof t=="string"?Ol(t):t,a=Ry(s.pathname||"/",r);if(a==null)return null;let o=LN(e);tI(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=fI(a);l=uI(o[c],u)}return l}function LN(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(Nt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=qa([n,c.relativePath]),d=r.concat(c);a.children&&a.children.length>0&&(Nt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),LN(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:lI(u,a.index),routesMeta:d})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,o);else for(let c of $N(a.path))s(a,o,c)}),t}function $N(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let o=$N(n.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function tI(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:cI(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const rI=/^:[\w-]+$/,nI=3,sI=2,aI=1,iI=10,oI=-2,M0=e=>e==="*";function lI(e,t){let r=e.split("/"),n=r.length;return r.some(M0)&&(n+=oI),t&&(n+=sI),r.filter(s=>!M0(s)).reduce((s,a)=>s+(rI.test(a)?nI:a===""?aI:iI),n)}function cI(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function uI(e,t,r){let{routesMeta:n}=e,s={},a="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=a==="/"?t:t.slice(a.length)||"/",h=dI({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:qa([a,h.pathname]),pathnameBase:vI(qa([a,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(a=qa([a,h.pathnameBase]))}return o}function dI(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=hI(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let a=s[0],o=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:f,isOptional:m}=d;if(f==="*"){let g=l[h]||"";o=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const x=l[h];return m&&!x?u[f]=void 0:u[f]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:e}}function hI(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),DN(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function fI(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return DN(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ry(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function mI(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Ol(e):e;return{pathname:r?r.startsWith("/")?r:pI(r,t):t,search:yI(n),hash:xI(s)}}function pI(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Ym(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function gI(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Ty(e,t){let r=gI(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Ay(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Ol(e):(s=tu({},e),Nt(!s.pathname||!s.pathname.includes("?"),Ym("?","pathname","search",s)),Nt(!s.pathname||!s.pathname.includes("#"),Ym("#","pathname","hash",s)),Nt(!s.search||!s.search.includes("#"),Ym("#","search","hash",s)));let a=e===""||s.pathname==="",o=a?"/":s.pathname,l;if(o==null)l=r;else{let h=t.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}l=h>=0?t[h]:"/"}let c=mI(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const qa=e=>e.join("/").replace(/\/\/+/g,"/"),vI=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),yI=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,xI=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function wI(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const FN=["post","put","patch","delete"];new Set(FN);const bI=["get",...FN];new Set(bI);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ru(){return ru=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ru.apply(this,arguments)}const Oy=p.createContext(null),jI=p.createContext(null),li=p.createContext(null),Ef=p.createContext(null),sa=p.createContext({outlet:null,matches:[],isDataRoute:!1}),UN=p.createContext(null);function _I(e,t){let{relative:r}=t===void 0?{}:t;Il()||Nt(!1);let{basename:n,navigator:s}=p.useContext(li),{hash:a,pathname:o,search:l}=BN(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:qa([n,o])),s.createHref({pathname:c,search:l,hash:a})}function Il(){return p.useContext(Ef)!=null}function ao(){return Il()||Nt(!1),p.useContext(Ef).location}function zN(e){p.useContext(li).static||p.useLayoutEffect(e)}function vt(){let{isDataRoute:e}=p.useContext(sa);return e?DI():SI()}function SI(){Il()||Nt(!1);let e=p.useContext(Oy),{basename:t,future:r,navigator:n}=p.useContext(li),{matches:s}=p.useContext(sa),{pathname:a}=ao(),o=JSON.stringify(Ty(s,r.v7_relativeSplatPath)),l=p.useRef(!1);return zN(()=>{l.current=!0}),p.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let h=Ay(u,JSON.parse(o),a,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:qa([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,o,a,e])}function Cu(){let{matches:e}=p.useContext(sa),t=e[e.length-1];return t?t.params:{}}function BN(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=p.useContext(li),{matches:s}=p.useContext(sa),{pathname:a}=ao(),o=JSON.stringify(Ty(s,n.v7_relativeSplatPath));return p.useMemo(()=>Ay(e,JSON.parse(o),a,r==="path"),[e,o,a,r])}function NI(e,t){return CI(e,t)}function CI(e,t,r,n){Il()||Nt(!1);let{navigator:s}=p.useContext(li),{matches:a}=p.useContext(sa),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=ao(),d;if(t){var h;let w=typeof t=="string"?Ol(t):t;c==="/"||(h=w.pathname)!=null&&h.startsWith(c)||Nt(!1),d=w}else d=u;let f=d.pathname||"/",m=f;if(c!=="/"){let w=c.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(w.length).join("/")}let x=ZO(e,{pathname:m}),g=TI(x&&x.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:qa([c,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:qa([c,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),a,r,n);return t&&g?p.createElement(Ef.Provider,{value:{location:ru({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ma.Pop}},g):g}function EI(){let e=MI(),t=wI(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),r?p.createElement("pre",{style:s},r):null,null)}const kI=p.createElement(EI,null);class PI extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?p.createElement(sa.Provider,{value:this.props.routeContext},p.createElement(UN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RI(e){let{routeContext:t,match:r,children:n}=e,s=p.useContext(Oy);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),p.createElement(sa.Provider,{value:t},n)}function TI(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||Nt(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:m}=r,x=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||x){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let m,x=!1,g=null,w=null;r&&(m=l&&h.route.id?l[h.route.id]:void 0,g=h.route.errorElement||kI,c&&(u<0&&f===0?(LI("route-fallback"),x=!0,w=null):u===f&&(x=!0,w=h.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,f+1)),v=()=>{let b;return m?b=g:x?b=w:h.route.Component?b=p.createElement(h.route.Component,null):h.route.element?b=h.route.element:b=d,p.createElement(RI,{match:h,routeContext:{outlet:d,matches:y,isDataRoute:r!=null},children:b})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?p.createElement(PI,{location:r.location,revalidation:r.revalidation,component:g,error:m,children:v(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):v()},null)}var VN=(function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e})(VN||{}),qN=(function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e})(qN||{});function AI(e){let t=p.useContext(Oy);return t||Nt(!1),t}function OI(e){let t=p.useContext(jI);return t||Nt(!1),t}function II(e){let t=p.useContext(sa);return t||Nt(!1),t}function WN(e){let t=II(),r=t.matches[t.matches.length-1];return r.route.id||Nt(!1),r.route.id}function MI(){var e;let t=p.useContext(UN),r=OI(),n=WN();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function DI(){let{router:e}=AI(VN.UseNavigateStable),t=WN(qN.UseNavigateStable),r=p.useRef(!1);return zN(()=>{r.current=!0}),p.useCallback(function(s,a){a===void 0&&(a={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,ru({fromRouteId:t},a)))},[e,t])}const D0={};function LI(e,t,r){D0[e]||(D0[e]=!0)}function $I(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function jg(e){let{to:t,replace:r,state:n,relative:s}=e;Il()||Nt(!1);let{future:a,static:o}=p.useContext(li),{matches:l}=p.useContext(sa),{pathname:c}=ao(),u=vt(),d=Ay(t,Ty(l,a.v7_relativeSplatPath),c,s==="path"),h=JSON.stringify(d);return p.useEffect(()=>u(JSON.parse(h),{replace:r,state:n,relative:s}),[u,h,s,r,n]),null}function tt(e){Nt(!1)}function FI(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Ma.Pop,navigator:a,static:o=!1,future:l}=e;Il()&&Nt(!1);let c=t.replace(/^\/*/,"/"),u=p.useMemo(()=>({basename:c,navigator:a,static:o,future:ru({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof n=="string"&&(n=Ol(n));let{pathname:d="/",search:h="",hash:f="",state:m=null,key:x="default"}=n,g=p.useMemo(()=>{let w=Ry(d,c);return w==null?null:{location:{pathname:w,search:h,hash:f,state:m,key:x},navigationType:s}},[c,d,h,f,m,x,s]);return g==null?null:p.createElement(li.Provider,{value:u},p.createElement(Ef.Provider,{children:r,value:g}))}function UI(e){let{children:t,location:r}=e;return NI(_g(t),r)}new Promise(()=>{});function _g(e,t){t===void 0&&(t=[]);let r=[];return p.Children.forEach(e,(n,s)=>{if(!p.isValidElement(n))return;let a=[...t,s];if(n.type===p.Fragment){r.push.apply(r,_g(n.props.children,a));return}n.type!==tt&&Nt(!1),!n.props.index||!n.props.children||Nt(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=_g(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sg(){return Sg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sg.apply(this,arguments)}function zI(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,a;for(a=0;a<n.length;a++)s=n[a],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function BI(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function VI(e,t){return e.button===0&&(!t||t==="_self")&&!BI(e)}function Ng(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function qI(e,t){let r=Ng(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(a=>{r.append(s,a)})}),r}const WI=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],HI="6";try{window.__reactRouterVersion=HI}catch{}const KI="startTransition",L0=Fv[KI];function GI(e){let{basename:t,children:r,future:n,window:s}=e,a=p.useRef();a.current==null&&(a.current=JO({window:s,v5Compat:!0}));let o=a.current,[l,c]=p.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=p.useCallback(h=>{u&&L0?L0(()=>c(h)):c(h)},[c,u]);return p.useLayoutEffect(()=>o.listen(d),[o,d]),p.useEffect(()=>$I(n),[n]),p.createElement(FI,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const QI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",JI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pn=p.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,f=zI(t,WI),{basename:m}=p.useContext(li),x,g=!1;if(typeof u=="string"&&JI.test(u)&&(x=u,QI))try{let b=new URL(window.location.href),j=u.startsWith("//")?new URL(b.protocol+u):new URL(u),_=Ry(j.pathname,m);j.origin===b.origin&&_!=null?u=_+j.search+j.hash:g=!0}catch{}let w=_I(u,{relative:s}),y=YI(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:h});function v(b){n&&n(b),b.defaultPrevented||y(b)}return p.createElement("a",Sg({},f,{href:x||w,onClick:g||a?n:v,ref:r,target:c}))});var $0;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})($0||($0={}));var F0;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(F0||(F0={}));function YI(e,t){let{target:r,replace:n,state:s,preventScrollReset:a,relative:o,viewTransition:l}=t===void 0?{}:t,c=vt(),u=ao(),d=BN(e,{relative:o});return p.useCallback(h=>{if(VI(h,r)){h.preventDefault();let f=n!==void 0?n:Ih(u)===Ih(d);c(e,{replace:f,state:s,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,d,n,s,r,e,a,o,l])}function XI(e){let t=p.useRef(Ng(e)),r=p.useRef(!1),n=ao(),s=p.useMemo(()=>qI(n.search,r.current?null:t.current),[n.search]),a=vt(),o=p.useCallback((l,c)=>{const u=Ng(typeof l=="function"?l(s):l);r.current=!0,a("?"+u,c)},[a,s]);return[s,o]}var Ml=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ZI={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Sa,Iv,c_,eM=(c_=class{constructor(){me(this,Sa,ZI);me(this,Iv,!1)}setTimeoutProvider(e){se(this,Sa,e)}setTimeout(e,t){return C(this,Sa).setTimeout(e,t)}clearTimeout(e){C(this,Sa).clearTimeout(e)}setInterval(e,t){return C(this,Sa).setInterval(e,t)}clearInterval(e){C(this,Sa).clearInterval(e)}},Sa=new WeakMap,Iv=new WeakMap,c_),Ni=new eM;function tM(e){setTimeout(e,0)}var Hi=typeof window>"u"||"Deno"in globalThis;function cr(){}function rM(e,t){return typeof e=="function"?e(t):e}function Cg(e){return typeof e=="number"&&e>=0&&e!==1/0}function HN(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Wa(e,t){return typeof e=="function"?e(t):e}function Xr(e,t){return typeof e=="function"?e(t):e}function U0(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:a,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==Iy(o,t.options))return!1}else if(!nu(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||a&&!a(t))}function z0(e,t){const{exact:r,status:n,predicate:s,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(Ki(t.options.mutationKey)!==Ki(a))return!1}else if(!nu(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function Iy(e,t){return((t==null?void 0:t.queryKeyHashFn)||Ki)(e)}function Ki(e){return JSON.stringify(e,(t,r)=>Eg(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function nu(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>nu(e[r],t[r])):!1}var nM=Object.prototype.hasOwnProperty;function KN(e,t){if(e===t)return e;const r=B0(e)&&B0(t);if(!r&&!(Eg(e)&&Eg(t)))return t;const s=(r?e:Object.keys(e)).length,a=r?t:Object.keys(t),o=a.length,l=r?new Array(o):{};let c=0;for(let u=0;u<o;u++){const d=r?u:a[u],h=e[d],f=t[d];if(h===f){l[d]=h,(r?u<s:nM.call(e,d))&&c++;continue}if(h===null||f===null||typeof h!="object"||typeof f!="object"){l[d]=f;continue}const m=KN(h,f);l[d]=m,m===h&&c++}return s===o&&c===s?e:l}function Mh(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function B0(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Eg(e){if(!V0(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!V0(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function V0(e){return Object.prototype.toString.call(e)==="[object Object]"}function sM(e){return new Promise(t=>{Ni.setTimeout(t,e)})}function kg(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?KN(e,t):t}function aM(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function iM(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var My=Symbol();function GN(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===My?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function QN(e,t){return typeof e=="function"?e(...t):!!e}var Pi,Na,Xo,u_,oM=(u_=class extends Ml{constructor(){super();me(this,Pi);me(this,Na);me(this,Xo);se(this,Xo,t=>{if(!Hi&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){C(this,Na)||this.setEventListener(C(this,Xo))}onUnsubscribe(){var t;this.hasListeners()||((t=C(this,Na))==null||t.call(this),se(this,Na,void 0))}setEventListener(t){var r;se(this,Xo,t),(r=C(this,Na))==null||r.call(this),se(this,Na,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){C(this,Pi)!==t&&(se(this,Pi,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof C(this,Pi)=="boolean"?C(this,Pi):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Pi=new WeakMap,Na=new WeakMap,Xo=new WeakMap,u_),Dy=new oM;function Pg(){let e,t;const r=new Promise((s,a)=>{e=s,t=a});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}var lM=tM;function cM(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=lM;const a=l=>{t?e.push(l):s(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var Ft=cM(),Zo,Ca,el,d_,uM=(d_=class extends Ml{constructor(){super();me(this,Zo,!0);me(this,Ca);me(this,el);se(this,el,t=>{if(!Hi&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){C(this,Ca)||this.setEventListener(C(this,el))}onUnsubscribe(){var t;this.hasListeners()||((t=C(this,Ca))==null||t.call(this),se(this,Ca,void 0))}setEventListener(t){var r;se(this,el,t),(r=C(this,Ca))==null||r.call(this),se(this,Ca,t(this.setOnline.bind(this)))}setOnline(t){C(this,Zo)!==t&&(se(this,Zo,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return C(this,Zo)}},Zo=new WeakMap,Ca=new WeakMap,el=new WeakMap,d_),Dh=new uM;function dM(e){return Math.min(1e3*2**e,3e4)}function JN(e){return(e??"online")==="online"?Dh.isOnline():!0}var Rg=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function YN(e){let t=!1,r=0,n;const s=Pg(),a=()=>s.status!=="pending",o=g=>{var w;if(!a()){const y=new Rg(g);f(y),(w=e.onCancel)==null||w.call(e,y)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>Dy.isFocused()&&(e.networkMode==="always"||Dh.isOnline())&&e.canRun(),d=()=>JN(e.networkMode)&&e.canRun(),h=g=>{a()||(n==null||n(),s.resolve(g))},f=g=>{a()||(n==null||n(),s.reject(g))},m=()=>new Promise(g=>{var w;n=y=>{(a()||u())&&g(y)},(w=e.onPause)==null||w.call(e)}).then(()=>{var g;n=void 0,a()||(g=e.onContinue)==null||g.call(e)}),x=()=>{if(a())return;let g;const w=r===0?e.initialPromise:void 0;try{g=w??e.fn()}catch(y){g=Promise.reject(y)}Promise.resolve(g).then(h).catch(y=>{var S;if(a())return;const v=e.retry??(Hi?0:3),b=e.retryDelay??dM,j=typeof b=="function"?b(r,y):b,_=v===!0||typeof v=="number"&&r<v||typeof v=="function"&&v(r,y);if(t||!_){f(y);return}r++,(S=e.onFail)==null||S.call(e,r,y),sM(j).then(()=>u()?void 0:m()).then(()=>{t?f(y):x()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(n==null||n(),s),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?x():m().then(x),s)}}var Ri,h_,XN=(h_=class{constructor(){me(this,Ri)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Cg(this.gcTime)&&se(this,Ri,Ni.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Hi?1/0:300*1e3))}clearGcTimeout(){C(this,Ri)&&(Ni.clearTimeout(C(this,Ri)),se(this,Ri,void 0))}},Ri=new WeakMap,h_),Ti,tl,Yr,Ai,Vt,gu,Oi,Sn,Ts,f_,hM=(f_=class extends XN{constructor(t){super();me(this,Sn);me(this,Ti);me(this,tl);me(this,Yr);me(this,Ai);me(this,Vt);me(this,gu);me(this,Oi);se(this,Oi,!1),se(this,gu,t.defaultOptions),this.setOptions(t.options),this.observers=[],se(this,Ai,t.client),se(this,Yr,C(this,Ai).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,se(this,Ti,q0(this.options)),this.state=t.state??C(this,Ti),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=C(this,Vt))==null?void 0:t.promise}setOptions(t){if(this.options={...C(this,gu),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=q0(this.options);r.data!==void 0&&(this.setData(r.data,{updatedAt:r.dataUpdatedAt,manual:!0}),se(this,Ti,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&C(this,Yr).remove(this)}setData(t,r){const n=kg(this.state.data,t,this.options);return Te(this,Sn,Ts).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Te(this,Sn,Ts).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=C(this,Vt))==null?void 0:n.promise;return(s=C(this,Vt))==null||s.cancel(t),r?r.then(cr).catch(cr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(C(this,Ti))}isActive(){return this.observers.some(t=>Xr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===My||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Wa(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!HN(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=C(this,Vt))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=C(this,Vt))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),C(this,Yr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(C(this,Vt)&&(C(this,Oi)?C(this,Vt).cancel({revert:!0}):C(this,Vt).cancelRetry()),this.scheduleGc()),C(this,Yr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Te(this,Sn,Ts).call(this,{type:"invalidate"})}async fetch(t,r){var c,u,d,h,f,m,x,g,w,y,v,b;if(this.state.fetchStatus!=="idle"&&((c=C(this,Vt))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(C(this,Vt))return C(this,Vt).continueRetry(),C(this,Vt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const j=this.observers.find(_=>_.options.queryFn);j&&this.setOptions(j.options)}const n=new AbortController,s=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(se(this,Oi,!0),n.signal)})},a=()=>{const j=GN(this.options,r),S=(()=>{const N={client:C(this,Ai),queryKey:this.queryKey,meta:this.meta};return s(N),N})();return se(this,Oi,!1),this.options.persister?this.options.persister(j,S,this):j(S)},l=(()=>{const j={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:C(this,Ai),state:this.state,fetchFn:a};return s(j),j})();(u=this.options.behavior)==null||u.onFetch(l,this),se(this,tl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&Te(this,Sn,Ts).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta}),se(this,Vt,YN({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:j=>{j instanceof Rg&&j.revert&&this.setState({...C(this,tl),fetchStatus:"idle"}),n.abort()},onFail:(j,_)=>{Te(this,Sn,Ts).call(this,{type:"failed",failureCount:j,error:_})},onPause:()=>{Te(this,Sn,Ts).call(this,{type:"pause"})},onContinue:()=>{Te(this,Sn,Ts).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const j=await C(this,Vt).start();if(j===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(j),(m=(f=C(this,Yr).config).onSuccess)==null||m.call(f,j,this),(g=(x=C(this,Yr).config).onSettled)==null||g.call(x,j,this.state.error,this),j}catch(j){if(j instanceof Rg){if(j.silent)return C(this,Vt).promise;if(j.revert){if(this.state.data===void 0)throw j;return this.state.data}}throw Te(this,Sn,Ts).call(this,{type:"error",error:j}),(y=(w=C(this,Yr).config).onError)==null||y.call(w,j,this),(b=(v=C(this,Yr).config).onSettled)==null||b.call(v,this.state.data,j,this),j}finally{this.scheduleGc()}}},Ti=new WeakMap,tl=new WeakMap,Yr=new WeakMap,Ai=new WeakMap,Vt=new WeakMap,gu=new WeakMap,Oi=new WeakMap,Sn=new WeakSet,Ts=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...ZN(n.data,this.options),fetchMeta:t.meta??null};case"success":const s={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return se(this,tl,t.manual?s:void 0),s;case"error":const a=t.error;return{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Ft.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),C(this,Yr).notify({query:this,type:"updated",action:t})})},f_);function ZN(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:JN(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function q0(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var wr,ze,vu,ir,Ii,rl,Ls,Ea,yu,nl,sl,Mi,Di,ka,al,Ge,pc,Tg,Ag,Og,Ig,Mg,Dg,Lg,e1,m_,fM=(m_=class extends Ml{constructor(t,r){super();me(this,Ge);me(this,wr);me(this,ze);me(this,vu);me(this,ir);me(this,Ii);me(this,rl);me(this,Ls);me(this,Ea);me(this,yu);me(this,nl);me(this,sl);me(this,Mi);me(this,Di);me(this,ka);me(this,al,new Set);this.options=r,se(this,wr,t),se(this,Ea,null),se(this,Ls,Pg()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(C(this,ze).addObserver(this),W0(C(this,ze),this.options)?Te(this,Ge,pc).call(this):this.updateResult(),Te(this,Ge,Ig).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return $g(C(this,ze),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return $g(C(this,ze),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Te(this,Ge,Mg).call(this),Te(this,Ge,Dg).call(this),C(this,ze).removeObserver(this)}setOptions(t){const r=this.options,n=C(this,ze);if(this.options=C(this,wr).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Xr(this.options.enabled,C(this,ze))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Te(this,Ge,Lg).call(this),C(this,ze).setOptions(this.options),r._defaulted&&!Mh(this.options,r)&&C(this,wr).getQueryCache().notify({type:"observerOptionsUpdated",query:C(this,ze),observer:this});const s=this.hasListeners();s&&H0(C(this,ze),n,this.options,r)&&Te(this,Ge,pc).call(this),this.updateResult(),s&&(C(this,ze)!==n||Xr(this.options.enabled,C(this,ze))!==Xr(r.enabled,C(this,ze))||Wa(this.options.staleTime,C(this,ze))!==Wa(r.staleTime,C(this,ze)))&&Te(this,Ge,Tg).call(this);const a=Te(this,Ge,Ag).call(this);s&&(C(this,ze)!==n||Xr(this.options.enabled,C(this,ze))!==Xr(r.enabled,C(this,ze))||a!==C(this,ka))&&Te(this,Ge,Og).call(this,a)}getOptimisticResult(t){const r=C(this,wr).getQueryCache().build(C(this,wr),t),n=this.createResult(r,t);return pM(this,n)&&(se(this,ir,n),se(this,rl,this.options),se(this,Ii,C(this,ze).state)),n}getCurrentResult(){return C(this,ir)}trackResult(t,r){return new Proxy(t,{get:(n,s)=>(this.trackProp(s),r==null||r(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&C(this,Ls).status==="pending"&&C(this,Ls).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,s))})}trackProp(t){C(this,al).add(t)}getCurrentQuery(){return C(this,ze)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=C(this,wr).defaultQueryOptions(t),n=C(this,wr).getQueryCache().build(C(this,wr),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Te(this,Ge,pc).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),C(this,ir)))}createResult(t,r){var P;const n=C(this,ze),s=this.options,a=C(this,ir),o=C(this,Ii),l=C(this,rl),u=t!==n?t.state:C(this,vu),{state:d}=t;let h={...d},f=!1,m;if(r._optimisticResults){const T=this.hasListeners(),B=!T&&W0(t,r),D=T&&H0(t,n,r,s);(B||D)&&(h={...h,...ZN(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:x,errorUpdatedAt:g,status:w}=h;m=h.data;let y=!1;if(r.placeholderData!==void 0&&m===void 0&&w==="pending"){let T;a!=null&&a.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(T=a.data,y=!0):T=typeof r.placeholderData=="function"?r.placeholderData((P=C(this,sl))==null?void 0:P.state.data,C(this,sl)):r.placeholderData,T!==void 0&&(w="success",m=kg(a==null?void 0:a.data,T,r),f=!0)}if(r.select&&m!==void 0&&!y)if(a&&m===(o==null?void 0:o.data)&&r.select===C(this,yu))m=C(this,nl);else try{se(this,yu,r.select),m=r.select(m),m=kg(a==null?void 0:a.data,m,r),se(this,nl,m),se(this,Ea,null)}catch(T){se(this,Ea,T)}C(this,Ea)&&(x=C(this,Ea),m=C(this,nl),g=Date.now(),w="error");const v=h.fetchStatus==="fetching",b=w==="pending",j=w==="error",_=b&&v,S=m!==void 0,E={status:w,fetchStatus:h.fetchStatus,isPending:b,isSuccess:w==="success",isError:j,isInitialLoading:_,isLoading:_,data:m,dataUpdatedAt:h.dataUpdatedAt,error:x,errorUpdatedAt:g,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:v,isRefetching:v&&!b,isLoadingError:j&&!S,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:j&&S,isStale:Ly(t,r),refetch:this.refetch,promise:C(this,Ls),isEnabled:Xr(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const T=q=>{E.status==="error"?q.reject(E.error):E.data!==void 0&&q.resolve(E.data)},B=()=>{const q=se(this,Ls,E.promise=Pg());T(q)},D=C(this,Ls);switch(D.status){case"pending":t.queryHash===n.queryHash&&T(D);break;case"fulfilled":(E.status==="error"||E.data!==D.value)&&B();break;case"rejected":(E.status!=="error"||E.error!==D.reason)&&B();break}}return E}updateResult(){const t=C(this,ir),r=this.createResult(C(this,ze),this.options);if(se(this,Ii,C(this,ze).state),se(this,rl,this.options),C(this,Ii).data!==void 0&&se(this,sl,C(this,ze)),Mh(r,t))return;se(this,ir,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,a=typeof s=="function"?s():s;if(a==="all"||!a&&!C(this,al).size)return!0;const o=new Set(a??C(this,al));return this.options.throwOnError&&o.add("error"),Object.keys(C(this,ir)).some(l=>{const c=l;return C(this,ir)[c]!==t[c]&&o.has(c)})};Te(this,Ge,e1).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Te(this,Ge,Ig).call(this)}},wr=new WeakMap,ze=new WeakMap,vu=new WeakMap,ir=new WeakMap,Ii=new WeakMap,rl=new WeakMap,Ls=new WeakMap,Ea=new WeakMap,yu=new WeakMap,nl=new WeakMap,sl=new WeakMap,Mi=new WeakMap,Di=new WeakMap,ka=new WeakMap,al=new WeakMap,Ge=new WeakSet,pc=function(t){Te(this,Ge,Lg).call(this);let r=C(this,ze).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(cr)),r},Tg=function(){Te(this,Ge,Mg).call(this);const t=Wa(this.options.staleTime,C(this,ze));if(Hi||C(this,ir).isStale||!Cg(t))return;const n=HN(C(this,ir).dataUpdatedAt,t)+1;se(this,Mi,Ni.setTimeout(()=>{C(this,ir).isStale||this.updateResult()},n))},Ag=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(C(this,ze)):this.options.refetchInterval)??!1},Og=function(t){Te(this,Ge,Dg).call(this),se(this,ka,t),!(Hi||Xr(this.options.enabled,C(this,ze))===!1||!Cg(C(this,ka))||C(this,ka)===0)&&se(this,Di,Ni.setInterval(()=>{(this.options.refetchIntervalInBackground||Dy.isFocused())&&Te(this,Ge,pc).call(this)},C(this,ka)))},Ig=function(){Te(this,Ge,Tg).call(this),Te(this,Ge,Og).call(this,Te(this,Ge,Ag).call(this))},Mg=function(){C(this,Mi)&&(Ni.clearTimeout(C(this,Mi)),se(this,Mi,void 0))},Dg=function(){C(this,Di)&&(Ni.clearInterval(C(this,Di)),se(this,Di,void 0))},Lg=function(){const t=C(this,wr).getQueryCache().build(C(this,wr),this.options);if(t===C(this,ze))return;const r=C(this,ze);se(this,ze,t),se(this,vu,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},e1=function(t){Ft.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(C(this,ir))}),C(this,wr).getQueryCache().notify({query:C(this,ze),type:"observerResultsUpdated"})})},m_);function mM(e,t){return Xr(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function W0(e,t){return mM(e,t)||e.state.data!==void 0&&$g(e,t,t.refetchOnMount)}function $g(e,t,r){if(Xr(t.enabled,e)!==!1&&Wa(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&Ly(e,t)}return!1}function H0(e,t,r,n){return(e!==t||Xr(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Ly(e,r)}function Ly(e,t){return Xr(t.enabled,e)!==!1&&e.isStaleByTime(Wa(t.staleTime,e))}function pM(e,t){return!Mh(e.getCurrentResult(),t)}function K0(e){return{onFetch:(t,r)=>{var d,h,f,m,x;const n=t.options,s=(f=(h=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,a=((m=t.state.data)==null?void 0:m.pages)||[],o=((x=t.state.data)==null?void 0:x.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const w=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},y=GN(t.options,t.fetchOptions),v=async(b,j,_)=>{if(g)return Promise.reject();if(j==null&&b.pages.length)return Promise.resolve(b);const N=(()=>{const B={client:t.client,queryKey:t.queryKey,pageParam:j,direction:_?"backward":"forward",meta:t.options.meta};return w(B),B})(),E=await y(N),{maxPages:P}=t.options,T=_?iM:aM;return{pages:T(b.pages,E,P),pageParams:T(b.pageParams,j,P)}};if(s&&a.length){const b=s==="backward",j=b?gM:G0,_={pages:a,pageParams:o},S=j(n,_);l=await v(_,S,b)}else{const b=e??a.length;do{const j=c===0?o[0]??n.initialPageParam:G0(n,l);if(c>0&&j==null)break;l=await v(l,j),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var g,w;return(w=(g=t.options).persister)==null?void 0:w.call(g,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function G0(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function gM(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var xu,ss,or,Li,as,pa,p_,vM=(p_=class extends XN{constructor(t){super();me(this,as);me(this,xu);me(this,ss);me(this,or);me(this,Li);se(this,xu,t.client),this.mutationId=t.mutationId,se(this,or,t.mutationCache),se(this,ss,[]),this.state=t.state||t1(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){C(this,ss).includes(t)||(C(this,ss).push(t),this.clearGcTimeout(),C(this,or).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){se(this,ss,C(this,ss).filter(r=>r!==t)),this.scheduleGc(),C(this,or).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){C(this,ss).length||(this.state.status==="pending"?this.scheduleGc():C(this,or).remove(this))}continue(){var t;return((t=C(this,Li))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,c,u,d,h,f,m,x,g,w,y,v,b,j,_,S,N,E,P;const r=()=>{Te(this,as,pa).call(this,{type:"continue"})},n={client:C(this,xu),meta:this.options.meta,mutationKey:this.options.mutationKey};se(this,Li,YN({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(T,B)=>{Te(this,as,pa).call(this,{type:"failed",failureCount:T,error:B})},onPause:()=>{Te(this,as,pa).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>C(this,or).canRun(this)}));const s=this.state.status==="pending",a=!C(this,Li).canStart();try{if(s)r();else{Te(this,as,pa).call(this,{type:"pending",variables:t,isPaused:a}),await((l=(o=C(this,or).config).onMutate)==null?void 0:l.call(o,t,this,n));const B=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,n));B!==this.state.context&&Te(this,as,pa).call(this,{type:"pending",context:B,variables:t,isPaused:a})}const T=await C(this,Li).start();return await((h=(d=C(this,or).config).onSuccess)==null?void 0:h.call(d,T,t,this.state.context,this,n)),await((m=(f=this.options).onSuccess)==null?void 0:m.call(f,T,t,this.state.context,n)),await((g=(x=C(this,or).config).onSettled)==null?void 0:g.call(x,T,null,this.state.variables,this.state.context,this,n)),await((y=(w=this.options).onSettled)==null?void 0:y.call(w,T,null,t,this.state.context,n)),Te(this,as,pa).call(this,{type:"success",data:T}),T}catch(T){try{throw await((b=(v=C(this,or).config).onError)==null?void 0:b.call(v,T,t,this.state.context,this,n)),await((_=(j=this.options).onError)==null?void 0:_.call(j,T,t,this.state.context,n)),await((N=(S=C(this,or).config).onSettled)==null?void 0:N.call(S,void 0,T,this.state.variables,this.state.context,this,n)),await((P=(E=this.options).onSettled)==null?void 0:P.call(E,void 0,T,t,this.state.context,n)),T}finally{Te(this,as,pa).call(this,{type:"error",error:T})}}finally{C(this,or).runNext(this)}}},xu=new WeakMap,ss=new WeakMap,or=new WeakMap,Li=new WeakMap,as=new WeakSet,pa=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Ft.batch(()=>{C(this,ss).forEach(n=>{n.onMutationUpdate(t)}),C(this,or).notify({mutation:this,type:"updated",action:t})})},p_);function t1(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var $s,Nn,wu,g_,yM=(g_=class extends Ml{constructor(t={}){super();me(this,$s);me(this,Nn);me(this,wu);this.config=t,se(this,$s,new Set),se(this,Nn,new Map),se(this,wu,0)}build(t,r,n){const s=new vM({client:t,mutationCache:this,mutationId:++Zu(this,wu)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){C(this,$s).add(t);const r=vd(t);if(typeof r=="string"){const n=C(this,Nn).get(r);n?n.push(t):C(this,Nn).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(C(this,$s).delete(t)){const r=vd(t);if(typeof r=="string"){const n=C(this,Nn).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&C(this,Nn).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=vd(t);if(typeof r=="string"){const n=C(this,Nn).get(r),s=n==null?void 0:n.find(a=>a.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=vd(t);if(typeof r=="string"){const s=(n=C(this,Nn).get(r))==null?void 0:n.find(a=>a!==t&&a.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ft.batch(()=>{C(this,$s).forEach(t=>{this.notify({type:"removed",mutation:t})}),C(this,$s).clear(),C(this,Nn).clear()})}getAll(){return Array.from(C(this,$s))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>z0(r,n))}findAll(t={}){return this.getAll().filter(r=>z0(t,r))}notify(t){Ft.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Ft.batch(()=>Promise.all(t.map(r=>r.continue().catch(cr))))}},$s=new WeakMap,Nn=new WeakMap,wu=new WeakMap,g_);function vd(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Fs,Pa,br,Us,Hs,Yd,Fg,v_,xM=(v_=class extends Ml{constructor(r,n){super();me(this,Hs);me(this,Fs);me(this,Pa);me(this,br);me(this,Us);se(this,Fs,r),this.setOptions(n),this.bindMethods(),Te(this,Hs,Yd).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=C(this,Fs).defaultMutationOptions(r),Mh(this.options,n)||C(this,Fs).getMutationCache().notify({type:"observerOptionsUpdated",mutation:C(this,br),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Ki(n.mutationKey)!==Ki(this.options.mutationKey)?this.reset():((s=C(this,br))==null?void 0:s.state.status)==="pending"&&C(this,br).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=C(this,br))==null||r.removeObserver(this)}onMutationUpdate(r){Te(this,Hs,Yd).call(this),Te(this,Hs,Fg).call(this,r)}getCurrentResult(){return C(this,Pa)}reset(){var r;(r=C(this,br))==null||r.removeObserver(this),se(this,br,void 0),Te(this,Hs,Yd).call(this),Te(this,Hs,Fg).call(this)}mutate(r,n){var s;return se(this,Us,n),(s=C(this,br))==null||s.removeObserver(this),se(this,br,C(this,Fs).getMutationCache().build(C(this,Fs),this.options)),C(this,br).addObserver(this),C(this,br).execute(r)}},Fs=new WeakMap,Pa=new WeakMap,br=new WeakMap,Us=new WeakMap,Hs=new WeakSet,Yd=function(){var n;const r=((n=C(this,br))==null?void 0:n.state)??t1();se(this,Pa,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Fg=function(r){Ft.batch(()=>{var n,s,a,o,l,c,u,d;if(C(this,Us)&&this.hasListeners()){const h=C(this,Pa).variables,f=C(this,Pa).context,m={client:C(this,Fs),meta:this.options.meta,mutationKey:this.options.mutationKey};(r==null?void 0:r.type)==="success"?((s=(n=C(this,Us)).onSuccess)==null||s.call(n,r.data,h,f,m),(o=(a=C(this,Us)).onSettled)==null||o.call(a,r.data,null,h,f,m)):(r==null?void 0:r.type)==="error"&&((c=(l=C(this,Us)).onError)==null||c.call(l,r.error,h,f,m),(d=(u=C(this,Us)).onSettled)==null||d.call(u,void 0,r.error,h,f,m))}this.listeners.forEach(h=>{h(C(this,Pa))})})},v_),is,y_,wM=(y_=class extends Ml{constructor(t={}){super();me(this,is);this.config=t,se(this,is,new Map)}build(t,r,n){const s=r.queryKey,a=r.queryHash??Iy(s,r);let o=this.get(a);return o||(o=new hM({client:t,queryKey:s,queryHash:a,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){C(this,is).has(t.queryHash)||(C(this,is).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=C(this,is).get(t.queryHash);r&&(t.destroy(),r===t&&C(this,is).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ft.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return C(this,is).get(t)}getAll(){return[...C(this,is).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>U0(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>U0(t,n)):r}notify(t){Ft.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Ft.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ft.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},is=new WeakMap,y_),yt,Ra,Ta,il,ol,Aa,ll,cl,x_,bM=(x_=class{constructor(e={}){me(this,yt);me(this,Ra);me(this,Ta);me(this,il);me(this,ol);me(this,Aa);me(this,ll);me(this,cl);se(this,yt,e.queryCache||new wM),se(this,Ra,e.mutationCache||new yM),se(this,Ta,e.defaultOptions||{}),se(this,il,new Map),se(this,ol,new Map),se(this,Aa,0)}mount(){Zu(this,Aa)._++,C(this,Aa)===1&&(se(this,ll,Dy.subscribe(async e=>{e&&(await this.resumePausedMutations(),C(this,yt).onFocus())})),se(this,cl,Dh.subscribe(async e=>{e&&(await this.resumePausedMutations(),C(this,yt).onOnline())})))}unmount(){var e,t;Zu(this,Aa)._--,C(this,Aa)===0&&((e=C(this,ll))==null||e.call(this),se(this,ll,void 0),(t=C(this,cl))==null||t.call(this),se(this,cl,void 0))}isFetching(e){return C(this,yt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return C(this,Ra).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=C(this,yt).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=C(this,yt).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Wa(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return C(this,yt).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=C(this,yt).get(n.queryHash),a=s==null?void 0:s.state.data,o=rM(t,a);if(o!==void 0)return C(this,yt).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return Ft.batch(()=>C(this,yt).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=C(this,yt).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=C(this,yt);Ft.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=C(this,yt);return Ft.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Ft.batch(()=>C(this,yt).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(cr).catch(cr)}invalidateQueries(e,t={}){return Ft.batch(()=>(C(this,yt).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Ft.batch(()=>C(this,yt).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let a=s.fetch(void 0,r);return r.throwOnError||(a=a.catch(cr)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(cr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=C(this,yt).build(this,t);return r.isStaleByTime(Wa(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(cr).catch(cr)}fetchInfiniteQuery(e){return e.behavior=K0(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(cr).catch(cr)}ensureInfiniteQueryData(e){return e.behavior=K0(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Dh.isOnline()?C(this,Ra).resumePausedMutations():Promise.resolve()}getQueryCache(){return C(this,yt)}getMutationCache(){return C(this,Ra)}getDefaultOptions(){return C(this,Ta)}setDefaultOptions(e){se(this,Ta,e)}setQueryDefaults(e,t){C(this,il).set(Ki(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...C(this,il).values()],r={};return t.forEach(n=>{nu(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){C(this,ol).set(Ki(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...C(this,ol).values()],r={};return t.forEach(n=>{nu(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...C(this,Ta).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Iy(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===My&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...C(this,Ta).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){C(this,yt).clear(),C(this,Ra).clear()}},yt=new WeakMap,Ra=new WeakMap,Ta=new WeakMap,il=new WeakMap,ol=new WeakMap,Aa=new WeakMap,ll=new WeakMap,cl=new WeakMap,x_),r1=p.createContext(void 0),Ye=e=>{const t=p.useContext(r1);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},jM=({client:e,children:t})=>(p.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),i.jsx(r1.Provider,{value:e,children:t})),n1=p.createContext(!1),_M=()=>p.useContext(n1);n1.Provider;function SM(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var NM=p.createContext(SM()),CM=()=>p.useContext(NM),EM=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},kM=e=>{p.useEffect(()=>{e.clearReset()},[e])},PM=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(s&&e.data===void 0||QN(r,[e.error,n])),RM=e=>{if(e.suspense){const r=s=>s==="static"?s:Math.max(s??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...s)=>r(n(...s)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},TM=(e,t)=>e.isLoading&&e.isFetching&&!t,AM=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Q0=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function OM(e,t,r){var h,f,m,x,g;const n=_M(),s=CM(),a=Ye(),o=a.defaultQueryOptions(e);(f=(h=a.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||f.call(h,o),o._optimisticResults=n?"isRestoring":"optimistic",RM(o),EM(o,s),kM(s);const l=!a.getQueryCache().get(o.queryHash),[c]=p.useState(()=>new t(a,o)),u=c.getOptimisticResult(o),d=!n&&e.subscribed!==!1;if(p.useSyncExternalStore(p.useCallback(w=>{const y=d?c.subscribe(Ft.batchCalls(w)):cr;return c.updateResult(),y},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),p.useEffect(()=>{c.setOptions(o)},[o,c]),AM(o,u))throw Q0(o,c,s);if(PM({result:u,errorResetBoundary:s,throwOnError:o.throwOnError,query:a.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((x=(m=a.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||x.call(m,o,u),o.experimental_prefetchInRender&&!Hi&&TM(u,n)){const w=l?Q0(o,c,s):(g=a.getQueryCache().get(o.queryHash))==null?void 0:g.promise;w==null||w.catch(cr).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function It(e,t){return OM(e,fM)}function at(e,t){const r=Ye(),[n]=p.useState(()=>new xM(r,e));p.useEffect(()=>{n.setOptions(e)},[n,e]);const s=p.useSyncExternalStore(p.useCallback(o=>n.subscribe(Ft.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=p.useCallback((o,l)=>{n.mutate(o,l).catch(cr)},[n]);if(s.error&&QN(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:a,mutateAsync:s.mutate}}const IM=new bM({defaultOptions:{queries:{staleTime:60*1e3,gcTime:300*1e3,retry:1,refetchOnWindowFocus:!1},mutations:{retry:0}}});function MM({children:e}){return i.jsx(jM,{client:IM,children:e})}const DM="modulepreload",LM=function(e){return"/"+e},J0={},io=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=LM(c),c in J0)return;J0[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":DM,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((f,m)=>{h.addEventListener("load",f),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})};function s1(e,t){return function(){return e.apply(t,arguments)}}const{toString:$M}=Object.prototype,{getPrototypeOf:$y}=Object,{iterator:kf,toStringTag:a1}=Symbol,Pf=(e=>t=>{const r=$M.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Vn=e=>(e=e.toLowerCase(),t=>Pf(t)===e),Rf=e=>t=>typeof t===e,{isArray:Dl}=Array,vl=Rf("undefined");function Eu(e){return e!==null&&!vl(e)&&e.constructor!==null&&!vl(e.constructor)&&Tr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const i1=Vn("ArrayBuffer");function FM(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&i1(e.buffer),t}const UM=Rf("string"),Tr=Rf("function"),o1=Rf("number"),ku=e=>e!==null&&typeof e=="object",zM=e=>e===!0||e===!1,Xd=e=>{if(Pf(e)!=="object")return!1;const t=$y(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(a1 in e)&&!(kf in e)},BM=e=>{if(!ku(e)||Eu(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},VM=Vn("Date"),qM=Vn("File"),WM=Vn("Blob"),HM=Vn("FileList"),KM=e=>ku(e)&&Tr(e.pipe),GM=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Tr(e.append)&&((t=Pf(e))==="formdata"||t==="object"&&Tr(e.toString)&&e.toString()==="[object FormData]"))},QM=Vn("URLSearchParams"),[JM,YM,XM,ZM]=["ReadableStream","Request","Response","Headers"].map(Vn),e4=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Pu(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,s;if(typeof e!="object"&&(e=[e]),Dl(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{if(Eu(e))return;const a=r?Object.getOwnPropertyNames(e):Object.keys(e),o=a.length;let l;for(n=0;n<o;n++)l=a[n],t.call(null,e[l],l,e)}}function l1(e,t){if(Eu(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,s;for(;n-- >0;)if(s=r[n],t===s.toLowerCase())return s;return null}const Ci=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,c1=e=>!vl(e)&&e!==Ci;function Ug(){const{caseless:e,skipUndefined:t}=c1(this)&&this||{},r={},n=(s,a)=>{const o=e&&l1(r,a)||a;Xd(r[o])&&Xd(s)?r[o]=Ug(r[o],s):Xd(s)?r[o]=Ug({},s):Dl(s)?r[o]=s.slice():(!t||!vl(s))&&(r[o]=s)};for(let s=0,a=arguments.length;s<a;s++)arguments[s]&&Pu(arguments[s],n);return r}const t4=(e,t,r,{allOwnKeys:n}={})=>(Pu(t,(s,a)=>{r&&Tr(s)?e[a]=s1(s,r):e[a]=s},{allOwnKeys:n}),e),r4=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),n4=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},s4=(e,t,r,n)=>{let s,a,o;const l={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),a=s.length;a-- >0;)o=s[a],(!n||n(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=r!==!1&&$y(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},a4=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},i4=e=>{if(!e)return null;if(Dl(e))return e;let t=e.length;if(!o1(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},o4=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&$y(Uint8Array)),l4=(e,t)=>{const n=(e&&e[kf]).call(e);let s;for(;(s=n.next())&&!s.done;){const a=s.value;t.call(e,a[0],a[1])}},c4=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},u4=Vn("HTMLFormElement"),d4=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),Y0=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),h4=Vn("RegExp"),u1=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Pu(r,(s,a)=>{let o;(o=t(s,a,e))!==!1&&(n[a]=o||s)}),Object.defineProperties(e,n)},f4=e=>{u1(e,(t,r)=>{if(Tr(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Tr(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},m4=(e,t)=>{const r={},n=s=>{s.forEach(a=>{r[a]=!0})};return Dl(e)?n(e):n(String(e).split(t)),r},p4=()=>{},g4=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function v4(e){return!!(e&&Tr(e.append)&&e[a1]==="FormData"&&e[kf])}const y4=e=>{const t=new Array(10),r=(n,s)=>{if(ku(n)){if(t.indexOf(n)>=0)return;if(Eu(n))return n;if(!("toJSON"in n)){t[s]=n;const a=Dl(n)?[]:{};return Pu(n,(o,l)=>{const c=r(o,s+1);!vl(c)&&(a[l]=c)}),t[s]=void 0,a}}return n};return r(e,0)},x4=Vn("AsyncFunction"),w4=e=>e&&(ku(e)||Tr(e))&&Tr(e.then)&&Tr(e.catch),d1=((e,t)=>e?setImmediate:t?((r,n)=>(Ci.addEventListener("message",({source:s,data:a})=>{s===Ci&&a===r&&n.length&&n.shift()()},!1),s=>{n.push(s),Ci.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Tr(Ci.postMessage)),b4=typeof queueMicrotask<"u"?queueMicrotask.bind(Ci):typeof process<"u"&&process.nextTick||d1,j4=e=>e!=null&&Tr(e[kf]),L={isArray:Dl,isArrayBuffer:i1,isBuffer:Eu,isFormData:GM,isArrayBufferView:FM,isString:UM,isNumber:o1,isBoolean:zM,isObject:ku,isPlainObject:Xd,isEmptyObject:BM,isReadableStream:JM,isRequest:YM,isResponse:XM,isHeaders:ZM,isUndefined:vl,isDate:VM,isFile:qM,isBlob:WM,isRegExp:h4,isFunction:Tr,isStream:KM,isURLSearchParams:QM,isTypedArray:o4,isFileList:HM,forEach:Pu,merge:Ug,extend:t4,trim:e4,stripBOM:r4,inherits:n4,toFlatObject:s4,kindOf:Pf,kindOfTest:Vn,endsWith:a4,toArray:i4,forEachEntry:l4,matchAll:c4,isHTMLForm:u4,hasOwnProperty:Y0,hasOwnProp:Y0,reduceDescriptors:u1,freezeMethods:f4,toObjectSet:m4,toCamelCase:d4,noop:p4,toFiniteNumber:g4,findKey:l1,global:Ci,isContextDefined:c1,isSpecCompliantForm:v4,toJSONObject:y4,isAsyncFn:x4,isThenable:w4,setImmediate:d1,asap:b4,isIterable:j4};function ke(e,t,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}L.inherits(ke,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:L.toJSONObject(this.config),code:this.code,status:this.status}}});const h1=ke.prototype,f1={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{f1[e]={value:e}});Object.defineProperties(ke,f1);Object.defineProperty(h1,"isAxiosError",{value:!0});ke.from=(e,t,r,n,s,a)=>{const o=Object.create(h1);L.toFlatObject(e,o,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return ke.call(o,l,c,r,n,s),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",a&&Object.assign(o,a),o};const _4=null;function zg(e){return L.isPlainObject(e)||L.isArray(e)}function m1(e){return L.endsWith(e,"[]")?e.slice(0,-2):e}function X0(e,t,r){return e?e.concat(t).map(function(s,a){return s=m1(s),!r&&a?"["+s+"]":s}).join(r?".":""):t}function S4(e){return L.isArray(e)&&!e.some(zg)}const N4=L.toFlatObject(L,{},null,function(t){return/^is[A-Z]/.test(t)});function Tf(e,t,r){if(!L.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=L.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,w){return!L.isUndefined(w[g])});const n=r.metaTokens,s=r.visitor||d,a=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&L.isSpecCompliantForm(t);if(!L.isFunction(s))throw new TypeError("visitor must be a function");function u(x){if(x===null)return"";if(L.isDate(x))return x.toISOString();if(L.isBoolean(x))return x.toString();if(!c&&L.isBlob(x))throw new ke("Blob is not supported. Use a Buffer instead.");return L.isArrayBuffer(x)||L.isTypedArray(x)?c&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function d(x,g,w){let y=x;if(x&&!w&&typeof x=="object"){if(L.endsWith(g,"{}"))g=n?g:g.slice(0,-2),x=JSON.stringify(x);else if(L.isArray(x)&&S4(x)||(L.isFileList(x)||L.endsWith(g,"[]"))&&(y=L.toArray(x)))return g=m1(g),y.forEach(function(b,j){!(L.isUndefined(b)||b===null)&&t.append(o===!0?X0([g],j,a):o===null?g:g+"[]",u(b))}),!1}return zg(x)?!0:(t.append(X0(w,g,a),u(x)),!1)}const h=[],f=Object.assign(N4,{defaultVisitor:d,convertValue:u,isVisitable:zg});function m(x,g){if(!L.isUndefined(x)){if(h.indexOf(x)!==-1)throw Error("Circular reference detected in "+g.join("."));h.push(x),L.forEach(x,function(y,v){(!(L.isUndefined(y)||y===null)&&s.call(t,y,L.isString(v)?v.trim():v,g,f))===!0&&m(y,g?g.concat(v):[v])}),h.pop()}}if(!L.isObject(e))throw new TypeError("data must be an object");return m(e),t}function Z0(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Fy(e,t){this._pairs=[],e&&Tf(e,this,t)}const p1=Fy.prototype;p1.append=function(t,r){this._pairs.push([t,r])};p1.toString=function(t){const r=t?function(n){return t.call(this,n,Z0)}:Z0;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function C4(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function g1(e,t,r){if(!t)return e;const n=r&&r.encode||C4;L.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let a;if(s?a=s(t,r):a=L.isURLSearchParams(t)?t.toString():new Fy(t,r).toString(n),a){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class eb{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){L.forEach(this.handlers,function(n){n!==null&&t(n)})}}const v1={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},E4=typeof URLSearchParams<"u"?URLSearchParams:Fy,k4=typeof FormData<"u"?FormData:null,P4=typeof Blob<"u"?Blob:null,R4={isBrowser:!0,classes:{URLSearchParams:E4,FormData:k4,Blob:P4},protocols:["http","https","file","blob","url","data"]},Uy=typeof window<"u"&&typeof document<"u",Bg=typeof navigator=="object"&&navigator||void 0,T4=Uy&&(!Bg||["ReactNative","NativeScript","NS"].indexOf(Bg.product)<0),A4=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",O4=Uy&&window.location.href||"http://localhost",I4=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Uy,hasStandardBrowserEnv:T4,hasStandardBrowserWebWorkerEnv:A4,navigator:Bg,origin:O4},Symbol.toStringTag,{value:"Module"})),rr={...I4,...R4};function M4(e,t){return Tf(e,new rr.classes.URLSearchParams,{visitor:function(r,n,s,a){return rr.isNode&&L.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function D4(e){return L.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function L4(e){const t={},r=Object.keys(e);let n;const s=r.length;let a;for(n=0;n<s;n++)a=r[n],t[a]=e[a];return t}function y1(e){function t(r,n,s,a){let o=r[a++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=a>=r.length;return o=!o&&L.isArray(s)?s.length:o,c?(L.hasOwnProp(s,o)?s[o]=[s[o],n]:s[o]=n,!l):((!s[o]||!L.isObject(s[o]))&&(s[o]=[]),t(r,n,s[o],a)&&L.isArray(s[o])&&(s[o]=L4(s[o])),!l)}if(L.isFormData(e)&&L.isFunction(e.entries)){const r={};return L.forEachEntry(e,(n,s)=>{t(D4(n),s,r,0)}),r}return null}function $4(e,t,r){if(L.isString(e))try{return(t||JSON.parse)(e),L.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Ru={transitional:v1,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,a=L.isObject(t);if(a&&L.isHTMLForm(t)&&(t=new FormData(t)),L.isFormData(t))return s?JSON.stringify(y1(t)):t;if(L.isArrayBuffer(t)||L.isBuffer(t)||L.isStream(t)||L.isFile(t)||L.isBlob(t)||L.isReadableStream(t))return t;if(L.isArrayBufferView(t))return t.buffer;if(L.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return M4(t,this.formSerializer).toString();if((l=L.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Tf(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return a||s?(r.setContentType("application/json",!1),$4(t)):t}],transformResponse:[function(t){const r=this.transitional||Ru.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(L.isResponse(t)||L.isReadableStream(t))return t;if(t&&L.isString(t)&&(n&&!this.responseType||s)){const o=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?ke.from(l,ke.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:rr.classes.FormData,Blob:rr.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};L.forEach(["delete","get","head","post","put","patch"],e=>{Ru.headers[e]={}});const F4=L.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),U4=e=>{const t={};let r,n,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),r=o.substring(0,s).trim().toLowerCase(),n=o.substring(s+1).trim(),!(!r||t[r]&&F4[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},tb=Symbol("internals");function nc(e){return e&&String(e).trim().toLowerCase()}function Zd(e){return e===!1||e==null?e:L.isArray(e)?e.map(Zd):String(e)}function z4(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const B4=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Xm(e,t,r,n,s){if(L.isFunction(n))return n.call(this,t,r);if(s&&(t=r),!!L.isString(t)){if(L.isString(n))return t.indexOf(n)!==-1;if(L.isRegExp(n))return n.test(t)}}function V4(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function q4(e,t){const r=L.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(s,a,o){return this[n].call(this,t,s,a,o)},configurable:!0})})}let Ar=class{constructor(t){t&&this.set(t)}set(t,r,n){const s=this;function a(l,c,u){const d=nc(c);if(!d)throw new Error("header name must be a non-empty string");const h=L.findKey(s,d);(!h||s[h]===void 0||u===!0||u===void 0&&s[h]!==!1)&&(s[h||c]=Zd(l))}const o=(l,c)=>L.forEach(l,(u,d)=>a(u,d,c));if(L.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(L.isString(t)&&(t=t.trim())&&!B4(t))o(U4(t),r);else if(L.isObject(t)&&L.isIterable(t)){let l={},c,u;for(const d of t){if(!L.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?L.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}o(l,r)}else t!=null&&a(r,t,n);return this}get(t,r){if(t=nc(t),t){const n=L.findKey(this,t);if(n){const s=this[n];if(!r)return s;if(r===!0)return z4(s);if(L.isFunction(r))return r.call(this,s,n);if(L.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=nc(t),t){const n=L.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Xm(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let s=!1;function a(o){if(o=nc(o),o){const l=L.findKey(n,o);l&&(!r||Xm(n,n[l],l,r))&&(delete n[l],s=!0)}}return L.isArray(t)?t.forEach(a):a(t),s}clear(t){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const a=r[n];(!t||Xm(this,this[a],a,t,!0))&&(delete this[a],s=!0)}return s}normalize(t){const r=this,n={};return L.forEach(this,(s,a)=>{const o=L.findKey(n,a);if(o){r[o]=Zd(s),delete r[a];return}const l=t?V4(a):String(a).trim();l!==a&&delete r[a],r[l]=Zd(s),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return L.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=t&&L.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(s=>n.set(s)),n}static accessor(t){const n=(this[tb]=this[tb]={accessors:{}}).accessors,s=this.prototype;function a(o){const l=nc(o);n[l]||(q4(s,o),n[l]=!0)}return L.isArray(t)?t.forEach(a):a(t),this}};Ar.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);L.reduceDescriptors(Ar.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});L.freezeMethods(Ar);function Zm(e,t){const r=this||Ru,n=t||r,s=Ar.from(n.headers);let a=n.data;return L.forEach(e,function(l){a=l.call(r,a,s.normalize(),t?t.status:void 0)}),s.normalize(),a}function x1(e){return!!(e&&e.__CANCEL__)}function Ll(e,t,r){ke.call(this,e??"canceled",ke.ERR_CANCELED,t,r),this.name="CanceledError"}L.inherits(Ll,ke,{__CANCEL__:!0});function w1(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new ke("Request failed with status code "+r.status,[ke.ERR_BAD_REQUEST,ke.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function W4(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function H4(e,t){e=e||10;const r=new Array(e),n=new Array(e);let s=0,a=0,o;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=n[a];o||(o=u),r[s]=c,n[s]=u;let h=a,f=0;for(;h!==s;)f+=r[h++],h=h%e;if(s=(s+1)%e,s===a&&(a=(a+1)%e),u-o<t)return;const m=d&&u-d;return m?Math.round(f*1e3/m):void 0}}function K4(e,t){let r=0,n=1e3/t,s,a;const o=(u,d=Date.now())=>{r=d,s=null,a&&(clearTimeout(a),a=null),e(...u)};return[(...u)=>{const d=Date.now(),h=d-r;h>=n?o(u,d):(s=u,a||(a=setTimeout(()=>{a=null,o(s)},n-h)))},()=>s&&o(s)]}const Lh=(e,t,r=3)=>{let n=0;const s=H4(50,250);return K4(a=>{const o=a.loaded,l=a.lengthComputable?a.total:void 0,c=o-n,u=s(c),d=o<=l;n=o;const h={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-o)/u:void 0,event:a,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(h)},r)},rb=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},nb=e=>(...t)=>L.asap(()=>e(...t)),G4=rr.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,rr.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(rr.origin),rr.navigator&&/(msie|trident)/i.test(rr.navigator.userAgent)):()=>!0,Q4=rr.hasStandardBrowserEnv?{write(e,t,r,n,s,a){const o=[e+"="+encodeURIComponent(t)];L.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),L.isString(n)&&o.push("path="+n),L.isString(s)&&o.push("domain="+s),a===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function J4(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Y4(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function b1(e,t,r){let n=!J4(t);return e&&(n||r==!1)?Y4(e,t):t}const sb=e=>e instanceof Ar?{...e}:e;function Gi(e,t){t=t||{};const r={};function n(u,d,h,f){return L.isPlainObject(u)&&L.isPlainObject(d)?L.merge.call({caseless:f},u,d):L.isPlainObject(d)?L.merge({},d):L.isArray(d)?d.slice():d}function s(u,d,h,f){if(L.isUndefined(d)){if(!L.isUndefined(u))return n(void 0,u,h,f)}else return n(u,d,h,f)}function a(u,d){if(!L.isUndefined(d))return n(void 0,d)}function o(u,d){if(L.isUndefined(d)){if(!L.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function l(u,d,h){if(h in t)return n(u,d);if(h in e)return n(void 0,u)}const c={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,d,h)=>s(sb(u),sb(d),h,!0)};return L.forEach(Object.keys({...e,...t}),function(d){const h=c[d]||s,f=h(e[d],t[d],d);L.isUndefined(f)&&h!==l||(r[d]=f)}),r}const j1=e=>{const t=Gi({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:a,headers:o,auth:l}=t;if(t.headers=o=Ar.from(o),t.url=g1(b1(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),L.isFormData(r)){if(rr.hasStandardBrowserEnv||rr.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(L.isFunction(r.getHeaders)){const c=r.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,h])=>{u.includes(d.toLowerCase())&&o.set(d,h)})}}if(rr.hasStandardBrowserEnv&&(n&&L.isFunction(n)&&(n=n(t)),n||n!==!1&&G4(t.url))){const c=s&&a&&Q4.read(a);c&&o.set(s,c)}return t},X4=typeof XMLHttpRequest<"u",Z4=X4&&function(e){return new Promise(function(r,n){const s=j1(e);let a=s.data;const o=Ar.from(s.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=s,d,h,f,m,x;function g(){m&&m(),x&&x(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let w=new XMLHttpRequest;w.open(s.method.toUpperCase(),s.url,!0),w.timeout=s.timeout;function y(){if(!w)return;const b=Ar.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),_={data:!l||l==="text"||l==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:b,config:e,request:w};w1(function(N){r(N),g()},function(N){n(N),g()},_),w=null}"onloadend"in w?w.onloadend=y:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(y)},w.onabort=function(){w&&(n(new ke("Request aborted",ke.ECONNABORTED,e,w)),w=null)},w.onerror=function(j){const _=j&&j.message?j.message:"Network Error",S=new ke(_,ke.ERR_NETWORK,e,w);S.event=j||null,n(S),w=null},w.ontimeout=function(){let j=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const _=s.transitional||v1;s.timeoutErrorMessage&&(j=s.timeoutErrorMessage),n(new ke(j,_.clarifyTimeoutError?ke.ETIMEDOUT:ke.ECONNABORTED,e,w)),w=null},a===void 0&&o.setContentType(null),"setRequestHeader"in w&&L.forEach(o.toJSON(),function(j,_){w.setRequestHeader(_,j)}),L.isUndefined(s.withCredentials)||(w.withCredentials=!!s.withCredentials),l&&l!=="json"&&(w.responseType=s.responseType),u&&([f,x]=Lh(u,!0),w.addEventListener("progress",f)),c&&w.upload&&([h,m]=Lh(c),w.upload.addEventListener("progress",h),w.upload.addEventListener("loadend",m)),(s.cancelToken||s.signal)&&(d=b=>{w&&(n(!b||b.type?new Ll(null,e,w):b),w.abort(),w=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const v=W4(s.url);if(v&&rr.protocols.indexOf(v)===-1){n(new ke("Unsupported protocol "+v+":",ke.ERR_BAD_REQUEST,e));return}w.send(a||null)})},eD=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,s;const a=function(u){if(!s){s=!0,l();const d=u instanceof Error?u:this.reason;n.abort(d instanceof ke?d:new Ll(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,a(new ke(`timeout ${t} of ms exceeded`,ke.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(a):u.removeEventListener("abort",a)}),e=null)};e.forEach(u=>u.addEventListener("abort",a));const{signal:c}=n;return c.unsubscribe=()=>L.asap(l),c}},tD=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,s;for(;n<r;)s=n+t,yield e.slice(n,s),n=s},rD=async function*(e,t){for await(const r of nD(e))yield*tD(r,t)},nD=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},ab=(e,t,r,n)=>{const s=rD(e,t);let a=0,o,l=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await s.next();if(u){l(),c.close();return}let h=d.byteLength;if(r){let f=a+=h;r(f)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),s.return()}},{highWaterMark:2})},ib=64*1024,{isFunction:yd}=L,sD=(({Request:e,Response:t})=>({Request:e,Response:t}))(L.global),{ReadableStream:ob,TextEncoder:lb}=L.global,cb=(e,...t)=>{try{return!!e(...t)}catch{return!1}},aD=e=>{e=L.merge.call({skipUndefined:!0},sD,e);const{fetch:t,Request:r,Response:n}=e,s=t?yd(t):typeof fetch=="function",a=yd(r),o=yd(n);if(!s)return!1;const l=s&&yd(ob),c=s&&(typeof lb=="function"?(x=>g=>x.encode(g))(new lb):async x=>new Uint8Array(await new r(x).arrayBuffer())),u=a&&l&&cb(()=>{let x=!1;const g=new r(rr.origin,{body:new ob,method:"POST",get duplex(){return x=!0,"half"}}).headers.has("Content-Type");return x&&!g}),d=o&&l&&cb(()=>L.isReadableStream(new n("").body)),h={stream:d&&(x=>x.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(x=>{!h[x]&&(h[x]=(g,w)=>{let y=g&&g[x];if(y)return y.call(g);throw new ke(`Response type '${x}' is not supported`,ke.ERR_NOT_SUPPORT,w)})});const f=async x=>{if(x==null)return 0;if(L.isBlob(x))return x.size;if(L.isSpecCompliantForm(x))return(await new r(rr.origin,{method:"POST",body:x}).arrayBuffer()).byteLength;if(L.isArrayBufferView(x)||L.isArrayBuffer(x))return x.byteLength;if(L.isURLSearchParams(x)&&(x=x+""),L.isString(x))return(await c(x)).byteLength},m=async(x,g)=>{const w=L.toFiniteNumber(x.getContentLength());return w??f(g)};return async x=>{let{url:g,method:w,data:y,signal:v,cancelToken:b,timeout:j,onDownloadProgress:_,onUploadProgress:S,responseType:N,headers:E,withCredentials:P="same-origin",fetchOptions:T}=j1(x),B=t||fetch;N=N?(N+"").toLowerCase():"text";let D=eD([v,b&&b.toAbortSignal()],j),q=null;const F=D&&D.unsubscribe&&(()=>{D.unsubscribe()});let M;try{if(S&&u&&w!=="get"&&w!=="head"&&(M=await m(E,y))!==0){let ie=new r(g,{method:"POST",body:y,duplex:"half"}),ne;if(L.isFormData(y)&&(ne=ie.headers.get("content-type"))&&E.setContentType(ne),ie.body){const[ye,ve]=rb(M,Lh(nb(S)));y=ab(ie.body,ib,ye,ve)}}L.isString(P)||(P=P?"include":"omit");const V=a&&"credentials"in r.prototype,Z={...T,signal:D,method:w.toUpperCase(),headers:E.normalize().toJSON(),body:y,duplex:"half",credentials:V?P:void 0};q=a&&new r(g,Z);let I=await(a?B(q,T):B(g,Z));const A=d&&(N==="stream"||N==="response");if(d&&(_||A&&F)){const ie={};["status","statusText","headers"].forEach(Ve=>{ie[Ve]=I[Ve]});const ne=L.toFiniteNumber(I.headers.get("content-length")),[ye,ve]=_&&rb(ne,Lh(nb(_),!0))||[];I=new n(ab(I.body,ib,ye,()=>{ve&&ve(),F&&F()}),ie)}N=N||"text";let H=await h[L.findKey(h,N)||"text"](I,x);return!A&&F&&F(),await new Promise((ie,ne)=>{w1(ie,ne,{data:H,headers:Ar.from(I.headers),status:I.status,statusText:I.statusText,config:x,request:q})})}catch(V){throw F&&F(),V&&V.name==="TypeError"&&/Load failed|fetch/i.test(V.message)?Object.assign(new ke("Network Error",ke.ERR_NETWORK,x,q),{cause:V.cause||V}):ke.from(V,V&&V.code,x,q)}}},iD=new Map,_1=e=>{let t=e?e.env:{};const{fetch:r,Request:n,Response:s}=t,a=[n,s,r];let o=a.length,l=o,c,u,d=iD;for(;l--;)c=a[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:aD(t)),d=u;return u};_1();const Vg={http:_4,xhr:Z4,fetch:{get:_1}};L.forEach(Vg,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const ub=e=>`- ${e}`,oD=e=>L.isFunction(e)||e===null||e===!1,S1={getAdapter:(e,t)=>{e=L.isArray(e)?e:[e];const{length:r}=e;let n,s;const a={};for(let o=0;o<r;o++){n=e[o];let l;if(s=n,!oD(n)&&(s=Vg[(l=String(n)).toLowerCase()],s===void 0))throw new ke(`Unknown adapter '${l}'`);if(s&&(L.isFunction(s)||(s=s.get(t))))break;a[l||"#"+o]=s}if(!s){const o=Object.entries(a).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=r?o.length>1?`since :
`+o.map(ub).join(`
`):" "+ub(o[0]):"as no adapter specified";throw new ke("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s},adapters:Vg};function ep(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ll(null,e)}function db(e){return ep(e),e.headers=Ar.from(e.headers),e.data=Zm.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),S1.getAdapter(e.adapter||Ru.adapter,e)(e).then(function(n){return ep(e),n.data=Zm.call(e,e.transformResponse,n),n.headers=Ar.from(n.headers),n},function(n){return x1(n)||(ep(e),n&&n.response&&(n.response.data=Zm.call(e,e.transformResponse,n.response),n.response.headers=Ar.from(n.response.headers))),Promise.reject(n)})}const N1="1.12.2",Af={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Af[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const hb={};Af.transitional=function(t,r,n){function s(a,o){return"[Axios v"+N1+"] Transitional option '"+a+"'"+o+(n?". "+n:"")}return(a,o,l)=>{if(t===!1)throw new ke(s(o," has been removed"+(r?" in "+r:"")),ke.ERR_DEPRECATED);return r&&!hb[o]&&(hb[o]=!0,console.warn(s(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(a,o,l):!0}};Af.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function lD(e,t,r){if(typeof e!="object")throw new ke("options must be an object",ke.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const a=n[s],o=t[a];if(o){const l=e[a],c=l===void 0||o(l,a,e);if(c!==!0)throw new ke("option "+a+" must be "+c,ke.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new ke("Unknown option "+a,ke.ERR_BAD_OPTION)}}const eh={assertOptions:lD,validators:Af},Yn=eh.validators;let Ui=class{constructor(t){this.defaults=t||{},this.interceptors={request:new eb,response:new eb}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const a=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Gi(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:a}=r;n!==void 0&&eh.assertOptions(n,{silentJSONParsing:Yn.transitional(Yn.boolean),forcedJSONParsing:Yn.transitional(Yn.boolean),clarifyTimeoutError:Yn.transitional(Yn.boolean)},!1),s!=null&&(L.isFunction(s)?r.paramsSerializer={serialize:s}:eh.assertOptions(s,{encode:Yn.function,serialize:Yn.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),eh.assertOptions(r,{baseUrl:Yn.spelling("baseURL"),withXsrfToken:Yn.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=a&&L.merge(a.common,a[r.method]);a&&L.forEach(["delete","get","head","post","put","patch","common"],x=>{delete a[x]}),r.headers=Ar.concat(o,a);const l=[];let c=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(r)===!1||(c=c&&g.synchronous,l.unshift(g.fulfilled,g.rejected))});const u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let d,h=0,f;if(!c){const x=[db.bind(this),void 0];for(x.unshift(...l),x.push(...u),f=x.length,d=Promise.resolve(r);h<f;)d=d.then(x[h++],x[h++]);return d}f=l.length;let m=r;for(;h<f;){const x=l[h++],g=l[h++];try{m=x(m)}catch(w){g.call(this,w);break}}try{d=db.call(this,m)}catch(x){return Promise.reject(x)}for(h=0,f=u.length;h<f;)d=d.then(u[h++],u[h++]);return d}getUri(t){t=Gi(this.defaults,t);const r=b1(t.baseURL,t.url,t.allowAbsoluteUrls);return g1(r,t.params,t.paramsSerializer)}};L.forEach(["delete","get","head","options"],function(t){Ui.prototype[t]=function(r,n){return this.request(Gi(n||{},{method:t,url:r,data:(n||{}).data}))}});L.forEach(["post","put","patch"],function(t){function r(n){return function(a,o,l){return this.request(Gi(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}Ui.prototype[t]=r(),Ui.prototype[t+"Form"]=r(!0)});let cD=class C1{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(s=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](s);n._listeners=null}),this.promise.then=s=>{let a;const o=new Promise(l=>{n.subscribe(l),a=l}).then(s);return o.cancel=function(){n.unsubscribe(a)},o},t(function(a,o,l){n.reason||(n.reason=new Ll(a,o,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new C1(function(s){t=s}),cancel:t}}};function uD(e){return function(r){return e.apply(null,r)}}function dD(e){return L.isObject(e)&&e.isAxiosError===!0}const qg={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(qg).forEach(([e,t])=>{qg[t]=e});function E1(e){const t=new Ui(e),r=s1(Ui.prototype.request,t);return L.extend(r,Ui.prototype,t,{allOwnKeys:!0}),L.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return E1(Gi(e,s))},r}const et=E1(Ru);et.Axios=Ui;et.CanceledError=Ll;et.CancelToken=cD;et.isCancel=x1;et.VERSION=N1;et.toFormData=Tf;et.AxiosError=ke;et.Cancel=et.CanceledError;et.all=function(t){return Promise.all(t)};et.spread=uD;et.isAxiosError=dD;et.mergeConfig=Gi;et.AxiosHeaders=Ar;et.formToJSON=e=>y1(L.isHTMLForm(e)?new FormData(e):e);et.getAdapter=S1.getAdapter;et.HttpStatusCode=qg;et.default=et;const{Axios:a7,AxiosError:i7,CanceledError:o7,isCancel:l7,CancelToken:c7,VERSION:u7,all:d7,Cancel:h7,isAxiosError:f7,spread:m7,toFormData:p7,AxiosHeaders:g7,HttpStatusCode:v7,formToJSON:y7,getAdapter:x7,mergeConfig:w7}=et;var Wg=function(e,t){return Wg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},Wg(e,t)};function k1(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Wg(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var tn=function(){return tn=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},tn.apply(this,arguments)};function ci(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function P1(e,t,r,n){var s=arguments.length,a=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,r,n);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(a=(s<3?o(a):s>3?o(t,r,a):o(t,r))||a);return s>3&&a&&Object.defineProperty(t,r,a),a}function R1(e,t){return function(r,n){t(r,n,e)}}function T1(e,t,r,n,s,a){function o(y){if(y!==void 0&&typeof y!="function")throw new TypeError("Function expected");return y}for(var l=n.kind,c=l==="getter"?"get":l==="setter"?"set":"value",u=!t&&e?n.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),h,f=!1,m=r.length-1;m>=0;m--){var x={};for(var g in n)x[g]=g==="access"?{}:n[g];for(var g in n.access)x.access[g]=n.access[g];x.addInitializer=function(y){if(f)throw new TypeError("Cannot add initializers after decoration has completed");a.push(o(y||null))};var w=(0,r[m])(l==="accessor"?{get:d.get,set:d.set}:d[c],x);if(l==="accessor"){if(w===void 0)continue;if(w===null||typeof w!="object")throw new TypeError("Object expected");(h=o(w.get))&&(d.get=h),(h=o(w.set))&&(d.set=h),(h=o(w.init))&&s.unshift(h)}else(h=o(w))&&(l==="field"?s.unshift(h):d[c]=h)}u&&Object.defineProperty(u,n.name,d),f=!0}function A1(e,t,r){for(var n=arguments.length>2,s=0;s<t.length;s++)r=n?t[s].call(e,r):t[s].call(e);return n?r:void 0}function O1(e){return typeof e=="symbol"?e:"".concat(e)}function I1(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function M1(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function ue(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function D1(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,s,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=l(0),o.throw=l(1),o.return=l(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(d){return c([u,d])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,s&&(a=u[0]&2?s.return:u[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,u[1])).done)return a;switch(s=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(d){u=[6,d],s=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Of=Object.create?(function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]});function L1(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Of(t,e,r)}function $h(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function zy(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,a=[],o;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)a.push(s.value)}catch(l){o={error:l}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a}function $1(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(zy(arguments[t]));return e}function F1(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),s=0,t=0;t<r;t++)for(var a=arguments[t],o=0,l=a.length;o<l;o++,s++)n[s]=a[o];return n}function By(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,a;n<s;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}function yl(e){return this instanceof yl?(this.v=e,this):new yl(e)}function U1(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,a=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(m){return function(x){return Promise.resolve(x).then(m,h)}}function l(m,x){n[m]&&(s[m]=function(g){return new Promise(function(w,y){a.push([m,g,w,y])>1||c(m,g)})},x&&(s[m]=x(s[m])))}function c(m,x){try{u(n[m](x))}catch(g){f(a[0][3],g)}}function u(m){m.value instanceof yl?Promise.resolve(m.value.v).then(d,h):f(a[0][2],m)}function d(m){c("next",m)}function h(m){c("throw",m)}function f(m,x){m(x),a.shift(),a.length&&c(a[0][0],a[0][1])}}function z1(e){var t,r;return t={},n("next"),n("throw",function(s){throw s}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(s,a){t[s]=e[s]?function(o){return(r=!r)?{value:yl(e[s](o)),done:!1}:a?a(o):o}:a}}function B1(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof $h=="function"?$h(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(a){r[a]=e[a]&&function(o){return new Promise(function(l,c){o=e[a](o),s(l,c,o.done,o.value)})}}function s(a,o,l,c){Promise.resolve(c).then(function(u){a({value:u,done:l})},o)}}function V1(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var hD=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},Hg=function(e){return Hg=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},Hg(e)};function q1(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=Hg(e),n=0;n<r.length;n++)r[n]!=="default"&&Of(t,e,r[n]);return hD(t,e),t}function W1(e){return e&&e.__esModule?e:{default:e}}function H1(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function K1(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r}function G1(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function Q1(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(a){return Promise.reject(a)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var fD=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function J1(e){function t(a){e.error=e.hasError?new fD(a,e.error,"An error was suppressed during disposal."):a,e.hasError=!0}var r,n=0;function s(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(s);if(r.dispose){var a=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(a).then(s,function(o){return t(o),s()})}else n|=1}catch(o){t(o)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function Y1(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,a,o){return n?t?".jsx":".js":s&&(!a||!o)?r:s+a+"."+o.toLowerCase()+"js"}):e}const mD={__extends:k1,__assign:tn,__rest:ci,__decorate:P1,__param:R1,__esDecorate:T1,__runInitializers:A1,__propKey:O1,__setFunctionName:I1,__metadata:M1,__awaiter:ue,__generator:D1,__createBinding:Of,__exportStar:L1,__values:$h,__read:zy,__spread:$1,__spreadArrays:F1,__spreadArray:By,__await:yl,__asyncGenerator:U1,__asyncDelegator:z1,__asyncValues:B1,__makeTemplateObject:V1,__importStar:q1,__importDefault:W1,__classPrivateFieldGet:H1,__classPrivateFieldSet:K1,__classPrivateFieldIn:G1,__addDisposableResource:Q1,__disposeResources:J1,__rewriteRelativeImportExtension:Y1},pD=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Q1,get __assign(){return tn},__asyncDelegator:z1,__asyncGenerator:U1,__asyncValues:B1,__await:yl,__awaiter:ue,__classPrivateFieldGet:H1,__classPrivateFieldIn:G1,__classPrivateFieldSet:K1,__createBinding:Of,__decorate:P1,__disposeResources:J1,__esDecorate:T1,__exportStar:L1,__extends:k1,__generator:D1,__importDefault:W1,__importStar:q1,__makeTemplateObject:V1,__metadata:M1,__param:R1,__propKey:O1,__read:zy,__rest:ci,__rewriteRelativeImportExtension:Y1,__runInitializers:A1,__setFunctionName:I1,__spread:$1,__spreadArray:By,__spreadArrays:F1,__values:$h,default:mD},Symbol.toStringTag,{value:"Module"})),gD=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>io(async()=>{const{default:n}=await Promise.resolve().then(()=>oo);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Vy extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class fb extends Vy{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class mb extends Vy{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class pb extends Vy{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Kg;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Kg||(Kg={}));class vD{constructor(t,{headers:r={},customFetch:n,region:s=Kg.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=gD(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return ue(this,arguments,void 0,function*(r,n={}){var s;try{const{headers:a,method:o,body:l,signal:c}=n;let u={},{region:d}=n;d||(d=this.region);const h=new URL(`${this.url}/${r}`);d&&d!=="any"&&(u["x-region"]=d,h.searchParams.set("forceFunctionRegion",d));let f;l&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",f=l):typeof l=="string"?(u["Content-Type"]="text/plain",f=l):typeof FormData<"u"&&l instanceof FormData?f=l:(u["Content-Type"]="application/json",f=JSON.stringify(l)):f=l;const m=yield this.fetch(h.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),a),body:f,signal:c}).catch(y=>{throw y.name==="AbortError"?y:new fb(y)}),x=m.headers.get("x-relay-error");if(x&&x==="true")throw new mb(m);if(!m.ok)throw new pb(m);let g=((s=m.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),w;return g==="application/json"?w=yield m.json():g==="application/octet-stream"||g==="application/pdf"?w=yield m.blob():g==="text/event-stream"?w=m:g==="multipart/form-data"?w=yield m.formData():w=yield m.text(),{data:w,error:null,response:m}}catch(a){return a instanceof Error&&a.name==="AbortError"?{data:null,error:new fb(a)}:{data:null,error:a,response:a instanceof pb||a instanceof mb?a.context:void 0}}})}}var Cr={};const $l=b_(pD);var xd={},wd={},bd={},jd={},_d={},yD=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},xl=yD();const xD=xl.fetch,X1=xl.fetch.bind(xl),Z1=xl.Headers,wD=xl.Request,bD=xl.Response,oo=Object.freeze(Object.defineProperty({__proto__:null,Headers:Z1,Request:wD,Response:bD,default:X1,fetch:xD},Symbol.toStringTag,{value:"Module"})),jD=b_(oo);var Sd={},gb;function eC(){if(gb)return Sd;gb=1,Object.defineProperty(Sd,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Sd.default=e,Sd}var vb;function tC(){if(vb)return _d;vb=1,Object.defineProperty(_d,"__esModule",{value:!0});const e=$l,t=e.__importDefault(jD),r=e.__importDefault(eC());class n{constructor(a){var o,l;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(o=a.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=a.signal,this.isMaybeSingle=(l=a.isMaybeSingle)!==null&&l!==void 0?l:!1,a.fetch?this.fetch=a.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,o){return this.headers=new Headers(this.headers),this.headers.set(a,o),this}then(a,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var d,h,f,m;let x=null,g=null,w=null,y=u.status,v=u.statusText;if(u.ok){if(this.method!=="HEAD"){const S=await u.text();S===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?g=S:g=JSON.parse(S))}const j=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),_=(f=u.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");j&&_&&_.length>1&&(w=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(x={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,w=null,y=406,v="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const j=await u.text();try{x=JSON.parse(j),Array.isArray(x)&&u.status===404&&(g=[],x=null,y=200,v="OK")}catch{u.status===404&&j===""?(y=204,v="No Content"):x={message:j}}if(x&&this.isMaybeSingle&&(!((m=x==null?void 0:x.details)===null||m===void 0)&&m.includes("0 rows"))&&(x=null,y=200,v="OK"),x&&this.shouldThrowOnError)throw new r.default(x)}return{error:x,data:g,count:w,status:y,statusText:v}});return this.shouldThrowOnError||(c=c.catch(u=>{var d,h,f;return{error:{message:`${(d=u==null?void 0:u.name)!==null&&d!==void 0?d:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(h=u==null?void 0:u.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(f=u==null?void 0:u.code)!==null&&f!==void 0?f:""}`},data:null,count:null,status:0,statusText:""}})),c.then(a,o)}returns(){return this}overrideTypes(){return this}}return _d.default=n,_d}var yb;function rC(){if(yb)return jd;yb=1,Object.defineProperty(jd,"__esModule",{value:!0});const t=$l.__importDefault(tC());class r extends t.default{select(s){let a=!1;const o=(s??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:a=!0,nullsFirst:o,foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${s}.${a?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:a,referencedTable:o=a}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${s}`),this}range(s,a,{foreignTable:o,referencedTable:l=o}={}){const c=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${s}`),this.url.searchParams.set(u,`${a-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:a=!1,settings:o=!1,buffers:l=!1,wal:c=!1,format:u="text"}={}){var d;const h=[s?"analyze":null,a?"verbose":null,o?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),f=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${f}"; options=${h};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return jd.default=r,jd}var xb;function qy(){if(xb)return bd;xb=1,Object.defineProperty(bd,"__esModule",{value:!0});const t=$l.__importDefault(rC());class r extends t.default{eq(s,a){return this.url.searchParams.append(s,`eq.${a}`),this}neq(s,a){return this.url.searchParams.append(s,`neq.${a}`),this}gt(s,a){return this.url.searchParams.append(s,`gt.${a}`),this}gte(s,a){return this.url.searchParams.append(s,`gte.${a}`),this}lt(s,a){return this.url.searchParams.append(s,`lt.${a}`),this}lte(s,a){return this.url.searchParams.append(s,`lte.${a}`),this}like(s,a){return this.url.searchParams.append(s,`like.${a}`),this}likeAllOf(s,a){return this.url.searchParams.append(s,`like(all).{${a.join(",")}}`),this}likeAnyOf(s,a){return this.url.searchParams.append(s,`like(any).{${a.join(",")}}`),this}ilike(s,a){return this.url.searchParams.append(s,`ilike.${a}`),this}ilikeAllOf(s,a){return this.url.searchParams.append(s,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(s,a){return this.url.searchParams.append(s,`ilike(any).{${a.join(",")}}`),this}is(s,a){return this.url.searchParams.append(s,`is.${a}`),this}in(s,a){const o=Array.from(new Set(a)).map(l=>typeof l=="string"&&new RegExp("[,()]").test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(s,`in.(${o})`),this}contains(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cs.{${a.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(a)}`),this}containedBy(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cd.{${a.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(a)}`),this}rangeGt(s,a){return this.url.searchParams.append(s,`sr.${a}`),this}rangeGte(s,a){return this.url.searchParams.append(s,`nxl.${a}`),this}rangeLt(s,a){return this.url.searchParams.append(s,`sl.${a}`),this}rangeLte(s,a){return this.url.searchParams.append(s,`nxr.${a}`),this}rangeAdjacent(s,a){return this.url.searchParams.append(s,`adj.${a}`),this}overlaps(s,a){return typeof a=="string"?this.url.searchParams.append(s,`ov.${a}`):this.url.searchParams.append(s,`ov.{${a.join(",")}}`),this}textSearch(s,a,{config:o,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(s,`${c}fts${u}.${a}`),this}match(s){return Object.entries(s).forEach(([a,o])=>{this.url.searchParams.append(a,`eq.${o}`)}),this}not(s,a,o){return this.url.searchParams.append(s,`not.${a}.${o}`),this}or(s,{foreignTable:a,referencedTable:o=a}={}){const l=o?`${o}.or`:"or";return this.url.searchParams.append(l,`(${s})`),this}filter(s,a,o){return this.url.searchParams.append(s,`${a}.${o}`),this}}return bd.default=r,bd}var wb;function nC(){if(wb)return wd;wb=1,Object.defineProperty(wd,"__esModule",{value:!0});const t=$l.__importDefault(qy());class r{constructor(s,{headers:a={},schema:o,fetch:l}){this.url=s,this.headers=new Headers(a),this.schema=o,this.fetch=l}select(s,a){const{head:o=!1,count:l}=a??{},c=o?"HEAD":"GET";let u=!1;const d=(s??"*").split("").map(h=>/\s/.test(h)&&!u?"":(h==='"'&&(u=!u),h)).join("");return this.url.searchParams.set("select",d),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:a,defaultToNull:o=!0}={}){var l;const c="POST";if(a&&this.headers.append("Prefer",`count=${a}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const u=s.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(u.length>0){const d=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(s,{onConflict:a,ignoreDuplicates:o=!1,count:l,defaultToNull:c=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const h=s.reduce((f,m)=>f.concat(Object.keys(m)),[]);if(h.length>0){const f=[...new Set(h)].map(m=>`"${m}"`);this.url.searchParams.set("columns",f.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(s,{count:a}={}){var o;const l="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:s}={}){var a;const o="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return wd.default=r,wd}var bb;function _D(){if(bb)return xd;bb=1,Object.defineProperty(xd,"__esModule",{value:!0});const e=$l,t=e.__importDefault(nC()),r=e.__importDefault(qy());class n{constructor(a,{headers:o={},schema:l,fetch:c}={}){this.url=a,this.headers=new Headers(o),this.schemaName=l,this.fetch=c}from(a){const o=new URL(`${this.url}/${a}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new n(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,o={},{head:l=!1,get:c=!1,count:u}={}){var d;let h;const f=new URL(`${this.url}/rpc/${a}`);let m;l||c?(h=l?"HEAD":"GET",Object.entries(o).filter(([g,w])=>w!==void 0).map(([g,w])=>[g,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([g,w])=>{f.searchParams.append(g,w)})):(h="POST",m=o);const x=new Headers(this.headers);return u&&x.set("Prefer",`count=${u}`),new r.default({method:h,url:f,headers:x,schema:this.schemaName,body:m,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return xd.default=n,xd}Object.defineProperty(Cr,"__esModule",{value:!0});Cr.PostgrestError=Cr.PostgrestBuilder=Cr.PostgrestTransformBuilder=Cr.PostgrestFilterBuilder=Cr.PostgrestQueryBuilder=Cr.PostgrestClient=void 0;const Fl=$l,sC=Fl.__importDefault(_D());Cr.PostgrestClient=sC.default;const aC=Fl.__importDefault(nC());Cr.PostgrestQueryBuilder=aC.default;const iC=Fl.__importDefault(qy());Cr.PostgrestFilterBuilder=iC.default;const oC=Fl.__importDefault(rC());Cr.PostgrestTransformBuilder=oC.default;const lC=Fl.__importDefault(tC());Cr.PostgrestBuilder=lC.default;const cC=Fl.__importDefault(eC());Cr.PostgrestError=cC.default;var SD=Cr.default={PostgrestClient:sC.default,PostgrestQueryBuilder:aC.default,PostgrestFilterBuilder:iC.default,PostgrestTransformBuilder:oC.default,PostgrestBuilder:lC.default,PostgrestError:cC.default};const{PostgrestClient:ND,PostgrestQueryBuilder:b7,PostgrestFilterBuilder:j7,PostgrestTransformBuilder:_7,PostgrestBuilder:S7,PostgrestError:N7}=SD;class CD{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const ED="2.76.1",kD=`realtime-js/${ED}`,PD="1.0.0",Gg=1e4,RD=1e3,TD=100;var Rc;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Rc||(Rc={}));var Dt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Dt||(Dt={}));var En;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(En||(En={}));var Qg;(function(e){e.websocket="websocket"})(Qg||(Qg={}));var wi;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(wi||(wi={}));class AD{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),a=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+s));o=o+s;const c=n.decode(t.slice(o,o+a));o=o+a;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class uC{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var nt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(nt||(nt={}));const jb=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((a,o)=>(a[o]=OD(o,e,t,s),a),{}):{}},OD=(e,t,r,n)=>{const s=t.find(l=>l.name===e),a=s==null?void 0:s.type,o=r[e];return a&&!n.includes(a)?dC(a,o):Jg(o)},dC=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return LD(t,r)}switch(e){case nt.bool:return ID(t);case nt.float4:case nt.float8:case nt.int2:case nt.int4:case nt.int8:case nt.numeric:case nt.oid:return MD(t);case nt.json:case nt.jsonb:return DD(t);case nt.timestamp:return $D(t);case nt.abstime:case nt.date:case nt.daterange:case nt.int4range:case nt.int8range:case nt.money:case nt.reltime:case nt.text:case nt.time:case nt.timestamptz:case nt.timetz:case nt.tsrange:case nt.tstzrange:return Jg(t);default:return Jg(t)}},Jg=e=>e,ID=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},MD=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},DD=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},LD=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const o=e.slice(1,r);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>dC(t,l))}return e},$D=e=>typeof e=="string"?e.replace(" ","T"):e,hC=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class tp{constructor(t,r,n={},s=Gg){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var _b;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(_b||(_b={}));class Tc{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Tc.syncState(this.state,s,a,o),this.pendingDiffs.forEach(c=>{this.state=Tc.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Tc.syncDiff(this.state,s,a,o),l())}),this.onJoin((s,a,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:o})}),this.onLeave((s,a,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const a=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(a,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const h=a[u];if(h){const f=d.map(w=>w.presence_ref),m=h.map(w=>w.presence_ref),x=d.filter(w=>m.indexOf(w.presence_ref)<0),g=h.filter(w=>f.indexOf(w.presence_ref)<0);x.length>0&&(l[u]=x),g.length>0&&(c[u]=g)}else l[u]=d}),this.syncDiff(a,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:a,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(a,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const h=t[l].map(m=>m.presence_ref),f=d.filter(m=>h.indexOf(m.presence_ref)<0);t[l].unshift(...f)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Sb;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Sb||(Sb={}));var Ac;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ac||(Ac={}));var Ms;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ms||(Ms={}));class Wy{constructor(t,r={config:{}},n){var s,a;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Dt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new tp(this,En.join,this.params,this.timeout),this.rejoinTimer=new uC(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Dt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Dt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Dt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Dt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Dt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(En.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new Tc(this),this.broadcastEndpointURL=hC(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Dt.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Ac.PRESENCE]&&this.bindings[Ac.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(Ms.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(Ms.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var x;if(this.socket.setAuth(),m===void 0){t==null||t(Ms.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,w=(x=g==null?void 0:g.length)!==null&&x!==void 0?x:0,y=[];for(let v=0;v<w;v++){const b=g[v],{filter:{event:j,schema:_,table:S,filter:N}}=b,E=m&&m[v];if(E&&E.event===j&&E.schema===_&&E.table===S&&E.filter===N)y.push(Object.assign(Object.assign({},b),{id:E.id}));else{this.unsubscribe(),this.state=Dt.errored,t==null||t(Ms.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(Ms.SUBSCRIBED);return}}).receive("error",m=>{this.state=Dt.errored,t==null||t(Ms.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ms.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Dt.joined&&t===Ac.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Dt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(En.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new tp(this,En.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Dt.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,a=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(a),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new tp(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>TD){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,a;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=En;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var x,g,w;return((x=m.filter)===null||x===void 0?void 0:x.event)==="*"||((w=(g=m.filter)===null||g===void 0?void 0:g.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(m=>m.callback(f,n)):(a=this.bindings[o])===null||a===void 0||a.filter(m=>{var x,g,w,y,v,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const j=m.id,_=(x=m.filter)===null||x===void 0?void 0:x.event;return j&&((g=r.ids)===null||g===void 0?void 0:g.includes(j))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const j=(v=(y=m==null?void 0:m.filter)===null||y===void 0?void 0:y.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return j==="*"||j===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof f=="object"&&"ids"in f){const x=f.data,{schema:g,table:w,commit_timestamp:y,type:v,errors:b}=x;f=Object.assign(Object.assign({},{schema:g,table:w,commit_timestamp:y,eventType:v,new:{},old:{},errors:b}),this._getPayloadRecords(x))}m.callback(f,n)})}_isClosed(){return this.state===Dt.closed}_isJoined(){return this.state===Dt.joined}_isJoining(){return this.state===Dt.joining}_isLeaving(){return this.state===Dt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),a={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&Wy.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(En.close,{},t)}_onError(t){this._on(En.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Dt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=jb(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=jb(t.columns,t.old_record)),r}}const rp=()=>{},Nd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},FD=[1e3,2e3,5e3,1e4],UD=1e4,zD=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class BD{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Gg,this.transport=null,this.heartbeatIntervalMs=Nd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=rp,this.ref=0,this.reconnectTimer=null,this.logger=rp,this.conn=null,this.sendBuffer=[],this.serializer=new AD,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let a;return s?a=s:typeof fetch>"u"?a=(...o)=>io(async()=>{const{default:l}=await Promise.resolve().then(()=>oo);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...o)=>a(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Qg.websocket}`,this.httpEndpoint=hC(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=CD.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:PD}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Rc.connecting:return wi.Connecting;case Rc.open:return wi.Open;case Rc.closing:return wi.Closing;default:return wi.Closed}}isConnected(){return this.connectionState()===wi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(a=>a.topic===n);if(s)return s;{const a=new Wy(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:s,ref:a}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${a})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(RD,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Nd.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:a,ref:o}=r,l=o?`(${o})`:"",c=a.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),a),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,a,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(En.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([zD],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:kD};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(En.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new uC(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Nd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,a,o,l,c,u,d;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Gg,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Nd.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:rp,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:(h=>FD[h-1]||UD),this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:((h,f)=>f(JSON.stringify(h))),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Hy extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function dt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class VD extends Hy{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Yg extends Hy{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const Ky=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>io(async()=>{const{default:n}=await Promise.resolve().then(()=>oo);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},qD=()=>ue(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield io(()=>Promise.resolve().then(()=>oo),void 0)).Response:Response}),Xg=e=>{if(Array.isArray(e))return e.map(r=>Xg(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[s]=Xg(n)}),t},WD=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},np=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),HD=(e,t,r)=>ue(void 0,void 0,void 0,function*(){const n=yield qD();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const a=e.status||500,o=(s==null?void 0:s.statusCode)||a+"";t(new VD(np(s),a,o))}).catch(s=>{t(new Yg(np(s),s))}):t(new Yg(np(e),e))}),KD=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(WD(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),r))};function Tu(e,t,r,n,s,a){return ue(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,KD(t,n,s,a)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>HD(c,l,n))})})}function su(e,t,r,n){return ue(this,void 0,void 0,function*(){return Tu(e,"GET",t,r,n)})}function _n(e,t,r,n,s){return ue(this,void 0,void 0,function*(){return Tu(e,"POST",t,n,s,r)})}function Zg(e,t,r,n,s){return ue(this,void 0,void 0,function*(){return Tu(e,"PUT",t,n,s,r)})}function GD(e,t,r,n){return ue(this,void 0,void 0,function*(){return Tu(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Gy(e,t,r,n,s){return ue(this,void 0,void 0,function*(){return Tu(e,"DELETE",t,n,s,r)})}class QD{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return ue(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(dt(t))return{data:null,error:t};throw t}})}}var fC;class JD{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[fC]="BlobDownloadBuilder",this.promise=null}asStream(){return new QD(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ue(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(dt(t))return{data:null,error:t};throw t}})}}fC=Symbol.toStringTag;const YD={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Nb={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class XD{constructor(t,r={},n,s){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=Ky(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,s){return ue(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},Nb),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield(t=="PUT"?Zg:_n)(this.fetch,`${this.url}/object/${d}`,a,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(dt(a))return{data:null,error:a};throw a}})}upload(t,r,n){return ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return ue(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Nb.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield Zg(this.fetch,l.toString(),c,{headers:d});return{data:{path:a,fullPath:h.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(dt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return ue(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const a=yield _n(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+a.url),l=o.searchParams.get("token");if(!l)throw new Hy("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}})}update(t,r,n){return ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return ue(this,void 0,void 0,function*(){try{return{data:yield _n(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(dt(s))return{data:null,error:s};throw s}})}copy(t,r,n){return ue(this,void 0,void 0,function*(){try{return{data:{path:(yield _n(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(dt(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return ue(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),a=yield _n(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(dt(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return ue(this,void 0,void 0,function*(){try{const s=yield _n(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(dt(s))return{data:null,error:s};throw s}})}download(t,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=a?`?${a}`:"",l=this._getFinalPath(t),c=()=>su(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new JD(c,this.shouldThrowOnError)}info(t){return ue(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield su(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Xg(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}})}exists(t){return ue(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield GD(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dt(n)&&n instanceof Yg){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&s.push(a);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return ue(this,void 0,void 0,function*(){try{return{data:yield Gy(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}})}list(t,r,n){return ue(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},YD),r),{prefix:t||""});return{data:yield _n(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(dt(s))return{data:null,error:s};throw s}})}listV2(t,r){return ue(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield _n(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const mC="2.76.1",pC={"X-Client-Info":`storage-js/${mC}`};class ZD{constructor(t,r={},n,s){this.shouldThrowOnError=!1;const a=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},pC),r),this.fetch=Ky(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return ue(this,void 0,void 0,function*(){try{return{data:yield su(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(dt(t))return{data:null,error:t};throw t}})}getBucket(t){return ue(this,void 0,void 0,function*(){try{return{data:yield su(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}})}createBucket(t){return ue(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield _n(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(dt(s))return{data:null,error:s};throw s}})}updateBucket(t,r){return ue(this,void 0,void 0,function*(){try{return{data:yield Zg(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return ue(this,void 0,void 0,function*(){try{return{data:yield _n(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ue(this,void 0,void 0,function*(){try{return{data:yield Gy(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}})}}class eL{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},pC),r),this.fetch=Ky(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return ue(this,void 0,void 0,function*(){try{return{data:yield _n(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}})}listBuckets(t){return ue(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),s=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`,a=yield su(this.fetch,s,{headers:this.headers});return{data:Array.isArray(a)?a.filter(l=>l.type==="ANALYTICS"):[],error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ue(this,void 0,void 0,function*(){try{return{data:yield Gy(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}})}}const Qy={"X-Client-Info":`storage-js/${mC}`,"Content-Type":"application/json"};class gC extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function zr(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class sp extends gC{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class tL extends gC{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var Cb;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Cb||(Cb={}));const Jy=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>io(async()=>{const{default:n}=await Promise.resolve().then(()=>oo);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},rL=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Eb=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),nL=(e,t,r)=>ue(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const s=e.status||500,a=e;if(typeof a.json=="function")a.json().then(o=>{const l=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||s+"";t(new sp(Eb(o),s,l))}).catch(()=>{const o=s+"",l=a.statusText||`HTTP ${s} error`;t(new sp(l,s,o))});else{const o=s+"",l=a.statusText||`HTTP ${s} error`;t(new sp(l,s,o))}}else t(new tL(Eb(e),e))}),sL=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(rL(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r)):s};function aL(e,t,r,n,s,a){return ue(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,sL(t,n,s,a)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>nL(c,l,n))})})}function Br(e,t,r,n,s){return ue(this,void 0,void 0,function*(){return aL(e,"POST",t,n,s,r)})}class iL{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Qy),r),this.fetch=Jy(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return ue(this,void 0,void 0,function*(){try{return{data:(yield Br(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(zr(r))return{data:null,error:r};throw r}})}getIndex(t,r){return ue(this,void 0,void 0,function*(){try{return{data:yield Br(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zr(n))return{data:null,error:n};throw n}})}listIndexes(t){return ue(this,void 0,void 0,function*(){try{return{data:yield Br(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(zr(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return ue(this,void 0,void 0,function*(){try{return{data:(yield Br(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zr(n))return{data:null,error:n};throw n}})}}class oL{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Qy),r),this.fetch=Jy(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return ue(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Br(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(zr(r))return{data:null,error:r};throw r}})}getVectors(t){return ue(this,void 0,void 0,function*(){try{return{data:yield Br(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(zr(r))return{data:null,error:r};throw r}})}listVectors(t){return ue(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Br(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(zr(r))return{data:null,error:r};throw r}})}queryVectors(t){return ue(this,void 0,void 0,function*(){try{return{data:yield Br(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(zr(r))return{data:null,error:r};throw r}})}deleteVectors(t){return ue(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Br(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(zr(r))return{data:null,error:r};throw r}})}}class lL{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Qy),r),this.fetch=Jy(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return ue(this,void 0,void 0,function*(){try{return{data:(yield Br(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(zr(r))return{data:null,error:r};throw r}})}getBucket(t){return ue(this,void 0,void 0,function*(){try{return{data:yield Br(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(zr(r))return{data:null,error:r};throw r}})}listBuckets(){return ue(this,arguments,void 0,function*(t={}){try{return{data:yield Br(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(zr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ue(this,void 0,void 0,function*(){try{return{data:(yield Br(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(zr(r))return{data:null,error:r};throw r}})}}class cL extends lL{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new uL(this.url,this.headers,t,this.fetch)}}class uL extends iL{constructor(t,r,n,s){super(t,r,s),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ue(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ue(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ue(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ue(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new dL(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class dL extends oL{constructor(t,r,n,s,a){super(t,r,a),this.vectorBucketName=n,this.indexName=s}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ue(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ue(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ue(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ue(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ue(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class hL extends ZD{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new XD(this.url,this.headers,t,this.fetch)}get vectors(){return new cL(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new eL(this.url+"/iceberg",this.headers,this.fetch)}}const fL="2.76.1";let gc="";typeof Deno<"u"?gc="deno":typeof document<"u"?gc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?gc="react-native":gc="node";const mL={"X-Client-Info":`supabase-js-${gc}/${fL}`},pL={headers:mL},gL={schema:"public"},vL={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},yL={},xL=e=>{let t;return e?t=e:typeof fetch>"u"?t=X1:t=fetch,(...r)=>t(...r)},wL=()=>typeof Headers>"u"?Z1:Headers,bL=(e,t,r)=>{const n=xL(r),s=wL();return async(a,o)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(a,Object.assign(Object.assign({},o),{headers:u}))}};function jL(e){return e.endsWith("/")?e:e+"/"}function _L(e,t){var r,n;const{db:s,auth:a,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:h}=t,f={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}function SL(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(jL(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const vC="2.76.1",So=30*1e3,ev=3,ap=ev*So,NL="http://localhost:9999",CL="supabase.auth.token",EL={"X-Client-Info":`gotrue-js/${vC}`},tv="X-Supabase-Api-Version",yC={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},kL=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,PL=600*1e3;class au extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function xe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class RL extends au{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function TL(e){return xe(e)&&e.name==="AuthApiError"}class bi extends au{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class ui extends au{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class ga extends ui{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function AL(e){return xe(e)&&e.name==="AuthSessionMissingError"}class mo extends ui{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Cd extends ui{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ed extends ui{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function OL(e){return xe(e)&&e.name==="AuthImplicitGrantRedirectError"}class kb extends ui{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class rv extends ui{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function ip(e){return xe(e)&&e.name==="AuthRetryableFetchError"}class Pb extends ui{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class nv extends ui{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Fh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Rb=` 	
\r=`.split(""),IL=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Rb.length;t+=1)e[Rb[t].charCodeAt(0)]=-2;for(let t=0;t<Fh.length;t+=1)e[Fh[t].charCodeAt(0)]=t;return e})();function Tb(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Fh[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Fh[n]),t.queuedBits-=6}}function xC(e,t,r){const n=IL[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Ab(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=o=>{LL(o,n,r)};for(let o=0;o<e.length;o+=1)xC(e.charCodeAt(o),s,a);return t.join("")}function ML(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function DL(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}ML(n,t)}}function LL(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Ho(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)xC(e.charCodeAt(s),r,n);return new Uint8Array(t)}function $L(e){const t=[];return DL(e,r=>t.push(r)),new Uint8Array(t)}function Ei(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Tb(s,r,n)),Tb(null,r,n),t.join("")}function FL(e){return Math.round(Date.now()/1e3)+e}function UL(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Lr=()=>typeof window<"u"&&typeof document<"u",pi={tested:!1,writable:!1},wC=()=>{if(!Lr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(pi.tested)return pi.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),pi.tested=!0,pi.writable=!0}catch{pi.tested=!0,pi.writable=!1}return pi.writable};function zL(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,a)=>{t[a]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const bC=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>io(async()=>{const{default:n}=await Promise.resolve().then(()=>oo);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},BL=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",No=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},gi=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ha=async(e,t)=>{await e.removeItem(t)};class If{constructor(){this.promise=new If.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}If.promiseConstructor=Promise;function op(e){const t=e.split(".");if(t.length!==3)throw new nv("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!kL.test(t[n]))throw new nv("JWT not in base64url format");return{header:JSON.parse(Ab(t[0])),payload:JSON.parse(Ab(t[1])),signature:Ho(t[2]),raw:{header:t[0],payload:t[1]}}}async function VL(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function qL(e,t){return new Promise((n,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){n(o);return}}catch(o){if(!t(a,o)){s(o);return}}})()})}function WL(e){return("0"+e.toString(16)).substr(-2)}function HL(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let a=0;a<56;a++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,WL).join("")}async function KL(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function GL(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await KL(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function po(e,t,r=!1){const n=HL();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await No(e,`${t}-code-verifier`,s);const a=await GL(n);return[a,n===a?"plain":"s256"]}const QL=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function JL(e){const t=e.headers.get(tv);if(!t||!t.match(QL))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function YL(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function XL(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ZL=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function go(e){if(!ZL.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function lp(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Ob(e){return JSON.parse(JSON.stringify(e))}const xi=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),e$=[502,503,504];async function Ib(e){var t;if(!BL(e))throw new rv(xi(e),0);if(e$.includes(e.status))throw new rv(xi(e),e.status);let r;try{r=await e.json()}catch(a){throw new bi(xi(a),a)}let n;const s=JL(e);if(s&&s.getTime()>=yC["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Pb(xi(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new ga}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new Pb(xi(r),e.status,r.weak_password.reasons);throw new RL(xi(r),e.status||500,n)}const t$=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function Ce(e,t,r,n){var s;const a=Object.assign({},n==null?void 0:n.headers);a[tv]||(a[tv]=yC["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await r$(e,t,r+l,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function r$(e,t,r,n,s,a){const o=t$(t,n,s,a);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new rv(xi(c),0)}if(l.ok||await Ib(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await Ib(c)}}function wn(e){var t;let r=null;a$(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=FL(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Mb(e){const t=wn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function _a(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function n$(e){return{data:e,error:null}}function s$(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a}=e,o=ci(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function Db(e){return e}function a$(e){return e.access_token&&e.refresh_token&&e.expires_in}const cp=["global","local","others"];class i${constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=bC(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=cp[0]){if(cp.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${cp.join(", ")}`);try{return await Ce(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(xe(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Ce(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:_a})}catch(n){if(xe(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=ci(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await Ce(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:s$,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(xe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Ce(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:_a})}catch(r){if(xe(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,a,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Ce(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:Db});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(x=>{const g=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(x.split(";")[1].split("=")[1]);u[`${w}Page`]=g}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(xe(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){go(t);try{return await Ce(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:_a})}catch(r){if(xe(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){go(t);try{return await Ce(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:_a})}catch(n){if(xe(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){go(t);try{return await Ce(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:_a})}catch(n){if(xe(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){go(t.userId);try{const{data:r,error:n}=await Ce(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(xe(r))return{data:null,error:r};throw r}}async _deleteFactor(t){go(t.userId),go(t.id);try{return{data:await Ce(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(xe(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,a,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Ce(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:Db});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(x=>{const g=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(x.split(";")[1].split("=")[1]);u[`${w}Page`]=g}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(xe(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await Ce(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(xe(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Ce(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(xe(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await Ce(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(xe(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Ce(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(xe(r))return{data:null,error:r};throw r}}}function Lb(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const vo={debug:!!(globalThis&&wC()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class jC extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class o$ extends jC{}async function l$(e,t,r){vo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),vo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){vo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{vo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw vo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new o$(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(vo.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function c$(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function _C(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function u$(e){return parseInt(e,16)}function d$(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function h$(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:a=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:d,uri:h,version:f}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=_C(e.address),x=d?`${d}://${n}`:n,g=e.statement?`${e.statement}
`:"",w=`${x} wants you to sign in with your Ethereum account:
${m}

${g}`;let y=`URI: ${h}
Version: ${f}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(s&&(y+=`
Expiration Time: ${s.toISOString()}`),l&&(y+=`
Not Before: ${l.toISOString()}`),c&&(y+=`
Request ID: ${c}`),u){let v=`
Resources:`;for(const b of u){if(!b||typeof b!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${b}`);v+=`
- ${b}`}y+=v}return`${w}
${y}`}class Rt extends Error{constructor({message:t,code:r,cause:n,name:s}){var a;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=s??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class Uh extends Rt{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function f$({error:e,options:t}){var r,n,s;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Rt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Rt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Rt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=a.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Rt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Rt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Rt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Rt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Rt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(SC(o)){if(a.rp.id!==o)return new Rt({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Rt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Rt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Rt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Rt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function m$({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Rt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Rt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(SC(n)){if(r.rpId!==n)return new Rt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Rt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Rt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Rt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class p${createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const g$=new p$;function v$(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=ci(e,["challenge","user","excludeCredentials"]),a=Ho(t).buffer,o=Object.assign(Object.assign({},r),{id:Ho(r.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:a,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Ho(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function y$(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=ci(e,["challenge","allowCredentials"]),s=Ho(t).buffer,a=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];a.allowCredentials[o]=Object.assign(Object.assign({},l),{id:Ho(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function x$(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Ei(new Uint8Array(e.response.attestationObject)),clientDataJSON:Ei(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function w$(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Ei(new Uint8Array(s.authenticatorData)),clientDataJSON:Ei(new Uint8Array(s.clientDataJSON)),signature:Ei(new Uint8Array(s.signature)),userHandle:s.userHandle?Ei(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function SC(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function $b(){var e,t;return!!(Lr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function b$(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Uh("Browser returned unexpected credential type",t)}:{data:null,error:new Uh("Empty credential response",t)}}catch(t){return{data:null,error:f$({error:t,options:e})}}}async function j$(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Uh("Browser returned unexpected credential type",t)}:{data:null,error:new Uh("Empty credential response",t)}}catch(t){return{data:null,error:m$({error:t,options:e})}}}const _$={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},S$={userVerification:"preferred",hints:["security-key"]};function zh(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const a in s){const o=s[a];if(o!==void 0)if(Array.isArray(o))n[a]=o;else if(r(o))n[a]=o;else if(t(o)){const l=n[a];t(l)?n[a]=zh(l,o):n[a]=zh(o)}else n[a]=o}return n}function N$(e,t){return zh(_$,e,t||{})}function C$(e,t){return zh(S$,e,t||{})}class E${constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},a){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:l};const c=s??g$.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=N$(o.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:d,error:h}=await b$({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const u=C$(o.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:d,error:h}=await j$(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(o){return xe(o)?{data:null,error:o}:{data:null,error:new bi("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}},a){if(!r)return{data:null,error:new au("rpId is required for WebAuthn authentication")};try{if(!$b())return{data:null,error:new bi("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:a});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return xe(o)?{data:null,error:o}:{data:null,error:new bi("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s},a){if(!r)return{data:null,error:new au("rpId is required for WebAuthn registration")};try{if(!$b())return{data:null,error:new bi("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===t&&f.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:a});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return xe(o)?{data:null,error:o}:{data:null,error:new bi("Unexpected error in register",o)}}}}c$();const k$={url:NL,storageKey:CL,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:EL,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Fb(e,t,r){return await r()}const yo={};class iu{get jwks(){var t,r;return(r=(t=yo[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){yo[this.storageKey]=Object.assign(Object.assign({},yo[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=yo[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){yo[this.storageKey]=Object.assign(Object.assign({},yo[this.storageKey]),{cachedAt:t})}constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=iu.nextInstanceID,iu.nextInstanceID+=1,this.instanceID>0&&Lr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},k$),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new i$({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=bC(s.fetch),this.lock=s.lock||Fb,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Lr()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=l$:this.lock=Fb,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new E$(this)},this.persistSession?(s.storage?this.storage=s.storage:wC()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Lb(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Lb(this.memoryStorage)),Lr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${vC}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=zL(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Lr()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),OL(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return xe(r)?{error:r}:{error:new bi("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const a=await Ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:wn}),{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(xe(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var r,n,s;try{let a;if("email"in t){const{email:d,password:h,options:f}=t;let m=null,x=null;this.flowType==="pkce"&&([m,x]=await po(this.storage,this.storageKey)),a=await Ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:x},xform:wn})}else if("phone"in t){const{phone:d,password:h,options:f}=t;a=await Ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:wn})}else throw new Cd("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(xe(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:o,options:l}=t;r=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Mb})}else if("phone"in t){const{phone:a,password:o,options:l}=t;r=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Mb})}else throw new Cd("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new mo}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(xe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,a,o,l,c,u,d,h,f;let m,x;if("message"in t)m=t.message,x=t.signature;else{const{chain:g,wallet:w,statement:y,options:v}=t;let b;if(Lr())if(typeof w=="object")b=w;else{const P=window;if("ethereum"in P&&typeof P.ethereum=="object"&&"request"in P.ethereum&&typeof P.ethereum.request=="function")b=P.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=w}const j=new URL((r=v==null?void 0:v.url)!==null&&r!==void 0?r:window.location.href),_=await b.request({method:"eth_requestAccounts"}).then(P=>P).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!_||_.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=_C(_[0]);let N=(n=v==null?void 0:v.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!N){const P=await b.request({method:"eth_chainId"});N=u$(P)}const E={domain:j.host,address:S,statement:y,uri:j.href,version:"1",chainId:N,nonce:(s=v==null?void 0:v.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(a=v==null?void 0:v.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=v==null?void 0:v.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=v==null?void 0:v.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=v==null?void 0:v.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=v==null?void 0:v.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=h$(E),x=await b.request({method:"personal_sign",params:[d$(m),S]})}try{const{data:g,error:w}=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:x},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:wn});if(w)throw w;return!g||!g.session||!g.user?{data:{user:null,session:null},error:new mo}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:Object.assign({},g),error:w})}catch(g){if(xe(g))return{data:{user:null,session:null},error:g};throw g}}async signInWithSolana(t){var r,n,s,a,o,l,c,u,d,h,f,m;let x,g;if("message"in t)x=t.message,g=t.signature;else{const{chain:w,wallet:y,statement:v,options:b}=t;let j;if(Lr())if(typeof y=="object")j=y;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))j=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=y}const _=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const S=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),v?{statement:v}:null));let N;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")N=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)N=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)x=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),g=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${_.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(s=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((h=(d=b==null?void 0:b.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...b.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const S=await j.signMessage(new TextEncoder().encode(x),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=S}}try{const{data:w,error:y}=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:Ei(g)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:wn});if(y)throw y;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new mo}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:y})}catch(w){if(xe(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(t){const r=await gi(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:a,error:o}=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:wn});if(await ha(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new mo}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:o})}catch(a){if(xe(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:a,nonce:o}=t,l=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:wn}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new mo}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(xe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,a,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await po(this.storage,this.storageKey));const{error:h}=await Ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Cd("You must provide either an email or phone number.")}catch(l){if(xe(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,a;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await Ce(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:wn});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(xe(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await po(this.storage,this.storageKey)),await Ce(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:n$})}catch(a){if(xe(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new ga;const{error:s}=await Ce(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(xe(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:a}=t,{error:o}=await Ce(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:a}=t,{data:o,error:l}=await Ce(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Cd("You must provide either an email or phone number and a type")}catch(r){if(xe(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await gi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<ap:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await gi(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=lp()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{data:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:_a}):await this._useSession(async r=>{var n,s,a;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ga}:await Ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:_a})})}catch(r){if(xe(r))return AL(r)&&(await this._removeSession(),await ha(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:a}=n;if(a)throw a;if(!s.session)throw new ga;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await po(this.storage,this.storageKey));const{data:u,error:d}=await Ce(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:_a});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(xe(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ga;const r=Date.now()/1e3;let n=r,s=!0,a=null;const{payload:o}=op(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(xe(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new ga;const{data:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(xe(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Lr())throw new Ed("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ed(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new kb("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ed("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new kb("No code detected.");const{data:v,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:a,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!a||!l||!o||!u)throw new Ed("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;c&&(f=parseInt(c));const m=f-d;m*1e3<=So&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const x=f-h;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,f,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,f,d);const{data:g,error:w}=await this._getUser(a);if(w)throw w;const y={provider_token:n,provider_refresh_token:s,access_token:a,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(n){if(xe(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await gi(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return{error:a};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(TL(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await ha(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=UL(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:a},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await po(this.storage,this.storageKey,!0));try{return await Ce(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(xe(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(xe(r))return{data:null,error:r};throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async a=>{var o,l,c,u,d;const{data:h,error:f}=a;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ce(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Lr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(xe(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:a}}=r;if(s)throw s;const{options:o,provider:l,token:c,access_token:u,nonce:d}=t,h=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a==null?void 0:a.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:wn}),{data:f,error:m}=h;return m?{data:{user:null,session:null},error:m}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new mo}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),{data:f,error:m})}catch(s){if(xe(s))return{data:{user:null,session:null},error:s};throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:o}=r;if(o)throw o;return await Ce(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(xe(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await qL(async s=>(s>0&&await VL(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await Ce(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:wn})),(s,a)=>{const o=200*Math.pow(2,s);return a&&ip(a)&&Date.now()+o-n<So})}catch(n){if(this._debug(r,"error",n),xe(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Lr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await gi(this.storage,this.storageKey);if(s&&this.userStorage){let o=await gi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await No(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:lp()}else if(s&&!s.user&&!s.user){const o=await gi(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await ha(this.storage,this.storageKey+"-user"),await No(this.storage,this.storageKey,s)):s.user=lp()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const a=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<ap;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${ap}s`),a){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),ip(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new ga;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new If;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new ga;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={data:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(s,"error",a),xe(a)){const o={data:null,error:a};return ip(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await No(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const a=Ob(s);await No(this.storage,this.storageKey,a)}else{const s=Ob(r);await No(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await ha(this.storage,this.storageKey),await ha(this.storage,this.storageKey+"-code-verifier"),await ha(this.storage,this.storageKey+"-user"),this.userStorage&&await ha(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Lr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),So);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/So);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${So}ms, refresh threshold is ${ev} ticks`),s<=ev&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof jC)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Lr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,o]=await po(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);s.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;return a?{data:null,error:a}:await Ce(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(xe(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await Ce(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(xe(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return{data:null,error:a};const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?x$(t.webauthn.credential_response):w$(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await Ce(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})})}catch(r){if(xe(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return{data:null,error:a};const o=await Ce(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:v$(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:y$(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(xe(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(a),a.status==="verified"&&s[a.factor_type].push(a);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:a}=t;if(a)return{data:null,error:a};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=op(s.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+PL>s)return n;const{data:a,error:o}=await Ce(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,n=a.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:x}=await this.getSession();if(x||!m.session)return{data:null,error:x};n=m.session.access_token}const{header:s,payload:a,signature:o,raw:{header:l,payload:c}}=op(n);r!=null&&r.allowExpired||YL(a.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:a,header:s,signature:o},error:null}}const d=XL(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,$L(`${l}.${c}`)))throw new nv("Invalid JWT signature");return{data:{claims:a,header:s,signature:o},error:null}}catch(n){if(xe(n))return{data:null,error:n};throw n}}}iu.nextInstanceID=0;const P$=iu;class R$ extends P${constructor(t){super(t)}}class T${constructor(t,r,n){var s,a,o;this.supabaseUrl=t,this.supabaseKey=r;const l=SL(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:gL,realtime:yL,auth:Object.assign(Object.assign({},vL),{storageKey:c}),global:pL},d=_L(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=d.global.headers)!==null&&a!==void 0?a:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=bL(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new ND(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new hL(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new vD(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:a,storageKey:o,flowType:l,lock:c,debug:u},d,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new R$({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),d),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:a,flowType:l,lock:c,debug:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new BD(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const A$=(e,t,r)=>new T$(e,t,r);function O$(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}O$()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const th="https://jbkzymvswvnkrxriyzdx.supabase.co",I$="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Impia3p5bXZzd3Zua3J4cml5emR4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM3MjA2NjEsImV4cCI6MjA2OTI5NjY2MX0.AAj-OKJlCyH7JJDo3bEnjYsJPHAA4f-z3EHxbbVCJhg";console.log(" Inicializando Supabase client",{url:(th==null?void 0:th.substring(0,30))+"...",hasKey:!0});const nr=A$(th,I$,{auth:{debug:!1,autoRefreshToken:!0,persistSession:!0},global:{headers:{"x-client-info":"espana-creativa-red"}}});console.log(" Cliente Supabase creado exitosamente");const M$=Object.freeze(Object.defineProperty({__proto__:null,supabase:nr},Symbol.toStringTag,{value:"Module"})),we=et.create({baseURL:"/api"});let Xn=!1,Dr=null;async function NC(){if(Xn&&Dr)return Dr;const{data:{session:e},error:t}=await nr.auth.getSession();if(t||!e)return Xn?null:(Xn=!0,Dr=nr.auth.refreshSession().then(({data:{session:r},error:n})=>(Xn=!1,Dr=null,n||!r?(n&&n.message!=="Auth session missing!"&&console.error(" Failed to refresh session:",n.message),null):r.access_token)).catch(()=>(Xn=!1,Dr=null,null)),Dr);if(e){const r=e.expires_at?e.expires_at*1e3:0,n=Date.now();if(r-n<6e4)if(Xn){if(Dr)return Dr}else return Xn=!0,console.log(" Token expiring soon, refreshing..."),Dr=nr.auth.refreshSession().then(({data:{session:a},error:o})=>(Xn=!1,Dr=null,o||!a?(console.error(" Failed to refresh session:",o==null?void 0:o.message),e.access_token):a.access_token)).catch(()=>(Xn=!1,Dr=null,e.access_token)),Dr;return e.access_token}return null}we.interceptors.request.use(async e=>{const t=await NC();return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));we.interceptors.response.use(e=>e,async e=>{var t,r,n,s,a,o,l,c,u,d,h,f,m,x,g,w,y;if((r=(t=e.config)==null?void 0:t.url)!=null&&r.includes("/auth/me")&&((n=e.response)==null?void 0:n.status)===401){const v=new Error("Not authenticated");return v.response=e.response,v.config=e.config,Promise.reject(v)}if((a=(s=e.config)==null?void 0:s.url)!=null&&a.includes("/auth/signin")&&((o=e.response)==null?void 0:o.status)===401){const v=new Error(((c=(l=e.response)==null?void 0:l.data)==null?void 0:c.error)||"Email o contrasea incorrectos");return v.response=e.response,v.config=e.config,Promise.reject(v)}if((d=(u=e.config)==null?void 0:u.url)!=null&&d.includes("/auth/change-password")&&(((h=e.response)==null?void 0:h.status)===400||((f=e.response)==null?void 0:f.status)===401)){const v=new Error(((x=(m=e.response)==null?void 0:m.data)==null?void 0:x.error)||"Contrasea actual incorrecta");return v.response=e.response,v.config=e.config,Promise.reject(v)}if(((g=e.response)==null?void 0:g.status)===401&&!((y=(w=e.config)==null?void 0:w.url)!=null&&y.includes("/auth/"))&&!e.config._retry){console.warn(" Token invlido o expirado. Intentando refrescar sesin..."),e.config._retry=!0,Xn=!1,Dr=null;const v=await NC();return v?(console.log(" Sesin refrescada. Reintentando peticin..."),e.config.headers.Authorization=`Bearer ${v}`,we.request(e.config)):(console.error(" No se pudo refrescar la sesin. Redirigiendo al login..."),await nr.auth.signOut(),window.location.href="/auth",Promise.reject(e))}return Promise.reject(e)});var He;(function(e){e.assertEqual=s=>{};function t(s){}e.assertIs=t;function r(s){throw new Error}e.assertNever=r,e.arrayToEnum=s=>{const a={};for(const o of s)a[o]=o;return a},e.getValidEnumValues=s=>{const a=e.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),o={};for(const l of a)o[l]=s[l];return e.objectValues(o)},e.objectValues=s=>e.objectKeys(s).map(function(a){return s[a]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const a=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&a.push(o);return a},e.find=(s,a)=>{for(const o of s)if(a(o))return o},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function n(s,a=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}e.joinValues=n,e.jsonStringifyReplacer=(s,a)=>typeof a=="bigint"?a.toString():a})(He||(He={}));var Ub;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(Ub||(Ub={}));const ce=He.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),wa=e=>{switch(typeof e){case"undefined":return ce.undefined;case"string":return ce.string;case"number":return Number.isNaN(e)?ce.nan:ce.number;case"boolean":return ce.boolean;case"function":return ce.function;case"bigint":return ce.bigint;case"symbol":return ce.symbol;case"object":return Array.isArray(e)?ce.array:e===null?ce.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?ce.promise:typeof Map<"u"&&e instanceof Map?ce.map:typeof Set<"u"&&e instanceof Set?ce.set:typeof Date<"u"&&e instanceof Date?ce.date:ce.object;default:return ce.unknown}},K=He.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class ln extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(a){return a.message},n={_errors:[]},s=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return s(this),n}static assert(t){if(!(t instanceof ln))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,He.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const s of this.issues)if(s.path.length>0){const a=s.path[0];r[a]=r[a]||[],r[a].push(t(s))}else n.push(t(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}ln.create=e=>new ln(e);const sv=(e,t)=>{let r;switch(e.code){case K.invalid_type:e.received===ce.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case K.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,He.jsonStringifyReplacer)}`;break;case K.unrecognized_keys:r=`Unrecognized key(s) in object: ${He.joinValues(e.keys,", ")}`;break;case K.invalid_union:r="Invalid input";break;case K.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${He.joinValues(e.options)}`;break;case K.invalid_enum_value:r=`Invalid enum value. Expected ${He.joinValues(e.options)}, received '${e.received}'`;break;case K.invalid_arguments:r="Invalid function arguments";break;case K.invalid_return_type:r="Invalid function return type";break;case K.invalid_date:r="Invalid date";break;case K.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:He.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case K.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case K.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case K.custom:r="Invalid input";break;case K.invalid_intersection_types:r="Intersection results could not be merged";break;case K.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case K.not_finite:r="Number must be finite";break;default:r=t.defaultError,He.assertNever(e)}return{message:r}};let D$=sv;function L$(){return D$}const $$=e=>{const{data:t,path:r,errorMaps:n,issueData:s}=e,a=[...r,...s.path||[]],o={...s,path:a};if(s.message!==void 0)return{...s,path:a,message:s.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...s,path:a,message:l}};function ae(e,t){const r=L$(),n=$$({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===sv?void 0:sv].filter(s=>!!s)});e.common.issues.push(n)}class fr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const s of r){if(s.status==="aborted")return Ne;s.status==="dirty"&&t.dirty(),n.push(s.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const s of r){const a=await s.key,o=await s.value;n.push({key:a,value:o})}return fr.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const s of r){const{key:a,value:o}=s;if(a.status==="aborted"||o.status==="aborted")return Ne;a.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[a.value]=o.value)}return{status:t.value,value:n}}}const Ne=Object.freeze({status:"aborted"}),vc=e=>({status:"dirty",value:e}),dn=e=>({status:"valid",value:e}),zb=e=>e.status==="aborted",Bb=e=>e.status==="dirty",wl=e=>e.status==="valid",Bh=e=>typeof Promise<"u"&&e instanceof Promise;var he;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(he||(he={}));class vs{constructor(t,r,n,s){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Vb=(e,t)=>{if(wl(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new ln(e.common.issues);return this._error=r,this._error}}};function Oe(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:s}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:s}}class Be{get description(){return this._def.description}_getType(t){return wa(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:wa(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new fr,ctx:{common:t.parent.common,data:t.data,parsedType:wa(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Bh(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:wa(t)},s=this._parseSync({data:t,path:n.path,parent:n});return Vb(n,s)}"~validate"(t){var n,s;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:wa(t)};if(!this["~standard"].async)try{const a=this._parseSync({data:t,path:[],parent:r});return wl(a)?{value:a.value}:{issues:r.common.issues}}catch(a){(s=(n=a==null?void 0:a.message)==null?void 0:n.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(a=>wl(a)?{value:a.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:wa(t)},s=this._parse({data:t,path:n.path,parent:n}),a=await(Bh(s)?s:Promise.resolve(s));return Vb(n,a)}refine(t,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,a)=>{const o=t(s),l=()=>a.addIssue({code:K.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,s)=>t(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(t){return new _l({schema:this,typeName:Se.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Ha.create(this,this._def)}nullable(){return Sl.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return fs.create(this)}promise(){return Kh.create(this,this._def)}or(t){return qh.create([this,t],this._def)}and(t){return Wh.create(this,t,this._def)}transform(t){return new _l({...Oe(this._def),schema:this,typeName:Se.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new cv({...Oe(this._def),innerType:this,defaultValue:r,typeName:Se.ZodDefault})}brand(){return new oF({typeName:Se.ZodBranded,type:this,...Oe(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new uv({...Oe(this._def),innerType:this,catchValue:r,typeName:Se.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return Yy.create(this,t)}readonly(){return dv.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const F$=/^c[^\s-]{8,}$/i,U$=/^[0-9a-z]+$/,z$=/^[0-9A-HJKMNP-TV-Z]{26}$/i,B$=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,V$=/^[a-z0-9_-]{21}$/i,q$=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,W$=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,H$=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,K$="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let up;const G$=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Q$=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,J$=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Y$=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,X$=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Z$=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,CC="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",eF=new RegExp(`^${CC}$`);function EC(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function tF(e){return new RegExp(`^${EC(e)}$`)}function rF(e){let t=`${CC}T${EC(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function nF(e,t){return!!((t==="v4"||!t)&&G$.test(e)||(t==="v6"||!t)&&J$.test(e))}function sF(e,t){if(!q$.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||t&&s.alg!==t)}catch{return!1}}function aF(e,t){return!!((t==="v4"||!t)&&Q$.test(e)||(t==="v6"||!t)&&Y$.test(e))}class qs extends Be{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==ce.string){const a=this._getOrReturnCtx(t);return ae(a,{code:K.invalid_type,expected:ce.string,received:a.parsedType}),Ne}const n=new fr;let s;for(const a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(s=this._getOrReturnCtx(t,s),ae(s,{code:K.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")t.data.length>a.value&&(s=this._getOrReturnCtx(t,s),ae(s,{code:K.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const o=t.data.length>a.value,l=t.data.length<a.value;(o||l)&&(s=this._getOrReturnCtx(t,s),o?ae(s,{code:K.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&ae(s,{code:K.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")H$.test(t.data)||(s=this._getOrReturnCtx(t,s),ae(s,{validation:"email",code:K.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")up||(up=new RegExp(K$,"u")),up.test(t.data)||(s=this._getOrReturnCtx(t,s),ae(s,{validation:"emoji",code:K.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")B$.test(t.data)||(s=this._getOrReturnCtx(t,s),ae(s,{validation:"uuid",code:K.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")V$.test(t.data)||(s=this._getOrReturnCtx(t,s),ae(s,{validation:"nanoid",code:K.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")F$.test(t.data)||(s=this._getOrReturnCtx(t,s),ae(s,{validation:"cuid",code:K.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")U$.test(t.data)||(s=this._getOrReturnCtx(t,s),ae(s,{validation:"cuid2",code:K.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")z$.test(t.data)||(s=this._getOrReturnCtx(t,s),ae(s,{validation:"ulid",code:K.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),ae(s,{validation:"url",code:K.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),ae(s,{validation:"regex",code:K.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(t,s),ae(s,{code:K.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(s=this._getOrReturnCtx(t,s),ae(s,{code:K.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(s=this._getOrReturnCtx(t,s),ae(s,{code:K.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?rF(a).test(t.data)||(s=this._getOrReturnCtx(t,s),ae(s,{code:K.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?eF.test(t.data)||(s=this._getOrReturnCtx(t,s),ae(s,{code:K.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?tF(a).test(t.data)||(s=this._getOrReturnCtx(t,s),ae(s,{code:K.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?W$.test(t.data)||(s=this._getOrReturnCtx(t,s),ae(s,{validation:"duration",code:K.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?nF(t.data,a.version)||(s=this._getOrReturnCtx(t,s),ae(s,{validation:"ip",code:K.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?sF(t.data,a.alg)||(s=this._getOrReturnCtx(t,s),ae(s,{validation:"jwt",code:K.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?aF(t.data,a.version)||(s=this._getOrReturnCtx(t,s),ae(s,{validation:"cidr",code:K.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?X$.test(t.data)||(s=this._getOrReturnCtx(t,s),ae(s,{validation:"base64",code:K.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?Z$.test(t.data)||(s=this._getOrReturnCtx(t,s),ae(s,{validation:"base64url",code:K.invalid_string,message:a.message}),n.dirty()):He.assertNever(a);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(s=>t.test(s),{validation:r,code:K.invalid_string,...he.errToObj(n)})}_addCheck(t){return new qs({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...he.errToObj(t)})}url(t){return this._addCheck({kind:"url",...he.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...he.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...he.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...he.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...he.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...he.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...he.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...he.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...he.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...he.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...he.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...he.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...he.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...he.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...he.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...he.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...he.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...he.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...he.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...he.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...he.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...he.errToObj(r)})}nonempty(t){return this.min(1,he.errToObj(t))}trim(){return new qs({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new qs({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new qs({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}qs.create=e=>new qs({checks:[],typeName:Se.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...Oe(e)});function iF(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,s=r>n?r:n,a=Number.parseInt(e.toFixed(s).replace(".","")),o=Number.parseInt(t.toFixed(s).replace(".",""));return a%o/10**s}class bl extends Be{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==ce.number){const a=this._getOrReturnCtx(t);return ae(a,{code:K.invalid_type,expected:ce.number,received:a.parsedType}),Ne}let n;const s=new fr;for(const a of this._def.checks)a.kind==="int"?He.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),ae(n,{code:K.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),ae(n,{code:K.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),ae(n,{code:K.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="multipleOf"?iF(t.data,a.value)!==0&&(n=this._getOrReturnCtx(t,n),ae(n,{code:K.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),ae(n,{code:K.not_finite,message:a.message}),s.dirty()):He.assertNever(a);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,he.toString(r))}gt(t,r){return this.setLimit("min",t,!1,he.toString(r))}lte(t,r){return this.setLimit("max",t,!0,he.toString(r))}lt(t,r){return this.setLimit("max",t,!1,he.toString(r))}setLimit(t,r,n,s){return new bl({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:he.toString(s)}]})}_addCheck(t){return new bl({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:he.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:he.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:he.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:he.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:he.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:he.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:he.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:he.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:he.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&He.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}bl.create=e=>new bl({checks:[],typeName:Se.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Oe(e)});class ou extends Be{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==ce.bigint)return this._getInvalidInput(t);let n;const s=new fr;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),ae(n,{code:K.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),ae(n,{code:K.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),ae(n,{code:K.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):He.assertNever(a);return{status:s.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return ae(r,{code:K.invalid_type,expected:ce.bigint,received:r.parsedType}),Ne}gte(t,r){return this.setLimit("min",t,!0,he.toString(r))}gt(t,r){return this.setLimit("min",t,!1,he.toString(r))}lte(t,r){return this.setLimit("max",t,!0,he.toString(r))}lt(t,r){return this.setLimit("max",t,!1,he.toString(r))}setLimit(t,r,n,s){return new ou({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:he.toString(s)}]})}_addCheck(t){return new ou({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:he.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:he.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:he.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:he.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:he.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}ou.create=e=>new ou({checks:[],typeName:Se.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...Oe(e)});class av extends Be{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==ce.boolean){const n=this._getOrReturnCtx(t);return ae(n,{code:K.invalid_type,expected:ce.boolean,received:n.parsedType}),Ne}return dn(t.data)}}av.create=e=>new av({typeName:Se.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Oe(e)});class Vh extends Be{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==ce.date){const a=this._getOrReturnCtx(t);return ae(a,{code:K.invalid_type,expected:ce.date,received:a.parsedType}),Ne}if(Number.isNaN(t.data.getTime())){const a=this._getOrReturnCtx(t);return ae(a,{code:K.invalid_date}),Ne}const n=new fr;let s;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(s=this._getOrReturnCtx(t,s),ae(s,{code:K.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(s=this._getOrReturnCtx(t,s),ae(s,{code:K.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):He.assertNever(a);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Vh({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:he.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:he.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Vh.create=e=>new Vh({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Se.ZodDate,...Oe(e)});class qb extends Be{_parse(t){if(this._getType(t)!==ce.symbol){const n=this._getOrReturnCtx(t);return ae(n,{code:K.invalid_type,expected:ce.symbol,received:n.parsedType}),Ne}return dn(t.data)}}qb.create=e=>new qb({typeName:Se.ZodSymbol,...Oe(e)});class Wb extends Be{_parse(t){if(this._getType(t)!==ce.undefined){const n=this._getOrReturnCtx(t);return ae(n,{code:K.invalid_type,expected:ce.undefined,received:n.parsedType}),Ne}return dn(t.data)}}Wb.create=e=>new Wb({typeName:Se.ZodUndefined,...Oe(e)});class Hb extends Be{_parse(t){if(this._getType(t)!==ce.null){const n=this._getOrReturnCtx(t);return ae(n,{code:K.invalid_type,expected:ce.null,received:n.parsedType}),Ne}return dn(t.data)}}Hb.create=e=>new Hb({typeName:Se.ZodNull,...Oe(e)});class iv extends Be{constructor(){super(...arguments),this._any=!0}_parse(t){return dn(t.data)}}iv.create=e=>new iv({typeName:Se.ZodAny,...Oe(e)});class Kb extends Be{constructor(){super(...arguments),this._unknown=!0}_parse(t){return dn(t.data)}}Kb.create=e=>new Kb({typeName:Se.ZodUnknown,...Oe(e)});class Xa extends Be{_parse(t){const r=this._getOrReturnCtx(t);return ae(r,{code:K.invalid_type,expected:ce.never,received:r.parsedType}),Ne}}Xa.create=e=>new Xa({typeName:Se.ZodNever,...Oe(e)});class Gb extends Be{_parse(t){if(this._getType(t)!==ce.undefined){const n=this._getOrReturnCtx(t);return ae(n,{code:K.invalid_type,expected:ce.void,received:n.parsedType}),Ne}return dn(t.data)}}Gb.create=e=>new Gb({typeName:Se.ZodVoid,...Oe(e)});class fs extends Be{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),s=this._def;if(r.parsedType!==ce.array)return ae(r,{code:K.invalid_type,expected:ce.array,received:r.parsedType}),Ne;if(s.exactLength!==null){const o=r.data.length>s.exactLength.value,l=r.data.length<s.exactLength.value;(o||l)&&(ae(r,{code:o?K.too_big:K.too_small,minimum:l?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(ae(r,{code:K.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(ae(r,{code:K.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>s.type._parseAsync(new vs(r,o,r.path,l)))).then(o=>fr.mergeArray(n,o));const a=[...r.data].map((o,l)=>s.type._parseSync(new vs(r,o,r.path,l)));return fr.mergeArray(n,a)}get element(){return this._def.type}min(t,r){return new fs({...this._def,minLength:{value:t,message:he.toString(r)}})}max(t,r){return new fs({...this._def,maxLength:{value:t,message:he.toString(r)}})}length(t,r){return new fs({...this._def,exactLength:{value:t,message:he.toString(r)}})}nonempty(t){return this.min(1,t)}}fs.create=(e,t)=>new fs({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Se.ZodArray,...Oe(t)});function Co(e){if(e instanceof Tt){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Ha.create(Co(n))}return new Tt({...e._def,shape:()=>t})}else return e instanceof fs?new fs({...e._def,type:Co(e.element)}):e instanceof Ha?Ha.create(Co(e.unwrap())):e instanceof Sl?Sl.create(Co(e.unwrap())):e instanceof Qi?Qi.create(e.items.map(t=>Co(t))):e}class Tt extends Be{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=He.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==ce.object){const u=this._getOrReturnCtx(t);return ae(u,{code:K.invalid_type,expected:ce.object,received:u.parsedType}),Ne}const{status:n,ctx:s}=this._processInputParams(t),{shape:a,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Xa&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=a[u],h=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new vs(s,h,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof Xa){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")l.length>0&&(ae(s,{code:K.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const h=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new vs(s,h,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const h=await d.key,f=await d.value;u.push({key:h,value:f,alwaysSet:d.alwaysSet})}return u}).then(u=>fr.mergeObjectSync(n,u)):fr.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return he.errToObj,new Tt({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var a,o;const s=((o=(a=this._def).errorMap)==null?void 0:o.call(a,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:he.errToObj(t).message??s}:{message:s}}}:{}})}strip(){return new Tt({...this._def,unknownKeys:"strip"})}passthrough(){return new Tt({...this._def,unknownKeys:"passthrough"})}extend(t){return new Tt({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Tt({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Se.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Tt({...this._def,catchall:t})}pick(t){const r={};for(const n of He.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Tt({...this._def,shape:()=>r})}omit(t){const r={};for(const n of He.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new Tt({...this._def,shape:()=>r})}deepPartial(){return Co(this)}partial(t){const r={};for(const n of He.objectKeys(this.shape)){const s=this.shape[n];t&&!t[n]?r[n]=s:r[n]=s.optional()}return new Tt({...this._def,shape:()=>r})}required(t){const r={};for(const n of He.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof Ha;)a=a._def.innerType;r[n]=a}return new Tt({...this._def,shape:()=>r})}keyof(){return kC(He.objectKeys(this.shape))}}Tt.create=(e,t)=>new Tt({shape:()=>e,unknownKeys:"strip",catchall:Xa.create(),typeName:Se.ZodObject,...Oe(t)});Tt.strictCreate=(e,t)=>new Tt({shape:()=>e,unknownKeys:"strict",catchall:Xa.create(),typeName:Se.ZodObject,...Oe(t)});Tt.lazycreate=(e,t)=>new Tt({shape:e,unknownKeys:"strip",catchall:Xa.create(),typeName:Se.ZodObject,...Oe(t)});class qh extends Be{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function s(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=a.map(l=>new ln(l.ctx.common.issues));return ae(r,{code:K.invalid_union,unionErrors:o}),Ne}if(r.common.async)return Promise.all(n.map(async a=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(s);{let a;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!a&&(a={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const l=o.map(c=>new ln(c));return ae(r,{code:K.invalid_union,unionErrors:l}),Ne}}get options(){return this._def.options}}qh.create=(e,t)=>new qh({options:e,typeName:Se.ZodUnion,...Oe(t)});function ov(e,t){const r=wa(e),n=wa(t);if(e===t)return{valid:!0,data:e};if(r===ce.object&&n===ce.object){const s=He.objectKeys(t),a=He.objectKeys(e).filter(l=>s.indexOf(l)!==-1),o={...e,...t};for(const l of a){const c=ov(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===ce.array&&n===ce.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let a=0;a<e.length;a++){const o=e[a],l=t[a],c=ov(o,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===ce.date&&n===ce.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Wh extends Be{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=(a,o)=>{if(zb(a)||zb(o))return Ne;const l=ov(a.value,o.value);return l.valid?((Bb(a)||Bb(o))&&r.dirty(),{status:r.value,value:l.data}):(ae(n,{code:K.invalid_intersection_types}),Ne)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,o])=>s(a,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Wh.create=(e,t,r)=>new Wh({left:e,right:t,typeName:Se.ZodIntersection,...Oe(r)});class Qi extends Be{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ce.array)return ae(n,{code:K.invalid_type,expected:ce.array,received:n.parsedType}),Ne;if(n.data.length<this._def.items.length)return ae(n,{code:K.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ne;!this._def.rest&&n.data.length>this._def.items.length&&(ae(n,{code:K.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new vs(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(a).then(o=>fr.mergeArray(r,o)):fr.mergeArray(r,a)}get items(){return this._def.items}rest(t){return new Qi({...this._def,rest:t})}}Qi.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Qi({items:e,typeName:Se.ZodTuple,rest:null,...Oe(t)})};class Hh extends Be{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ce.object)return ae(n,{code:K.invalid_type,expected:ce.object,received:n.parsedType}),Ne;const s=[],a=this._def.keyType,o=this._def.valueType;for(const l in n.data)s.push({key:a._parse(new vs(n,l,n.path,l)),value:o._parse(new vs(n,n.data[l],n.path,l)),alwaysSet:l in n.data});return n.common.async?fr.mergeObjectAsync(r,s):fr.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof Be?new Hh({keyType:t,valueType:r,typeName:Se.ZodRecord,...Oe(n)}):new Hh({keyType:qs.create(),valueType:t,typeName:Se.ZodRecord,...Oe(r)})}}class Qb extends Be{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ce.map)return ae(n,{code:K.invalid_type,expected:ce.map,received:n.parsedType}),Ne;const s=this._def.keyType,a=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:s._parse(new vs(n,l,n.path,[u,"key"])),value:a._parse(new vs(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Ne;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Ne;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}Qb.create=(e,t,r)=>new Qb({valueType:t,keyType:e,typeName:Se.ZodMap,...Oe(r)});class lu extends Be{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ce.set)return ae(n,{code:K.invalid_type,expected:ce.set,received:n.parsedType}),Ne;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(ae(n,{code:K.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(ae(n,{code:K.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const a=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Ne;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>a._parse(new vs(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new lu({...this._def,minSize:{value:t,message:he.toString(r)}})}max(t,r){return new lu({...this._def,maxSize:{value:t,message:he.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}lu.create=(e,t)=>new lu({valueType:e,minSize:null,maxSize:null,typeName:Se.ZodSet,...Oe(t)});class Jb extends Be{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Jb.create=(e,t)=>new Jb({getter:e,typeName:Se.ZodLazy,...Oe(t)});class lv extends Be{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return ae(r,{received:r.data,code:K.invalid_literal,expected:this._def.value}),Ne}return{status:"valid",value:t.data}}get value(){return this._def.value}}lv.create=(e,t)=>new lv({value:e,typeName:Se.ZodLiteral,...Oe(t)});function kC(e,t){return new jl({values:e,typeName:Se.ZodEnum,...Oe(t)})}class jl extends Be{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return ae(r,{expected:He.joinValues(n),received:r.parsedType,code:K.invalid_type}),Ne}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return ae(r,{received:r.data,code:K.invalid_enum_value,options:n}),Ne}return dn(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return jl.create(t,{...this._def,...r})}exclude(t,r=this._def){return jl.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}jl.create=kC;class Yb extends Be{_parse(t){const r=He.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==ce.string&&n.parsedType!==ce.number){const s=He.objectValues(r);return ae(n,{expected:He.joinValues(s),received:n.parsedType,code:K.invalid_type}),Ne}if(this._cache||(this._cache=new Set(He.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const s=He.objectValues(r);return ae(n,{received:n.data,code:K.invalid_enum_value,options:s}),Ne}return dn(t.data)}get enum(){return this._def.values}}Yb.create=(e,t)=>new Yb({values:e,typeName:Se.ZodNativeEnum,...Oe(t)});class Kh extends Be{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==ce.promise&&r.common.async===!1)return ae(r,{code:K.invalid_type,expected:ce.promise,received:r.parsedType}),Ne;const n=r.parsedType===ce.promise?r.data:Promise.resolve(r.data);return dn(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Kh.create=(e,t)=>new Kh({type:e,typeName:Se.ZodPromise,...Oe(t)});class _l extends Be{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Se.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=this._def.effect||null,a={addIssue:o=>{ae(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){const o=s.transform(n.data,a);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return Ne;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?Ne:c.status==="dirty"||r.value==="dirty"?vc(c.value):c});{if(r.value==="aborted")return Ne;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?Ne:l.status==="dirty"||r.value==="dirty"?vc(l.value):l}}if(s.type==="refinement"){const o=l=>{const c=s.refinement(l,a);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Ne:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Ne:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(s.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!wl(o))return Ne;const l=s.transform(o.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>wl(o)?Promise.resolve(s.transform(o.value,a)).then(l=>({status:r.value,value:l})):Ne);He.assertNever(s)}}_l.create=(e,t,r)=>new _l({schema:e,typeName:Se.ZodEffects,effect:t,...Oe(r)});_l.createWithPreprocess=(e,t,r)=>new _l({schema:t,effect:{type:"preprocess",transform:e},typeName:Se.ZodEffects,...Oe(r)});class Ha extends Be{_parse(t){return this._getType(t)===ce.undefined?dn(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ha.create=(e,t)=>new Ha({innerType:e,typeName:Se.ZodOptional,...Oe(t)});class Sl extends Be{_parse(t){return this._getType(t)===ce.null?dn(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Sl.create=(e,t)=>new Sl({innerType:e,typeName:Se.ZodNullable,...Oe(t)});class cv extends Be{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===ce.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}cv.create=(e,t)=>new cv({innerType:e,typeName:Se.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Oe(t)});class uv extends Be{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Bh(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new ln(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new ln(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}uv.create=(e,t)=>new uv({innerType:e,typeName:Se.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Oe(t)});class Xb extends Be{_parse(t){if(this._getType(t)!==ce.nan){const n=this._getOrReturnCtx(t);return ae(n,{code:K.invalid_type,expected:ce.nan,received:n.parsedType}),Ne}return{status:"valid",value:t.data}}}Xb.create=e=>new Xb({typeName:Se.ZodNaN,...Oe(e)});class oF extends Be{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Yy extends Be{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Ne:a.status==="dirty"?(r.dirty(),vc(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Ne:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(t,r){return new Yy({in:t,out:r,typeName:Se.ZodPipeline})}}class dv extends Be{_parse(t){const r=this._def.innerType._parse(t),n=s=>(wl(s)&&(s.value=Object.freeze(s.value)),s);return Bh(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}dv.create=(e,t)=>new dv({innerType:e,typeName:Se.ZodReadonly,...Oe(t)});var Se;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Se||(Se={}));const R=qs.create,Ae=bl.create,hn=av.create,Mf=iv.create;Xa.create;const We=fs.create,G=Tt.create,PC=qh.create;Wh.create;Qi.create;const lF=Hh.create,Oc=lv.create,aa=jl.create;Kh.create;Ha.create;Sl.create;const Xy=R().min(8,"La contrasea debe tener al menos 8 caracteres").regex(/[a-z]/,"La contrasea debe contener al menos una letra minscula").regex(/[A-Z]/,"La contrasea debe contener al menos una letra mayscula").regex(/[0-9]/,"La contrasea debe contener al menos un nmero");G({email:R().email("Email invlido"),password:Xy,name:R().min(2,"El nombre debe tener al menos 2 caracteres")});G({email:R().email("Email invlido"),password:R().min(1,"La contrasea es requerida")});const Zy=G({id:R().uuid(),email:R().email(),name:R().nullable(),avatar_url:R().nullable(),bio:R().nullable(),location:R().nullable(),linkedin_url:R().nullable(),website_url:R().nullable(),skills:We(R()),interests:We(R()),role_ids:We(Ae()),completed_pct:Ae().min(0).max(100),created_at:R().datetime(),updated_at:R().datetime()}),cF=G({user:Zy}),uF=G({user:Zy,session:Mf().nullable()}),dF=G({user:Zy}),hF=G({currentPassword:R().min(1,"La contrasea actual es requerida"),newPassword:Xy,confirmPassword:R().min(1,"Debes confirmar la nueva contrasea")}).refine(e=>e.newPassword===e.confirmPassword,{message:"Las contraseas no coinciden",path:["confirmPassword"]}),fF=G({message:R()}),mF=G({email:R().email("Email invlido")}),pF=G({message:R()}),gF=G({password:Xy}),vF=G({message:R()});G({error:R()});const sc="",lo={async signUp(e){const t=await we.post(`${sc}/auth/signup`,e);return cF.parse(t.data)},async signIn(e){const t=await we.post(`${sc}/auth/signin`,e);return uF.parse(t.data)},async signOut(){await we.post(`${sc}/auth/signout`)},async getCurrentUser(){try{const e=await fetch("/api/auth/me",{credentials:"include",headers:{Accept:"application/json"}});if(e.status===401){const r=new Error("Not authenticated");throw r.response={status:401},r}if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const t=await e.json();return dF.parse(t)}catch(e){throw e}},async changePassword(e){const t=await we.post(`${sc}/auth/change-password`,e);return fF.parse(t.data)},async forgotPassword(e){const t=await we.post(`${sc}/auth/forgot-password`,e);return pF.parse(t.data)},async resetPassword(e){const{supabase:t}=await io(async()=>{const{supabase:n}=await Promise.resolve().then(()=>M$);return{supabase:n}},void 0),{error:r}=await t.auth.updateUser({password:e.password});if(r)throw new Error(r.message||"Error al restablecer la contrasea");return vF.parse({message:"Contrasea restablecida exitosamente"})}};function yF(){return It({queryKey:["auth","currentUser"],queryFn:async()=>{var e;try{return(await lo.getCurrentUser()).user}catch(t){if(t instanceof Error&&t.message==="Not authenticated"||((e=t.response)==null?void 0:e.status)===401)return null;throw t}},staleTime:300*1e3,retry:!1})}function xF(){const e=Ye(),t=at({mutationFn:r=>lo.signUp(r),onSuccess:r=>{e.setQueryData(["auth","currentUser"],r.user)}});return{action:t.mutate,isLoading:t.isPending,error:t.error,isSuccess:t.isSuccess,data:t.data}}function wF(){const e=Ye(),t=at({mutationFn:r=>lo.signIn(r),onSuccess:async r=>{r.session&&await nr.auth.setSession({access_token:r.session.access_token,refresh_token:r.session.refresh_token}),e.setQueryData(["auth","currentUser"],r.user)}});return{action:t.mutate,isLoading:t.isPending,error:t.error,isSuccess:t.isSuccess,data:t.data}}function bF(){const e=Ye(),t=at({mutationFn:()=>lo.signOut(),onSuccess:()=>{e.setQueryData(["auth","currentUser"],null),e.invalidateQueries(),window.location.href="/auth"}});return{action:t.mutate,isLoading:t.isPending,error:t.error,isSuccess:t.isSuccess}}const RC=p.createContext(void 0);function jF({children:e}){const{data:t,isLoading:r}=yF(),n=xF(),s=wF(),a=bF(),o={user:t,isLoading:r,isAuthenticated:!!t,signUp:n.action,isSigningUp:n.isLoading,signUpError:n.error,signIn:s.action,isSigningIn:s.isLoading,signInError:s.error,signOut:a.action,isSigningOut:a.isLoading};return i.jsx(RC.Provider,{value:o,children:e})}function jt(){const e=p.useContext(RC);if(e===void 0)throw new Error("useAuthContext must be used within AuthProvider");return e}const _F=G({email:R().email("Email invlido"),name:R().min(2,"El nombre debe tener al menos 2 caracteres"),surname:R().optional()}),SF=G({success:hn(),pendingSignupId:R().uuid(),message:R()}),NF=G({id:R().uuid(),email:R().email(),name:R(),surname:R().nullable(),status:aa(["pending","approved","rejected"]),createdAt:R().datetime(),approvedAt:R().datetime().nullable(),approvedBy:R().uuid().nullable(),rejectedAt:R().datetime().nullable(),rejectedBy:R().uuid().nullable(),ipAddress:R().nullable(),userAgent:R().nullable()}),CF=G({success:hn(),signups:We(NF),total:Ae(),limit:Ae(),offset:Ae()}),EF=G({success:hn(),count:Ae()}),Zb=G({success:hn(),message:R()});G({error:R()});const ac="/api/signup-approval";function ic(e){return e&&typeof e=="object"&&"response"in e&&e.response&&typeof e.response=="object"&&"data"in e.response&&e.response.data&&typeof e.response.data=="object"&&"error"in e.response.data?String(e.response.data.error):e instanceof Error?e.message:"Error desconocido. Por favor, intenta de nuevo."}const Au={async submitRequest(e){try{const t=await et.post(`${ac}/request`,e);return SF.parse(t.data)}catch(t){throw new Error(ic(t))}},async approveSignup(e,t){try{const r=await et.post(`${ac}/approve/${e}`,t?{adminId:t}:{});return Zb.parse(r.data)}catch(r){throw new Error(ic(r))}},async rejectSignup(e,t){try{const r=await et.post(`${ac}/reject/${e}`,t?{adminId:t}:{});return Zb.parse(r.data)}catch(r){throw new Error(ic(r))}},async getPendingSignups(e="pending",t=20,r=0){try{const n=await et.get(`${ac}/pending`,{params:{status:e,limit:t,offset:r}});return CF.parse(n.data)}catch(n){throw new Error(ic(n))}},async getPendingCount(){try{const e=await et.get(`${ac}/count`);return EF.parse(e.data)}catch(e){throw new Error(ic(e))}}};function kF(){const e=Ye(),t=at({mutationFn:r=>Au.submitRequest(r),onSuccess:()=>{e.invalidateQueries({queryKey:["signupApproval","pendingCount"]}),e.invalidateQueries({queryKey:["signupApproval","pendingSignups"]})}});return{action:t.mutate,isLoading:t.isPending,error:t.error,isSuccess:t.isSuccess,data:t.data}}function ej(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Df(...e){return t=>{let r=!1;const n=e.map(s=>{const a=ej(s,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let s=0;s<n.length;s++){const a=n[s];typeof a=="function"?a():ej(e[s],null)}}}}function Re(...e){return p.useCallback(Df(...e),e)}function Ji(e){const t=PF(e),r=p.forwardRef((n,s)=>{const{children:a,...o}=n,l=p.Children.toArray(a),c=l.find(TF);if(c){const u=c.props.children,d=l.map(h=>h===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:h);return i.jsx(t,{...o,ref:s,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}var TC=Ji("Slot");function PF(e){const t=p.forwardRef((r,n)=>{const{children:s,...a}=r;if(p.isValidElement(s)){const o=OF(s),l=AF(a,s.props);return s.type!==p.Fragment&&(l.ref=n?Df(n,o):o),p.cloneElement(s,l)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var AC=Symbol("radix.slottable");function RF(e){const t=({children:r})=>i.jsx(i.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=AC,t}function TF(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===AC}function AF(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function OF(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function OC(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=OC(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function IC(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=OC(e))&&(n&&(n+=" "),n+=t);return n}const tj=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,rj=IC,Ou=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return rj(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:a}=t,o=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],h=a==null?void 0:a[u];if(d===null)return null;const f=tj(d)||tj(h);return s[u][f]}),l=r&&Object.entries(r).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:h,className:f,...m}=d;return Object.entries(m).every(x=>{let[g,w]=x;return Array.isArray(w)?w.includes({...a,...l}[g]):{...a,...l}[g]===w})?[...u,h,f]:u},[]);return rj(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)},ex="-",IF=e=>{const t=DF(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(ex);return l[0]===""&&l.length!==1&&l.shift(),MC(l,t)||MF(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},MC=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?MC(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const a=e.join(ex);return(o=t.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},nj=/^\[(.+)\]$/,MF=e=>{if(nj.test(e)){const t=nj.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},DF=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return $F(Object.entries(e.classGroups),r).forEach(([a,o])=>{hv(o,n,a,t)}),n},hv=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const a=s===""?t:sj(t,s);a.classGroupId=r;return}if(typeof s=="function"){if(LF(s)){hv(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([a,o])=>{hv(o,sj(t,a),r,n)})})},sj=(e,t)=>{let r=e;return t.split(ex).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},LF=e=>e.isThemeGetter,$F=(e,t)=>t?e.map(([r,n])=>{const s=n.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[t+o,l])):a);return[r,s]}):e,FF=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(a,o)=>{r.set(a,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(a){let o=r.get(a);if(o!==void 0)return o;if((o=n.get(a))!==void 0)return s(a,o),o},set(a,o){r.has(a)?r.set(a,o):s(a,o)}}},DC="!",UF=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],a=t.length,o=l=>{const c=[];let u=0,d=0,h;for(let w=0;w<l.length;w++){let y=l[w];if(u===0){if(y===s&&(n||l.slice(w,w+a)===t)){c.push(l.slice(d,w)),d=w+a;continue}if(y==="/"){h=w;continue}}y==="["?u++:y==="]"&&u--}const f=c.length===0?l:l.substring(d),m=f.startsWith(DC),x=m?f.substring(1):f,g=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:x,maybePostfixModifierPosition:g}};return r?l=>r({className:l,parseClassName:o}):o},zF=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},BF=e=>({cache:FF(e.cacheSize),parseClassName:UF(e),...IF(e)}),VF=/\s+/,qF=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,a=[],o=e.trim().split(VF);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:m}=r(u);let x=!!m,g=n(x?f.substring(0,m):f);if(!g){if(!x){l=u+(l.length>0?" "+l:l);continue}if(g=n(f),!g){l=u+(l.length>0?" "+l:l);continue}x=!1}const w=zF(d).join(":"),y=h?w+DC:w,v=y+g;if(a.includes(v))continue;a.push(v);const b=s(g,x);for(let j=0;j<b.length;++j){const _=b[j];a.push(y+_)}l=u+(l.length>0?" "+l:l)}return l};function WF(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=LC(t))&&(n&&(n+=" "),n+=r);return n}const LC=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=LC(e[n]))&&(r&&(r+=" "),r+=t);return r};function HF(e,...t){let r,n,s,a=o;function o(c){const u=t.reduce((d,h)=>h(d),e());return r=BF(u),n=r.cache.get,s=r.cache.set,a=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=qF(c,r);return s(c,d),d}return function(){return a(WF.apply(null,arguments))}}const it=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},$C=/^\[(?:([a-z-]+):)?(.+)\]$/i,KF=/^\d+\/\d+$/,GF=new Set(["px","full","screen"]),QF=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,JF=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,YF=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,XF=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ZF=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ks=e=>Ko(e)||GF.has(e)||KF.test(e),fa=e=>Ul(e,"length",o3),Ko=e=>!!e&&!Number.isNaN(Number(e)),dp=e=>Ul(e,"number",Ko),oc=e=>!!e&&Number.isInteger(Number(e)),e3=e=>e.endsWith("%")&&Ko(e.slice(0,-1)),Pe=e=>$C.test(e),ma=e=>QF.test(e),t3=new Set(["length","size","percentage"]),r3=e=>Ul(e,t3,FC),n3=e=>Ul(e,"position",FC),s3=new Set(["image","url"]),a3=e=>Ul(e,s3,c3),i3=e=>Ul(e,"",l3),lc=()=>!0,Ul=(e,t,r)=>{const n=$C.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},o3=e=>JF.test(e)&&!YF.test(e),FC=()=>!1,l3=e=>XF.test(e),c3=e=>ZF.test(e),u3=()=>{const e=it("colors"),t=it("spacing"),r=it("blur"),n=it("brightness"),s=it("borderColor"),a=it("borderRadius"),o=it("borderSpacing"),l=it("borderWidth"),c=it("contrast"),u=it("grayscale"),d=it("hueRotate"),h=it("invert"),f=it("gap"),m=it("gradientColorStops"),x=it("gradientColorStopPositions"),g=it("inset"),w=it("margin"),y=it("opacity"),v=it("padding"),b=it("saturate"),j=it("scale"),_=it("sepia"),S=it("skew"),N=it("space"),E=it("translate"),P=()=>["auto","contain","none"],T=()=>["auto","hidden","clip","visible","scroll"],B=()=>["auto",Pe,t],D=()=>[Pe,t],q=()=>["",ks,fa],F=()=>["auto",Ko,Pe],M=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],V=()=>["solid","dashed","dotted","double","none"],Z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],I=()=>["start","end","center","between","around","evenly","stretch"],A=()=>["","0",Pe],H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ie=()=>[Ko,Pe];return{cacheSize:500,separator:":",theme:{colors:[lc],spacing:[ks,fa],blur:["none","",ma,Pe],brightness:ie(),borderColor:[e],borderRadius:["none","","full",ma,Pe],borderSpacing:D(),borderWidth:q(),contrast:ie(),grayscale:A(),hueRotate:ie(),invert:A(),gap:D(),gradientColorStops:[e],gradientColorStopPositions:[e3,fa],inset:B(),margin:B(),opacity:ie(),padding:D(),saturate:ie(),scale:ie(),sepia:A(),skew:ie(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",Pe]}],container:["container"],columns:[{columns:[ma]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...M(),Pe]}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",oc,Pe]}],basis:[{basis:B()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Pe]}],grow:[{grow:A()}],shrink:[{shrink:A()}],order:[{order:["first","last","none",oc,Pe]}],"grid-cols":[{"grid-cols":[lc]}],"col-start-end":[{col:["auto",{span:["full",oc,Pe]},Pe]}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":[lc]}],"row-start-end":[{row:["auto",{span:[oc,Pe]},Pe]}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Pe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Pe]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...I()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...I(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...I(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Pe,t]}],"min-w":[{"min-w":[Pe,t,"min","max","fit"]}],"max-w":[{"max-w":[Pe,t,"none","full","min","max","fit","prose",{screen:[ma]},ma]}],h:[{h:[Pe,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Pe,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Pe,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Pe,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ma,fa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",dp]}],"font-family":[{font:[lc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Pe]}],"line-clamp":[{"line-clamp":["none",Ko,dp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ks,Pe]}],"list-image":[{"list-image":["none",Pe]}],"list-style-type":[{list:["none","disc","decimal",Pe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ks,fa]}],"underline-offset":[{"underline-offset":["auto",ks,Pe]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Pe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Pe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...M(),n3]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",r3]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},a3]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...V(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:V()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...V()]}],"outline-offset":[{"outline-offset":[ks,Pe]}],"outline-w":[{outline:[ks,fa]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[ks,fa]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ma,i3]}],"shadow-color":[{shadow:[lc]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...Z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Z()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ma,Pe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[b]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Pe]}],duration:[{duration:ie()}],ease:[{ease:["linear","in","out","in-out",Pe]}],delay:[{delay:ie()}],animate:[{animate:["none","spin","ping","pulse","bounce",Pe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[oc,Pe]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Pe]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Pe]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Pe]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ks,fa,dp]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},d3=HF(u3);function te(...e){return d3(IC(e))}const tx=Ou("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),U=p.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},a)=>{const o=n?TC:"button";return i.jsx(o,{className:te(tx({variant:t,size:r,className:e})),ref:a,...s})});U.displayName="Button";const be=p.forwardRef(({className:e,type:t,...r},n)=>i.jsx("input",{type:t,className:te("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));be.displayName="Input";var h3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],de=h3.reduce((e,t)=>{const r=Ji(`Primitive.${t}`),n=p.forwardRef((s,a)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function rx(e,t){e&&so.flushSync(()=>e.dispatchEvent(t))}var f3="Label",UC=p.forwardRef((e,t)=>i.jsx(de.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));UC.displayName=f3;var zC=UC;const m3=Ou("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),je=p.forwardRef(({className:e,...t},r)=>i.jsx(zC,{ref:r,className:te(m3(),e),...t}));je.displayName=zC.displayName;function p3(e,t){const r=p.createContext(t),n=a=>{const{children:o,...l}=a,c=p.useMemo(()=>l,Object.values(l));return i.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function s(a){const o=p.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,s]}function gr(e,t=[]){let r=[];function n(a,o){const l=p.createContext(o),c=r.length;r=[...r,o];const u=h=>{var y;const{scope:f,children:m,...x}=h,g=((y=f==null?void 0:f[e])==null?void 0:y[c])||l,w=p.useMemo(()=>x,Object.values(x));return i.jsx(g.Provider,{value:w,children:m})};u.displayName=a+"Provider";function d(h,f){var g;const m=((g=f==null?void 0:f[e])==null?void 0:g[c])||l,x=p.useContext(m);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[u,d]}const s=()=>{const a=r.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,g3(s,...t)]}function g3(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const h=c(a)[`__scope${u}`];return{...l,...h}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function X(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}var Ct=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},v3=Fv[" useInsertionEffect ".trim().toString()]||Ct;function Ys({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,a,o]=y3({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:s;{const d=p.useRef(e!==void 0);p.useEffect(()=>{const h=d.current;h!==l&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=p.useCallback(d=>{var h;if(l){const f=x3(d)?d(e):d;f!==e&&((h=o.current)==null||h.call(o,f))}else a(d)},[l,e,a,o]);return[c,u]}function y3({defaultProp:e,onChange:t}){const[r,n]=p.useState(e),s=p.useRef(r),a=p.useRef(t);return v3(()=>{a.current=t},[t]),p.useEffect(()=>{var o;s.current!==r&&((o=a.current)==null||o.call(a,r),s.current=r)},[r,s]),[r,n,a]}function x3(e){return typeof e=="function"}function nx(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function sx(e){const[t,r]=p.useState(void 0);return Ct(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}function w3(e,t){return p.useReducer((r,n)=>t[r][n]??r,e)}var vr=e=>{const{present:t,children:r}=e,n=b3(t),s=typeof r=="function"?r({present:n.isPresent}):p.Children.only(r),a=Re(n.ref,j3(s));return typeof r=="function"||n.isPresent?p.cloneElement(s,{ref:a}):null};vr.displayName="Presence";function b3(e){const[t,r]=p.useState(),n=p.useRef(null),s=p.useRef(e),a=p.useRef("none"),o=e?"mounted":"unmounted",[l,c]=w3(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=kd(n.current);a.current=l==="mounted"?u:"none"},[l]),Ct(()=>{const u=n.current,d=s.current;if(d!==e){const f=a.current,m=kd(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&f!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Ct(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=m=>{const g=kd(n.current).includes(CSS.escape(m.animationName));if(m.target===t&&g&&(c("ANIMATION_END"),!s.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},f=m=>{m.target===t&&(a.current=kd(n.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function kd(e){return(e==null?void 0:e.animationName)||"none"}function j3(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Lf="Checkbox",[_3]=gr(Lf),[S3,ax]=_3(Lf);function N3(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:s,disabled:a,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:h}=e,[f,m]=Ys({prop:r,defaultProp:s??!1,onChange:c,caller:Lf}),[x,g]=p.useState(null),[w,y]=p.useState(null),v=p.useRef(!1),b=x?!!o||!!x.closest("form"):!0,j={checked:f,disabled:a,setChecked:m,control:x,setControl:g,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:v,required:u,defaultChecked:Ka(s)?!1:s,isFormControl:b,bubbleInput:w,setBubbleInput:y};return i.jsx(S3,{scope:t,...j,children:C3(h)?h(j):n})}var BC="CheckboxTrigger",VC=p.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},s)=>{const{control:a,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:h,hasConsumerStoppedPropagationRef:f,isFormControl:m,bubbleInput:x}=ax(BC,e),g=Re(s,d),w=p.useRef(c);return p.useEffect(()=>{const y=a==null?void 0:a.form;if(y){const v=()=>h(w.current);return y.addEventListener("reset",v),()=>y.removeEventListener("reset",v)}},[a,h]),i.jsx(de.button,{type:"button",role:"checkbox","aria-checked":Ka(c)?"mixed":c,"aria-required":u,"data-state":GC(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:g,onKeyDown:X(t,y=>{y.key==="Enter"&&y.preventDefault()}),onClick:X(r,y=>{h(v=>Ka(v)?!0:!v),x&&m&&(f.current=y.isPropagationStopped(),f.current||y.stopPropagation())})})});VC.displayName=BC;var ix=p.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:a,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...h}=e;return i.jsx(N3,{__scopeCheckbox:r,checked:s,defaultChecked:a,disabled:l,required:o,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:f})=>i.jsxs(i.Fragment,{children:[i.jsx(VC,{...h,ref:t,__scopeCheckbox:r}),f&&i.jsx(KC,{__scopeCheckbox:r})]})})});ix.displayName=Lf;var qC="CheckboxIndicator",WC=p.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...s}=e,a=ax(qC,r);return i.jsx(vr,{present:n||Ka(a.checked)||a.checked===!0,children:i.jsx(de.span,{"data-state":GC(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});WC.displayName=qC;var HC="CheckboxBubbleInput",KC=p.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:s,checked:a,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:h,bubbleInput:f,setBubbleInput:m}=ax(HC,e),x=Re(r,m),g=nx(a),w=sx(n);p.useEffect(()=>{const v=f;if(!v)return;const b=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(b,"checked").set,S=!s.current;if(g!==a&&_){const N=new Event("click",{bubbles:S});v.indeterminate=Ka(a),_.call(v,Ka(a)?!1:a),v.dispatchEvent(N)}},[f,g,a,s]);const y=p.useRef(Ka(a)?!1:a);return i.jsx(de.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??y.current,required:l,disabled:c,name:u,value:d,form:h,...t,tabIndex:-1,ref:x,style:{...t.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});KC.displayName=HC;function C3(e){return typeof e=="function"}function Ka(e){return e==="indeterminate"}function GC(e){return Ka(e)?"indeterminate":e?"checked":"unchecked"}/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E3=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),QC=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var k3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P3=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:a,iconNode:o,...l},c)=>p.createElement("svg",{ref:c,...k3,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:QC("lucide",s),...l},[...o.map(([u,d])=>p.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=(e,t)=>{const r=p.forwardRef(({className:n,...s},a)=>p.createElement(P3,{ref:a,iconNode:t,className:QC(`lucide-${E3(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R3=fe("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dn=fe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T3=fe("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=fe("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xs=fe("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn=fe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=fe("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=fe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iu=fe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=fe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=fe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=fe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gh=fe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=fe("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eE=fe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=fe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=fe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $f=fe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ic=fe("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=fe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aj=fe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D3=fe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L3=fe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=fe("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=fe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=fe("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tE=fe("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=fe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z3=fe("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=fe("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rE=fe("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=fe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nl=fe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nE=fe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ff=fe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=fe("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mu=fe("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cu=fe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=fe("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=fe("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yi=fe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W3=fe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pd=fe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=fe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=fe("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uu=fe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=fe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=fe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uf=fe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=fe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=fe("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=fe("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=fe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=fe("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const du=fe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ir=fe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=fe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),cx=p.forwardRef(({className:e,...t},r)=>i.jsx(ix,{ref:r,className:te("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:i.jsx(WC,{className:te("flex items-center justify-center text-current"),children:i.jsx(Iu,{className:"h-4 w-4"})})}));cx.displayName=ix.displayName;function Q3(){const[e,t]=p.useState(""),[r,n]=p.useState(""),[s,a]=p.useState(""),[o,l]=p.useState(!1),[c,u]=p.useState(""),{action:d,isLoading:h,error:f,isSuccess:m}=kF(),x=async w=>{w.preventDefault(),u("");const y=_F.safeParse({email:r,name:e,surname:s});if(!y.success){u(y.error.errors[0].message);return}d({email:r,name:e,surname:s})};if(m)return i.jsxs("div",{className:"text-center space-y-4 p-6 bg-green-50 border border-green-200 rounded-lg",children:[i.jsx("div",{className:"flex justify-center",children:i.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:i.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-green-900 mb-1",children:"Solicitud Enviada!"}),i.jsx("p",{className:"text-sm text-green-800",children:"Tu solicitud de registro ha sido enviada exitosamente. El administrador la revisar en las prximas 24-48 horas."})]}),i.jsx("div",{className:"bg-green-100 border border-green-300 rounded-md p-3",children:i.jsxs("p",{className:"text-xs text-green-900",children:[i.jsx("strong",{children:"Qu sigue?"}),i.jsx("br",{}),"El equipo de administracin revisar tu solicitud en las prximas 24-48 horas. Recibirs un correo electrnico cuando tu cuenta sea aprobada."]})}),i.jsx(U,{onClick:()=>window.location.href="/",variant:"outline",className:"w-full",children:"Volver al Inicio"})]});const g=(f==null?void 0:f.message)||c;return i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:i.jsx("p",{className:"text-xs text-blue-900",children:"El registro requiere aprobacin del administrador. Recibirs un email con un enlace para completar tu perfil una vez tu solicitud sea aprobada."})}),i.jsxs("form",{onSubmit:x,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(je,{htmlFor:"name-input",children:["Nombre ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("div",{className:"relative",children:[i.jsx(du,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),i.jsx(be,{id:"name-input",type:"text",placeholder:"Nombre",value:e,onChange:w=>t(w.target.value),className:"pl-10",required:!0,disabled:h})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"surname-input",children:"Apellidos"}),i.jsxs("div",{className:"relative",children:[i.jsx(du,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),i.jsx(be,{id:"surname-input",type:"text",placeholder:"Apellido1 Apellido2",value:s,onChange:w=>a(w.target.value),className:"pl-10",disabled:h})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(je,{htmlFor:"email-input",children:["Email ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("div",{className:"relative",children:[i.jsx(Ff,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),i.jsx(be,{id:"email-input",type:"email",placeholder:"correo@mail.com",value:r,onChange:w=>n(w.target.value),className:"pl-10",required:!0,disabled:h})]})]}),g&&i.jsx("div",{className:"text-sm text-destructive",children:g}),i.jsxs("div",{className:"flex items-start space-x-2",children:[i.jsx(cx,{id:"accept-terms",checked:o,onCheckedChange:w=>l(w===!0),disabled:h}),i.jsxs("label",{htmlFor:"accept-terms",className:"text-sm text-muted-foreground leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:["Acepto los"," ",i.jsx(Pn,{to:"/privacidad",className:"text-primary hover:underline",target:"_blank",children:"trminos de servicio y poltica de privacidad"})]})]}),i.jsx(U,{type:"submit",className:"w-full h-11",disabled:h||!o,children:h?i.jsxs(i.Fragment,{children:[i.jsx(St,{className:"mr-2 h-4 w-4 animate-spin"}),"Enviando solicitud..."]}):"Enviar Solicitud"})]})]})}var J3=Fv[" useId ".trim().toString()]||(()=>{}),Y3=0;function ps(e){const[t,r]=p.useState(J3());return Ct(()=>{r(n=>n??String(Y3++))},[e]),t?`radix-${t}`:""}function bt(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function X3(e,t=globalThis==null?void 0:globalThis.document){const r=bt(e);p.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var Z3="DismissableLayer",mv="dismissableLayer.update",e5="dismissableLayer.pointerDownOutside",t5="dismissableLayer.focusOutside",ij,aE=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Du=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=e,u=p.useContext(aE),[d,h]=p.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=p.useState({}),x=Re(t,N=>h(N)),g=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(w),v=d?g.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,j=v>=y,_=n5(N=>{const E=N.target,P=[...u.branches].some(T=>T.contains(E));!j||P||(s==null||s(N),o==null||o(N),N.defaultPrevented||l==null||l())},f),S=s5(N=>{const E=N.target;[...u.branches].some(T=>T.contains(E))||(a==null||a(N),o==null||o(N),N.defaultPrevented||l==null||l())},f);return X3(N=>{v===u.layers.size-1&&(n==null||n(N),!N.defaultPrevented&&l&&(N.preventDefault(),l()))},f),p.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(ij=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),oj(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=ij)}},[d,f,r,u]),p.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),oj())},[d,u]),p.useEffect(()=>{const N=()=>m({});return document.addEventListener(mv,N),()=>document.removeEventListener(mv,N)},[]),i.jsx(de.div,{...c,ref:x,style:{pointerEvents:b?j?"auto":"none":void 0,...e.style},onFocusCapture:X(e.onFocusCapture,S.onFocusCapture),onBlurCapture:X(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:X(e.onPointerDownCapture,_.onPointerDownCapture)})});Du.displayName=Z3;var r5="DismissableLayerBranch",iE=p.forwardRef((e,t)=>{const r=p.useContext(aE),n=p.useRef(null),s=Re(t,n);return p.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),i.jsx(de.div,{...e,ref:s})});iE.displayName=r5;function n5(e,t=globalThis==null?void 0:globalThis.document){const r=bt(e),n=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){oE(e5,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function s5(e,t=globalThis==null?void 0:globalThis.document){const r=bt(e),n=p.useRef(!1);return p.useEffect(()=>{const s=a=>{a.target&&!n.current&&oE(t5,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function oj(){const e=new CustomEvent(mv);document.dispatchEvent(e)}function oE(e,t,r,{discrete:n}){const s=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?rx(s,a):s.dispatchEvent(a)}var a5=Du,i5=iE,hp="focusScope.autoFocusOnMount",fp="focusScope.autoFocusOnUnmount",lj={bubbles:!1,cancelable:!0},o5="FocusScope",zf=p.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...o}=e,[l,c]=p.useState(null),u=bt(s),d=bt(a),h=p.useRef(null),f=Re(t,g=>c(g)),m=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(n){let g=function(b){if(m.paused||!l)return;const j=b.target;l.contains(j)?h.current=j:va(h.current,{select:!0})},w=function(b){if(m.paused||!l)return;const j=b.relatedTarget;j!==null&&(l.contains(j)||va(h.current,{select:!0}))},y=function(b){if(document.activeElement===document.body)for(const _ of b)_.removedNodes.length>0&&va(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",w);const v=new MutationObserver(y);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",w),v.disconnect()}}},[n,l,m.paused]),p.useEffect(()=>{if(l){uj.add(m);const g=document.activeElement;if(!l.contains(g)){const y=new CustomEvent(hp,lj);l.addEventListener(hp,u),l.dispatchEvent(y),y.defaultPrevented||(l5(f5(lE(l)),{select:!0}),document.activeElement===g&&va(l))}return()=>{l.removeEventListener(hp,u),setTimeout(()=>{const y=new CustomEvent(fp,lj);l.addEventListener(fp,d),l.dispatchEvent(y),y.defaultPrevented||va(g??document.body,{select:!0}),l.removeEventListener(fp,d),uj.remove(m)},0)}}},[l,u,d,m]);const x=p.useCallback(g=>{if(!r&&!n||m.paused)return;const w=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,y=document.activeElement;if(w&&y){const v=g.currentTarget,[b,j]=c5(v);b&&j?!g.shiftKey&&y===j?(g.preventDefault(),r&&va(b,{select:!0})):g.shiftKey&&y===b&&(g.preventDefault(),r&&va(j,{select:!0})):y===v&&g.preventDefault()}},[r,n,m.paused]);return i.jsx(de.div,{tabIndex:-1,...o,ref:f,onKeyDown:x})});zf.displayName=o5;function l5(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(va(n,{select:t}),document.activeElement!==r)return}function c5(e){const t=lE(e),r=cj(t,e),n=cj(t.reverse(),e);return[r,n]}function lE(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function cj(e,t){for(const r of e)if(!u5(r,{upTo:t}))return r}function u5(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function d5(e){return e instanceof HTMLInputElement&&"select"in e}function va(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&d5(e)&&t&&e.select()}}var uj=h5();function h5(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=dj(e,t),e.unshift(t)},remove(t){var r;e=dj(e,t),(r=e[0])==null||r.resume()}}}function dj(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function f5(e){return e.filter(t=>t.tagName!=="A")}var m5="Portal",Lu=p.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,a]=p.useState(!1);Ct(()=>a(!0),[]);const o=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?IN.createPortal(i.jsx(de.div,{...n,ref:t}),o):null});Lu.displayName=m5;var mp=0;function ux(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??hj()),document.body.insertAdjacentElement("beforeend",e[1]??hj()),mp++,()=>{mp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),mp--}},[])}function hj(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var rh="right-scroll-bar-position",nh="width-before-scroll-bar",p5="with-scroll-bars-hidden",g5="--removed-body-scroll-bar-size";function pp(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function v5(e,t){var r=p.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var y5=typeof window<"u"?p.useLayoutEffect:p.useEffect,fj=new WeakMap;function x5(e,t){var r=v5(null,function(n){return e.forEach(function(s){return pp(s,n)})});return y5(function(){var n=fj.get(r);if(n){var s=new Set(n),a=new Set(e),o=r.current;s.forEach(function(l){a.has(l)||pp(l,null)}),a.forEach(function(l){s.has(l)||pp(l,o)})}fj.set(r,e)},[e]),r}function w5(e){return e}function b5(e,t){t===void 0&&(t=w5);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var o=t(a,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(n=!0;r.length;){var o=r;r=[],o.forEach(a)}r={push:function(l){return a(l)},filter:function(){return r}}},assignMedium:function(a){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(a),o=r}var c=function(){var d=o;o=[],d.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return s}function j5(e){e===void 0&&(e={});var t=b5(null);return t.options=tn({async:!0,ssr:!1},e),t}var cE=function(e){var t=e.sideCar,r=ci(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return p.createElement(n,tn({},r))};cE.isSideCarExport=!0;function _5(e,t){return e.useMedium(t),cE}var uE=j5(),gp=function(){},Bf=p.forwardRef(function(e,t){var r=p.useRef(null),n=p.useState({onScrollCapture:gp,onWheelCapture:gp,onTouchMoveCapture:gp}),s=n[0],a=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,f=e.sideCar,m=e.noRelative,x=e.noIsolation,g=e.inert,w=e.allowPinchZoom,y=e.as,v=y===void 0?"div":y,b=e.gapMode,j=ci(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=f,S=x5([r,t]),N=tn(tn({},j),s);return p.createElement(p.Fragment,null,d&&p.createElement(_,{sideCar:uE,removeScrollBar:u,shards:h,noRelative:m,noIsolation:x,inert:g,setCallbacks:a,allowPinchZoom:!!w,lockRef:r,gapMode:b}),o?p.cloneElement(p.Children.only(l),tn(tn({},N),{ref:S})):p.createElement(v,tn({},N,{className:c,ref:S}),l))});Bf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Bf.classNames={fullWidth:nh,zeroRight:rh};var S5=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function N5(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=S5();return t&&e.setAttribute("nonce",t),e}function C5(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function E5(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var k5=function(){var e=0,t=null;return{add:function(r){e==0&&(t=N5())&&(C5(t,r),E5(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},P5=function(){var e=k5();return function(t,r){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},dE=function(){var e=P5(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},R5={left:0,top:0,right:0,gap:0},vp=function(e){return parseInt(e||"",10)||0},T5=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[vp(r),vp(n),vp(s)]},A5=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return R5;var t=T5(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},O5=dE(),Go="data-scroll-locked",I5=function(e,t,r,n){var s=e.left,a=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(p5,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Go,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(rh,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(nh,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(rh," .").concat(rh,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(nh," .").concat(nh,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Go,`] {
    `).concat(g5,": ").concat(l,`px;
  }
`)},mj=function(){var e=parseInt(document.body.getAttribute(Go)||"0",10);return isFinite(e)?e:0},M5=function(){p.useEffect(function(){return document.body.setAttribute(Go,(mj()+1).toString()),function(){var e=mj()-1;e<=0?document.body.removeAttribute(Go):document.body.setAttribute(Go,e.toString())}},[])},D5=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;M5();var a=p.useMemo(function(){return A5(s)},[s]);return p.createElement(O5,{styles:I5(a,!t,s,r?"":"!important")})},pv=!1;if(typeof window<"u")try{var Rd=Object.defineProperty({},"passive",{get:function(){return pv=!0,!0}});window.addEventListener("test",Rd,Rd),window.removeEventListener("test",Rd,Rd)}catch{pv=!1}var xo=pv?{passive:!1}:!1,L5=function(e){return e.tagName==="TEXTAREA"},hE=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!L5(e)&&r[t]==="visible")},$5=function(e){return hE(e,"overflowY")},F5=function(e){return hE(e,"overflowX")},pj=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=fE(e,n);if(s){var a=mE(e,n),o=a[1],l=a[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},U5=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},z5=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},fE=function(e,t){return e==="v"?$5(t):F5(t)},mE=function(e,t){return e==="v"?U5(t):z5(t)},B5=function(e,t){return e==="h"&&t==="rtl"?-1:1},V5=function(e,t,r,n,s){var a=B5(e,window.getComputedStyle(t).direction),o=a*n,l=r.target,c=t.contains(l),u=!1,d=o>0,h=0,f=0;do{if(!l)break;var m=mE(e,l),x=m[0],g=m[1],w=m[2],y=g-w-a*x;(x||y)&&fE(e,l)&&(h+=y,f+=x);var v=l.parentNode;l=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(h)<1||!d&&Math.abs(f)<1)&&(u=!0),u},Td=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},gj=function(e){return[e.deltaX,e.deltaY]},vj=function(e){return e&&"current"in e?e.current:e},q5=function(e,t){return e[0]===t[0]&&e[1]===t[1]},W5=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},H5=0,wo=[];function K5(e){var t=p.useRef([]),r=p.useRef([0,0]),n=p.useRef(),s=p.useState(H5++)[0],a=p.useState(dE)[0],o=p.useRef(e);p.useEffect(function(){o.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var g=By([e.lockRef.current],(e.shards||[]).map(vj),!0).filter(Boolean);return g.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=p.useCallback(function(g,w){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var y=Td(g),v=r.current,b="deltaX"in g?g.deltaX:v[0]-y[0],j="deltaY"in g?g.deltaY:v[1]-y[1],_,S=g.target,N=Math.abs(b)>Math.abs(j)?"h":"v";if("touches"in g&&N==="h"&&S.type==="range")return!1;var E=pj(N,S);if(!E)return!0;if(E?_=N:(_=N==="v"?"h":"v",E=pj(N,S)),!E)return!1;if(!n.current&&"changedTouches"in g&&(b||j)&&(n.current=_),!_)return!0;var P=n.current||_;return V5(P,w,g,P==="h"?b:j)},[]),c=p.useCallback(function(g){var w=g;if(!(!wo.length||wo[wo.length-1]!==a)){var y="deltaY"in w?gj(w):Td(w),v=t.current.filter(function(_){return _.name===w.type&&(_.target===w.target||w.target===_.shadowParent)&&q5(_.delta,y)})[0];if(v&&v.should){w.cancelable&&w.preventDefault();return}if(!v){var b=(o.current.shards||[]).map(vj).filter(Boolean).filter(function(_){return _.contains(w.target)}),j=b.length>0?l(w,b[0]):!o.current.noIsolation;j&&w.cancelable&&w.preventDefault()}}},[]),u=p.useCallback(function(g,w,y,v){var b={name:g,delta:w,target:y,should:v,shadowParent:G5(y)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(j){return j!==b})},1)},[]),d=p.useCallback(function(g){r.current=Td(g),n.current=void 0},[]),h=p.useCallback(function(g){u(g.type,gj(g),g.target,l(g,e.lockRef.current))},[]),f=p.useCallback(function(g){u(g.type,Td(g),g.target,l(g,e.lockRef.current))},[]);p.useEffect(function(){return wo.push(a),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,xo),document.addEventListener("touchmove",c,xo),document.addEventListener("touchstart",d,xo),function(){wo=wo.filter(function(g){return g!==a}),document.removeEventListener("wheel",c,xo),document.removeEventListener("touchmove",c,xo),document.removeEventListener("touchstart",d,xo)}},[]);var m=e.removeScrollBar,x=e.inert;return p.createElement(p.Fragment,null,x?p.createElement(a,{styles:W5(s)}):null,m?p.createElement(D5,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function G5(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Q5=_5(uE,K5);var Vf=p.forwardRef(function(e,t){return p.createElement(Bf,tn({},e,{ref:t,sideCar:Q5}))});Vf.classNames=Bf.classNames;var J5=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},bo=new WeakMap,Ad=new WeakMap,Od={},yp=0,pE=function(e){return e&&(e.host||pE(e.parentNode))},Y5=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=pE(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},X5=function(e,t,r,n){var s=Y5(t,Array.isArray(e)?e:[e]);Od[r]||(Od[r]=new WeakMap);var a=Od[r],o=[],l=new Set,c=new Set(s),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};s.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(f){if(l.has(f))d(f);else try{var m=f.getAttribute(n),x=m!==null&&m!=="false",g=(bo.get(f)||0)+1,w=(a.get(f)||0)+1;bo.set(f,g),a.set(f,w),o.push(f),g===1&&x&&Ad.set(f,!0),w===1&&f.setAttribute(r,"true"),x||f.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",f,y)}})};return d(t),l.clear(),yp++,function(){o.forEach(function(h){var f=bo.get(h)-1,m=a.get(h)-1;bo.set(h,f),a.set(h,m),f||(Ad.has(h)||h.removeAttribute(n),Ad.delete(h)),m||h.removeAttribute(r)}),yp--,yp||(bo=new WeakMap,bo=new WeakMap,Ad=new WeakMap,Od={})}},dx=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=J5(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),X5(n,s,r,"aria-hidden")):function(){return null}},qf="Dialog",[gE,vE]=gr(qf),[Z5,Wn]=gE(qf),yE=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:a,modal:o=!0}=e,l=p.useRef(null),c=p.useRef(null),[u,d]=Ys({prop:n,defaultProp:s??!1,onChange:a,caller:qf});return i.jsx(Z5,{scope:t,triggerRef:l,contentRef:c,contentId:ps(),titleId:ps(),descriptionId:ps(),open:u,onOpenChange:d,onOpenToggle:p.useCallback(()=>d(h=>!h),[d]),modal:o,children:r})};yE.displayName=qf;var xE="DialogTrigger",wE=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Wn(xE,r),a=Re(t,s.triggerRef);return i.jsx(de.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":mx(s.open),...n,ref:a,onClick:X(e.onClick,s.onOpenToggle)})});wE.displayName=xE;var hx="DialogPortal",[eU,bE]=gE(hx,{forceMount:void 0}),jE=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,a=Wn(hx,t);return i.jsx(eU,{scope:t,forceMount:r,children:p.Children.map(n,o=>i.jsx(vr,{present:r||a.open,children:i.jsx(Lu,{asChild:!0,container:s,children:o})}))})};jE.displayName=hx;var Qh="DialogOverlay",_E=p.forwardRef((e,t)=>{const r=bE(Qh,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=Wn(Qh,e.__scopeDialog);return a.modal?i.jsx(vr,{present:n||a.open,children:i.jsx(rU,{...s,ref:t})}):null});_E.displayName=Qh;var tU=Ji("DialogOverlay.RemoveScroll"),rU=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Wn(Qh,r);return i.jsx(Vf,{as:tU,allowPinchZoom:!0,shards:[s.contentRef],children:i.jsx(de.div,{"data-state":mx(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Xi="DialogContent",SE=p.forwardRef((e,t)=>{const r=bE(Xi,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=Wn(Xi,e.__scopeDialog);return i.jsx(vr,{present:n||a.open,children:a.modal?i.jsx(nU,{...s,ref:t}):i.jsx(sU,{...s,ref:t})})});SE.displayName=Xi;var nU=p.forwardRef((e,t)=>{const r=Wn(Xi,e.__scopeDialog),n=p.useRef(null),s=Re(t,r.contentRef,n);return p.useEffect(()=>{const a=n.current;if(a)return dx(a)},[]),i.jsx(NE,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:X(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:X(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:X(e.onFocusOutside,a=>a.preventDefault())})}),sU=p.forwardRef((e,t)=>{const r=Wn(Xi,e.__scopeDialog),n=p.useRef(!1),s=p.useRef(!1);return i.jsx(NE,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),NE=p.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,...o}=e,l=Wn(Xi,r),c=p.useRef(null),u=Re(t,c);return ux(),i.jsxs(i.Fragment,{children:[i.jsx(zf,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:i.jsx(Du,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":mx(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(iU,{titleId:l.titleId}),i.jsx(lU,{contentRef:c,descriptionId:l.descriptionId})]})]})}),fx="DialogTitle",CE=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Wn(fx,r);return i.jsx(de.h2,{id:s.titleId,...n,ref:t})});CE.displayName=fx;var EE="DialogDescription",kE=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Wn(EE,r);return i.jsx(de.p,{id:s.descriptionId,...n,ref:t})});kE.displayName=EE;var PE="DialogClose",RE=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Wn(PE,r);return i.jsx(de.button,{type:"button",...n,ref:t,onClick:X(e.onClick,()=>s.onOpenChange(!1))})});RE.displayName=PE;function mx(e){return e?"open":"closed"}var TE="DialogTitleWarning",[aU,AE]=p3(TE,{contentName:Xi,titleName:fx,docsSlug:"dialog"}),iU=({titleId:e})=>{const t=AE(TE),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},oU="DialogDescriptionWarning",lU=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${AE(oU).contentName}}.`;return p.useEffect(()=>{var a;const s=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},OE=yE,IE=wE,ME=jE,px=_E,gx=SE,vx=CE,yx=kE,xx=RE;const ws=OE,DE=IE,cU=ME,LE=p.forwardRef(({className:e,...t},r)=>i.jsx(px,{ref:r,className:te("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));LE.displayName=px.displayName;const Ln=p.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(cU,{children:[i.jsx(LE,{}),i.jsxs(gx,{ref:n,className:te("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,i.jsxs(xx,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(Mr,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ln.displayName=gx.displayName;const $n=({className:e,...t})=>i.jsx("div",{className:te("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});$n.displayName="DialogHeader";const Jh=({className:e,...t})=>i.jsx("div",{className:te("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Jh.displayName="DialogFooter";const Fn=p.forwardRef(({className:e,...t},r)=>i.jsx(vx,{ref:r,className:te("text-lg font-semibold leading-none tracking-tight",e),...t}));Fn.displayName=vx.displayName;const Un=p.forwardRef(({className:e,...t},r)=>i.jsx(yx,{ref:r,className:te("text-sm text-muted-foreground",e),...t}));Un.displayName=yx.displayName;function uU(){const e=at({mutationFn:t=>lo.forgotPassword(t)});return{action:e.mutate,isLoading:e.isPending,error:e.error,isSuccess:e.isSuccess,data:e.data}}function dU({open:e,onOpenChange:t}){const{action:r,isLoading:n,error:s,isSuccess:a}=uU(),[o,l]=p.useState(""),[c,u]=p.useState("");p.useEffect(()=>{e||(l(""),u(""))},[e]),p.useEffect(()=>{a&&setTimeout(()=>{t(!1)},3e3)},[a,t]);const d=h=>{h.preventDefault(),u("");try{const f=mF.parse({email:o});r(f)}catch(f){f instanceof ln&&u(f.errors[0].message)}};return i.jsx(ws,{open:e,onOpenChange:t,children:i.jsxs(Ln,{className:"sm:max-w-md",children:[i.jsxs($n,{children:[i.jsxs(Fn,{className:"flex items-center gap-2",children:[i.jsx(Ff,{className:"h-5 w-5 text-primary"}),"Recuperar Contrasea"]}),i.jsx(Un,{children:"Introduce tu email y te enviaremos un enlace para restablecer tu contrasea"})]}),i.jsxs("form",{onSubmit:d,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"email",children:"Email"}),i.jsx(be,{id:"email",type:"email",placeholder:"tu@email.com",value:o,onChange:h=>{l(h.target.value),u("")},disabled:n||a,className:c?"border-red-500":""}),c&&i.jsx("p",{className:"text-sm text-red-600",children:c})]}),s&&i.jsx("div",{className:"text-sm text-red-600 bg-red-50 border border-red-200 rounded-xl p-4",children:s instanceof Error?s.message:"Error al enviar el email"}),a&&i.jsxs("div",{className:"text-sm text-green-600 bg-green-50 border border-green-200 rounded-xl p-4",children:[i.jsx("p",{className:"font-medium mb-1",children:"Email enviado!"}),i.jsx("p",{children:"Revisa tu bandeja de entrada y sigue las instrucciones para restablecer tu contrasea."})]}),i.jsxs("div",{className:"flex gap-3 pt-4",children:[i.jsx(U,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:n,className:"flex-1",children:"Cancelar"}),i.jsx(U,{type:"submit",disabled:n||a,className:"flex-1",children:n?"Enviando...":"Enviar Email"})]})]})]})})}const ge=p.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:te("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));ge.displayName="Card";const mt=p.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:te("flex flex-col space-y-1.5 p-6",e),...t}));mt.displayName="CardHeader";const ft=p.forwardRef(({className:e,...t},r)=>i.jsx("h3",{ref:r,className:te("text-2xl font-semibold leading-none tracking-tight",e),...t}));ft.displayName="CardTitle";const ur=p.forwardRef(({className:e,...t},r)=>i.jsx("p",{ref:r,className:te("text-sm text-muted-foreground",e),...t}));ur.displayName="CardDescription";const pe=p.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:te("p-6 pt-0",e),...t}));pe.displayName="CardContent";const hU=p.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:te("flex items-center p-6 pt-0",e),...t}));hU.displayName="CardFooter";function Wf(e){const t=e+"CollectionProvider",[r,n]=gr(t),[s,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:w,children:y}=g,v=z.useRef(null),b=z.useRef(new Map).current;return i.jsx(s,{scope:w,itemMap:b,collectionRef:v,children:y})};o.displayName=t;const l=e+"CollectionSlot",c=Ji(l),u=z.forwardRef((g,w)=>{const{scope:y,children:v}=g,b=a(l,y),j=Re(w,b.collectionRef);return i.jsx(c,{ref:j,children:v})});u.displayName=l;const d=e+"CollectionItemSlot",h="data-radix-collection-item",f=Ji(d),m=z.forwardRef((g,w)=>{const{scope:y,children:v,...b}=g,j=z.useRef(null),_=Re(w,j),S=a(d,y);return z.useEffect(()=>(S.itemMap.set(j,{ref:j,...b}),()=>void S.itemMap.delete(j))),i.jsx(f,{[h]:"",ref:_,children:v})});m.displayName=d;function x(g){const w=a(e+"CollectionConsumer",g);return z.useCallback(()=>{const v=w.collectionRef.current;if(!v)return[];const b=Array.from(v.querySelectorAll(`[${h}]`));return Array.from(w.itemMap.values()).sort((S,N)=>b.indexOf(S.ref.current)-b.indexOf(N.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},x,n]}var fU=p.createContext(void 0);function $u(e){const t=p.useContext(fU);return e||t||"ltr"}var xp="rovingFocusGroup.onEntryFocus",mU={bubbles:!1,cancelable:!0},Fu="RovingFocusGroup",[gv,$E,pU]=Wf(Fu),[gU,Hf]=gr(Fu,[pU]),[vU,yU]=gU(Fu),FE=p.forwardRef((e,t)=>i.jsx(gv.Provider,{scope:e.__scopeRovingFocusGroup,children:i.jsx(gv.Slot,{scope:e.__scopeRovingFocusGroup,children:i.jsx(xU,{...e,ref:t})})}));FE.displayName=Fu;var xU=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=e,f=p.useRef(null),m=Re(t,f),x=$u(a),[g,w]=Ys({prop:o,defaultProp:l??null,onChange:c,caller:Fu}),[y,v]=p.useState(!1),b=bt(u),j=$E(r),_=p.useRef(!1),[S,N]=p.useState(0);return p.useEffect(()=>{const E=f.current;if(E)return E.addEventListener(xp,b),()=>E.removeEventListener(xp,b)},[b]),i.jsx(vU,{scope:r,orientation:n,dir:x,loop:s,currentTabStopId:g,onItemFocus:p.useCallback(E=>w(E),[w]),onItemShiftTab:p.useCallback(()=>v(!0),[]),onFocusableItemAdd:p.useCallback(()=>N(E=>E+1),[]),onFocusableItemRemove:p.useCallback(()=>N(E=>E-1),[]),children:i.jsx(de.div,{tabIndex:y||S===0?-1:0,"data-orientation":n,...h,ref:m,style:{outline:"none",...e.style},onMouseDown:X(e.onMouseDown,()=>{_.current=!0}),onFocus:X(e.onFocus,E=>{const P=!_.current;if(E.target===E.currentTarget&&P&&!y){const T=new CustomEvent(xp,mU);if(E.currentTarget.dispatchEvent(T),!T.defaultPrevented){const B=j().filter(V=>V.focusable),D=B.find(V=>V.active),q=B.find(V=>V.id===g),M=[D,q,...B].filter(Boolean).map(V=>V.ref.current);BE(M,d)}}_.current=!1}),onBlur:X(e.onBlur,()=>v(!1))})})}),UE="RovingFocusGroupItem",zE=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:a,children:o,...l}=e,c=ps(),u=a||c,d=yU(UE,r),h=d.currentTabStopId===u,f=$E(r),{onFocusableItemAdd:m,onFocusableItemRemove:x,currentTabStopId:g}=d;return p.useEffect(()=>{if(n)return m(),()=>x()},[n,m,x]),i.jsx(gv.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:i.jsx(de.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:X(e.onMouseDown,w=>{n?d.onItemFocus(u):w.preventDefault()}),onFocus:X(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:X(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){d.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const y=jU(w,d.orientation,d.dir);if(y!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let b=f().filter(j=>j.focusable).map(j=>j.ref.current);if(y==="last")b.reverse();else if(y==="prev"||y==="next"){y==="prev"&&b.reverse();const j=b.indexOf(w.currentTarget);b=d.loop?_U(b,j+1):b.slice(j+1)}setTimeout(()=>BE(b))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:g!=null}):o})})});zE.displayName=UE;var wU={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function bU(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function jU(e,t,r){const n=bU(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return wU[n]}function BE(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function _U(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var VE=FE,qE=zE,Kf="Tabs",[SU]=gr(Kf,[Hf]),WE=Hf(),[NU,wx]=SU(Kf),HE=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=$u(l),[h,f]=Ys({prop:n,onChange:s,defaultProp:a??"",caller:Kf});return i.jsx(NU,{scope:r,baseId:ps(),value:h,onValueChange:f,orientation:o,dir:d,activationMode:c,children:i.jsx(de.div,{dir:d,"data-orientation":o,...u,ref:t})})});HE.displayName=Kf;var KE="TabsList",GE=p.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,a=wx(KE,r),o=WE(r);return i.jsx(VE,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:n,children:i.jsx(de.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:t})})});GE.displayName=KE;var QE="TabsTrigger",JE=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...a}=e,o=wx(QE,r),l=WE(r),c=ZE(o.baseId,n),u=ek(o.baseId,n),d=n===o.value;return i.jsx(qE,{asChild:!0,...l,focusable:!s,active:d,children:i.jsx(de.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...a,ref:t,onMouseDown:X(e.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?o.onValueChange(n):h.preventDefault()}),onKeyDown:X(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(n)}),onFocus:X(e.onFocus,()=>{const h=o.activationMode!=="manual";!d&&!s&&h&&o.onValueChange(n)})})})});JE.displayName=QE;var YE="TabsContent",XE=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:a,...o}=e,l=wx(YE,r),c=ZE(l.baseId,n),u=ek(l.baseId,n),d=n===l.value,h=p.useRef(d);return p.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),i.jsx(vr,{present:s||d,children:({present:f})=>i.jsx(de.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:f&&a})})});XE.displayName=YE;function ZE(e,t){return`${e}-trigger-${t}`}function ek(e,t){return`${e}-content-${t}`}var CU=HE,tk=GE,rk=JE,nk=XE;const Uu=CU,zl=p.forwardRef(({className:e,...t},r)=>i.jsx(tk,{ref:r,className:te("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));zl.displayName=tk.displayName;const Hr=p.forwardRef(({className:e,...t},r)=>i.jsx(rk,{ref:r,className:te("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Hr.displayName=rk.displayName;const In=p.forwardRef(({className:e,...t},r)=>i.jsx(nk,{ref:r,className:te("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));In.displayName=nk.displayName;const EU=()=>{const e=vt(),{signIn:t,isSigningIn:r,signInError:n,isSignInSuccess:s,signUp:a,isSigningUp:o,signUpError:l,isSignUpSuccess:c,isLoading:u,isAuthenticated:d}=jt(),[h,f]=p.useState({email:"",password:""}),[m,x]=p.useState(!1);p.useEffect(()=>{(s||c||d)&&e("/dashboard")},[s,c,d,e]);const g=async w=>{w.preventDefault(),t({email:h.email,password:h.password})};return u?i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background via-background to-muted",children:i.jsx(St,{className:"h-8 w-8 animate-spin text-primary"})}):i.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background via-background to-muted p-4",children:[i.jsxs("div",{className:"w-full max-w-md",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary to-primary/80 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("span",{className:"text-2xl font-bold text-primary-foreground",children:"EC"})}),i.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Espaa Creativa"}),i.jsx("p",{className:"text-muted-foreground",children:"Red de emprendedores"})]}),i.jsxs(ge,{className:"shadow-elegant border-0",children:[i.jsxs(mt,{className:"space-y-1 pb-4",children:[i.jsx(ft,{className:"text-2xl text-center",children:"Accede a tu cuenta"}),i.jsx(ur,{className:"text-center",children:"Conecta con emprendedores de confianza"})]}),i.jsx(pe,{className:"space-y-4",children:i.jsxs(Uu,{defaultValue:"login",className:"w-full",children:[i.jsxs(zl,{className:"grid w-full grid-cols-2",children:[i.jsx(Hr,{value:"login",children:"Iniciar Sesin"}),i.jsx(Hr,{value:"request",children:"Solicitar Acceso"})]}),i.jsx(In,{value:"login",className:"space-y-4 mt-4",children:i.jsxs("form",{onSubmit:g,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"login-email",children:"Email"}),i.jsxs("div",{className:"relative",children:[i.jsx(Ff,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),i.jsx(be,{id:"login-email",type:"email",placeholder:"tu@email.com",value:h.email,onChange:w=>f({...h,email:w.target.value}),className:"pl-10",required:!0})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(je,{htmlFor:"login-password",children:"Contrasea"}),i.jsx("button",{type:"button",onClick:()=>x(!0),className:"text-sm text-primary hover:text-primary/80 font-medium transition-colors",children:"Olvidaste tu contrasea?"})]}),i.jsxs("div",{className:"relative",children:[i.jsx(Nl,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),i.jsx(be,{id:"login-password",type:"password",placeholder:"",value:h.password,onChange:w=>f({...h,password:w.target.value}),className:"pl-10",required:!0})]})]}),n&&i.jsx("div",{className:"text-sm text-destructive",children:n.message||"Error al iniciar sesin"}),i.jsxs(U,{type:"submit",className:"w-full h-11",disabled:r,children:[r?i.jsx(St,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Iniciar Sesin"]})]})}),i.jsx(In,{value:"request",className:"mt-4",children:i.jsx(Q3,{})})]})})]}),i.jsxs("p",{className:"text-center text-sm text-muted-foreground mt-6",children:["Al continuar, aceptas nuestros"," ",i.jsx(Pn,{to:"/privacidad",className:"text-primary hover:underline",children:"trminos de servicio y poltica de privacidad"})]})]}),i.jsx(dU,{open:m,onOpenChange:x})]})};function kU(){const{token:e}=Cu(),t=vt(),{signIn:r}=jt(),[n,s]=p.useState(!0),[a,o]=p.useState(!1),[l,c]=p.useState(null),[u,d]=p.useState(""),[h,f]=p.useState(""),[m,x]=p.useState(null),[g,w]=p.useState(!1);p.useEffect(()=>{(async()=>{if(!e){x("Token de activacin invlido"),s(!1);return}try{const b=await fetch(`/api/auth/validate-activation/${e}`),j=await b.json();if(!b.ok||!j.success){x(j.error||"Token de activacin invlido o expirado"),s(!1);return}c(j.data),s(!1)}catch{x("Error al validar el token. Por favor, intenta de nuevo."),s(!1)}})()},[e]);const y=async v=>{if(v.preventDefault(),x(null),u.length<8){x("La contrasea debe tener al menos 8 caracteres");return}if(u!==h){x("Las contraseas no coinciden");return}o(!0);try{const b=await fetch("/api/auth/activate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e,password:u})}),j=await b.json();if(!b.ok||!j.success){x(j.error||"Error al activar la cuenta"),o(!1);return}w(!0),setTimeout(async()=>{try{await r({email:l.email,password:u}),t("/dashboard")}catch{t("/auth")}},2e3)}catch{x("Error al activar la cuenta. Por favor, intenta de nuevo."),o(!1)}};return n?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 max-w-md w-full text-center",children:[i.jsx(St,{className:"w-16 h-16 text-primary animate-spin mx-auto mb-4"}),i.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Validando enlace..."}),i.jsx("p",{className:"text-gray-600",children:"Por favor, espera un momento."})]})}):g?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 max-w-md w-full text-center",children:[i.jsx(ZC,{className:"w-20 h-20 text-green-500 mx-auto mb-4"}),i.jsx("h1",{className:"text-2xl font-bold text-green-700 mb-2",children:"Cuenta activada!"}),i.jsx("p",{className:"text-gray-700 text-lg",children:"Tu contrasea ha sido configurada correctamente. Redirigiendo al dashboard..."})]})}):m&&!l?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 max-w-md w-full text-center",children:[i.jsx(eE,{className:"w-20 h-20 text-red-500 mx-auto mb-4"}),i.jsx("h1",{className:"text-2xl font-bold text-red-700 mb-2",children:"Error"}),i.jsx("p",{className:"text-gray-700 text-lg mb-6",children:m}),i.jsx(U,{onClick:()=>t("/auth"),variant:"outline",children:"Ir a inicio de sesin"})]})}):i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 max-w-md w-full",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx(Nl,{className:"w-16 h-16 text-primary mx-auto mb-4"}),i.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Crea tu contrasea"}),i.jsxs("p",{className:"text-gray-600",children:["Bienvenido/a, ",i.jsx("strong",{children:l==null?void 0:l.name})]}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:l==null?void 0:l.email})]}),i.jsxs("form",{onSubmit:y,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx(je,{htmlFor:"password",children:"Contrasea"}),i.jsx(be,{id:"password",type:"password",value:u,onChange:v=>d(v.target.value),placeholder:"Mnimo 8 caracteres",required:!0,minLength:8,disabled:a}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Mnimo 8 caracteres"})]}),i.jsxs("div",{children:[i.jsx(je,{htmlFor:"confirmPassword",children:"Confirmar contrasea"}),i.jsx(be,{id:"confirmPassword",type:"password",value:h,onChange:v=>f(v.target.value),placeholder:"Repite tu contrasea",required:!0,minLength:8,disabled:a})]}),m&&i.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:m}),i.jsx(U,{type:"submit",className:"w-full",disabled:a,children:a?i.jsxs(i.Fragment,{children:[i.jsx(St,{className:"w-4 h-4 mr-2 animate-spin"}),"Creando cuenta..."]}):"Crear contrasea y acceder"})]})]})})}function PU(){const e=at({mutationFn:t=>lo.resetPassword(t)});return{action:e.mutate,isLoading:e.isPending,error:e.error,isSuccess:e.isSuccess,data:e.data}}function RU(){XI();const e=vt(),{action:t,isLoading:r,error:n,isSuccess:s}=PU(),[a,o]=p.useState(""),[l,c]=p.useState(""),[u,d]=p.useState(!1),[h,f]=p.useState(!1),[m,x]=p.useState({});p.useEffect(()=>{s&&setTimeout(()=>{e("/auth")},3e3)},[s,e]);const g=w=>{if(w.preventDefault(),x({}),a!==l){x({confirmPassword:"Las contraseas no coinciden"});return}try{const y=gF.parse({password:a});t(y)}catch(y){if(y instanceof ln){const v={};y.errors.forEach(b=>{b.path[0]&&(v[b.path[0]]=b.message)}),x(v)}}};return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted flex items-center justify-center p-4",children:i.jsx("div",{className:"w-full max-w-md",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 space-y-6",children:[i.jsxs("div",{className:"text-center space-y-2",children:[i.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary to-emerald-600 rounded-xl flex items-center justify-center mx-auto",children:i.jsx(Nl,{className:"h-8 w-8 text-white"})}),i.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Restablecer Contrasea"}),i.jsx("p",{className:"text-muted-foreground",children:"Introduce tu nueva contrasea"})]}),s?i.jsx("div",{className:"text-center space-y-4",children:i.jsxs("div",{className:"text-sm text-green-600 bg-green-50 border border-green-200 rounded-xl p-4",children:[i.jsx("p",{className:"font-medium mb-1",children:"Contrasea actualizada!"}),i.jsx("p",{children:"Tu contrasea ha sido restablecida exitosamente. Redirigiendo al login..."})]})}):i.jsxs("form",{onSubmit:g,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"password",children:"Nueva Contrasea"}),i.jsxs("div",{className:"relative",children:[i.jsx(be,{id:"password",type:u?"text":"password",value:a,onChange:w=>{if(o(w.target.value),m.password){const y={...m};delete y.password,x(y)}},disabled:r,className:m.password?"border-red-500":""}),i.jsx("button",{type:"button",onClick:()=>d(!u),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:u?i.jsx(Ic,{className:"h-4 w-4"}):i.jsx(ms,{className:"h-4 w-4"})})]}),m.password&&i.jsx("p",{className:"text-sm text-red-600",children:m.password}),i.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[i.jsx("p",{className:"font-medium",children:"La contrasea debe contener:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-0.5 ml-2",children:[i.jsx("li",{children:"Mnimo 8 caracteres"}),i.jsx("li",{children:"Al menos una letra mayscula"}),i.jsx("li",{children:"Al menos una letra minscula"}),i.jsx("li",{children:"Al menos un nmero"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"confirmPassword",children:"Confirmar Nueva Contrasea"}),i.jsxs("div",{className:"relative",children:[i.jsx(be,{id:"confirmPassword",type:h?"text":"password",value:l,onChange:w=>{if(c(w.target.value),m.confirmPassword){const y={...m};delete y.confirmPassword,x(y)}},disabled:r,className:m.confirmPassword?"border-red-500":""}),i.jsx("button",{type:"button",onClick:()=>f(!h),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:h?i.jsx(Ic,{className:"h-4 w-4"}):i.jsx(ms,{className:"h-4 w-4"})})]}),m.confirmPassword&&i.jsx("p",{className:"text-sm text-red-600",children:m.confirmPassword})]}),n&&i.jsx("div",{className:"text-sm text-red-600 bg-red-50 border border-red-200 rounded-xl p-4",children:n instanceof Error?n.message:"Error al restablecer la contrasea"}),i.jsx(U,{type:"submit",disabled:r,className:"w-full",children:r?"Restableciendo...":"Restablecer Contrasea"})]}),!s&&i.jsx("div",{className:"text-center",children:i.jsx("button",{onClick:()=>e("/auth"),className:"text-sm text-primary hover:text-primary/80 font-medium",children:"Volver al inicio de sesin"})})]})})})}function Mt({children:e}){const{user:t,isLoading:r}=jt();return r?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 border-4 border-primary/30 border-t-primary rounded-full animate-spin mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})]})}):t?i.jsx(i.Fragment,{children:e}):i.jsx(jg,{to:"/auth",replace:!0})}function TU(){return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:i.jsx("div",{className:"max-w-2xl w-full",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 md:p-12 space-y-8",children:[i.jsx("div",{className:"flex justify-center",children:i.jsx("div",{className:"w-20 h-20 bg-yellow-100 rounded-full flex items-center justify-center",children:i.jsx("svg",{className:"w-10 h-10 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-3",children:"Solicitud en Revisin"}),i.jsx("p",{className:"text-lg text-gray-600",children:"Tu solicitud de acceso est siendo revisada por nuestro equipo"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:" Tiempo de Respuesta"}),i.jsxs("p",{className:"text-blue-800",children:["Nuestro equipo revisar tu solicitud en las prximas ",i.jsx("strong",{children:"24-48 horas"}),". Te enviaremos un correo electrnico tan pronto como tu cuenta sea aprobada."]})]}),i.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-green-900 mb-2",children:" Revisa tu Email"}),i.jsxs("p",{className:"text-green-800",children:["Una vez aprobada, recibirs un ",i.jsx("strong",{children:"enlace mgico"})," para acceder a tu cuenta por primera vez. El enlace ser vlido por 1 hora."]})]}),i.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-purple-900 mb-2",children:" Qu sigue?"}),i.jsxs("ul",{className:"text-purple-800 space-y-2 list-disc list-inside",children:[i.jsx("li",{children:"Recibirs un email de confirmacin cuando seas aprobado"}),i.jsx("li",{children:"Haz clic en el enlace para crear tu cuenta"}),i.jsx("li",{children:"Completa tu perfil y empieza a conectar con la comunidad"})]})]})]}),i.jsx("div",{className:"border-t border-gray-200 pt-6",children:i.jsxs("p",{className:"text-center text-gray-600 text-sm",children:["Tienes alguna pregunta? Contctanos en"," ",i.jsx("a",{href:"mailto:info@espanacreativa.org",className:"text-primary font-semibold hover:underline",children:"info@espanacreativa.org"})]})}),i.jsx("div",{className:"flex justify-center",children:i.jsx("button",{onClick:()=>window.location.href="/",className:"modern-button modern-button-outline",children:"Volver al Inicio"})})]})})})}const wp={ADMIN:1,MENTOR:2,EMPRENDEDOR:3};function zu(){const{user:e,isLoading:t}=jt(),r=a=>!e||!e.role_ids?!1:e.role_ids.includes(a),n=a=>!e||!e.role_ids?!1:a.some(o=>e.role_ids.includes(o)),s=a=>!e||!e.role_ids?!1:a.every(o=>e.role_ids.includes(o));return{isLoading:t,roleIds:(e==null?void 0:e.role_ids)||[],isAdmin:r(wp.ADMIN),isMentor:r(wp.MENTOR),isEmprendedor:r(wp.EMPRENDEDOR),hasRole:r,hasAnyRole:n,hasAllRoles:s}}function AU({status:e="pending",limit:t=20,offset:r=0,enabled:n=!0}={}){return It({queryKey:["signupApproval","pendingSignups",e,t,r],queryFn:()=>Au.getPendingSignups(e,t,r),staleTime:30*1e3,enabled:n})}function OU({enabled:e=!0}={}){return It({queryKey:["signupApproval","pendingCount"],queryFn:()=>Au.getPendingCount(),staleTime:60*1e3,refetchInterval:300*1e3,enabled:e})}function sk(){const e=Ye(),t=at({mutationFn:({token:r,adminId:n})=>Au.approveSignup(r,n),onSuccess:()=>{e.invalidateQueries({queryKey:["signupApproval","pendingSignups"]}),e.invalidateQueries({queryKey:["signupApproval","pendingCount"]})}});return{action:t.mutate,mutateAsync:t.mutateAsync,isLoading:t.isPending,error:t.error,isSuccess:t.isSuccess,data:t.data}}function ak(){const e=Ye(),t=at({mutationFn:({token:r,adminId:n})=>Au.rejectSignup(r,n),onSuccess:()=>{e.invalidateQueries({queryKey:["signupApproval","pendingSignups"]}),e.invalidateQueries({queryKey:["signupApproval","pendingCount"]})}});return{action:t.mutate,mutateAsync:t.mutateAsync,isLoading:t.isPending,error:t.error,isSuccess:t.isSuccess,data:t.data}}const Gf=p.forwardRef(({className:e,...t},r)=>i.jsx("div",{className:"relative w-full overflow-auto",children:i.jsx("table",{ref:r,className:te("w-full caption-bottom text-sm",e),...t})}));Gf.displayName="Table";const Qf=p.forwardRef(({className:e,...t},r)=>i.jsx("thead",{ref:r,className:te("[&_tr]:border-b",e),...t}));Qf.displayName="TableHeader";const Jf=p.forwardRef(({className:e,...t},r)=>i.jsx("tbody",{ref:r,className:te("[&_tr:last-child]:border-0",e),...t}));Jf.displayName="TableBody";const IU=p.forwardRef(({className:e,...t},r)=>i.jsx("tfoot",{ref:r,className:te("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));IU.displayName="TableFooter";const Ga=p.forwardRef(({className:e,...t},r)=>i.jsx("tr",{ref:r,className:te("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Ga.displayName="TableRow";const tr=p.forwardRef(({className:e,...t},r)=>i.jsx("th",{ref:r,className:te("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));tr.displayName="TableHead";const Gt=p.forwardRef(({className:e,...t},r)=>i.jsx("td",{ref:r,className:te("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Gt.displayName="TableCell";const MU=p.forwardRef(({className:e,...t},r)=>i.jsx("caption",{ref:r,className:te("mt-4 text-sm text-muted-foreground",e),...t}));MU.displayName="TableCaption";function DU(){const[e,t]=p.useState("pending"),[r,n]=p.useState(0),s=20,{data:a,isLoading:o,error:l,refetch:c}=AU({status:e,limit:s,offset:r*s}),{data:u}=OU(),{action:d,isLoading:h}=sk(),{action:f,isLoading:m}=ak(),x=j=>{confirm("Aprobar esta solicitud? El usuario recibir un magic link por email.")&&d({token:j},{onSuccess:()=>{c()}})},g=j=>{confirm("Rechazar esta solicitud? El usuario ser notificado por email.")&&f({token:j},{onSuccess:()=>{c()}})};if(o)return i.jsx("div",{className:"flex items-center justify-center p-12",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Cargando solicitudes..."})]})});if(l)return i.jsx("div",{className:"p-6 bg-red-50 border border-red-200 rounded-xl",children:i.jsxs("p",{className:"text-red-800",children:["Error al cargar solicitudes: ",l.message]})});const w=(a==null?void 0:a.signups)||[],y=(a==null?void 0:a.total)||0,v=Math.ceil(y/s),b=(u==null?void 0:u.count)||0;return i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Gestin de Solicitudes"}),i.jsxs("p",{className:"text-gray-600 mt-1",children:[b>0&&i.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 mr-2",children:[b," pendientes"]}),"Total: ",y," solicitudes"]})]})}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>{t("pending"),n(0)},className:`px-4 py-2 rounded-lg font-medium transition-colors ${e==="pending"?"bg-yellow-100 text-yellow-900":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Pendientes"}),i.jsx("button",{onClick:()=>{t("approved"),n(0)},className:`px-4 py-2 rounded-lg font-medium transition-colors ${e==="approved"?"bg-green-100 text-green-900":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Aprobadas"}),i.jsx("button",{onClick:()=>{t("rejected"),n(0)},className:`px-4 py-2 rounded-lg font-medium transition-colors ${e==="rejected"?"bg-red-100 text-red-900":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Rechazadas"})]}),w.length===0?i.jsx("div",{className:"text-center p-12 bg-gray-50 rounded-xl",children:i.jsxs("p",{className:"text-gray-600",children:["No hay solicitudes ",e,"."]})}):i.jsx("div",{className:"border rounded-xl bg-white",children:i.jsxs(Gf,{children:[i.jsx(Qf,{children:i.jsxs(Ga,{children:[i.jsx(tr,{children:"Nombre"}),i.jsx(tr,{children:"Email"}),i.jsx(tr,{children:"Fecha"}),i.jsx(tr,{children:"Estado"}),e==="pending"&&i.jsx(tr,{className:"text-right",children:"Acciones"})]})}),i.jsx(Jf,{children:w.map(j=>i.jsxs(Ga,{children:[i.jsxs(Gt,{className:"font-medium",children:[j.name," ",j.surname||""]}),i.jsx(Gt,{children:j.email}),i.jsx(Gt,{children:new Date(j.createdAt).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric"})}),i.jsx(Gt,{children:i.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${j.status==="pending"?"bg-yellow-100 text-yellow-800":j.status==="approved"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[j.status==="pending"&&"Pendiente",j.status==="approved"&&"Aprobada",j.status==="rejected"&&"Rechazada"]})}),e==="pending"&&i.jsx(Gt,{className:"text-right",children:i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx("button",{onClick:()=>x(j.id),disabled:h||m,className:"px-3 py-1.5 bg-green-600 text-white text-sm rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Aprobar"}),i.jsx("button",{onClick:()=>g(j.id),disabled:h||m,className:"px-3 py-1.5 bg-red-600 text-white text-sm rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Rechazar"})]})})]},j.id))})]})}),v>1&&i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("p",{className:"text-sm text-gray-700",children:["Pgina ",r+1," de ",v]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>n(Math.max(0,r-1)),disabled:r===0,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Anterior"}),i.jsx("button",{onClick:()=>n(Math.min(v-1,r+1)),disabled:r>=v-1,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Siguiente"})]})]})]})}function yj(){const{isAdmin:e,isLoading:t}=zu(),r=vt();return p.useEffect(()=>{!t&&!e&&r("/")},[e,t,r]),t?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):e?i.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[i.jsxs(U,{variant:"ghost",onClick:()=>r("/gestion"),className:"mb-6 hover:bg-gray-100",children:[i.jsx(Dn,{className:"h-4 w-4 mr-2"}),"Volver a Gestin"]}),i.jsxs("div",{className:"mb-8",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx(xs,{className:"h-8 w-8 text-primary"}),i.jsx("h1",{className:"text-3xl font-bold",children:"Aprobacin de Registros"})]}),i.jsx("p",{className:"text-muted-foreground",children:"Revisa y gestiona las solicitudes de acceso a la plataforma"})]}),i.jsx(DU,{})]}):null}function LU(){const{action:e,token:t}=Cu();vt();const[r,n]=p.useState(!0),[s,a]=p.useState(null),o=sk(),l=ak();return p.useEffect(()=>{if(!t||!e){a({success:!1,message:"Invalid approval link"}),n(!1);return}(async()=>{try{e==="approve"?(await o.mutateAsync({token:t}),a({success:!0,message:"Solicitud aprobada correctamente. El usuario recibir un email con el enlace de acceso."})):e==="reject"&&(await l.mutateAsync({token:t}),a({success:!0,message:"Solicitud rechazada. El usuario ha sido notificado por email."}))}catch(u){a({success:!1,message:u.message||"Error al procesar la solicitud"})}finally{n(!1)}})()},[t,e]),r?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 max-w-md w-full text-center",children:[i.jsx(St,{className:"w-16 h-16 text-primary animate-spin mx-auto mb-4"}),i.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Procesando solicitud..."}),i.jsxs("p",{className:"text-gray-600",children:["Por favor, espera un momento mientras procesamos la ",e==="approve"?"aprobacin":"rechazo","."]})]})}):i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 max-w-md w-full",children:[i.jsxs("div",{className:"text-center mb-6",children:[s!=null&&s.success?i.jsx(ZC,{className:"w-20 h-20 text-green-500 mx-auto mb-4"}):i.jsx(eE,{className:"w-20 h-20 text-red-500 mx-auto mb-4"}),i.jsx("h1",{className:`text-2xl font-bold mb-2 ${s!=null&&s.success?"text-green-700":"text-red-700"}`,children:s!=null&&s.success?"Accin completada!":"Error"}),i.jsx("p",{className:"text-gray-700 text-lg",children:s==null?void 0:s.message})]}),i.jsx("div",{className:"flex justify-center",children:i.jsxs(U,{onClick:()=>window.close(),variant:"outline",className:"w-full max-w-xs",children:[i.jsx(Mr,{className:"w-4 h-4 mr-2"}),"Cerrar"]})})]})})}const $U=Ou("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function _e({className:e,variant:t,...r}){return i.jsx("div",{className:te($U({variant:t}),e),...r})}var ik={exports:{}},ok={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cl=p;function FU(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var UU=typeof Object.is=="function"?Object.is:FU,zU=Cl.useState,BU=Cl.useEffect,VU=Cl.useLayoutEffect,qU=Cl.useDebugValue;function WU(e,t){var r=t(),n=zU({inst:{value:r,getSnapshot:t}}),s=n[0].inst,a=n[1];return VU(function(){s.value=r,s.getSnapshot=t,bp(s)&&a({inst:s})},[e,r,t]),BU(function(){return bp(s)&&a({inst:s}),e(function(){bp(s)&&a({inst:s})})},[e]),qU(r),r}function bp(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!UU(e,r)}catch{return!0}}function HU(e,t){return t()}var KU=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?HU:WU;ok.useSyncExternalStore=Cl.useSyncExternalStore!==void 0?Cl.useSyncExternalStore:KU;ik.exports=ok;var GU=ik.exports;function QU(){return GU.useSyncExternalStore(JU,()=>!0,()=>!1)}function JU(){return()=>{}}var bx="Avatar",[YU]=gr(bx),[XU,lk]=YU(bx),ck=p.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,a]=p.useState("idle");return i.jsx(XU,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:a,children:i.jsx(de.span,{...n,ref:t})})});ck.displayName=bx;var uk="AvatarImage",dk=p.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...a}=e,o=lk(uk,r),l=ZU(n,a),c=bt(u=>{s(u),o.onImageLoadingStatusChange(u)});return Ct(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?i.jsx(de.img,{...a,ref:t,src:n}):null});dk.displayName=uk;var hk="AvatarFallback",fk=p.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,a=lk(hk,r),[o,l]=p.useState(n===void 0);return p.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&a.imageLoadingStatus!=="loaded"?i.jsx(de.span,{...s,ref:t}):null});fk.displayName=hk;function xj(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function ZU(e,{referrerPolicy:t,crossOrigin:r}){const n=QU(),s=p.useRef(null),a=n?(s.current||(s.current=new window.Image),s.current):null,[o,l]=p.useState(()=>xj(a,e));return Ct(()=>{l(xj(a,e))},[a,e]),Ct(()=>{const c=h=>()=>{l(h)};if(!a)return;const u=c("loaded"),d=c("error");return a.addEventListener("load",u),a.addEventListener("error",d),t&&(a.referrerPolicy=t),typeof r=="string"&&(a.crossOrigin=r),()=>{a.removeEventListener("load",u),a.removeEventListener("error",d)}},[a,r,t]),o}var mk=ck,pk=dk,gk=fk;const Et=p.forwardRef(({className:e,...t},r)=>i.jsx(mk,{ref:r,className:te("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Et.displayName=mk.displayName;const zt=p.forwardRef(({className:e,...t},r)=>i.jsx(pk,{ref:r,className:te("aspect-square h-full w-full",e),...t}));zt.displayName=pk.displayName;const kt=p.forwardRef(({className:e,...t},r)=>i.jsx(gk,{ref:r,className:te("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));kt.displayName=gk.displayName;var jx="Progress",_x=100,[e6]=gr(jx),[t6,r6]=e6(jx),vk=p.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:a=n6,...o}=e;(s||s===0)&&!wj(s)&&console.error(s6(`${s}`,"Progress"));const l=wj(s)?s:_x;n!==null&&!bj(n,l)&&console.error(a6(`${n}`,"Progress"));const c=bj(n,l)?n:null,u=Yh(c)?a(c,l):void 0;return i.jsx(t6,{scope:r,value:c,max:l,children:i.jsx(de.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Yh(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":wk(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});vk.displayName=jx;var yk="ProgressIndicator",xk=p.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,s=r6(yk,r);return i.jsx(de.div,{"data-state":wk(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:t})});xk.displayName=yk;function n6(e,t){return`${Math.round(e/t*100)}%`}function wk(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Yh(e){return typeof e=="number"}function wj(e){return Yh(e)&&!isNaN(e)&&e>0}function bj(e,t){return Yh(e)&&!isNaN(e)&&e<=t&&e>=0}function s6(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${_x}\`.`}function a6(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${_x} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var bk=vk,i6=xk;const jk=p.forwardRef(({className:e,value:t,...r},n)=>i.jsx(bk,{ref:n,className:te("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:i.jsx(i6,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));jk.displayName=bk.displayName;class o6{constructor(){vn(this,"isDevelopment",!1);vn(this,"sessionId",this.generateSessionId());vn(this,"pendingLogs",[]);vn(this,"batchTimeout",null);vn(this,"isOnline",!0)}generateSessionId(){return`session-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}formatTimestamp(){return new Date().toISOString()}createLogEntry(t,r,n,s){return{timestamp:this.formatTimestamp(),level:t,message:r,data:n,component:s,session:this.sessionId}}formatConsoleOutput(t){const{timestamp:r,level:n,message:s,component:a,data:o}=t,l=a?`[${a}]`:"",c=`[${t.session}]`,u=`${r} ${c} ${l} [${n.toUpperCase()}] ${s}`;return o?`${u}
Data: ${JSON.stringify(o,null,2)}`:u}log(t,r,n,s){if(!this.isDevelopment)return;const a=this.createLogEntry(t,r,n,s),o=this.formatConsoleOutput(a);switch(t){case"debug":console.debug(`%c${o}`,"color: #6b7280");break;case"info":console.info(`%c${o}`,"color: #3b82f6");break;case"warn":console.warn(`%c${o}`,"color: #f59e0b");break;case"error":console.error(`%c${o}`,"color: #ef4444");break}this.sendToDevServer(a).catch(l=>{console.error("Failed to send log to dev server:",l)})}async sendToDevServer(t){try{return}catch{}}debug(t,r,n){this.log("debug",t,r,n)}info(t,r,n){this.log("info",t,r,n)}warn(t,r,n){this.log("warn",t,r,n)}error(t,r,n){this.log("error",t,r,n)}apiCall(t,r,n,s){this.info(`API ${t.toUpperCase()} ${r}`,n,s)}apiResponse(t,r,n,s,a){const o=n>=400?"error":n>=300?"warn":"info";this.log(o,`API ${t.toUpperCase()} ${r} - ${n}`,s,a)}userAction(t,r,n){this.info(`User action: ${t}`,r,n)}componentMount(t,r){this.debug(`Component mounted: ${t}`,r,t)}componentUnmount(t){this.debug(`Component unmounted: ${t}`,void 0,t)}stateChange(t,r,n,s){this.debug(`State change: ${t}`,{oldValue:r,newValue:n},s)}navigation(t,r){this.info(`Navigation: ${t} -> ${r}`,void 0,"Router")}supabaseOperation(t,r,n){this.debug(`Supabase ${t}${r?` on ${r}`:""}`,n,"Supabase")}authEvent(t,r){this.info(`Auth event: ${t}`,r,"Auth")}}const l6=new o6,ns=l6;async function c6(e,t){ns.apiCall("UPDATE","users/profile",{userId:e,fields:Object.keys(t)},"updateUserProfile");const{data:r,error:n}=await nr.from("users").update({name:t.name,bio:t.bio,location:t.location,linkedin_url:t.linkedin_url,website_url:t.website_url,skills:t.skills,interests:t.interests,avatar_url:t.avatar_url}).eq("id",e).select().single();return n?ns.error("updateUserProfile failed",{userId:e,error:n,updates:t}):ns.info("updateUserProfile success",{userId:e,updatedFields:Object.keys(t)}),{data:r,error:n}}async function u6(e,t={}){ns.apiCall("GET","users/search",{query:e,filters:t},"searchUsers");let r=nr.from("users").select(`
      *,
      user_roles!inner(
        roles(*)
      )
    `);e&&(ns.debug("Adding text search filter",{query:e}),r=r.or(`name.ilike.%${e}%, bio.ilike.%${e}%`)),t.role&&(ns.debug("Adding role filter",{role:t.role}),r=r.eq("user_roles.roles.name",t.role)),t.location&&(ns.debug("Adding location filter",{location:t.location}),r=r.ilike("location",`%${t.location}%`)),t.skills&&t.skills.length>0&&(ns.debug("Adding skills filter",{skills:t.skills}),r=r.overlaps("skills",t.skills));const{data:n,error:s}=await r.order("updated_at",{ascending:!1}).limit(50);if(s)return ns.error("searchUsers failed",{query:e,filters:t,error:s}),{data:[],error:s};const a=(n==null?void 0:n.map(o=>({...o,roles:o.user_roles.map(l=>l.roles)})))||[];return ns.info("searchUsers success",{query:e,filters:t,resultCount:a.length,hasQuery:!!e,hasFilters:Object.keys(t).length>0}),{data:a,error:null}}function _k({open:e,onOpenChange:t,onPhotoUpdated:r}){var y,v,b,j,_,S;const{user:n}=jt(),[s,a]=p.useState(!1),[o,l]=p.useState(""),[c,u]=p.useState(null),[d,h]=p.useState(null),f=p.useRef(null),m=N=>{var T;const E=(T=N.target.files)==null?void 0:T[0];if(!E)return;if(!E.type.startsWith("image/")){l("Por favor selecciona un archivo de imagen vlido");return}if(E.size>5*1024*1024){l("La imagen debe ser menor a 5MB");return}l(""),h(E);const P=new FileReader;P.onload=B=>{var D;u((D=B.target)==null?void 0:D.result)},P.readAsDataURL(E)},x=async()=>{if(!(!d||!n)){a(!0),l("");try{const N=d.name.split(".").pop(),P=`avatars/${`${n.id}-${Date.now()}.${N}`}`,{error:T}=await nr.storage.from("fotos-perfil").upload(P,d,{cacheControl:"3600",upsert:!1});if(T){console.error("Upload error:",T),l("Error al subir la imagen. Intntalo de nuevo.");return}const{data:{publicUrl:B}}=nr.storage.from("fotos-perfil").getPublicUrl(P),{error:D}=await c6(n.id,{avatar_url:B});if(D){l("Error al actualizar el perfil");return}r==null||r(B),g()}catch(N){console.error("Error uploading photo:",N),l("Error al subir la imagen")}finally{a(!1)}}},g=()=>{u(null),h(null),l(""),t(!1)},w=()=>{var N;(N=f.current)==null||N.click()};return i.jsx(ws,{open:e,onOpenChange:g,children:i.jsxs(Ln,{className:"sm:max-w-md",children:[i.jsxs($n,{children:[i.jsx(Fn,{children:"Cambiar foto de perfil"}),i.jsx(Un,{children:"Sube una nueva foto de perfil para personalizar tu cuenta"})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"flex justify-center",children:i.jsxs("div",{className:"relative",children:[i.jsxs(Et,{className:"w-32 h-32",children:[i.jsx(zt,{src:c||((y=n==null?void 0:n.user_metadata)==null?void 0:y.avatar_url),alt:"Preview"}),i.jsx(kt,{className:"text-3xl bg-gradient-to-br from-primary to-primary/80 text-white",children:((j=(b=(v=n==null?void 0:n.user_metadata)==null?void 0:v.name)==null?void 0:b.charAt(0))==null?void 0:j.toUpperCase())||((S=(_=n==null?void 0:n.email)==null?void 0:_.charAt(0))==null?void 0:S.toUpperCase())})]}),c&&i.jsx(U,{type:"button",size:"sm",variant:"secondary",className:"absolute -top-2 -right-2 rounded-full w-8 h-8 p-0",onClick:()=>{u(null),h(null)},children:i.jsx(Mr,{className:"h-4 w-4"})})]})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs(U,{type:"button",variant:"outline",onClick:w,className:"w-full flex items-center gap-2",disabled:s,children:[i.jsx(JC,{className:"h-4 w-4"}),d?"Cambiar imagen":"Seleccionar imagen"]}),i.jsx("input",{ref:f,type:"file",accept:"image/*",onChange:m,className:"hidden"}),d&&i.jsxs("div",{className:"text-center",children:[i.jsxs("p",{className:"text-sm text-muted-foreground mb-3",children:["Imagen seleccionada: ",d.name]}),i.jsxs(U,{onClick:x,disabled:s,className:"w-full",children:[i.jsx(H3,{className:"h-4 w-4 mr-2"}),s?"Subiendo...":"Subir foto"]})]})]}),o&&i.jsx("div",{className:"text-sm text-red-600 bg-red-50 border border-red-200 rounded-xl p-4",children:o}),i.jsx("div",{className:"text-center",children:i.jsx("p",{className:"text-xs text-muted-foreground",children:"Formatos admitidos: JPG, PNG, GIF  Tamao mximo: 5MB"})})]})]})})}const d6=Ou("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Yf=p.forwardRef(({className:e,variant:t,...r},n)=>i.jsx("div",{ref:n,role:"alert",className:te(d6({variant:t}),e),...r}));Yf.displayName="Alert";const h6=p.forwardRef(({className:e,...t},r)=>i.jsx("h5",{ref:r,className:te("mb-1 font-medium leading-none tracking-tight",e),...t}));h6.displayName="AlertTitle";const Xf=p.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:te("text-sm [&_p]:leading-relaxed",e),...t}));Xf.displayName="AlertDescription";function dr({className:e,...t}){return i.jsx("div",{className:te("animate-pulse rounded-md bg-muted",e),...t})}const Bl=G({id:R().uuid(),email:R().email(),name:R(),avatar_url:R().url().or(Oc("")).nullable(),bio:R().nullable(),location:R().nullable(),linkedin_url:R().url().or(Oc("")).nullable(),website_url:R().url().or(Oc("")).nullable(),skills:We(R()),interests:We(R()),completed_pct:Ae().min(0).max(100),created_at:R(),updated_at:R()});G({name:R().min(2,"El nombre debe tener al menos 2 caracteres").optional(),bio:R().max(500,"La biografa no puede superar 500 caracteres").nullable().optional(),location:R().max(100,"La ubicacin no puede superar 100 caracteres").nullable().optional(),linkedin_url:R().url("URL de LinkedIn invlida").nullable().optional(),website_url:R().url("URL del sitio web invlida").nullable().optional(),skills:We(R()).optional(),interests:We(R()).optional()});G({avatar_url:R().url()});G({query:R().optional(),location:R().optional(),skills:We(R()).optional(),role:R().optional()});G({users:We(Bl)});G({user:Bl});G({user:Bl});G({error:R()});const f6=Bl.extend({role_ids:We(Ae())});G({days:Ae().int().min(1).max(365).optional().default(30),limit:Ae().int().min(1).max(50).optional().default(5)});const m6=G({users:We(f6),count:Ae().int().min(0),days_filter:Ae().int().min(1).max(365)}),p6="http://localhost:3001",g6={async getRecentUsers(e){const t=await et.get(`${p6}/api/users/recent`,{params:{days:e==null?void 0:e.days,limit:e==null?void 0:e.limit}});return m6.parse(t.data)}},v6=(e,t)=>{const r=e==null?void 0:e.days,n=e==null?void 0:e.limit;return It({queryKey:["dashboard","recent-users",r,n],queryFn:async()=>(await g6.getRecentUsers(e)).users,enabled:(t==null?void 0:t.enabled)!==!1,staleTime:120*1e3,gcTime:600*1e3,refetchOnWindowFocus:!1})},Sx=aa(["pending","accepted","rejected","blocked"]),Nx=G({id:R().uuid(),requester_id:R().uuid(),addressee_id:R().uuid(),status:Sx,created_at:R().datetime(),updated_at:R().datetime()}),y6=G({connection:Nx,user:Bl}),x6=G({total_connections:Ae(),pending_requests:Ae(),sent_requests:Ae()});G({addressee_id:R().uuid()});G({connection_id:R().uuid(),status:Sx});G({status:Sx.optional()});const w6=G({connections:We(y6)}),b6=G({stats:x6}),j6=G({connection:Nx}),_6=G({connection:Nx});G({user_id:R().uuid()});const S6=G({connections:We(Bl),count:Ae()}),Vl={async getConnections(e){const t=await we.get("/connections",{params:{status:e==null?void 0:e.status}});return w6.parse(t.data)},async getNetworkStats(){const e=await we.get("/connections/stats");return b6.parse(e.data)},async requestConnection(e){const t=await we.post("/connections",e);return j6.parse(t.data)},async updateConnectionStatus(e){const t=await we.put(`/connections/${e.connection_id}`,{status:e.status});return _6.parse(t.data)},async deleteConnection(e){await we.delete(`/connections/${e}`)},async getMutualConnections(e){const t=await we.get(`/connections/mutual/${e}`);return S6.parse(t.data)},async getConnectionStatus(e){var t;try{return(await we.get(`/connections/status/${e}`)).data}catch(r){if(et.isAxiosError(r)&&((t=r.response)==null?void 0:t.status)===404)return{status:null};throw r}}},Cx=()=>{const e=Ye(),t=at({mutationFn:async r=>(await Vl.requestConnection(r)).connection,onSuccess:()=>{e.invalidateQueries({queryKey:["connections"]}),e.invalidateQueries({queryKey:["network-stats"]}),e.invalidateQueries({queryKey:["connection-status"]})}});return{action:t.mutate,isLoading:t.isPending,error:t.error,isSuccess:t.isSuccess,data:t.data}},Bu=()=>{const e=Ye(),t=at({mutationFn:async r=>(await Vl.updateConnectionStatus(r)).connection,onSuccess:()=>{e.invalidateQueries({queryKey:["connections"]}),e.invalidateQueries({queryKey:["network-stats"]}),e.invalidateQueries({queryKey:["connection-status"]}),e.invalidateQueries({queryKey:["mutual-connections"]})}});return{action:t.mutate,isLoading:t.isPending,error:t.error,isSuccess:t.isSuccess,data:t.data}},Ex=(e,t)=>It({queryKey:["connection-status",e],queryFn:async()=>e?await Vl.getConnectionStatus(e):{status:null},enabled:(t==null?void 0:t.enabled)!==!1&&!!e,staleTime:60*1e3,gcTime:300*1e3}),N6=1,C6=1e6;let jp=0;function E6(){return jp=(jp+1)%Number.MAX_SAFE_INTEGER,jp.toString()}const _p=new Map,jj=e=>{if(_p.has(e))return;const t=setTimeout(()=>{_p.delete(e),Mc({type:"REMOVE_TOAST",toastId:e})},C6);_p.set(e,t)},k6=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,N6)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?jj(r):e.toasts.forEach(n=>{jj(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},sh=[];let ah={toasts:[]};function Mc(e){ah=k6(ah,e),sh.forEach(t=>{t(ah)})}function Kt({...e}){const t=E6(),r=s=>Mc({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>Mc({type:"DISMISS_TOAST",toastId:t});return Mc({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function ql(){const[e,t]=p.useState(ah);return p.useEffect(()=>(sh.push(t),()=>{const r=sh.indexOf(t);r>-1&&sh.splice(r,1)}),[e]),{...e,toast:Kt,dismiss:r=>Mc({type:"DISMISS_TOAST",toastId:r})}}function P6({user:e}){var y,v;const{user:t}=jt(),{data:r}=Ex(e.id),{action:n,isLoading:s}=Cx(),{action:a,isLoading:o}=Bu(),{toast:l}=ql(),c=vt(),u=async()=>{try{await n({addressee_id:e.id}),l({title:"Solicitud enviada",description:`Solicitud de conexin enviada a ${e.name}`,duration:3e3})}catch(b){l({title:"Error",description:b instanceof Error?b.message:"No se pudo enviar la solicitud",variant:"destructive",duration:5e3})}},d=async()=>{var j;const b=(j=r==null?void 0:r.connection)==null?void 0:j.id;if(b)try{await a({connection_id:b,status:"accepted"}),l({title:"Conexin aceptada",description:`Ahora ests conectado con ${e.name}`,duration:3e3})}catch(_){l({title:"Error",description:_ instanceof Error?_.message:"No se pudo aceptar la solicitud",variant:"destructive",duration:5e3})}},h=()=>{c(`/users/${e.id}`)},f=(t==null?void 0:t.id)===e.id,m=(r==null?void 0:r.status)||"none",x=((y=r==null?void 0:r.connection)==null?void 0:y.requester_id)===(t==null?void 0:t.id),g=((v=r==null?void 0:r.connection)==null?void 0:v.addressee_id)===(t==null?void 0:t.id),w=e.role_ids&&e.role_ids.length>0?T6(e.role_ids[0]):"Miembro";return i.jsxs("div",{className:"flex items-center gap-3 p-4 rounded-lg hover:bg-muted/50 transition-colors",children:[i.jsxs(Et,{className:"h-12 w-12 cursor-pointer hover:ring-2 hover:ring-primary transition-all",onClick:h,children:[i.jsx(zt,{src:e.avatar_url||void 0,alt:e.name}),i.jsx(kt,{className:"bg-gradient-to-br from-primary to-primary/80 text-white text-sm",children:R6(e.name,e.email)})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"text-sm font-semibold truncate cursor-pointer hover:text-primary transition-colors",onClick:h,children:e.name}),i.jsx("span",{className:"text-xs text-muted-foreground",children:w})]}),i.jsxs("div",{className:"flex-shrink-0 flex items-center gap-2",children:[f?i.jsx(_e,{variant:"secondary",className:"text-xs",children:"T"}):i.jsxs(i.Fragment,{children:[m==="none"&&i.jsxs(U,{size:"sm",onClick:u,disabled:s,className:"flex items-center gap-2",children:[i.jsx(Za,{className:"h-4 w-4"}),s?"Conectando...":"Conectar"]}),m==="pending"&&x&&i.jsx(U,{size:"sm",variant:"secondary",disabled:!0,className:"cursor-not-allowed",children:"Solicitud enviada"}),m==="pending"&&g&&i.jsxs(U,{size:"sm",onClick:d,disabled:o,className:"flex items-center gap-2",children:[i.jsx(xs,{className:"h-4 w-4"}),o?"Aceptando...":"Aceptar"]}),m==="accepted"&&i.jsxs(_e,{variant:"default",className:"flex items-center gap-1",children:[i.jsx(xs,{className:"h-3 w-3"}),"Conectado"]})]}),!f&&i.jsxs(U,{size:"sm",variant:"outline",onClick:h,className:"flex items-center gap-2",children:[i.jsx(ms,{className:"h-4 w-4"}),"Ver Perfil"]})]})]})}function R6(e,t){if(e&&e.trim().length>0){const r=e.trim().split(" ");return r.length>=2?(r[0][0]+r[r.length-1][0]).toUpperCase():e[0].toUpperCase()}return t[0].toUpperCase()}function T6(e){return{1:"Admin",2:"Mentor",3:"Emprendedor"}[e]||"Miembro"}function A6(){const{data:e,isLoading:t,error:r}=v6({days:30,limit:5});return i.jsxs(ge,{children:[i.jsxs(mt,{children:[i.jsxs(ft,{className:"flex items-center gap-2",children:[i.jsx(Ir,{className:"h-5 w-5"}),"Nuevos miembros"]}),i.jsx(ur,{children:"Conecta con los ltimos miembros que se han unido"})]}),i.jsxs(pe,{children:[t&&i.jsx("div",{className:"space-y-4",children:[1,2,3,4,5].map(n=>i.jsxs("div",{className:"flex items-center gap-3 p-4",children:[i.jsx(dr,{className:"h-12 w-12 rounded-full"}),i.jsxs("div",{className:"flex-1 space-y-2",children:[i.jsx(dr,{className:"h-4 w-32"}),i.jsx(dr,{className:"h-3 w-24"})]}),i.jsx(dr,{className:"h-9 w-24 rounded-md"})]},n))}),r&&!t&&i.jsx(Yf,{variant:"destructive",children:i.jsx(Xf,{children:"No se pudieron cargar los nuevos miembros. Por favor, intenta de nuevo ms tarde."})}),!t&&!r&&e&&e.length===0&&i.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[i.jsx(G3,{className:"h-12 w-12 text-muted-foreground mb-3"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"No hay nuevos miembros an"})]}),!t&&!r&&e&&e.length>0&&i.jsx("div",{className:"space-y-2",children:e.map(n=>i.jsx(P6,{user:n},n.id))})]})]})}const O6=()=>{var o,l,c,u;const{user:e,signOut:t}=jt(),r=vt(),[n,s]=p.useState(!1),a=d=>{};return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted",children:[i.jsx("header",{className:"border-b bg-card/95 backdrop-blur supports-[backdrop-filter]:bg-card/60",children:i.jsx("div",{className:"container mx-auto px-4 py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("img",{src:"/animacion-3-transparente.gif",alt:"Espaa Creativa logo animado",width:"40",height:"40",className:"w-10 h-10 object-contain",loading:"eager",fetchpriority:"high",decoding:"async"}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-xl font-bold text-foreground",children:"Espaa Creativa"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Red de emprendedores"})]})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs(Et,{className:"h-8 w-8 cursor-pointer hover:ring-2 hover:ring-primary transition-all",onClick:()=>r("/profile"),children:[i.jsx(zt,{src:e==null?void 0:e.avatar_url}),i.jsx(kt,{children:((l=(o=e==null?void 0:e.name)==null?void 0:o.charAt(0))==null?void 0:l.toUpperCase())||((u=(c=e==null?void 0:e.email)==null?void 0:c.charAt(0))==null?void 0:u.toUpperCase())})]}),i.jsxs(U,{variant:"ghost",size:"sm",onClick:()=>{t()},children:[i.jsx(nE,{className:"h-4 w-4 mr-2"}),"Salir"]})]})]})})}),i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs("h2",{className:"text-3xl font-bold text-foreground mb-2",children:["Bienvenid@, ",(e==null?void 0:e.name)||(e==null?void 0:e.email),"!"]}),i.jsx("p",{className:"text-muted-foreground",children:"Conecta con emprendedores y colabora en proyectos en la red de Espaa Creativa"})]}),(e==null?void 0:e.completed_pct)!==100&&i.jsxs(ge,{className:"mb-8 border-primary/20 bg-gradient-to-r from-primary/5 to-primary/10",children:[i.jsx(mt,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(ft,{className:"text-lg",children:"Completa tu perfil"}),i.jsx(ur,{children:"Un perfil completo te ayuda a conectar mejor con otros miembros"})]}),i.jsxs(_e,{variant:"secondary",children:[(e==null?void 0:e.completed_pct)||0,"% completado"]})]})}),i.jsxs(pe,{className:"space-y-4",children:[i.jsx(jk,{value:(e==null?void 0:e.completed_pct)||0,className:"w-full"}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs(U,{size:"sm",variant:"outline",onClick:()=>{s(!0)},children:[i.jsx(du,{className:"h-4 w-4 mr-2"}),"Aadir foto de perfil"]}),i.jsxs(U,{size:"sm",variant:"outline",onClick:()=>{r("/profile")},children:[i.jsx(uu,{className:"h-4 w-4 mr-2"}),"Completar informacin personal"]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[i.jsx(ge,{className:"hover:shadow-brand transition-shadow cursor-pointer",children:i.jsxs(pe,{className:"p-6 text-center",children:[i.jsx(V3,{className:"h-12 w-12 text-primary mx-auto mb-4"}),i.jsx("h3",{className:"font-semibold mb-2",children:"Mi Red"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Descubre emprendedores y mentores"}),i.jsx(U,{size:"sm",variant:"outline",className:"w-full",onClick:()=>{r("/network")},children:"Explorar"})]})}),i.jsx(ge,{className:"hover:shadow-brand transition-shadow cursor-pointer",children:i.jsxs(pe,{className:"p-6 text-center",children:[i.jsx(cu,{className:"h-12 w-12 text-primary mx-auto mb-4"}),i.jsx("h3",{className:"font-semibold mb-2",children:"Mensajes"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Chatea con otros miembros"}),i.jsx(U,{size:"sm",variant:"outline",className:"w-full",onClick:()=>{r("/messages")},children:"Ver mensajes"})]})}),i.jsx(ge,{className:"hover:shadow-brand transition-shadow cursor-pointer",children:i.jsxs(pe,{className:"p-6 text-center",children:[i.jsx(Xs,{className:"h-12 w-12 text-primary mx-auto mb-4"}),i.jsx("h3",{className:"font-semibold mb-2",children:"Oportunidades"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Colabora en proyectos"}),i.jsx(U,{size:"sm",variant:"outline",className:"w-full",onClick:()=>{r("/opportunities")},children:"Ver todas"})]})}),i.jsx(ge,{className:"hover:shadow-brand transition-shadow cursor-pointer",children:i.jsxs(pe,{className:"p-6 text-center",children:[i.jsx(cn,{className:"h-12 w-12 text-primary mx-auto mb-4"}),i.jsx("h3",{className:"font-semibold mb-2",children:"Programas"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Prximas iniciativas"}),i.jsx(U,{size:"sm",variant:"outline",className:"w-full",onClick:()=>{r("/programs")},children:"Explorar"})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsx(A6,{}),i.jsxs(ge,{children:[i.jsxs(mt,{children:[i.jsxs(ft,{className:"flex items-center",children:[i.jsx(Xs,{className:"h-5 w-5 mr-2"}),"Oportunidades recientes"]}),i.jsx(ur,{children:"Nuevas oportunidades de colaboracin disponibles"})]}),i.jsx(pe,{children:i.jsx("div",{className:"space-y-4",children:[1,2,3].map(d=>i.jsxs("div",{className:"space-y-2",children:[i.jsxs("h4",{className:"text-sm font-medium",children:["Proyecto ",d]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Buscamos desarrollador frontend para startup fintech..."}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex space-x-1",children:[i.jsx(_e,{variant:"secondary",className:"text-xs",children:"React"}),i.jsx(_e,{variant:"secondary",className:"text-xs",children:"Frontend"})]}),i.jsx(U,{size:"sm",variant:"outline",children:"Ver ms"})]})]},d))})})]})]}),i.jsx(_k,{open:n,onOpenChange:s,onPhotoUpdated:a})]})]})},I6=["top","right","bottom","left"],ei=Math.min,Ur=Math.max,Xh=Math.round,Id=Math.floor,gs=e=>({x:e,y:e}),M6={left:"right",right:"left",bottom:"top",top:"bottom"},D6={start:"end",end:"start"};function vv(e,t,r){return Ur(e,ei(t,r))}function Zs(e,t){return typeof e=="function"?e(t):e}function ea(e){return e.split("-")[0]}function Wl(e){return e.split("-")[1]}function kx(e){return e==="x"?"y":"x"}function Px(e){return e==="y"?"height":"width"}const L6=new Set(["top","bottom"]);function us(e){return L6.has(ea(e))?"y":"x"}function Rx(e){return kx(us(e))}function $6(e,t,r){r===void 0&&(r=!1);const n=Wl(e),s=Rx(e),a=Px(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=Zh(o)),[o,Zh(o)]}function F6(e){const t=Zh(e);return[yv(e),t,yv(t)]}function yv(e){return e.replace(/start|end/g,t=>D6[t])}const _j=["left","right"],Sj=["right","left"],U6=["top","bottom"],z6=["bottom","top"];function B6(e,t,r){switch(e){case"top":case"bottom":return r?t?Sj:_j:t?_j:Sj;case"left":case"right":return t?U6:z6;default:return[]}}function V6(e,t,r,n){const s=Wl(e);let a=B6(ea(e),r==="start",n);return s&&(a=a.map(o=>o+"-"+s),t&&(a=a.concat(a.map(yv)))),a}function Zh(e){return e.replace(/left|right|bottom|top/g,t=>M6[t])}function q6(e){return{top:0,right:0,bottom:0,left:0,...e}}function Sk(e){return typeof e!="number"?q6(e):{top:e,right:e,bottom:e,left:e}}function ef(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function Nj(e,t,r){let{reference:n,floating:s}=e;const a=us(t),o=Rx(t),l=Px(o),c=ea(t),u=a==="y",d=n.x+n.width/2-s.width/2,h=n.y+n.height/2-s.height/2,f=n[l]/2-s[l]/2;let m;switch(c){case"top":m={x:d,y:n.y-s.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:h};break;case"left":m={x:n.x-s.width,y:h};break;default:m={x:n.x,y:n.y}}switch(Wl(t)){case"start":m[o]-=f*(r&&u?-1:1);break;case"end":m[o]+=f*(r&&u?-1:1);break}return m}const W6=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:a=[],platform:o}=r,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:h}=Nj(u,n,c),f=n,m={},x=0;for(let g=0;g<l.length;g++){const{name:w,fn:y}=l[g],{x:v,y:b,data:j,reset:_}=await y({x:d,y:h,initialPlacement:n,placement:f,strategy:s,middlewareData:m,rects:u,platform:o,elements:{reference:e,floating:t}});d=v??d,h=b??h,m={...m,[w]:{...m[w],...j}},_&&x<=50&&(x++,typeof _=="object"&&(_.placement&&(f=_.placement),_.rects&&(u=_.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):_.rects),{x:d,y:h}=Nj(u,f,c)),g=-1)}return{x:d,y:h,placement:f,strategy:s,middlewareData:m}};async function hu(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:a,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:m=0}=Zs(t,e),x=Sk(m),w=l[f?h==="floating"?"reference":"floating":h],y=ef(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(w)))==null||r?w:w.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),v=h==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,b=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),j=await(a.isElement==null?void 0:a.isElement(b))?await(a.getScale==null?void 0:a.getScale(b))||{x:1,y:1}:{x:1,y:1},_=ef(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:b,strategy:c}):v);return{top:(y.top-_.top+x.top)/j.y,bottom:(_.bottom-y.bottom+x.bottom)/j.y,left:(y.left-_.left+x.left)/j.x,right:(_.right-y.right+x.right)/j.x}}const H6=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:a,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Zs(e,t)||{};if(u==null)return{};const h=Sk(d),f={x:r,y:n},m=Rx(s),x=Px(m),g=await o.getDimensions(u),w=m==="y",y=w?"top":"left",v=w?"bottom":"right",b=w?"clientHeight":"clientWidth",j=a.reference[x]+a.reference[m]-f[m]-a.floating[x],_=f[m]-a.reference[m],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let N=S?S[b]:0;(!N||!await(o.isElement==null?void 0:o.isElement(S)))&&(N=l.floating[b]||a.floating[x]);const E=j/2-_/2,P=N/2-g[x]/2-1,T=ei(h[y],P),B=ei(h[v],P),D=T,q=N-g[x]-B,F=N/2-g[x]/2+E,M=vv(D,F,q),V=!c.arrow&&Wl(s)!=null&&F!==M&&a.reference[x]/2-(F<D?T:B)-g[x]/2<0,Z=V?F<D?F-D:F-q:0;return{[m]:f[m]+Z,data:{[m]:M,centerOffset:F-M-Z,...V&&{alignmentOffset:Z}},reset:V}}}),K6=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:g=!0,...w}=Zs(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const y=ea(s),v=us(l),b=ea(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),_=f||(b||!g?[Zh(l)]:F6(l)),S=x!=="none";!f&&S&&_.push(...V6(l,g,x,j));const N=[l,..._],E=await hu(t,w),P=[];let T=((n=a.flip)==null?void 0:n.overflows)||[];if(d&&P.push(E[y]),h){const F=$6(s,o,j);P.push(E[F[0]],E[F[1]])}if(T=[...T,{placement:s,overflows:P}],!P.every(F=>F<=0)){var B,D;const F=(((B=a.flip)==null?void 0:B.index)||0)+1,M=N[F];if(M&&(!(h==="alignment"?v!==us(M):!1)||T.every(I=>us(I.placement)===v?I.overflows[0]>0:!0)))return{data:{index:F,overflows:T},reset:{placement:M}};let V=(D=T.filter(Z=>Z.overflows[0]<=0).sort((Z,I)=>Z.overflows[1]-I.overflows[1])[0])==null?void 0:D.placement;if(!V)switch(m){case"bestFit":{var q;const Z=(q=T.filter(I=>{if(S){const A=us(I.placement);return A===v||A==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(A=>A>0).reduce((A,H)=>A+H,0)]).sort((I,A)=>I[1]-A[1])[0])==null?void 0:q[0];Z&&(V=Z);break}case"initialPlacement":V=l;break}if(s!==V)return{reset:{placement:V}}}return{}}}};function Cj(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Ej(e){return I6.some(t=>e[t]>=0)}const G6=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=Zs(e,t);switch(n){case"referenceHidden":{const a=await hu(t,{...s,elementContext:"reference"}),o=Cj(a,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Ej(o)}}}case"escaped":{const a=await hu(t,{...s,altBoundary:!0}),o=Cj(a,r.floating);return{data:{escapedOffsets:o,escaped:Ej(o)}}}default:return{}}}}},Nk=new Set(["left","top"]);async function Q6(e,t){const{placement:r,platform:n,elements:s}=e,a=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=ea(r),l=Wl(r),c=us(r)==="y",u=Nk.has(o)?-1:1,d=a&&c?-1:1,h=Zs(t,e);let{mainAxis:f,crossAxis:m,alignmentAxis:x}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof x=="number"&&(m=l==="end"?x*-1:x),c?{x:m*d,y:f*u}:{x:f*u,y:m*d}}const J6=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:a,placement:o,middlewareData:l}=t,c=await Q6(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:o}}}}},Y6=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:w=>{let{x:y,y:v}=w;return{x:y,y:v}}},...c}=Zs(e,t),u={x:r,y:n},d=await hu(t,c),h=us(ea(s)),f=kx(h);let m=u[f],x=u[h];if(a){const w=f==="y"?"top":"left",y=f==="y"?"bottom":"right",v=m+d[w],b=m-d[y];m=vv(v,m,b)}if(o){const w=h==="y"?"top":"left",y=h==="y"?"bottom":"right",v=x+d[w],b=x-d[y];x=vv(v,x,b)}const g=l.fn({...t,[f]:m,[h]:x});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[f]:a,[h]:o}}}}}},X6=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:a,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Zs(e,t),d={x:r,y:n},h=us(s),f=kx(h);let m=d[f],x=d[h];const g=Zs(l,t),w=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const b=f==="y"?"height":"width",j=a.reference[f]-a.floating[b]+w.mainAxis,_=a.reference[f]+a.reference[b]-w.mainAxis;m<j?m=j:m>_&&(m=_)}if(u){var y,v;const b=f==="y"?"width":"height",j=Nk.has(ea(s)),_=a.reference[h]-a.floating[b]+(j&&((y=o.offset)==null?void 0:y[h])||0)+(j?0:w.crossAxis),S=a.reference[h]+a.reference[b]+(j?0:((v=o.offset)==null?void 0:v[h])||0)-(j?w.crossAxis:0);x<_?x=_:x>S&&(x=S)}return{[f]:m,[h]:x}}}},Z6=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:a,platform:o,elements:l}=t,{apply:c=()=>{},...u}=Zs(e,t),d=await hu(t,u),h=ea(s),f=Wl(s),m=us(s)==="y",{width:x,height:g}=a.floating;let w,y;h==="top"||h==="bottom"?(w=h,y=f===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(y=h,w=f==="end"?"top":"bottom");const v=g-d.top-d.bottom,b=x-d.left-d.right,j=ei(g-d[w],v),_=ei(x-d[y],b),S=!t.middlewareData.shift;let N=j,E=_;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(E=b),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(N=v),S&&!f){const T=Ur(d.left,0),B=Ur(d.right,0),D=Ur(d.top,0),q=Ur(d.bottom,0);m?E=x-2*(T!==0||B!==0?T+B:Ur(d.left,d.right)):N=g-2*(D!==0||q!==0?D+q:Ur(d.top,d.bottom))}await c({...t,availableWidth:E,availableHeight:N});const P=await o.getDimensions(l.floating);return x!==P.width||g!==P.height?{reset:{rects:!0}}:{}}}};function Zf(){return typeof window<"u"}function Hl(e){return Ck(e)?(e.nodeName||"").toLowerCase():"#document"}function Kr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function js(e){var t;return(t=(Ck(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Ck(e){return Zf()?e instanceof Node||e instanceof Kr(e).Node:!1}function zn(e){return Zf()?e instanceof Element||e instanceof Kr(e).Element:!1}function bs(e){return Zf()?e instanceof HTMLElement||e instanceof Kr(e).HTMLElement:!1}function kj(e){return!Zf()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Kr(e).ShadowRoot}const ez=new Set(["inline","contents"]);function Vu(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=Bn(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!ez.has(s)}const tz=new Set(["table","td","th"]);function rz(e){return tz.has(Hl(e))}const nz=[":popover-open",":modal"];function em(e){return nz.some(t=>{try{return e.matches(t)}catch{return!1}})}const sz=["transform","translate","scale","rotate","perspective"],az=["transform","translate","scale","rotate","perspective","filter"],iz=["paint","layout","strict","content"];function Tx(e){const t=Ax(),r=zn(e)?Bn(e):e;return sz.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||az.some(n=>(r.willChange||"").includes(n))||iz.some(n=>(r.contain||"").includes(n))}function oz(e){let t=ti(e);for(;bs(t)&&!El(t);){if(Tx(t))return t;if(em(t))return null;t=ti(t)}return null}function Ax(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const lz=new Set(["html","body","#document"]);function El(e){return lz.has(Hl(e))}function Bn(e){return Kr(e).getComputedStyle(e)}function tm(e){return zn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ti(e){if(Hl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||kj(e)&&e.host||js(e);return kj(t)?t.host:t}function Ek(e){const t=ti(e);return El(t)?e.ownerDocument?e.ownerDocument.body:e.body:bs(t)&&Vu(t)?t:Ek(t)}function fu(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=Ek(e),a=s===((n=e.ownerDocument)==null?void 0:n.body),o=Kr(s);if(a){const l=xv(o);return t.concat(o,o.visualViewport||[],Vu(s)?s:[],l&&r?fu(l):[])}return t.concat(s,fu(s,[],r))}function xv(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function kk(e){const t=Bn(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=bs(e),a=s?e.offsetWidth:r,o=s?e.offsetHeight:n,l=Xh(r)!==a||Xh(n)!==o;return l&&(r=a,n=o),{width:r,height:n,$:l}}function Ox(e){return zn(e)?e:e.contextElement}function Qo(e){const t=Ox(e);if(!bs(t))return gs(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:a}=kk(t);let o=(a?Xh(r.width):r.width)/n,l=(a?Xh(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const cz=gs(0);function Pk(e){const t=Kr(e);return!Ax()||!t.visualViewport?cz:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function uz(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Kr(e)?!1:t}function Zi(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),a=Ox(e);let o=gs(1);t&&(n?zn(n)&&(o=Qo(n)):o=Qo(e));const l=uz(a,r,n)?Pk(a):gs(0);let c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,d=s.width/o.x,h=s.height/o.y;if(a){const f=Kr(a),m=n&&zn(n)?Kr(n):n;let x=f,g=xv(x);for(;g&&n&&m!==x;){const w=Qo(g),y=g.getBoundingClientRect(),v=Bn(g),b=y.left+(g.clientLeft+parseFloat(v.paddingLeft))*w.x,j=y.top+(g.clientTop+parseFloat(v.paddingTop))*w.y;c*=w.x,u*=w.y,d*=w.x,h*=w.y,c+=b,u+=j,x=Kr(g),g=xv(x)}}return ef({width:d,height:h,x:c,y:u})}function rm(e,t){const r=tm(e).scrollLeft;return t?t.left+r:Zi(js(e)).left+r}function Rk(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-rm(e,r),s=r.top+t.scrollTop;return{x:n,y:s}}function dz(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const a=s==="fixed",o=js(n),l=t?em(t.floating):!1;if(n===o||l&&a)return r;let c={scrollLeft:0,scrollTop:0},u=gs(1);const d=gs(0),h=bs(n);if((h||!h&&!a)&&((Hl(n)!=="body"||Vu(o))&&(c=tm(n)),bs(n))){const m=Zi(n);u=Qo(n),d.x=m.x+n.clientLeft,d.y=m.y+n.clientTop}const f=o&&!h&&!a?Rk(o,c):gs(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+f.x,y:r.y*u.y-c.scrollTop*u.y+d.y+f.y}}function hz(e){return Array.from(e.getClientRects())}function fz(e){const t=js(e),r=tm(e),n=e.ownerDocument.body,s=Ur(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=Ur(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+rm(e);const l=-r.scrollTop;return Bn(n).direction==="rtl"&&(o+=Ur(t.clientWidth,n.clientWidth)-s),{width:s,height:a,x:o,y:l}}const Pj=25;function mz(e,t){const r=Kr(e),n=js(e),s=r.visualViewport;let a=n.clientWidth,o=n.clientHeight,l=0,c=0;if(s){a=s.width,o=s.height;const d=Ax();(!d||d&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}const u=rm(n);if(u<=0){const d=n.ownerDocument,h=d.body,f=getComputedStyle(h),m=d.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,x=Math.abs(n.clientWidth-h.clientWidth-m);x<=Pj&&(a-=x)}else u<=Pj&&(a+=u);return{width:a,height:o,x:l,y:c}}const pz=new Set(["absolute","fixed"]);function gz(e,t){const r=Zi(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,a=bs(e)?Qo(e):gs(1),o=e.clientWidth*a.x,l=e.clientHeight*a.y,c=s*a.x,u=n*a.y;return{width:o,height:l,x:c,y:u}}function Rj(e,t,r){let n;if(t==="viewport")n=mz(e,r);else if(t==="document")n=fz(js(e));else if(zn(t))n=gz(t,r);else{const s=Pk(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return ef(n)}function Tk(e,t){const r=ti(e);return r===t||!zn(r)||El(r)?!1:Bn(r).position==="fixed"||Tk(r,t)}function vz(e,t){const r=t.get(e);if(r)return r;let n=fu(e,[],!1).filter(l=>zn(l)&&Hl(l)!=="body"),s=null;const a=Bn(e).position==="fixed";let o=a?ti(e):e;for(;zn(o)&&!El(o);){const l=Bn(o),c=Tx(o);!c&&l.position==="fixed"&&(s=null),(a?!c&&!s:!c&&l.position==="static"&&!!s&&pz.has(s.position)||Vu(o)&&!c&&Tk(e,o))?n=n.filter(d=>d!==o):s=l,o=ti(o)}return t.set(e,n),n}function yz(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const o=[...r==="clippingAncestors"?em(t)?[]:vz(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const h=Rj(t,d,s);return u.top=Ur(h.top,u.top),u.right=ei(h.right,u.right),u.bottom=ei(h.bottom,u.bottom),u.left=Ur(h.left,u.left),u},Rj(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function xz(e){const{width:t,height:r}=kk(e);return{width:t,height:r}}function wz(e,t,r){const n=bs(t),s=js(t),a=r==="fixed",o=Zi(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=gs(0);function u(){c.x=rm(s)}if(n||!n&&!a)if((Hl(t)!=="body"||Vu(s))&&(l=tm(t)),n){const m=Zi(t,!0,a,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else s&&u();a&&!n&&s&&u();const d=s&&!n&&!a?Rk(s,l):gs(0),h=o.left+l.scrollLeft-c.x-d.x,f=o.top+l.scrollTop-c.y-d.y;return{x:h,y:f,width:o.width,height:o.height}}function Sp(e){return Bn(e).position==="static"}function Tj(e,t){if(!bs(e)||Bn(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return js(e)===r&&(r=r.ownerDocument.body),r}function Ak(e,t){const r=Kr(e);if(em(e))return r;if(!bs(e)){let s=ti(e);for(;s&&!El(s);){if(zn(s)&&!Sp(s))return s;s=ti(s)}return r}let n=Tj(e,t);for(;n&&rz(n)&&Sp(n);)n=Tj(n,t);return n&&El(n)&&Sp(n)&&!Tx(n)?r:n||oz(e)||r}const bz=async function(e){const t=this.getOffsetParent||Ak,r=this.getDimensions,n=await r(e.floating);return{reference:wz(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function jz(e){return Bn(e).direction==="rtl"}const _z={convertOffsetParentRelativeRectToViewportRelativeRect:dz,getDocumentElement:js,getClippingRect:yz,getOffsetParent:Ak,getElementRects:bz,getClientRects:hz,getDimensions:xz,getScale:Qo,isElement:zn,isRTL:jz};function Ok(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Sz(e,t){let r=null,n;const s=js(e);function a(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const u=e.getBoundingClientRect(),{left:d,top:h,width:f,height:m}=u;if(l||t(),!f||!m)return;const x=Id(h),g=Id(s.clientWidth-(d+f)),w=Id(s.clientHeight-(h+m)),y=Id(d),b={rootMargin:-x+"px "+-g+"px "+-w+"px "+-y+"px",threshold:Ur(0,ei(1,c))||1};let j=!0;function _(S){const N=S[0].intersectionRatio;if(N!==c){if(!j)return o();N?o(!1,N):n=setTimeout(()=>{o(!1,1e-7)},1e3)}N===1&&!Ok(u,e.getBoundingClientRect())&&o(),j=!1}try{r=new IntersectionObserver(_,{...b,root:s.ownerDocument})}catch{r=new IntersectionObserver(_,b)}r.observe(e)}return o(!0),a}function Nz(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=Ox(e),d=s||a?[...u?fu(u):[],...fu(t)]:[];d.forEach(y=>{s&&y.addEventListener("scroll",r,{passive:!0}),a&&y.addEventListener("resize",r)});const h=u&&l?Sz(u,r):null;let f=-1,m=null;o&&(m=new ResizeObserver(y=>{let[v]=y;v&&v.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var b;(b=m)==null||b.observe(t)})),r()}),u&&!c&&m.observe(u),m.observe(t));let x,g=c?Zi(e):null;c&&w();function w(){const y=Zi(e);g&&!Ok(g,y)&&r(),g=y,x=requestAnimationFrame(w)}return r(),()=>{var y;d.forEach(v=>{s&&v.removeEventListener("scroll",r),a&&v.removeEventListener("resize",r)}),h==null||h(),(y=m)==null||y.disconnect(),m=null,c&&cancelAnimationFrame(x)}}const Cz=J6,Ez=Y6,kz=K6,Pz=Z6,Rz=G6,Aj=H6,Tz=X6,Az=(e,t,r)=>{const n=new Map,s={platform:_z,...r},a={...s.platform,_c:n};return W6(e,t,{...s,platform:a})};var Oz=typeof document<"u",Iz=function(){},ih=Oz?p.useLayoutEffect:Iz;function tf(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!tf(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const a=s[n];if(!(a==="_owner"&&e.$$typeof)&&!tf(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function Ik(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Oj(e,t){const r=Ik(e);return Math.round(t*r)/r}function Np(e){const t=p.useRef(e);return ih(()=>{t.current=e}),t}function Mz(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,h]=p.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[f,m]=p.useState(n);tf(f,n)||m(n);const[x,g]=p.useState(null),[w,y]=p.useState(null),v=p.useCallback(I=>{I!==S.current&&(S.current=I,g(I))},[]),b=p.useCallback(I=>{I!==N.current&&(N.current=I,y(I))},[]),j=a||x,_=o||w,S=p.useRef(null),N=p.useRef(null),E=p.useRef(d),P=c!=null,T=Np(c),B=Np(s),D=Np(u),q=p.useCallback(()=>{if(!S.current||!N.current)return;const I={placement:t,strategy:r,middleware:f};B.current&&(I.platform=B.current),Az(S.current,N.current,I).then(A=>{const H={...A,isPositioned:D.current!==!1};F.current&&!tf(E.current,H)&&(E.current=H,so.flushSync(()=>{h(H)}))})},[f,t,r,B,D]);ih(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,h(I=>({...I,isPositioned:!1})))},[u]);const F=p.useRef(!1);ih(()=>(F.current=!0,()=>{F.current=!1}),[]),ih(()=>{if(j&&(S.current=j),_&&(N.current=_),j&&_){if(T.current)return T.current(j,_,q);q()}},[j,_,q,T,P]);const M=p.useMemo(()=>({reference:S,floating:N,setReference:v,setFloating:b}),[v,b]),V=p.useMemo(()=>({reference:j,floating:_}),[j,_]),Z=p.useMemo(()=>{const I={position:r,left:0,top:0};if(!V.floating)return I;const A=Oj(V.floating,d.x),H=Oj(V.floating,d.y);return l?{...I,transform:"translate("+A+"px, "+H+"px)",...Ik(V.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:A,top:H}},[r,l,V.floating,d.x,d.y]);return p.useMemo(()=>({...d,update:q,refs:M,elements:V,floatingStyles:Z}),[d,q,M,V,Z])}const Dz=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?Aj({element:n.current,padding:s}).fn(r):{}:n?Aj({element:n,padding:s}).fn(r):{}}}},Lz=(e,t)=>({...Cz(e),options:[e,t]}),$z=(e,t)=>({...Ez(e),options:[e,t]}),Fz=(e,t)=>({...Tz(e),options:[e,t]}),Uz=(e,t)=>({...kz(e),options:[e,t]}),zz=(e,t)=>({...Pz(e),options:[e,t]}),Bz=(e,t)=>({...Rz(e),options:[e,t]}),Vz=(e,t)=>({...Dz(e),options:[e,t]});var qz="Arrow",Mk=p.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...a}=e;return i.jsx(de.svg,{...a,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});Mk.displayName=qz;var Wz=Mk,Ix="Popper",[Dk,nm]=gr(Ix),[Hz,Lk]=Dk(Ix),$k=e=>{const{__scopePopper:t,children:r}=e,[n,s]=p.useState(null);return i.jsx(Hz,{scope:t,anchor:n,onAnchorChange:s,children:r})};$k.displayName=Ix;var Fk="PopperAnchor",Uk=p.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,a=Lk(Fk,r),o=p.useRef(null),l=Re(t,o),c=p.useRef(null);return p.useEffect(()=>{const u=c.current;c.current=(n==null?void 0:n.current)||o.current,u!==c.current&&a.onAnchorChange(c.current)}),n?null:i.jsx(de.div,{...s,ref:l})});Uk.displayName=Fk;var Mx="PopperContent",[Kz,Gz]=Dk(Mx),zk=p.forwardRef((e,t)=>{var J,Fe,De,Ie,Le,Ue;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:x,...g}=e,w=Lk(Mx,r),[y,v]=p.useState(null),b=Re(t,Bt=>v(Bt)),[j,_]=p.useState(null),S=sx(j),N=(S==null?void 0:S.width)??0,E=(S==null?void 0:S.height)??0,P=n+(a!=="center"?"-"+a:""),T=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},B=Array.isArray(u)?u:[u],D=B.length>0,q={padding:T,boundary:B.filter(Jz),altBoundary:D},{refs:F,floatingStyles:M,placement:V,isPositioned:Z,middlewareData:I}=Mz({strategy:"fixed",placement:P,whileElementsMounted:(...Bt)=>Nz(...Bt,{animationFrame:m==="always"}),elements:{reference:w.anchor},middleware:[Lz({mainAxis:s+E,alignmentAxis:o}),c&&$z({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?Fz():void 0,...q}),c&&Uz({...q}),zz({...q,apply:({elements:Bt,rects:ar,availableWidth:Hn,availableHeight:Kn})=>{const{width:Ss,height:ho}=ar.reference,Ns=Bt.floating.style;Ns.setProperty("--radix-popper-available-width",`${Hn}px`),Ns.setProperty("--radix-popper-available-height",`${Kn}px`),Ns.setProperty("--radix-popper-anchor-width",`${Ss}px`),Ns.setProperty("--radix-popper-anchor-height",`${ho}px`)}}),j&&Vz({element:j,padding:l}),Yz({arrowWidth:N,arrowHeight:E}),f&&Bz({strategy:"referenceHidden",...q})]}),[A,H]=qk(V),ie=bt(x);Ct(()=>{Z&&(ie==null||ie())},[Z,ie]);const ne=(J=I.arrow)==null?void 0:J.x,ye=(Fe=I.arrow)==null?void 0:Fe.y,ve=((De=I.arrow)==null?void 0:De.centerOffset)!==0,[Ve,Ke]=p.useState();return Ct(()=>{y&&Ke(window.getComputedStyle(y).zIndex)},[y]),i.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...M,transform:Z?M.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ve,"--radix-popper-transform-origin":[(Ie=I.transformOrigin)==null?void 0:Ie.x,(Le=I.transformOrigin)==null?void 0:Le.y].join(" "),...((Ue=I.hide)==null?void 0:Ue.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:i.jsx(Kz,{scope:r,placedSide:A,onArrowChange:_,arrowX:ne,arrowY:ye,shouldHideArrow:ve,children:i.jsx(de.div,{"data-side":A,"data-align":H,...g,ref:b,style:{...g.style,animation:Z?void 0:"none"}})})})});zk.displayName=Mx;var Bk="PopperArrow",Qz={top:"bottom",right:"left",bottom:"top",left:"right"},Vk=p.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,a=Gz(Bk,n),o=Qz[a.placedSide];return i.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:i.jsx(Wz,{...s,ref:r,style:{...s.style,display:"block"}})})});Vk.displayName=Bk;function Jz(e){return e!==null}var Yz=e=>({name:"transformOrigin",options:e,fn(t){var w,y,v;const{placement:r,rects:n,middlewareData:s}=t,o=((w=s.arrow)==null?void 0:w.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=qk(r),h={start:"0%",center:"50%",end:"100%"}[d],f=(((y=s.arrow)==null?void 0:y.x)??0)+l/2,m=(((v=s.arrow)==null?void 0:v.y)??0)+c/2;let x="",g="";return u==="bottom"?(x=o?h:`${f}px`,g=`${-c}px`):u==="top"?(x=o?h:`${f}px`,g=`${n.floating.height+c}px`):u==="right"?(x=`${-c}px`,g=o?h:`${m}px`):u==="left"&&(x=`${n.floating.width+c}px`,g=o?h:`${m}px`),{data:{x,y:g}}}});function qk(e){const[t,r="center"]=e.split("-");return[t,r]}var Wk=$k,Hk=Uk,Kk=zk,Gk=Vk,wv=["Enter"," "],Xz=["ArrowDown","PageUp","Home"],Qk=["ArrowUp","PageDown","End"],Zz=[...Xz,...Qk],eB={ltr:[...wv,"ArrowRight"],rtl:[...wv,"ArrowLeft"]},tB={ltr:["ArrowLeft"],rtl:["ArrowRight"]},qu="Menu",[mu,rB,nB]=Wf(qu),[co,Jk]=gr(qu,[nB,nm,Hf]),sm=nm(),Yk=Hf(),[sB,uo]=co(qu),[aB,Wu]=co(qu),Xk=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:a,modal:o=!0}=e,l=sm(t),[c,u]=p.useState(null),d=p.useRef(!1),h=bt(a),f=$u(s);return p.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),i.jsx(Wk,{...l,children:i.jsx(sB,{scope:t,open:r,onOpenChange:h,content:c,onContentChange:u,children:i.jsx(aB,{scope:t,onClose:p.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:f,modal:o,children:n})})})};Xk.displayName=qu;var iB="MenuAnchor",Dx=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=sm(r);return i.jsx(Hk,{...s,...n,ref:t})});Dx.displayName=iB;var Lx="MenuPortal",[oB,Zk]=co(Lx,{forceMount:void 0}),eP=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,a=uo(Lx,t);return i.jsx(oB,{scope:t,forceMount:r,children:i.jsx(vr,{present:r||a.open,children:i.jsx(Lu,{asChild:!0,container:s,children:n})})})};eP.displayName=Lx;var sn="MenuContent",[lB,$x]=co(sn),tP=p.forwardRef((e,t)=>{const r=Zk(sn,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,a=uo(sn,e.__scopeMenu),o=Wu(sn,e.__scopeMenu);return i.jsx(mu.Provider,{scope:e.__scopeMenu,children:i.jsx(vr,{present:n||a.open,children:i.jsx(mu.Slot,{scope:e.__scopeMenu,children:o.modal?i.jsx(cB,{...s,ref:t}):i.jsx(uB,{...s,ref:t})})})})}),cB=p.forwardRef((e,t)=>{const r=uo(sn,e.__scopeMenu),n=p.useRef(null),s=Re(t,n);return p.useEffect(()=>{const a=n.current;if(a)return dx(a)},[]),i.jsx(Fx,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:X(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),uB=p.forwardRef((e,t)=>{const r=uo(sn,e.__scopeMenu);return i.jsx(Fx,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),dB=Ji("MenuContent.ScrollLock"),Fx=p.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:m,disableOutsideScroll:x,...g}=e,w=uo(sn,r),y=Wu(sn,r),v=sm(r),b=Yk(r),j=rB(r),[_,S]=p.useState(null),N=p.useRef(null),E=Re(t,N,w.onContentChange),P=p.useRef(0),T=p.useRef(""),B=p.useRef(0),D=p.useRef(null),q=p.useRef("right"),F=p.useRef(0),M=x?Vf:p.Fragment,V=x?{as:dB,allowPinchZoom:!0}:void 0,Z=A=>{var J,Fe;const H=T.current+A,ie=j().filter(De=>!De.disabled),ne=document.activeElement,ye=(J=ie.find(De=>De.ref.current===ne))==null?void 0:J.textValue,ve=ie.map(De=>De.textValue),Ve=_B(ve,H,ye),Ke=(Fe=ie.find(De=>De.textValue===Ve))==null?void 0:Fe.ref.current;(function De(Ie){T.current=Ie,window.clearTimeout(P.current),Ie!==""&&(P.current=window.setTimeout(()=>De(""),1e3))})(H),Ke&&setTimeout(()=>Ke.focus())};p.useEffect(()=>()=>window.clearTimeout(P.current),[]),ux();const I=p.useCallback(A=>{var ie,ne;return q.current===((ie=D.current)==null?void 0:ie.side)&&NB(A,(ne=D.current)==null?void 0:ne.area)},[]);return i.jsx(lB,{scope:r,searchRef:T,onItemEnter:p.useCallback(A=>{I(A)&&A.preventDefault()},[I]),onItemLeave:p.useCallback(A=>{var H;I(A)||((H=N.current)==null||H.focus(),S(null))},[I]),onTriggerLeave:p.useCallback(A=>{I(A)&&A.preventDefault()},[I]),pointerGraceTimerRef:B,onPointerGraceIntentChange:p.useCallback(A=>{D.current=A},[]),children:i.jsx(M,{...V,children:i.jsx(zf,{asChild:!0,trapped:s,onMountAutoFocus:X(a,A=>{var H;A.preventDefault(),(H=N.current)==null||H.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:i.jsx(Du,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:m,children:i.jsx(VE,{asChild:!0,...b,dir:y.dir,orientation:"vertical",loop:n,currentTabStopId:_,onCurrentTabStopIdChange:S,onEntryFocus:X(c,A=>{y.isUsingKeyboardRef.current||A.preventDefault()}),preventScrollOnEntryFocus:!0,children:i.jsx(Kk,{role:"menu","aria-orientation":"vertical","data-state":vP(w.open),"data-radix-menu-content":"",dir:y.dir,...v,...g,ref:E,style:{outline:"none",...g.style},onKeyDown:X(g.onKeyDown,A=>{const ie=A.target.closest("[data-radix-menu-content]")===A.currentTarget,ne=A.ctrlKey||A.altKey||A.metaKey,ye=A.key.length===1;ie&&(A.key==="Tab"&&A.preventDefault(),!ne&&ye&&Z(A.key));const ve=N.current;if(A.target!==ve||!Zz.includes(A.key))return;A.preventDefault();const Ke=j().filter(J=>!J.disabled).map(J=>J.ref.current);Qk.includes(A.key)&&Ke.reverse(),bB(Ke)}),onBlur:X(e.onBlur,A=>{A.currentTarget.contains(A.target)||(window.clearTimeout(P.current),T.current="")}),onPointerMove:X(e.onPointerMove,pu(A=>{const H=A.target,ie=F.current!==A.clientX;if(A.currentTarget.contains(H)&&ie){const ne=A.clientX>F.current?"right":"left";q.current=ne,F.current=A.clientX}}))})})})})})})});tP.displayName=sn;var hB="MenuGroup",Ux=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(de.div,{role:"group",...n,ref:t})});Ux.displayName=hB;var fB="MenuLabel",rP=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(de.div,{...n,ref:t})});rP.displayName=fB;var rf="MenuItem",Ij="menu.itemSelect",am=p.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,a=p.useRef(null),o=Wu(rf,e.__scopeMenu),l=$x(rf,e.__scopeMenu),c=Re(t,a),u=p.useRef(!1),d=()=>{const h=a.current;if(!r&&h){const f=new CustomEvent(Ij,{bubbles:!0,cancelable:!0});h.addEventListener(Ij,m=>n==null?void 0:n(m),{once:!0}),rx(h,f),f.defaultPrevented?u.current=!1:o.onClose()}};return i.jsx(nP,{...s,ref:c,disabled:r,onClick:X(e.onClick,d),onPointerDown:h=>{var f;(f=e.onPointerDown)==null||f.call(e,h),u.current=!0},onPointerUp:X(e.onPointerUp,h=>{var f;u.current||(f=h.currentTarget)==null||f.click()}),onKeyDown:X(e.onKeyDown,h=>{const f=l.searchRef.current!=="";r||f&&h.key===" "||wv.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});am.displayName=rf;var nP=p.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...a}=e,o=$x(rf,r),l=Yk(r),c=p.useRef(null),u=Re(t,c),[d,h]=p.useState(!1),[f,m]=p.useState("");return p.useEffect(()=>{const x=c.current;x&&m((x.textContent??"").trim())},[a.children]),i.jsx(mu.ItemSlot,{scope:r,disabled:n,textValue:s??f,children:i.jsx(qE,{asChild:!0,...l,focusable:!n,children:i.jsx(de.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...a,ref:u,onPointerMove:X(e.onPointerMove,pu(x=>{n?o.onItemLeave(x):(o.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:X(e.onPointerLeave,pu(x=>o.onItemLeave(x))),onFocus:X(e.onFocus,()=>h(!0)),onBlur:X(e.onBlur,()=>h(!1))})})})}),mB="MenuCheckboxItem",sP=p.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return i.jsx(cP,{scope:e.__scopeMenu,checked:r,children:i.jsx(am,{role:"menuitemcheckbox","aria-checked":nf(r)?"mixed":r,...s,ref:t,"data-state":Bx(r),onSelect:X(s.onSelect,()=>n==null?void 0:n(nf(r)?!0:!r),{checkForDefaultPrevented:!1})})})});sP.displayName=mB;var aP="MenuRadioGroup",[pB,gB]=co(aP,{value:void 0,onValueChange:()=>{}}),iP=p.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,a=bt(n);return i.jsx(pB,{scope:e.__scopeMenu,value:r,onValueChange:a,children:i.jsx(Ux,{...s,ref:t})})});iP.displayName=aP;var oP="MenuRadioItem",lP=p.forwardRef((e,t)=>{const{value:r,...n}=e,s=gB(oP,e.__scopeMenu),a=r===s.value;return i.jsx(cP,{scope:e.__scopeMenu,checked:a,children:i.jsx(am,{role:"menuitemradio","aria-checked":a,...n,ref:t,"data-state":Bx(a),onSelect:X(n.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,r)},{checkForDefaultPrevented:!1})})})});lP.displayName=oP;var zx="MenuItemIndicator",[cP,vB]=co(zx,{checked:!1}),uP=p.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,a=vB(zx,r);return i.jsx(vr,{present:n||nf(a.checked)||a.checked===!0,children:i.jsx(de.span,{...s,ref:t,"data-state":Bx(a.checked)})})});uP.displayName=zx;var yB="MenuSeparator",dP=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(de.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});dP.displayName=yB;var xB="MenuArrow",hP=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=sm(r);return i.jsx(Gk,{...s,...n,ref:t})});hP.displayName=xB;var wB="MenuSub",[C7,fP]=co(wB),yc="MenuSubTrigger",mP=p.forwardRef((e,t)=>{const r=uo(yc,e.__scopeMenu),n=Wu(yc,e.__scopeMenu),s=fP(yc,e.__scopeMenu),a=$x(yc,e.__scopeMenu),o=p.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,u={__scopeMenu:e.__scopeMenu},d=p.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return p.useEffect(()=>d,[d]),p.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),i.jsx(Dx,{asChild:!0,...u,children:i.jsx(nP,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":vP(r.open),...e,ref:Df(t,s.onTriggerChange),onClick:h=>{var f;(f=e.onClick)==null||f.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:X(e.onPointerMove,pu(h=>{a.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:X(e.onPointerLeave,pu(h=>{var m,x;d();const f=(m=r.content)==null?void 0:m.getBoundingClientRect();if(f){const g=(x=r.content)==null?void 0:x.dataset.side,w=g==="right",y=w?-5:5,v=f[w?"left":"right"],b=f[w?"right":"left"];a.onPointerGraceIntentChange({area:[{x:h.clientX+y,y:h.clientY},{x:v,y:f.top},{x:b,y:f.top},{x:b,y:f.bottom},{x:v,y:f.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(h),h.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:X(e.onKeyDown,h=>{var m;const f=a.searchRef.current!=="";e.disabled||f&&h.key===" "||eB[n.dir].includes(h.key)&&(r.onOpenChange(!0),(m=r.content)==null||m.focus(),h.preventDefault())})})})});mP.displayName=yc;var pP="MenuSubContent",gP=p.forwardRef((e,t)=>{const r=Zk(sn,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,a=uo(sn,e.__scopeMenu),o=Wu(sn,e.__scopeMenu),l=fP(pP,e.__scopeMenu),c=p.useRef(null),u=Re(t,c);return i.jsx(mu.Provider,{scope:e.__scopeMenu,children:i.jsx(vr,{present:n||a.open,children:i.jsx(mu.Slot,{scope:e.__scopeMenu,children:i.jsx(Fx,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;o.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:X(e.onFocusOutside,d=>{d.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:X(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:X(e.onKeyDown,d=>{var m;const h=d.currentTarget.contains(d.target),f=tB[o.dir].includes(d.key);h&&f&&(a.onOpenChange(!1),(m=l.trigger)==null||m.focus(),d.preventDefault())})})})})})});gP.displayName=pP;function vP(e){return e?"open":"closed"}function nf(e){return e==="indeterminate"}function Bx(e){return nf(e)?"indeterminate":e?"checked":"unchecked"}function bB(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function jB(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function _B(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let o=jB(e,Math.max(a,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function SB(e,t){const{x:r,y:n}=e;let s=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a],c=t[o],u=l.x,d=l.y,h=c.x,f=c.y;d>n!=f>n&&r<(h-u)*(n-d)/(f-d)+u&&(s=!s)}return s}function NB(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return SB(r,t)}function pu(e){return t=>t.pointerType==="mouse"?e(t):void 0}var CB=Xk,EB=Dx,kB=eP,PB=tP,RB=Ux,TB=rP,AB=am,OB=sP,IB=iP,MB=lP,DB=uP,LB=dP,$B=hP,FB=mP,UB=gP,im="DropdownMenu",[zB]=gr(im,[Jk]),yr=Jk(),[BB,yP]=zB(im),xP=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:a,onOpenChange:o,modal:l=!0}=e,c=yr(t),u=p.useRef(null),[d,h]=Ys({prop:s,defaultProp:a??!1,onChange:o,caller:im});return i.jsx(BB,{scope:t,triggerId:ps(),triggerRef:u,contentId:ps(),open:d,onOpenChange:h,onOpenToggle:p.useCallback(()=>h(f=>!f),[h]),modal:l,children:i.jsx(CB,{...c,open:d,onOpenChange:h,dir:n,modal:l,children:r})})};xP.displayName=im;var wP="DropdownMenuTrigger",bP=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,a=yP(wP,r),o=yr(r);return i.jsx(EB,{asChild:!0,...o,children:i.jsx(de.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:Df(t,a.triggerRef),onPointerDown:X(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:X(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});bP.displayName=wP;var VB="DropdownMenuPortal",jP=e=>{const{__scopeDropdownMenu:t,...r}=e,n=yr(t);return i.jsx(kB,{...n,...r})};jP.displayName=VB;var _P="DropdownMenuContent",SP=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=yP(_P,r),a=yr(r),o=p.useRef(!1);return i.jsx(PB,{id:s.contentId,"aria-labelledby":s.triggerId,...a,...n,ref:t,onCloseAutoFocus:X(e.onCloseAutoFocus,l=>{var c;o.current||(c=s.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:X(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});SP.displayName=_P;var qB="DropdownMenuGroup",WB=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=yr(r);return i.jsx(RB,{...s,...n,ref:t})});WB.displayName=qB;var HB="DropdownMenuLabel",NP=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=yr(r);return i.jsx(TB,{...s,...n,ref:t})});NP.displayName=HB;var KB="DropdownMenuItem",CP=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=yr(r);return i.jsx(AB,{...s,...n,ref:t})});CP.displayName=KB;var GB="DropdownMenuCheckboxItem",EP=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=yr(r);return i.jsx(OB,{...s,...n,ref:t})});EP.displayName=GB;var QB="DropdownMenuRadioGroup",JB=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=yr(r);return i.jsx(IB,{...s,...n,ref:t})});JB.displayName=QB;var YB="DropdownMenuRadioItem",kP=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=yr(r);return i.jsx(MB,{...s,...n,ref:t})});kP.displayName=YB;var XB="DropdownMenuItemIndicator",PP=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=yr(r);return i.jsx(DB,{...s,...n,ref:t})});PP.displayName=XB;var ZB="DropdownMenuSeparator",RP=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=yr(r);return i.jsx(LB,{...s,...n,ref:t})});RP.displayName=ZB;var eV="DropdownMenuArrow",tV=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=yr(r);return i.jsx($B,{...s,...n,ref:t})});tV.displayName=eV;var rV="DropdownMenuSubTrigger",TP=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=yr(r);return i.jsx(FB,{...s,...n,ref:t})});TP.displayName=rV;var nV="DropdownMenuSubContent",AP=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=yr(r);return i.jsx(UB,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});AP.displayName=nV;var sV=xP,aV=bP,iV=jP,OP=SP,IP=NP,MP=CP,DP=EP,LP=kP,$P=PP,FP=RP,UP=TP,zP=AP;const oV=sV,lV=aV,cV=p.forwardRef(({className:e,inset:t,children:r,...n},s)=>i.jsxs(UP,{ref:s,className:te("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,i.jsx(O3,{className:"ml-auto h-4 w-4"})]}));cV.displayName=UP.displayName;const uV=p.forwardRef(({className:e,...t},r)=>i.jsx(zP,{ref:r,className:te("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));uV.displayName=zP.displayName;const BP=p.forwardRef(({className:e,sideOffset:t=4,...r},n)=>i.jsx(iV,{children:i.jsx(OP,{ref:n,sideOffset:t,className:te("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));BP.displayName=OP.displayName;const xc=p.forwardRef(({className:e,inset:t,...r},n)=>i.jsx(MP,{ref:n,className:te("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));xc.displayName=MP.displayName;const dV=p.forwardRef(({className:e,children:t,checked:r,...n},s)=>i.jsxs(DP,{ref:s,className:te("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx($P,{children:i.jsx(Iu,{className:"h-4 w-4"})})}),t]}));dV.displayName=DP.displayName;const hV=p.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(LP,{ref:n,className:te("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx($P,{children:i.jsx(M3,{className:"h-2 w-2 fill-current"})})}),t]}));hV.displayName=LP.displayName;const fV=p.forwardRef(({className:e,inset:t,...r},n)=>i.jsx(IP,{ref:n,className:te("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));fV.displayName=IP.displayName;const oh=p.forwardRef(({className:e,...t},r)=>i.jsx(FP,{ref:r,className:te("-mx-1 my-1 h-px bg-muted",e),...t}));oh.displayName=FP.displayName;const VP=G({id:R(),sender_id:R().uuid(),recipient_id:R().uuid(),content:R(),read_at:R().datetime().nullable(),created_at:R().datetime(),updated_at:R().datetime().optional()}),bv=G({id:R().uuid(),name:R(),avatar_url:R().url().nullable()}),qP=VP.extend({sender:bv,recipient:bv}),mV=G({user:bv,last_message:VP.nullable(),unread_count:Ae().int().min(0)});G({recipient_id:R().uuid({message:"ID de destinatario invlido"}),content:R().min(1,"El mensaje no puede estar vaco").max(5e3,"El mensaje no puede superar 5000 caracteres")});G({message_ids:We(R()).min(1,"Debes especificar al menos un mensaje")});G({user_id:R().uuid({message:"ID de usuario invlido"}),limit:Ae().int().positive().optional(),offset:Ae().int().min(0).optional()});const pV=G({conversations:We(mV),total:Ae().int().min(0)}),gV=G({messages:We(qP),total:Ae().int().min(0)}),vV=G({message:qP}),yV=G({updated_count:Ae().int().min(0)}),xV=G({unread_count:Ae().int().min(0)}),Kl={async getConversations(){const e=await we.get("/messages/conversations");return pV.parse(e.data)},async getConversationMessages(e){const t=await we.get(`/messages/conversations/${e.user_id}`,{params:{limit:e.limit,offset:e.offset}});return gV.parse(t.data)},async sendMessage(e){const t=await we.post("/messages",e);return vV.parse(t.data)},async markAsRead(e){console.log("[messageService] markAsRead called with:",e);try{const t=await we.put("/messages/read",e);console.log("[messageService] Raw response:",t.data);const r=yV.parse(t.data);return console.log("[messageService] Parsed response:",r),r}catch(t){throw console.error("[messageService] Error in markAsRead:",t),t}},async deleteMessage(e){await we.delete(`/messages/${e}`)},async getUnreadCount(){const e=await we.get("/messages/unread-count");return xV.parse(e.data)}},wV=e=>It({queryKey:["unread-count"],queryFn:async()=>await Kl.getUnreadCount(),enabled:(e==null?void 0:e.enabled)!==!1,staleTime:60*1e3,gcTime:300*1e3,refetchInterval:30*1e3});function WP(){const e=Ye(),{user:t}=jt();p.useEffect(()=>{if(!(t!=null&&t.id))return;const r=nr.channel("unread-notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`recipient_id=eq.${t.id}`},()=>{e.invalidateQueries({queryKey:["unread-count"]})}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"messages",filter:`recipient_id=eq.${t.id}`},()=>{e.invalidateQueries({queryKey:["unread-count"]})}).subscribe();return()=>{nr.removeChannel(r)}},[t==null?void 0:t.id,e])}function Or(){const{user:e,signOut:t,isSigningOut:r}=jt(),{isAdmin:n}=zu(),s=ao(),[a,o]=p.useState(!1);WP();const{data:l}=wV(),c=(l==null?void 0:l.unread_count)||0,u=()=>{t()},d=m=>m?m.split(" ").map(x=>x[0]).join("").toUpperCase():"U",h=[{href:"/dashboard",label:"Dashboard",icon:F3},{href:"/network",label:"Mi Red",icon:Ir},{href:"/opportunities",label:"Oportunidades",icon:Xs},{href:"/messages",label:"Mensajes",icon:cu},{href:"/projects",label:"Programas",icon:cn}],f=m=>s.pathname===m||s.pathname.startsWith(m+"/");return e?i.jsxs("nav",{className:"bg-white/95 backdrop-blur-sm border-b border-gray-200/50 sticky top-0 z-50",children:[i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"flex justify-between h-16",children:[i.jsxs("div",{className:"flex items-center space-x-8",children:[i.jsx(Pn,{to:"/dashboard",className:"text-xl font-bold bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent",children:"Espaa Creativa Red"}),i.jsx("div",{className:"hidden md:flex space-x-1",children:h.map(m=>{const x=m.icon,g=m.href==="/messages"&&c>0;return i.jsxs(Pn,{to:m.href,className:`flex items-center px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 relative ${f(m.href)?"bg-primary text-white shadow-sm":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[i.jsx(x,{className:"h-4 w-4 mr-2"}),m.label,g&&i.jsx(_e,{variant:"destructive",className:"ml-2 h-5 min-w-[20px] px-1 flex items-center justify-center text-xs",children:c>99?"99+":c})]},m.href)})})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"hidden sm:flex items-center space-x-2",children:[i.jsx("div",{className:"h-2 w-2 rounded-full bg-primary"}),i.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[e.completed_pct,"% completado"]})]}),i.jsxs(oV,{children:[i.jsx(lV,{asChild:!0,children:i.jsx(U,{variant:"ghost",className:"relative h-10 w-10 rounded-full hover:bg-gray-50",children:i.jsxs(Et,{className:"h-10 w-10 ring-2 ring-gray-100",children:[i.jsx(zt,{src:e.avatar_url||""}),i.jsx(kt,{className:"bg-gradient-to-br from-primary to-secondary text-white font-semibold",children:d(e.name)})]})})}),i.jsxs(BP,{className:"w-64 p-2",align:"end",forceMount:!0,children:[i.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-gray-50",children:[i.jsxs(Et,{className:"h-12 w-12",children:[i.jsx(zt,{src:e.avatar_url||""}),i.jsx(kt,{className:"bg-gradient-to-br from-primary to-secondary text-white font-semibold",children:d(e.name)})]}),i.jsxs("div",{className:"flex flex-col space-y-1",children:[i.jsx("p",{className:"font-semibold text-gray-900",children:e.name||"Usuario"}),i.jsx("p",{className:"text-sm text-gray-600 truncate",children:e.email})]})]}),i.jsx(oh,{className:"my-2"}),i.jsx(xc,{asChild:!0,children:i.jsxs(Pn,{to:"/profile",className:"flex items-center rounded-md p-2 hover:bg-gray-50",children:[i.jsx(du,{className:"mr-3 h-4 w-4 text-gray-500"}),i.jsx("span",{className:"font-medium",children:"Mi Perfil"})]})}),i.jsx(xc,{asChild:!0,children:i.jsxs(Pn,{to:"/my-programs",className:"flex items-center rounded-md p-2 hover:bg-gray-50",children:[i.jsx(fv,{className:"mr-3 h-4 w-4 text-gray-500"}),i.jsx("span",{className:"font-medium",children:"Mis Programas"})]})}),n&&i.jsxs(i.Fragment,{children:[i.jsx(oh,{className:"my-2"}),i.jsx(xc,{asChild:!0,children:i.jsxs(Pn,{to:"/gestion",className:"flex items-center rounded-md p-2 hover:bg-primary/10 bg-primary/5",children:[i.jsx(lx,{className:"mr-3 h-4 w-4 text-primary"}),i.jsx("span",{className:"font-medium text-primary",children:"Gestin"})]})})]}),i.jsx(oh,{className:"my-2"}),i.jsxs(xc,{onClick:u,disabled:r,className:"flex items-center rounded-md p-2 text-red-600 hover:bg-red-50 focus:bg-red-50",children:[i.jsx(nE,{className:"mr-3 h-4 w-4"}),i.jsx("span",{className:"font-medium",children:"Cerrar Sesin"})]})]})]})]})]})}),i.jsx("div",{className:"md:hidden border-t border-gray-200/50 bg-white/95 backdrop-blur-sm",children:i.jsx("div",{className:"flex justify-around py-3",children:h.slice(0,4).map(m=>{const x=m.icon,g=f(m.href),w=m.href==="/messages"&&c>0;return i.jsxs(Pn,{to:m.href,className:`flex flex-col items-center px-3 py-2 rounded-lg text-xs font-medium transition-all duration-200 relative ${g?"text-primary bg-primary/10":"text-gray-600 hover:text-gray-900"}`,children:[i.jsxs("div",{className:"relative",children:[i.jsx(x,{className:`h-5 w-5 mb-1 ${g?"text-primary":""}`}),w&&i.jsx(_e,{variant:"destructive",className:"absolute -top-1 -right-2 h-4 min-w-[16px] px-1 flex items-center justify-center text-[10px]",children:c>9?"9+":c})]}),m.label]},m.href)})})})]}):null}function jv(e,[t,r]){return Math.min(r,Math.max(t,e))}var HP=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),bV="VisuallyHidden",Vx=p.forwardRef((e,t)=>i.jsx(de.span,{...e,ref:t,style:{...HP,...e.style}}));Vx.displayName=bV;var jV=[" ","Enter","ArrowUp","ArrowDown"],_V=[" ","Enter"],eo="Select",[om,lm,SV]=Wf(eo),[Gl]=gr(eo,[SV,nm]),cm=nm(),[NV,di]=Gl(eo),[CV,EV]=Gl(eo),KP=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:h,disabled:f,required:m,form:x}=e,g=cm(t),[w,y]=p.useState(null),[v,b]=p.useState(null),[j,_]=p.useState(!1),S=$u(u),[N,E]=Ys({prop:n,defaultProp:s??!1,onChange:a,caller:eo}),[P,T]=Ys({prop:o,defaultProp:l,onChange:c,caller:eo}),B=p.useRef(null),D=w?x||!!w.closest("form"):!0,[q,F]=p.useState(new Set),M=Array.from(q).map(V=>V.props.value).join(";");return i.jsx(Wk,{...g,children:i.jsxs(NV,{required:m,scope:t,trigger:w,onTriggerChange:y,valueNode:v,onValueNodeChange:b,valueNodeHasChildren:j,onValueNodeHasChildrenChange:_,contentId:ps(),value:P,onValueChange:T,open:N,onOpenChange:E,dir:S,triggerPointerDownPosRef:B,disabled:f,children:[i.jsx(om.Provider,{scope:t,children:i.jsx(CV,{scope:e.__scopeSelect,onNativeOptionAdd:p.useCallback(V=>{F(Z=>new Set(Z).add(V))},[]),onNativeOptionRemove:p.useCallback(V=>{F(Z=>{const I=new Set(Z);return I.delete(V),I})},[]),children:r})}),D?i.jsxs(vR,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:h,value:P,onChange:V=>T(V.target.value),disabled:f,form:x,children:[P===void 0?i.jsx("option",{value:""}):null,Array.from(q)]},M):null]})})};KP.displayName=eo;var GP="SelectTrigger",QP=p.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,a=cm(r),o=di(GP,r),l=o.disabled||n,c=Re(t,o.onTriggerChange),u=lm(r),d=p.useRef("touch"),[h,f,m]=xR(g=>{const w=u().filter(b=>!b.disabled),y=w.find(b=>b.value===o.value),v=wR(w,g,y);v!==void 0&&o.onValueChange(v.value)}),x=g=>{l||(o.onOpenChange(!0),m()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return i.jsx(Hk,{asChild:!0,...a,children:i.jsx(de.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":yR(o.value)?"":void 0,...s,ref:c,onClick:X(s.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&x(g)}),onPointerDown:X(s.onPointerDown,g=>{d.current=g.pointerType;const w=g.target;w.hasPointerCapture(g.pointerId)&&w.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(x(g),g.preventDefault())}),onKeyDown:X(s.onKeyDown,g=>{const w=h.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&f(g.key),!(w&&g.key===" ")&&jV.includes(g.key)&&(x(),g.preventDefault())})})})});QP.displayName=GP;var JP="SelectValue",YP=p.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:a,placeholder:o="",...l}=e,c=di(JP,r),{onValueNodeHasChildrenChange:u}=c,d=a!==void 0,h=Re(t,c.onValueNodeChange);return Ct(()=>{u(d)},[u,d]),i.jsx(de.span,{...l,ref:h,style:{pointerEvents:"none"},children:yR(c.value)?i.jsx(i.Fragment,{children:o}):a})});YP.displayName=JP;var kV="SelectIcon",XP=p.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return i.jsx(de.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});XP.displayName=kV;var PV="SelectPortal",ZP=e=>i.jsx(Lu,{asChild:!0,...e});ZP.displayName=PV;var to="SelectContent",eR=p.forwardRef((e,t)=>{const r=di(to,e.__scopeSelect),[n,s]=p.useState();if(Ct(()=>{s(new DocumentFragment)},[]),!r.open){const a=n;return a?so.createPortal(i.jsx(tR,{scope:e.__scopeSelect,children:i.jsx(om.Slot,{scope:e.__scopeSelect,children:i.jsx("div",{children:e.children})})}),a):null}return i.jsx(rR,{...e,ref:t})});eR.displayName=to;var bn=10,[tR,hi]=Gl(to),RV="SelectContentImpl",TV=Ji("SelectContent.RemoveScroll"),rR=p.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:m,sticky:x,hideWhenDetached:g,avoidCollisions:w,...y}=e,v=di(to,r),[b,j]=p.useState(null),[_,S]=p.useState(null),N=Re(t,J=>j(J)),[E,P]=p.useState(null),[T,B]=p.useState(null),D=lm(r),[q,F]=p.useState(!1),M=p.useRef(!1);p.useEffect(()=>{if(b)return dx(b)},[b]),ux();const V=p.useCallback(J=>{const[Fe,...De]=D().map(Ue=>Ue.ref.current),[Ie]=De.slice(-1),Le=document.activeElement;for(const Ue of J)if(Ue===Le||(Ue==null||Ue.scrollIntoView({block:"nearest"}),Ue===Fe&&_&&(_.scrollTop=0),Ue===Ie&&_&&(_.scrollTop=_.scrollHeight),Ue==null||Ue.focus(),document.activeElement!==Le))return},[D,_]),Z=p.useCallback(()=>V([E,b]),[V,E,b]);p.useEffect(()=>{q&&Z()},[q,Z]);const{onOpenChange:I,triggerPointerDownPosRef:A}=v;p.useEffect(()=>{if(b){let J={x:0,y:0};const Fe=Ie=>{var Le,Ue;J={x:Math.abs(Math.round(Ie.pageX)-(((Le=A.current)==null?void 0:Le.x)??0)),y:Math.abs(Math.round(Ie.pageY)-(((Ue=A.current)==null?void 0:Ue.y)??0))}},De=Ie=>{J.x<=10&&J.y<=10?Ie.preventDefault():b.contains(Ie.target)||I(!1),document.removeEventListener("pointermove",Fe),A.current=null};return A.current!==null&&(document.addEventListener("pointermove",Fe),document.addEventListener("pointerup",De,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Fe),document.removeEventListener("pointerup",De,{capture:!0})}}},[b,I,A]),p.useEffect(()=>{const J=()=>I(!1);return window.addEventListener("blur",J),window.addEventListener("resize",J),()=>{window.removeEventListener("blur",J),window.removeEventListener("resize",J)}},[I]);const[H,ie]=xR(J=>{const Fe=D().filter(Le=>!Le.disabled),De=Fe.find(Le=>Le.ref.current===document.activeElement),Ie=wR(Fe,J,De);Ie&&setTimeout(()=>Ie.ref.current.focus())}),ne=p.useCallback((J,Fe,De)=>{const Ie=!M.current&&!De;(v.value!==void 0&&v.value===Fe||Ie)&&(P(J),Ie&&(M.current=!0))},[v.value]),ye=p.useCallback(()=>b==null?void 0:b.focus(),[b]),ve=p.useCallback((J,Fe,De)=>{const Ie=!M.current&&!De;(v.value!==void 0&&v.value===Fe||Ie)&&B(J)},[v.value]),Ve=n==="popper"?_v:nR,Ke=Ve===_v?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:m,sticky:x,hideWhenDetached:g,avoidCollisions:w}:{};return i.jsx(tR,{scope:r,content:b,viewport:_,onViewportChange:S,itemRefCallback:ne,selectedItem:E,onItemLeave:ye,itemTextRefCallback:ve,focusSelectedItem:Z,selectedItemText:T,position:n,isPositioned:q,searchRef:H,children:i.jsx(Vf,{as:TV,allowPinchZoom:!0,children:i.jsx(zf,{asChild:!0,trapped:v.open,onMountAutoFocus:J=>{J.preventDefault()},onUnmountAutoFocus:X(s,J=>{var Fe;(Fe=v.trigger)==null||Fe.focus({preventScroll:!0}),J.preventDefault()}),children:i.jsx(Du,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:J=>J.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:i.jsx(Ve,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:J=>J.preventDefault(),...y,...Ke,onPlaced:()=>F(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:X(y.onKeyDown,J=>{const Fe=J.ctrlKey||J.altKey||J.metaKey;if(J.key==="Tab"&&J.preventDefault(),!Fe&&J.key.length===1&&ie(J.key),["ArrowUp","ArrowDown","Home","End"].includes(J.key)){let Ie=D().filter(Le=>!Le.disabled).map(Le=>Le.ref.current);if(["ArrowUp","End"].includes(J.key)&&(Ie=Ie.slice().reverse()),["ArrowUp","ArrowDown"].includes(J.key)){const Le=J.target,Ue=Ie.indexOf(Le);Ie=Ie.slice(Ue+1)}setTimeout(()=>V(Ie)),J.preventDefault()}})})})})})})});rR.displayName=RV;var AV="SelectItemAlignedPosition",nR=p.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,a=di(to,r),o=hi(to,r),[l,c]=p.useState(null),[u,d]=p.useState(null),h=Re(t,N=>d(N)),f=lm(r),m=p.useRef(!1),x=p.useRef(!0),{viewport:g,selectedItem:w,selectedItemText:y,focusSelectedItem:v}=o,b=p.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&g&&w&&y){const N=a.trigger.getBoundingClientRect(),E=u.getBoundingClientRect(),P=a.valueNode.getBoundingClientRect(),T=y.getBoundingClientRect();if(a.dir!=="rtl"){const Le=T.left-E.left,Ue=P.left-Le,Bt=N.left-Ue,ar=N.width+Bt,Hn=Math.max(ar,E.width),Kn=window.innerWidth-bn,Ss=jv(Ue,[bn,Math.max(bn,Kn-Hn)]);l.style.minWidth=ar+"px",l.style.left=Ss+"px"}else{const Le=E.right-T.right,Ue=window.innerWidth-P.right-Le,Bt=window.innerWidth-N.right-Ue,ar=N.width+Bt,Hn=Math.max(ar,E.width),Kn=window.innerWidth-bn,Ss=jv(Ue,[bn,Math.max(bn,Kn-Hn)]);l.style.minWidth=ar+"px",l.style.right=Ss+"px"}const B=f(),D=window.innerHeight-bn*2,q=g.scrollHeight,F=window.getComputedStyle(u),M=parseInt(F.borderTopWidth,10),V=parseInt(F.paddingTop,10),Z=parseInt(F.borderBottomWidth,10),I=parseInt(F.paddingBottom,10),A=M+V+q+I+Z,H=Math.min(w.offsetHeight*5,A),ie=window.getComputedStyle(g),ne=parseInt(ie.paddingTop,10),ye=parseInt(ie.paddingBottom,10),ve=N.top+N.height/2-bn,Ve=D-ve,Ke=w.offsetHeight/2,J=w.offsetTop+Ke,Fe=M+V+J,De=A-Fe;if(Fe<=ve){const Le=B.length>0&&w===B[B.length-1].ref.current;l.style.bottom="0px";const Ue=u.clientHeight-g.offsetTop-g.offsetHeight,Bt=Math.max(Ve,Ke+(Le?ye:0)+Ue+Z),ar=Fe+Bt;l.style.height=ar+"px"}else{const Le=B.length>0&&w===B[0].ref.current;l.style.top="0px";const Bt=Math.max(ve,M+g.offsetTop+(Le?ne:0)+Ke)+De;l.style.height=Bt+"px",g.scrollTop=Fe-ve+g.offsetTop}l.style.margin=`${bn}px 0`,l.style.minHeight=H+"px",l.style.maxHeight=D+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[f,a.trigger,a.valueNode,l,u,g,w,y,a.dir,n]);Ct(()=>b(),[b]);const[j,_]=p.useState();Ct(()=>{u&&_(window.getComputedStyle(u).zIndex)},[u]);const S=p.useCallback(N=>{N&&x.current===!0&&(b(),v==null||v(),x.current=!1)},[b,v]);return i.jsx(IV,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:S,children:i.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:i.jsx(de.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});nR.displayName=AV;var OV="SelectPopperPosition",_v=p.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=bn,...a}=e,o=cm(r);return i.jsx(Kk,{...o,...a,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});_v.displayName=OV;var[IV,qx]=Gl(to,{}),Sv="SelectViewport",sR=p.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,a=hi(Sv,r),o=qx(Sv,r),l=Re(t,a.onViewportChange),c=p.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),i.jsx(om.Slot,{scope:r,children:i.jsx(de.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:X(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&h){const m=Math.abs(c.current-d.scrollTop);if(m>0){const x=window.innerHeight-bn*2,g=parseFloat(h.style.minHeight),w=parseFloat(h.style.height),y=Math.max(g,w);if(y<x){const v=y+m,b=Math.min(x,v),j=v-b;h.style.height=b+"px",h.style.bottom==="0px"&&(d.scrollTop=j>0?j:0,h.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});sR.displayName=Sv;var aR="SelectGroup",[MV,DV]=Gl(aR),LV=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=ps();return i.jsx(MV,{scope:r,id:s,children:i.jsx(de.div,{role:"group","aria-labelledby":s,...n,ref:t})})});LV.displayName=aR;var iR="SelectLabel",oR=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=DV(iR,r);return i.jsx(de.div,{id:s.id,...n,ref:t})});oR.displayName=iR;var sf="SelectItem",[$V,lR]=Gl(sf),cR=p.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:a,...o}=e,l=di(sf,r),c=hi(sf,r),u=l.value===n,[d,h]=p.useState(a??""),[f,m]=p.useState(!1),x=Re(t,v=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,v,n,s)}),g=ps(),w=p.useRef("touch"),y=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx($V,{scope:r,value:n,disabled:s,textId:g,isSelected:u,onItemTextChange:p.useCallback(v=>{h(b=>b||((v==null?void 0:v.textContent)??"").trim())},[]),children:i.jsx(om.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:i.jsx(de.div,{role:"option","aria-labelledby":g,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:x,onFocus:X(o.onFocus,()=>m(!0)),onBlur:X(o.onBlur,()=>m(!1)),onClick:X(o.onClick,()=>{w.current!=="mouse"&&y()}),onPointerUp:X(o.onPointerUp,()=>{w.current==="mouse"&&y()}),onPointerDown:X(o.onPointerDown,v=>{w.current=v.pointerType}),onPointerMove:X(o.onPointerMove,v=>{var b;w.current=v.pointerType,s?(b=c.onItemLeave)==null||b.call(c):w.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:X(o.onPointerLeave,v=>{var b;v.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:X(o.onKeyDown,v=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&v.key===" "||(_V.includes(v.key)&&y(),v.key===" "&&v.preventDefault())})})})})});cR.displayName=sf;var wc="SelectItemText",uR=p.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...a}=e,o=di(wc,r),l=hi(wc,r),c=lR(wc,r),u=EV(wc,r),[d,h]=p.useState(null),f=Re(t,y=>h(y),c.onItemTextChange,y=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,y,c.value,c.disabled)}),m=d==null?void 0:d.textContent,x=p.useMemo(()=>i.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:w}=u;return Ct(()=>(g(x),()=>w(x)),[g,w,x]),i.jsxs(i.Fragment,{children:[i.jsx(de.span,{id:c.textId,...a,ref:f}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?so.createPortal(a.children,o.valueNode):null]})});uR.displayName=wc;var dR="SelectItemIndicator",hR=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return lR(dR,r).isSelected?i.jsx(de.span,{"aria-hidden":!0,...n,ref:t}):null});hR.displayName=dR;var Nv="SelectScrollUpButton",fR=p.forwardRef((e,t)=>{const r=hi(Nv,e.__scopeSelect),n=qx(Nv,e.__scopeSelect),[s,a]=p.useState(!1),o=Re(t,n.onScrollButtonChange);return Ct(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?i.jsx(pR,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});fR.displayName=Nv;var Cv="SelectScrollDownButton",mR=p.forwardRef((e,t)=>{const r=hi(Cv,e.__scopeSelect),n=qx(Cv,e.__scopeSelect),[s,a]=p.useState(!1),o=Re(t,n.onScrollButtonChange);return Ct(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;a(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?i.jsx(pR,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});mR.displayName=Cv;var pR=p.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,a=hi("SelectScrollButton",r),o=p.useRef(null),l=lm(r),c=p.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return p.useEffect(()=>()=>c(),[c]),Ct(()=>{var d;const u=l().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),i.jsx(de.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:X(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:X(s.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:X(s.onPointerLeave,()=>{c()})})}),FV="SelectSeparator",gR=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return i.jsx(de.div,{"aria-hidden":!0,...n,ref:t})});gR.displayName=FV;var Ev="SelectArrow",UV=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=cm(r),a=di(Ev,r),o=hi(Ev,r);return a.open&&o.position==="popper"?i.jsx(Gk,{...s,...n,ref:t}):null});UV.displayName=Ev;var zV="SelectBubbleInput",vR=p.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const s=p.useRef(null),a=Re(n,s),o=nx(t);return p.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const h=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(h)}},[o,t]),i.jsx(de.select,{...r,style:{...HP,...r.style},ref:a,defaultValue:t})});vR.displayName=zV;function yR(e){return e===""||e===void 0}function xR(e){const t=bt(e),r=p.useRef(""),n=p.useRef(0),s=p.useCallback(o=>{const l=r.current+o;t(l),(function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))})(l)},[t]),a=p.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,a]}function wR(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let o=BV(e,Math.max(a,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function BV(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var VV=KP,bR=QP,qV=YP,WV=XP,HV=ZP,jR=eR,KV=sR,_R=oR,SR=cR,GV=uR,QV=hR,NR=fR,CR=mR,ER=gR;const ri=VV,ni=qV,ta=p.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(bR,{ref:n,className:te("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,i.jsx(WV,{asChild:!0,children:i.jsx(XC,{className:"h-4 w-4 opacity-50"})})]}));ta.displayName=bR.displayName;const kR=p.forwardRef(({className:e,...t},r)=>i.jsx(NR,{ref:r,className:te("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(I3,{className:"h-4 w-4"})}));kR.displayName=NR.displayName;const PR=p.forwardRef(({className:e,...t},r)=>i.jsx(CR,{ref:r,className:te("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(XC,{className:"h-4 w-4"})}));PR.displayName=CR.displayName;const ra=p.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>i.jsx(HV,{children:i.jsxs(jR,{ref:s,className:te("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[i.jsx(kR,{}),i.jsx(KV,{className:te("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),i.jsx(PR,{})]})}));ra.displayName=jR.displayName;const JV=p.forwardRef(({className:e,...t},r)=>i.jsx(_R,{ref:r,className:te("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));JV.displayName=_R.displayName;const rt=p.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(SR,{ref:n,className:te("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(QV,{children:i.jsx(Iu,{className:"h-4 w-4"})})}),i.jsx(GV,{children:t})]}));rt.displayName=SR.displayName;const YV=p.forwardRef(({className:e,...t},r)=>i.jsx(ER,{ref:r,className:te("-mx-1 my-1 h-px bg-muted",e),...t}));YV.displayName=ER.displayName;function XV({user:e,showActions:t=!0,onStartChat:r,showConnectButton:n=!0}){var _,S,N;const{user:s}=jt(),a=vt(),{data:o}=Ex(e.id,{enabled:n&&(s==null?void 0:s.id)!==e.id}),{action:l,isLoading:c}=Cx(),{action:u,isLoading:d}=Bu(),{toast:h}=ql(),f=E=>E?E.split(" ").map(P=>P[0]).join("").toUpperCase():"U",m=E=>{switch(E){case"admin":return"bg-red-100 text-red-800";case"mentor":return"bg-blue-100 text-blue-800";case"emprendedor":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},x=async()=>{try{await l({addressee_id:e.id}),h({title:"Solicitud enviada",description:`Solicitud de conexin enviada a ${e.name||"el usuario"}`,duration:3e3})}catch(E){h({title:"Error",description:E instanceof Error?E.message:"No se pudo enviar la solicitud",variant:"destructive",duration:5e3})}},g=async()=>{var P;const E=(P=o==null?void 0:o.connection)==null?void 0:P.id;if(E)try{await u({connection_id:E,status:"accepted"}),h({title:"Conexin aceptada",description:`Ahora ests conectado con ${e.name||"el usuario"}`,duration:3e3})}catch(T){h({title:"Error",description:T instanceof Error?T.message:"No se pudo aceptar la solicitud",variant:"destructive",duration:5e3})}},w=()=>{a(`/users/${e.id}`)},y=(s==null?void 0:s.id)===e.id,v=(o==null?void 0:o.status)||"none",b=((_=o==null?void 0:o.connection)==null?void 0:_.requester_id)===(s==null?void 0:s.id),j=((S=o==null?void 0:o.connection)==null?void 0:S.addressee_id)===(s==null?void 0:s.id);return i.jsxs(ge,{className:"w-full",children:[i.jsxs(mt,{className:"text-center",children:[i.jsxs(Et,{className:"h-20 w-20 mx-auto mb-4 cursor-pointer hover:opacity-80 transition-opacity",onClick:w,children:[i.jsx(zt,{src:e.avatar_url||""}),i.jsx(kt,{className:"text-lg",children:f(e.name)})]}),i.jsx("h3",{className:"text-xl font-semibold cursor-pointer hover:text-primary transition-colors",onClick:w,children:e.name||"Usuario"}),i.jsx("div",{className:"flex justify-center gap-2 mt-2",children:(N=e.roles)==null?void 0:N.map(E=>i.jsx(_e,{className:m(E.name),children:E.name},E.id))}),e.location&&i.jsxs("div",{className:"flex items-center justify-center text-sm text-muted-foreground mt-2",children:[i.jsx(qn,{className:"h-4 w-4 mr-1"}),e.location]})]}),i.jsxs(pe,{className:"space-y-4",children:[e.bio&&i.jsx("p",{className:"text-sm text-muted-foreground",children:e.bio}),e.skills&&e.skills.length>0&&i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-sm mb-2",children:"Habilidades"}),i.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.skills.slice(0,6).map((E,P)=>i.jsx(_e,{variant:"secondary",className:"text-xs",children:E},P)),e.skills.length>6&&i.jsxs(_e,{variant:"secondary",className:"text-xs",children:["+",e.skills.length-6," ms"]})]})]}),e.interests&&e.interests.length>0&&i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-sm mb-2",children:"Intereses"}),i.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.interests.slice(0,4).map((E,P)=>i.jsx(_e,{variant:"outline",className:"text-xs",children:E},P)),e.interests.length>4&&i.jsxs(_e,{variant:"outline",className:"text-xs",children:["+",e.interests.length-4," ms"]})]})]}),i.jsxs("div",{className:"flex gap-2 pt-2",children:[e.linkedin_url&&i.jsx(Pn,{href:e.linkedin_url,target:"_blank",children:i.jsx(U,{variant:"outline",size:"sm",children:i.jsx(rE,{className:"h-4 w-4"})})}),e.website_url&&i.jsx(Pn,{href:e.website_url,target:"_blank",children:i.jsx(U,{variant:"outline",size:"sm",children:i.jsx(L3,{className:"h-4 w-4"})})})]}),n&&!y&&i.jsxs("div",{className:"mt-4",children:[v==="none"&&i.jsxs(U,{onClick:x,disabled:c,className:"w-full",variant:"default",children:[i.jsx(Za,{className:"h-4 w-4 mr-2"}),c?"Conectando...":"Conectar"]}),v==="pending"&&b&&i.jsxs(U,{variant:"secondary",disabled:!0,className:"w-full cursor-not-allowed",children:[i.jsx(ia,{className:"h-4 w-4 mr-2"}),"Solicitud enviada"]}),v==="pending"&&j&&i.jsxs(U,{onClick:g,disabled:d,className:"w-full",variant:"default",children:[i.jsx(xs,{className:"h-4 w-4 mr-2"}),d?"Aceptando...":"Aceptar solicitud"]}),v==="accepted"&&i.jsxs(U,{variant:"outline",disabled:!0,className:"w-full",children:[i.jsx(xs,{className:"h-4 w-4 mr-2"}),"Conectados"]})]}),t&&r&&i.jsxs(U,{onClick:r,className:"w-full mt-4",variant:"outline",children:[i.jsx(Mu,{className:"h-4 w-4 mr-2"}),"Iniciar Chat"]}),i.jsxs(U,{onClick:w,className:"w-full mt-2",variant:"outline",children:[i.jsx(ms,{className:"h-4 w-4 mr-2"}),"Ver Perfil"]}),i.jsxs("div",{className:"pt-2 border-t",children:[i.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[i.jsx("span",{children:"Perfil completado"}),i.jsxs("span",{children:[e.completed_pct,"%"]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-1",children:i.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${e.completed_pct}%`}})})]})]})]})}function ZV({onUserSelect:e}){const[t,r]=p.useState(""),[n,s]=p.useState([]),[a,o]=p.useState(!1),[l,c]=p.useState(null),[u,d]=p.useState({role:"",location:"",skills:[]}),[h,f]=p.useState(""),[m,x]=p.useState(!1);p.useEffect(()=>{const b=setTimeout(async()=>{if(t.length>0||u.role||u.location||u.skills.length>0){o(!0),c(null);try{const j={role:u.role,location:u.location,skills:u.skills},{data:_,error:S}=await u6(t,j);S?(c("Error al buscar usuarios. Por favor, intenta de nuevo."),s([])):s(_)}catch{c("Error al buscar usuarios. Por favor, intenta de nuevo."),s([])}finally{o(!1)}}else s([]),c(null),o(!1)},500);return()=>clearTimeout(b)},[t,u.role,u.location,JSON.stringify(u.skills)]);const g=()=>{h.trim()&&!u.skills.includes(h.trim())&&(d(b=>({...b,skills:[...b.skills,h.trim()]})),f(""))},w=b=>{d(j=>({...j,skills:j.skills.filter(_=>_!==b)}))},y=()=>{d({role:"",location:"",skills:[]}),r(""),c(null),s([])},v=b=>{b.key==="Enter"&&(b.preventDefault(),g())};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs(ge,{children:[i.jsx(mt,{children:i.jsxs(ft,{className:"flex items-center",children:[i.jsx(ys,{className:"h-5 w-5 mr-2"}),"Buscar en la Red"]})}),i.jsxs(pe,{className:"space-y-4",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsx("div",{className:"flex-1",children:i.jsx(be,{placeholder:"Buscar por nombre, biografa o habilidades...",value:t,onChange:b=>r(b.target.value)})}),i.jsxs(U,{variant:"outline",onClick:()=>x(!m),children:[i.jsx(D3,{className:"h-4 w-4 mr-2"}),"Filtros"]}),(t||u.role||u.location||u.skills.length>0)&&i.jsxs(U,{variant:"outline",onClick:y,children:[i.jsx(Mr,{className:"h-4 w-4 mr-2"}),"Limpiar"]})]}),m&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 p-4 bg-gray-50 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"Rol"}),i.jsxs(ri,{value:u.role,onValueChange:b=>d(j=>({...j,role:b})),children:[i.jsx(ta,{children:i.jsx(ni,{placeholder:"Seleccionar rol"})}),i.jsxs(ra,{children:[i.jsx(rt,{value:"",children:"Todos los roles"}),i.jsx(rt,{value:"emprendedor",children:"Emprendedor"}),i.jsx(rt,{value:"mentor",children:"Mentor"}),i.jsx(rt,{value:"admin",children:"Admin"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"Ubicacin"}),i.jsx(be,{placeholder:"Ciudad o regin",value:u.location,onChange:b=>d(j=>({...j,location:b.target.value}))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"Habilidades"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(be,{placeholder:"Agregar habilidad",value:h,onChange:b=>f(b.target.value),onKeyPress:v}),i.jsx(U,{type:"button",size:"sm",onClick:g,children:"+"})]}),u.skills.length>0&&i.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:u.skills.map((b,j)=>i.jsxs(_e,{variant:"secondary",className:"flex items-center gap-1",children:[b,i.jsx(Mr,{className:"h-3 w-3 cursor-pointer",onClick:()=>w(b)})]},j))})]})]})]})]}),a&&i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),i.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Buscando..."})]}),l&&i.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-xl",children:i.jsx("p",{className:"text-red-600 text-center",children:l})}),!a&&!l&&n.length===0&&(t||u.role||u.location||u.skills.length>0)&&i.jsxs("div",{className:"text-center py-12 text-gray-500",children:[i.jsx(ys,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"No se encontraron usuarios con esos criterios"}),i.jsx("p",{className:"text-sm mt-2",children:"Intenta con otros filtros o trminos de bsqueda"})]}),!a&&!l&&n.length===0&&!t&&!u.role&&!u.location&&u.skills.length===0&&i.jsxs("div",{className:"text-center py-12 text-gray-500",children:[i.jsx(Ir,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"Usa la barra de bsqueda para encontrar miembros de la red"}),i.jsx("p",{className:"text-sm mt-2",children:"Busca por nombre, habilidades o usa los filtros avanzados"})]}),!a&&n.length>0&&i.jsxs("div",{children:[i.jsx("div",{className:"flex justify-between items-center mb-4",children:i.jsxs("p",{className:"text-sm text-gray-600",children:[n.length," ",n.length===1?"resultado encontrado":"resultados encontrados"]})}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(b=>i.jsx(XV,{user:b,onStartChat:e?()=>e(b):void 0},b.id))})]})]})}const kl=(e,t)=>{const r=e!=null&&e.status?["connections",e.status]:["connections","all"];return It({queryKey:r,queryFn:async()=>(await Vl.getConnections(e)).connections,enabled:(t==null?void 0:t.enabled)!==!1,staleTime:120*1e3,gcTime:300*1e3})},Wx=()=>{const e=Ye(),t=at({mutationFn:async r=>{await Vl.deleteConnection(r)},onSuccess:()=>{e.invalidateQueries({queryKey:["connections"]}),e.invalidateQueries({queryKey:["network-stats"]}),e.invalidateQueries({queryKey:["connection-status"]}),e.invalidateQueries({queryKey:["mutual-connections"]})}});return{action:t.mutate,isLoading:t.isPending,error:t.error,isSuccess:t.isSuccess,data:t.data}};function e8(){const{user:e}=jt(),t=vt(),{data:r,isLoading:n}=kl({status:"pending"}),{data:s,isLoading:a}=kl({status:"accepted"}),{action:o,isLoading:l}=Bu(),{action:c,isLoading:u}=Wx(),d=p.useMemo(()=>(r==null?void 0:r.filter(({connection:_})=>_.addressee_id===(e==null?void 0:e.id)))||[],[r,e==null?void 0:e.id]),h=p.useMemo(()=>(r==null?void 0:r.filter(({connection:_})=>_.requester_id===(e==null?void 0:e.id)))||[],[r,e==null?void 0:e.id]),f=d.length,m=h.length,x=(s==null?void 0:s.length)||0,g=_=>{o({connection_id:_,status:"accepted"},{onSuccess:()=>{Kt({title:"Solicitud aceptada",description:"Has aceptado la solicitud de conexin"})},onError:S=>{Kt({title:"Error",description:S.message||"No se pudo aceptar la solicitud",variant:"destructive"})}})},w=_=>{o({connection_id:_,status:"rejected"},{onSuccess:()=>{Kt({title:"Solicitud rechazada",description:"Has rechazado la solicitud de conexin"})},onError:S=>{Kt({title:"Error",description:S.message||"No se pudo rechazar la solicitud",variant:"destructive"})}})},y=_=>{c(_,{onSuccess:()=>{Kt({title:"Solicitud cancelada",description:"Tu solicitud de conexin ha sido cancelada"})},onError:S=>{Kt({title:"Error",description:S.message||"No se pudo cancelar la solicitud",variant:"destructive"})}})},v=_=>{c(_,{onSuccess:()=>{Kt({title:"Conexin eliminada",description:"La conexin ha sido eliminada correctamente"})},onError:S=>{Kt({title:"Error",description:S.message||"No se pudo eliminar la conexin",variant:"destructive"})}})};function b({connectionWithUser:_,type:S}){var B,D,q,F;const{connection:N,user:E}=_,P=l||u,T=()=>{t(`/users/${E.id}`)};return i.jsx(ge,{className:"hover:shadow-md transition-shadow cursor-pointer",children:i.jsx(pe,{className:"p-6",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsxs(Et,{className:"h-14 w-14 cursor-pointer",onClick:T,children:[i.jsx(zt,{src:E.avatar_url||void 0,alt:E.name||""}),i.jsx(kt,{className:"bg-gradient-to-br from-primary to-primary/80 text-white text-lg",children:((D=(B=E.name)==null?void 0:B.charAt(0))==null?void 0:D.toUpperCase())||((F=(q=E.email)==null?void 0:q.charAt(0))==null?void 0:F.toUpperCase())})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-base truncate cursor-pointer hover:text-primary transition-colors",onClick:T,children:E.name}),i.jsx("p",{className:"text-sm text-muted-foreground truncate",children:E.email}),E.bio&&i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mt-1",children:E.bio}),i.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:E.location&&i.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[i.jsx(qn,{className:"h-3 w-3"}),i.jsx("span",{children:E.location})]})}),i.jsxs("div",{className:"flex flex-wrap gap-2 mt-4",children:[S==="received"&&i.jsxs(i.Fragment,{children:[i.jsxs(U,{size:"sm",onClick:()=>g(N.id),disabled:P,className:"flex items-center gap-2",children:[l?i.jsx(St,{className:"h-4 w-4 animate-spin"}):i.jsx(Iu,{className:"h-4 w-4"}),l?"Aceptando...":"Aceptar"]}),i.jsxs(U,{size:"sm",variant:"destructive",onClick:()=>w(N.id),disabled:P,className:"flex items-center gap-2",children:[i.jsx(Mr,{className:"h-4 w-4"}),"Rechazar"]})]}),S==="sent"&&i.jsxs(i.Fragment,{children:[i.jsxs(_e,{variant:"secondary",className:"flex items-center gap-1",children:[i.jsx(ia,{className:"h-3 w-3"}),"Pendiente"]}),i.jsxs(U,{size:"sm",variant:"outline",onClick:()=>y(N.id),disabled:P,className:"flex items-center gap-2",children:[i.jsx(Mr,{className:"h-4 w-4"}),"Cancelar"]})]}),S==="connected"&&i.jsxs(i.Fragment,{children:[i.jsxs(_e,{variant:"default",className:"flex items-center gap-1",children:[i.jsx(xs,{className:"h-3 w-3"}),"Conectado"]}),i.jsxs(U,{size:"sm",onClick:()=>t(`/messages/${E.id}`),className:"flex items-center gap-2",children:[i.jsx(cu,{className:"h-4 w-4"}),"Enviar mensaje"]}),i.jsxs(U,{size:"sm",variant:"ghost",onClick:()=>v(N.id),disabled:P,className:"flex items-center gap-2",children:[i.jsx(Uf,{className:"h-4 w-4"}),"Eliminar"]})]}),i.jsxs(U,{size:"sm",variant:"outline",onClick:T,className:"flex items-center gap-2",children:[i.jsx(ms,{className:"h-4 w-4"}),"Ver Perfil"]})]})]})]})})})}function j({icon:_,title:S,description:N}){return i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-muted mb-4",children:i.jsx(_,{className:"h-8 w-8 text-muted-foreground"})}),i.jsx("h3",{className:"font-semibold text-lg mb-2",children:S}),i.jsx("p",{className:"text-sm text-muted-foreground",children:N})]})}return i.jsxs(ge,{className:"w-full",children:[i.jsx(mt,{children:i.jsx(ft,{className:"text-2xl",children:"Mis Conexiones"})}),i.jsx(pe,{children:i.jsxs(Uu,{defaultValue:"received",children:[i.jsxs(zl,{className:"grid w-full grid-cols-3",children:[i.jsxs(Hr,{value:"received",children:["Solicitudes recibidas (",f,")"]}),i.jsxs(Hr,{value:"sent",children:["Solicitudes enviadas (",m,")"]}),i.jsxs(Hr,{value:"connections",children:["Mis conexiones (",x,")"]})]}),i.jsx(In,{value:"received",className:"space-y-4 mt-6",children:n?i.jsx("div",{className:"text-center py-8",children:i.jsx(St,{className:"h-8 w-8 animate-spin mx-auto text-muted-foreground"})}):d.length===0?i.jsx(j,{icon:tE,title:"No tienes solicitudes recibidas",description:"Las solicitudes de conexin que recibas aparecern aqu"}):d.map(_=>i.jsx(b,{connectionWithUser:_,type:"received"},_.connection.id))}),i.jsx(In,{value:"sent",className:"space-y-4 mt-6",children:n?i.jsx("div",{className:"text-center py-8",children:i.jsx(St,{className:"h-8 w-8 animate-spin mx-auto text-muted-foreground"})}):h.length===0?i.jsx(j,{icon:ox,title:"No has enviado solicitudes",description:"Busca usuarios y envales una solicitud de conexin"}):h.map(_=>i.jsx(b,{connectionWithUser:_,type:"sent"},_.connection.id))}),i.jsx(In,{value:"connections",className:"space-y-4 mt-6",children:a?i.jsx("div",{className:"text-center py-8",children:i.jsx(St,{className:"h-8 w-8 animate-spin mx-auto text-muted-foreground"})}):x===0?i.jsx(j,{icon:Ir,title:"An no tienes conexiones",description:"Comienza a conectar con otros miembros de Espaa Creativa"}):s==null?void 0:s.map(_=>i.jsx(b,{connectionWithUser:_,type:"connected"},_.connection.id))})]})})]})}const t8=e=>It({queryKey:["network-stats"],queryFn:async()=>(await Vl.getNetworkStats()).stats,enabled:(e==null?void 0:e.enabled)!==!1,staleTime:300*1e3,gcTime:600*1e3});var r8="Separator",Mj="horizontal",n8=["horizontal","vertical"],RR=p.forwardRef((e,t)=>{const{decorative:r,orientation:n=Mj,...s}=e,a=s8(n)?n:Mj,l=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return i.jsx(de.div,{"data-orientation":a,...l,...s,ref:t})});RR.displayName=r8;function s8(e){return n8.includes(e)}var TR=RR;const Qa=p.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},s)=>i.jsx(TR,{ref:s,decorative:r,orientation:t,className:te("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));Qa.displayName=TR.displayName;function cc({icon:e,label:t,count:r,isLoading:n,href:s}){const a=i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 rounded-lg bg-muted flex items-center justify-center group-hover:bg-primary/10 transition-colors",children:i.jsx(e,{className:"h-4 w-4 text-muted-foreground group-hover:text-primary transition-colors"})}),i.jsx("span",{className:"text-sm font-medium text-foreground",children:t})]}),n?i.jsx(dr,{className:"h-5 w-12"}):i.jsx("span",{className:"text-sm font-semibold text-foreground",children:(r==null?void 0:r.toLocaleString("es-ES"))||0})]}),o="w-full flex items-center justify-between py-3 px-2 rounded-lg hover:bg-muted/50 transition-colors text-left group";return s?i.jsx(Pn,{to:s,className:o,children:a}):i.jsx("button",{className:o,disabled:!0,children:a})}function a8(){const{data:e,isLoading:t}=t8(),r=e?(e.pending_requests||0)+(e.sent_requests||0):void 0;return i.jsxs(ge,{className:"sticky top-4",children:[i.jsx(mt,{className:"pb-3",children:i.jsx(ft,{className:"text-lg",children:"Gestionar mi red"})}),i.jsx(Qa,{}),i.jsx(pe,{className:"pt-2 pb-4",children:i.jsxs("div",{className:"space-y-1",children:[i.jsx(cc,{icon:Ir,label:"Mi red",count:e==null?void 0:e.total_connections,isLoading:t,href:"/network/my-network"}),i.jsx(cc,{icon:Za,label:"Siguiendo y seguidores",count:r,isLoading:t,href:"/network/followers"}),i.jsx(cc,{icon:Ir,label:"Grupos",count:0,isLoading:!1}),i.jsx(cc,{icon:cn,label:"Eventos",count:0,isLoading:!1}),i.jsx(cc,{icon:Ff,label:"Newsletters",count:0,isLoading:!1})]})})]})}class lh extends p.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("ErrorBoundary caught an error:",t,r)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:i.jsx("div",{className:"max-w-md w-full bg-white rounded-lg shadow-md p-6 text-center",children:i.jsxs("div",{className:"mb-4",children:[i.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),i.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Ha ocurrido un error"}),i.jsx("p",{className:"text-gray-600 mb-4",children:"Algo sali mal. Por favor, recarga la pgina para continuar."}),i.jsx("button",{onClick:()=>window.location.reload(),className:"bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary/80 transition-colors",children:"Recargar pgina"})]})})}):this.props.children}}function i8(){return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted",children:[i.jsx(Or,{}),i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[i.jsx("div",{className:"mb-8",children:i.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary to-emerald-600 rounded-xl flex items-center justify-center",children:i.jsx(Ir,{className:"h-6 w-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Mi Red"}),i.jsx("p",{className:"text-muted-foreground",children:"Conecta con emprendedores y mentores de Espaa Creativa"})]})]})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[i.jsxs(ge,{children:[i.jsxs(mt,{children:[i.jsxs(ft,{className:"flex items-center",children:[i.jsx(ys,{className:"h-5 w-5 mr-2"}),"Buscar Miembros"]}),i.jsx(ur,{children:"Encuentra emprendedores, mentores y colaboradores por nombre, ubicacin o habilidades"})]}),i.jsx(pe,{children:i.jsx(lh,{children:i.jsx(ZV,{})})})]}),i.jsx(lh,{children:i.jsx(e8,{})})]}),i.jsx("div",{className:"lg:col-span-1",children:i.jsx(lh,{children:i.jsx(a8,{})})})]})]})]})}function o8(){const e=vt(),{data:t,isLoading:r}=kl({status:"accepted"}),{action:n,isLoading:s}=Wx(),a=(t==null?void 0:t.length)||0,o=u=>{n(u,{onSuccess:()=>{Kt({title:"Conexin eliminada",description:"La conexin ha sido eliminada correctamente"})},onError:d=>{Kt({title:"Error",description:d.message||"No se pudo eliminar la conexin",variant:"destructive"})}})};function l({connectionWithUser:u}){var m,x,g,w;const{connection:d,user:h}=u,f=()=>{e(`/users/${h.id}`)};return i.jsx(ge,{className:"hover:shadow-md transition-shadow",children:i.jsx(pe,{className:"p-6",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsxs(Et,{className:"h-14 w-14 cursor-pointer",onClick:f,children:[i.jsx(zt,{src:h.avatar_url||void 0,alt:h.name||""}),i.jsx(kt,{className:"bg-gradient-to-br from-primary to-primary/80 text-white text-lg",children:((x=(m=h.name)==null?void 0:m.charAt(0))==null?void 0:x.toUpperCase())||((w=(g=h.email)==null?void 0:g.charAt(0))==null?void 0:w.toUpperCase())})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-base truncate cursor-pointer hover:text-primary transition-colors",onClick:f,children:h.name}),i.jsx("p",{className:"text-sm text-muted-foreground truncate",children:h.email}),h.bio&&i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mt-1",children:h.bio}),i.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:h.location&&i.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[i.jsx(qn,{className:"h-3 w-3"}),i.jsx("span",{children:h.location})]})}),i.jsxs("div",{className:"flex flex-wrap gap-2 mt-4",children:[i.jsxs(_e,{variant:"default",className:"flex items-center gap-1",children:[i.jsx(xs,{className:"h-3 w-3"}),"Conectado"]}),i.jsxs(U,{size:"sm",variant:"ghost",onClick:()=>o(d.id),disabled:s,className:"flex items-center gap-2",children:[i.jsx(Uf,{className:"h-4 w-4"}),"Eliminar"]}),i.jsxs(U,{size:"sm",variant:"outline",onClick:f,className:"flex items-center gap-2",children:[i.jsx(ms,{className:"h-4 w-4"}),"Ver Perfil"]})]})]})]})})})}function c(){return i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-muted mb-4",children:i.jsx(Ir,{className:"h-8 w-8 text-muted-foreground"})}),i.jsx("h3",{className:"font-semibold text-lg mb-2",children:"An no tienes conexiones"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Comienza a conectar con otros miembros de Espaa Creativa"}),i.jsx(U,{onClick:()=>e("/network"),children:"Buscar miembros"})]})}return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted",children:[i.jsx(Or,{}),i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs(U,{variant:"ghost",size:"sm",onClick:()=>e("/network"),className:"mb-4 flex items-center gap-2",children:[i.jsx(Dn,{className:"h-4 w-4"}),"Volver a Red"]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary to-emerald-600 rounded-xl flex items-center justify-center",children:i.jsx(Ir,{className:"h-6 w-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Mi Red"}),i.jsxs("p",{className:"text-muted-foreground",children:["Todas tus conexiones activas (",a,")"]})]})]})]}),i.jsxs(ge,{className:"w-full",children:[i.jsxs(mt,{children:[i.jsx(ft,{className:"text-2xl",children:"Mis Conexiones"}),i.jsx(ur,{children:"Gestiona tus contactos y mantente en contacto con la comunidad"})]}),i.jsx(pe,{children:r?i.jsx("div",{className:"text-center py-8",children:i.jsx(St,{className:"h-8 w-8 animate-spin mx-auto text-muted-foreground"})}):a===0?i.jsx(c,{}):i.jsx("div",{className:"space-y-4",children:t==null?void 0:t.map(u=>i.jsx(l,{connectionWithUser:u},u.connection.id))})})]})]})]})}function l8(){const e=vt(),{user:t}=jt(),{data:r,isLoading:n}=kl({status:"pending"}),{action:s,isLoading:a}=Bu(),{action:o,isLoading:l}=Wx(),c=p.useMemo(()=>(r==null?void 0:r.filter(({connection:y})=>y.addressee_id===(t==null?void 0:t.id)))||[],[r,t==null?void 0:t.id]),u=p.useMemo(()=>(r==null?void 0:r.filter(({connection:y})=>y.requester_id===(t==null?void 0:t.id)))||[],[r,t==null?void 0:t.id]),d=c.length,h=u.length,f=y=>{s({connection_id:y,status:"accepted"},{onSuccess:()=>{Kt({title:"Solicitud aceptada",description:"Has aceptado la solicitud de conexin"})},onError:v=>{Kt({title:"Error",description:v.message||"No se pudo aceptar la solicitud",variant:"destructive"})}})},m=y=>{s({connection_id:y,status:"rejected"},{onSuccess:()=>{Kt({title:"Solicitud rechazada",description:"Has rechazado la solicitud de conexin"})},onError:v=>{Kt({title:"Error",description:v.message||"No se pudo rechazar la solicitud",variant:"destructive"})}})},x=y=>{o(y,{onSuccess:()=>{Kt({title:"Solicitud cancelada",description:"Tu solicitud de conexin ha sido cancelada"})},onError:v=>{Kt({title:"Error",description:v.message||"No se pudo cancelar la solicitud",variant:"destructive"})}})};function g({connectionWithUser:y,type:v}){var N,E,P,T;const{connection:b,user:j}=y,_=a||l,S=()=>{e(`/users/${j.id}`)};return i.jsx(ge,{className:"hover:shadow-md transition-shadow",children:i.jsx(pe,{className:"p-6",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsxs(Et,{className:"h-14 w-14 cursor-pointer",onClick:S,children:[i.jsx(zt,{src:j.avatar_url||void 0,alt:j.name||""}),i.jsx(kt,{className:"bg-gradient-to-br from-primary to-primary/80 text-white text-lg",children:((E=(N=j.name)==null?void 0:N.charAt(0))==null?void 0:E.toUpperCase())||((T=(P=j.email)==null?void 0:P.charAt(0))==null?void 0:T.toUpperCase())})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-base truncate cursor-pointer hover:text-primary transition-colors",onClick:S,children:j.name}),i.jsx("p",{className:"text-sm text-muted-foreground truncate",children:j.email}),j.bio&&i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mt-1",children:j.bio}),i.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:j.location&&i.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[i.jsx(qn,{className:"h-3 w-3"}),i.jsx("span",{children:j.location})]})}),i.jsxs("div",{className:"flex flex-wrap gap-2 mt-4",children:[v==="received"&&i.jsxs(i.Fragment,{children:[i.jsxs(U,{size:"sm",onClick:()=>f(b.id),disabled:_,className:"flex items-center gap-2",children:[a?i.jsx(St,{className:"h-4 w-4 animate-spin"}):i.jsx(Iu,{className:"h-4 w-4"}),a?"Aceptando...":"Aceptar"]}),i.jsxs(U,{size:"sm",variant:"destructive",onClick:()=>m(b.id),disabled:_,className:"flex items-center gap-2",children:[i.jsx(Mr,{className:"h-4 w-4"}),"Rechazar"]})]}),v==="sent"&&i.jsxs(i.Fragment,{children:[i.jsxs(_e,{variant:"secondary",className:"flex items-center gap-1",children:[i.jsx(ia,{className:"h-3 w-3"}),"Pendiente"]}),i.jsxs(U,{size:"sm",variant:"outline",onClick:()=>x(b.id),disabled:_,className:"flex items-center gap-2",children:[i.jsx(Mr,{className:"h-4 w-4"}),"Cancelar"]})]}),i.jsxs(U,{size:"sm",variant:"outline",onClick:S,className:"flex items-center gap-2",children:[i.jsx(ms,{className:"h-4 w-4"}),"Ver Perfil"]})]})]})]})})})}function w({icon:y,title:v,description:b}){return i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-muted mb-4",children:i.jsx(y,{className:"h-8 w-8 text-muted-foreground"})}),i.jsx("h3",{className:"font-semibold text-lg mb-2",children:v}),i.jsx("p",{className:"text-sm text-muted-foreground",children:b})]})}return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted",children:[i.jsx(Or,{}),i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs(U,{variant:"ghost",size:"sm",onClick:()=>e("/network"),className:"mb-4 flex items-center gap-2",children:[i.jsx(Dn,{className:"h-4 w-4"}),"Volver a Red"]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary to-emerald-600 rounded-xl flex items-center justify-center",children:i.jsx(Za,{className:"h-6 w-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Siguiendo y Seguidores"}),i.jsx("p",{className:"text-muted-foreground",children:"Gestiona tus solicitudes de conexin pendientes"})]})]})]}),i.jsxs(ge,{className:"w-full",children:[i.jsxs(mt,{children:[i.jsx(ft,{className:"text-2xl",children:"Solicitudes de Conexin"}),i.jsx(ur,{children:"Revisa las solicitudes recibidas y las que has enviado"})]}),i.jsx(pe,{children:i.jsxs(Uu,{defaultValue:"received",children:[i.jsxs(zl,{className:"grid w-full grid-cols-2",children:[i.jsxs(Hr,{value:"received",children:["Recibidas (",d,")"]}),i.jsxs(Hr,{value:"sent",children:["Enviadas (",h,")"]})]}),i.jsx(In,{value:"received",className:"space-y-4 mt-6",children:n?i.jsx("div",{className:"text-center py-8",children:i.jsx(St,{className:"h-8 w-8 animate-spin mx-auto text-muted-foreground"})}):c.length===0?i.jsx(w,{icon:tE,title:"No tienes solicitudes recibidas",description:"Las solicitudes de conexin que recibas aparecern aqu"}):c.map(y=>i.jsx(g,{connectionWithUser:y,type:"received"},y.connection.id))}),i.jsx(In,{value:"sent",className:"space-y-4 mt-6",children:n?i.jsx("div",{className:"text-center py-8",children:i.jsx(St,{className:"h-8 w-8 animate-spin mx-auto text-muted-foreground"})}):u.length===0?i.jsx(w,{icon:ox,title:"No has enviado solicitudes",description:"Busca usuarios y envales una solicitud de conexin"}):u.map(y=>i.jsx(g,{connectionWithUser:y,type:"sent"},y.connection.id))})]})})]})]})]})}const AR=e=>It({queryKey:["conversations"],queryFn:async()=>await Kl.getConversations(),enabled:(e==null?void 0:e.enabled)!==!1,staleTime:60*1e3,gcTime:300*1e3});function Qt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function c8(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const Md=43200,Dj=1440;let u8={};function d8(){return u8}function Lj(e){const t=Qt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function ch(e,t){const r=Qt(e),n=Qt(t),s=r.getTime()-n.getTime();return s<0?-1:s>0?1:s}function h8(e){return c8(e,Date.now())}function f8(e,t){const r=Qt(e),n=Qt(t),s=r.getFullYear()-n.getFullYear(),a=r.getMonth()-n.getMonth();return s*12+a}function m8(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function p8(e,t){return+Qt(e)-+Qt(t)}function g8(e){const t=Qt(e);return t.setHours(23,59,59,999),t}function v8(e){const t=Qt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function y8(e){const t=Qt(e);return+g8(t)==+v8(t)}function x8(e,t){const r=Qt(e),n=Qt(t),s=ch(r,n),a=Math.abs(f8(r,n));let o;if(a<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*a);let l=ch(r,n)===-s;y8(Qt(e))&&a===1&&ch(e,n)===1&&(l=!1),o=s*(a-Number(l))}return o===0?0:o}function w8(e,t,r){const n=p8(e,t)/1e3;return m8(r==null?void 0:r.roundingMethod)(n)}const b8={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},j8=(e,t,r)=>{let n;const s=b8[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Jo(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const _8={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},S8={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},N8={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},C8={date:Jo({formats:_8,defaultWidth:"full"}),time:Jo({formats:S8,defaultWidth:"full"}),dateTime:Jo({formats:N8,defaultWidth:"full"})},E8={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},k8=(e,t,r,n)=>E8[e];function ls(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return s[a]}}const P8={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},R8={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},T8={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},A8={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},O8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},I8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},M8=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},D8={ordinalNumber:M8,era:ls({values:P8,defaultWidth:"wide"}),quarter:ls({values:R8,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ls({values:T8,defaultWidth:"wide"}),day:ls({values:A8,defaultWidth:"wide"}),dayPeriod:ls({values:O8,defaultWidth:"wide",formattingValues:I8,defaultFormattingWidth:"wide"})};function cs(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(s);if(!a)return null;const o=a[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?$8(l,h=>h.test(o)):L8(l,h=>h.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function L8(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function $8(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function OR(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(s.length);return{value:o,rest:l}}}const F8=/^(\d+)(th|st|nd|rd)?/i,U8=/\d+/i,z8={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},B8={any:[/^b/i,/^(a|c)/i]},V8={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},q8={any:[/1/i,/2/i,/3/i,/4/i]},W8={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},H8={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},K8={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},G8={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Q8={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},J8={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Y8={ordinalNumber:OR({matchPattern:F8,parsePattern:U8,valueCallback:e=>parseInt(e,10)}),era:cs({matchPatterns:z8,defaultMatchWidth:"wide",parsePatterns:B8,defaultParseWidth:"any"}),quarter:cs({matchPatterns:V8,defaultMatchWidth:"wide",parsePatterns:q8,defaultParseWidth:"any",valueCallback:e=>e+1}),month:cs({matchPatterns:W8,defaultMatchWidth:"wide",parsePatterns:H8,defaultParseWidth:"any"}),day:cs({matchPatterns:K8,defaultMatchWidth:"wide",parsePatterns:G8,defaultParseWidth:"any"}),dayPeriod:cs({matchPatterns:Q8,defaultMatchWidth:"any",parsePatterns:J8,defaultParseWidth:"any"})},X8={code:"en-US",formatDistance:j8,formatLong:C8,formatRelative:k8,localize:D8,match:Y8,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Z8(e,t,r){const n=d8(),s=(r==null?void 0:r.locale)??n.locale??X8,a=2520,o=ch(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,u;o>0?(c=Qt(t),u=Qt(e)):(c=Qt(e),u=Qt(t));const d=w8(u,c),h=(Lj(u)-Lj(c))/1e3,f=Math.round((d-h)/60);let m;if(f<2)return r!=null&&r.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,l):d<10?s.formatDistance("lessThanXSeconds",10,l):d<20?s.formatDistance("lessThanXSeconds",20,l):d<40?s.formatDistance("halfAMinute",0,l):d<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):f===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",f,l);if(f<45)return s.formatDistance("xMinutes",f,l);if(f<90)return s.formatDistance("aboutXHours",1,l);if(f<Dj){const x=Math.round(f/60);return s.formatDistance("aboutXHours",x,l)}else{if(f<a)return s.formatDistance("xDays",1,l);if(f<Md){const x=Math.round(f/Dj);return s.formatDistance("xDays",x,l)}else if(f<Md*2)return m=Math.round(f/Md),s.formatDistance("aboutXMonths",m,l)}if(m=x8(u,c),m<12){const x=Math.round(f/Md);return s.formatDistance("xMonths",x,l)}else{const x=m%12,g=Math.trunc(m/12);return x<3?s.formatDistance("aboutXYears",g,l):x<9?s.formatDistance("overXYears",g,l):s.formatDistance("almostXYears",g+1,l)}}function um(e,t){return Z8(e,h8(e),t)}const eq={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},tq=(e,t,r)=>{let n;const s=eq[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"en "+n:"hace "+n:n},rq={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},nq={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},sq={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},aq={date:Jo({formats:rq,defaultWidth:"full"}),time:Jo({formats:nq,defaultWidth:"full"}),dateTime:Jo({formats:sq,defaultWidth:"full"})},iq={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},oq={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},lq=(e,t,r,n)=>t.getHours()!==1?oq[e]:iq[e],cq={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},uq={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},dq={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},hq={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},fq={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},mq={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},pq=(e,t)=>Number(e)+"",gq={ordinalNumber:pq,era:ls({values:cq,defaultWidth:"wide"}),quarter:ls({values:uq,defaultWidth:"wide",argumentCallback:e=>Number(e)-1}),month:ls({values:dq,defaultWidth:"wide"}),day:ls({values:hq,defaultWidth:"wide"}),dayPeriod:ls({values:fq,defaultWidth:"wide",formattingValues:mq,defaultFormattingWidth:"wide"})},vq=/^(\d+)()?/i,yq=/\d+/i,xq={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},wq={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},bq={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},jq={any:[/1/i,/2/i,/3/i,/4/i]},_q={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},Sq={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},Nq={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},Cq={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},Eq={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},kq={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},Pq={ordinalNumber:OR({matchPattern:vq,parsePattern:yq,valueCallback:function(e){return parseInt(e,10)}}),era:cs({matchPatterns:xq,defaultMatchWidth:"wide",parsePatterns:wq,defaultParseWidth:"any"}),quarter:cs({matchPatterns:bq,defaultMatchWidth:"wide",parsePatterns:jq,defaultParseWidth:"any",valueCallback:e=>e+1}),month:cs({matchPatterns:_q,defaultMatchWidth:"wide",parsePatterns:Sq,defaultParseWidth:"any"}),day:cs({matchPatterns:Nq,defaultMatchWidth:"wide",parsePatterns:Cq,defaultParseWidth:"any"}),dayPeriod:cs({matchPatterns:Eq,defaultMatchWidth:"any",parsePatterns:kq,defaultParseWidth:"any"})},dm={code:"es",formatDistance:tq,formatLong:aq,formatRelative:lq,localize:gq,match:Pq,options:{weekStartsOn:1,firstWeekContainsDate:1}};function $j({onSelectConversation:e,selectedUserId:t}){const{data:r,isLoading:n,error:s,refetch:a}=AR();return n?i.jsx("div",{className:"space-y-2",children:[1,2,3].map(o=>i.jsx(ge,{children:i.jsx(pe,{className:"p-4",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(dr,{className:"h-12 w-12 rounded-full"}),i.jsxs("div",{className:"flex-1 space-y-2",children:[i.jsx(dr,{className:"h-4 w-24"}),i.jsx(dr,{className:"h-3 w-full"}),i.jsx(dr,{className:"h-3 w-16"})]})]})})},o))}):s?i.jsxs(Yf,{variant:"destructive",className:"m-4",children:[i.jsx(Gh,{className:"h-4 w-4"}),i.jsxs(Xf,{className:"flex flex-col gap-2",children:[i.jsx("p",{className:"text-sm",children:"Error al cargar conversaciones"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:s.message}),i.jsxs(U,{variant:"outline",size:"sm",onClick:()=>a(),className:"w-fit",children:[i.jsx(W3,{className:"h-4 w-4 mr-2"}),"Reintentar"]})]})]}):!r||r.conversations.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center",children:[i.jsx(Mu,{className:"h-12 w-12 text-muted-foreground mb-4"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"No tienes conversaciones an"})]}):i.jsx("div",{className:"space-y-2",children:r.conversations.map(o=>{var u,d;const l=t===o.user.id,c=um(new Date(o.last_message.created_at),{addSuffix:!0,locale:dm});return i.jsx(ge,{className:`cursor-pointer transition-colors hover:bg-accent ${l?"bg-accent border-primary":""}`,onClick:()=>e==null?void 0:e(o.user.id),children:i.jsx(pe,{className:"p-4",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsxs(Et,{className:"h-12 w-12",children:[i.jsx(zt,{src:o.user.avatar_url||void 0,alt:o.user.name}),i.jsx(kt,{children:(d=(u=o.user.name)==null?void 0:u.charAt(0))==null?void 0:d.toUpperCase()})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[i.jsx("h4",{className:"font-semibold text-sm truncate",children:o.user.name}),o.unread_count>0&&i.jsx(_e,{variant:"default",className:"shrink-0",children:o.unread_count})]}),i.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2 mb-1",children:o.last_message.content}),i.jsx("p",{className:"text-xs text-muted-foreground",children:c})]})]})})},o.user.id)})})}function Rq(e,t){return p.useReducer((r,n)=>t[r][n]??r,e)}var Hx="ScrollArea",[IR]=gr(Hx),[Tq,fn]=IR(Hx),MR=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:a=600,...o}=e,[l,c]=p.useState(null),[u,d]=p.useState(null),[h,f]=p.useState(null),[m,x]=p.useState(null),[g,w]=p.useState(null),[y,v]=p.useState(0),[b,j]=p.useState(0),[_,S]=p.useState(!1),[N,E]=p.useState(!1),P=Re(t,B=>c(B)),T=$u(s);return i.jsx(Tq,{scope:r,type:n,dir:T,scrollHideDelay:a,scrollArea:l,viewport:u,onViewportChange:d,content:h,onContentChange:f,scrollbarX:m,onScrollbarXChange:x,scrollbarXEnabled:_,onScrollbarXEnabledChange:S,scrollbarY:g,onScrollbarYChange:w,scrollbarYEnabled:N,onScrollbarYEnabledChange:E,onCornerWidthChange:v,onCornerHeightChange:j,children:i.jsx(de.div,{dir:T,...o,ref:P,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})})});MR.displayName=Hx;var DR="ScrollAreaViewport",LR=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:s,...a}=e,o=fn(DR,r),l=p.useRef(null),c=Re(t,l,o.onViewportChange);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),i.jsx(de.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:i.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});LR.displayName=DR;var _s="ScrollAreaScrollbar",Kx=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=fn(_s,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=s,l=e.orientation==="horizontal";return p.useEffect(()=>(l?a(!0):o(!0),()=>{l?a(!1):o(!1)}),[l,a,o]),s.type==="hover"?i.jsx(Aq,{...n,ref:t,forceMount:r}):s.type==="scroll"?i.jsx(Oq,{...n,ref:t,forceMount:r}):s.type==="auto"?i.jsx($R,{...n,ref:t,forceMount:r}):s.type==="always"?i.jsx(Gx,{...n,ref:t}):null});Kx.displayName=_s;var Aq=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=fn(_s,e.__scopeScrollArea),[a,o]=p.useState(!1);return p.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),i.jsx(vr,{present:r||a,children:i.jsx($R,{"data-state":a?"visible":"hidden",...n,ref:t})})}),Oq=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=fn(_s,e.__scopeScrollArea),a=e.orientation==="horizontal",o=fm(()=>c("SCROLL_END"),100),[l,c]=Rq("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),p.useEffect(()=>{const u=s.viewport,d=a?"scrollLeft":"scrollTop";if(u){let h=u[d];const f=()=>{const m=u[d];h!==m&&(c("SCROLL"),o()),h=m};return u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[s.viewport,a,c,o]),i.jsx(vr,{present:r||l!=="hidden",children:i.jsx(Gx,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:X(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:X(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),$R=p.forwardRef((e,t)=>{const r=fn(_s,e.__scopeScrollArea),{forceMount:n,...s}=e,[a,o]=p.useState(!1),l=e.orientation==="horizontal",c=fm(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:d)}},10);return Pl(r.viewport,c),Pl(r.content,c),i.jsx(vr,{present:n||a,children:i.jsx(Gx,{"data-state":a?"visible":"hidden",...s,ref:t})})}),Gx=p.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,s=fn(_s,e.__scopeScrollArea),a=p.useRef(null),o=p.useRef(0),[l,c]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=VR(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:f=>a.current=f,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:f=>o.current=f};function h(f,m){return Fq(f,o.current,l,m)}return r==="horizontal"?i.jsx(Iq,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const f=s.viewport.scrollLeft,m=Fj(f,l,s.dir);a.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollLeft=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollLeft=h(f,s.dir))}}):r==="vertical"?i.jsx(Mq,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const f=s.viewport.scrollTop,m=Fj(f,l);a.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollTop=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollTop=h(f))}}):null}),Iq=p.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,a=fn(_s,e.__scopeScrollArea),[o,l]=p.useState(),c=p.useRef(null),u=Re(t,c,a.onScrollbarXChange);return p.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(UR,{"data-orientation":"horizontal",...s,ref:u,sizes:r,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":hm(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(a.viewport){const f=a.viewport.scrollLeft+d.deltaX;e.onWheelScroll(f),WR(f,h)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:of(o.paddingLeft),paddingEnd:of(o.paddingRight)}})}})}),Mq=p.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,a=fn(_s,e.__scopeScrollArea),[o,l]=p.useState(),c=p.useRef(null),u=Re(t,c,a.onScrollbarYChange);return p.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(UR,{"data-orientation":"vertical",...s,ref:u,sizes:r,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":hm(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(a.viewport){const f=a.viewport.scrollTop+d.deltaY;e.onWheelScroll(f),WR(f,h)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:of(o.paddingTop),paddingEnd:of(o.paddingBottom)}})}})}),[Dq,FR]=IR(_s),UR=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:h,...f}=e,m=fn(_s,r),[x,g]=p.useState(null),w=Re(t,P=>g(P)),y=p.useRef(null),v=p.useRef(""),b=m.viewport,j=n.content-n.viewport,_=bt(d),S=bt(c),N=fm(h,10);function E(P){if(y.current){const T=P.clientX-y.current.left,B=P.clientY-y.current.top;u({x:T,y:B})}}return p.useEffect(()=>{const P=T=>{const B=T.target;(x==null?void 0:x.contains(B))&&_(T,j)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[b,x,j,_]),p.useEffect(S,[n,S]),Pl(x,N),Pl(m.content,N),i.jsx(Dq,{scope:r,scrollbar:x,hasThumb:s,onThumbChange:bt(a),onThumbPointerUp:bt(o),onThumbPositionChange:S,onThumbPointerDown:bt(l),children:i.jsx(de.div,{...f,ref:w,style:{position:"absolute",...f.style},onPointerDown:X(e.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),y.current=x.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),E(P))}),onPointerMove:X(e.onPointerMove,E),onPointerUp:X(e.onPointerUp,P=>{const T=P.target;T.hasPointerCapture(P.pointerId)&&T.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=v.current,m.viewport&&(m.viewport.style.scrollBehavior=""),y.current=null})})})}),af="ScrollAreaThumb",zR=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=FR(af,e.__scopeScrollArea);return i.jsx(vr,{present:r||s.hasThumb,children:i.jsx(Lq,{ref:t,...n})})}),Lq=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...s}=e,a=fn(af,r),o=FR(af,r),{onThumbPositionChange:l}=o,c=Re(t,h=>o.onThumbChange(h)),u=p.useRef(void 0),d=fm(()=>{u.current&&(u.current(),u.current=void 0)},100);return p.useEffect(()=>{const h=a.viewport;if(h){const f=()=>{if(d(),!u.current){const m=Uq(h,l);u.current=m,l()}};return l(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[a.viewport,d,l]),i.jsx(de.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:X(e.onPointerDownCapture,h=>{const m=h.target.getBoundingClientRect(),x=h.clientX-m.left,g=h.clientY-m.top;o.onThumbPointerDown({x,y:g})}),onPointerUp:X(e.onPointerUp,o.onThumbPointerUp)})});zR.displayName=af;var Qx="ScrollAreaCorner",BR=p.forwardRef((e,t)=>{const r=fn(Qx,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?i.jsx($q,{...e,ref:t}):null});BR.displayName=Qx;var $q=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,s=fn(Qx,r),[a,o]=p.useState(0),[l,c]=p.useState(0),u=!!(a&&l);return Pl(s.scrollbarX,()=>{var h;const d=((h=s.scrollbarX)==null?void 0:h.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),Pl(s.scrollbarY,()=>{var h;const d=((h=s.scrollbarY)==null?void 0:h.offsetWidth)||0;s.onCornerWidthChange(d),o(d)}),u?i.jsx(de.div,{...n,ref:t,style:{width:a,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function of(e){return e?parseInt(e,10):0}function VR(e,t){const r=e/t;return isNaN(r)?0:r}function hm(e){const t=VR(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function Fq(e,t,r,n="ltr"){const s=hm(r),a=s/2,o=t||a,l=s-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,h=n==="ltr"?[0,d]:[d*-1,0];return qR([c,u],h)(e)}function Fj(e,t,r="ltr"){const n=hm(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-s,o=t.content-t.viewport,l=a-n,c=r==="ltr"?[0,o]:[o*-1,0],u=jv(e,c);return qR([0,o],[0,l])(u)}function qR(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function WR(e,t){return e>0&&e<t}var Uq=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return(function s(){const a={left:e.scrollLeft,top:e.scrollTop},o=r.left!==a.left,l=r.top!==a.top;(o||l)&&t(),r=a,n=window.requestAnimationFrame(s)})(),()=>window.cancelAnimationFrame(n)};function fm(e,t){const r=bt(e),n=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(n.current),[]),p.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Pl(e,t){const r=bt(t);Ct(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}var HR=MR,zq=LR,Bq=BR;const KR=p.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(HR,{ref:n,className:te("relative overflow-hidden",e),...r,children:[i.jsx(zq,{className:"h-full w-full rounded-[inherit]",children:t}),i.jsx(GR,{}),i.jsx(Bq,{})]}));KR.displayName=HR.displayName;const GR=p.forwardRef(({className:e,orientation:t="vertical",...r},n)=>i.jsx(Kx,{ref:n,orientation:t,className:te("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:i.jsx(zR,{className:"relative flex-1 rounded-full bg-border"})}));GR.displayName=Kx.displayName;const Vq=()=>{const e=Ye(),t=at({mutationFn:async r=>{await Kl.deleteMessage(r)},onSuccess:()=>{e.invalidateQueries({queryKey:["conversations"]}),e.invalidateQueries({queryKey:["conversation-messages"]})}});return{action:t.mutate,isLoading:t.isPending,error:t.error,isSuccess:t.isSuccess,data:t.data}};function qq({message:e,currentUserId:t,showActions:r=!1}){var u,d;const{action:n,isLoading:s}=Vq(),a=e.sender_id===t,o=e.sender,l=()=>{confirm("Ests seguro de que quieres eliminar este mensaje?")&&n(e.id)},c=um(new Date(e.created_at),{addSuffix:!0,locale:dm});return i.jsxs("div",{className:`flex gap-3 ${a?"flex-row-reverse":"flex-row"}`,children:[i.jsxs(Et,{className:"h-8 w-8 shrink-0",children:[i.jsx(zt,{src:o.avatar_url||void 0,alt:o.name}),i.jsx(kt,{children:(d=(u=o.name)==null?void 0:u.charAt(0))==null?void 0:d.toUpperCase()})]}),i.jsxs("div",{className:`flex flex-col gap-1 max-w-[70%] ${a?"items-end":"items-start"}`,children:[i.jsx("div",{className:`rounded-lg px-4 py-2 ${a?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"}`,children:i.jsx("p",{className:"text-sm whitespace-pre-wrap break-words",children:e.content})}),i.jsxs("div",{className:"flex items-center gap-2 px-1",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:c}),a&&e.read_at&&i.jsx("p",{className:"text-xs text-muted-foreground",children:" Ledo"}),r&&a&&i.jsx(U,{variant:"ghost",size:"sm",onClick:l,disabled:s,className:"h-6 px-2",children:i.jsx(Uf,{className:"h-3 w-3"})})]})]})]})}const Wq=()=>{const e=Ye(),t=at({mutationFn:async r=>{console.log("[useMarkAsReadMutation] Sending request:",r);const n=await Kl.markAsRead(r);return console.log("[useMarkAsReadMutation] Response:",n),n},onSuccess:r=>{console.log("[useMarkAsReadMutation] Success! Updated count:",r.updated_count),e.invalidateQueries({queryKey:["conversations"]}),e.invalidateQueries({queryKey:["conversation-messages"]}),e.invalidateQueries({queryKey:["unread-count"]}),console.log("[useMarkAsReadMutation] Queries invalidated")},onError:r=>{console.error("[useMarkAsReadMutation] Error marking messages as read:",r)}});return{action:t.mutate,isLoading:t.isPending,error:t.error,isSuccess:t.isSuccess,data:t.data}};function Uj({userId:e,messages:t,isLoading:r,error:n}){const{user:s}=jt(),a=p.useRef(null),o=p.useRef(null),{action:l}=Wq(),[c,u]=p.useState(!1),d=p.useRef(t.length);p.useEffect(()=>{if(!o.current||!a.current)return;const f=a.current.querySelector("[data-radix-scroll-area-viewport]");if(!f){o.current.scrollIntoView({behavior:"smooth"});return}const m=f.scrollHeight-f.scrollTop-f.clientHeight<100;t.length!==d.current&&(m?(o.current.scrollIntoView({behavior:"smooth"}),u(!1)):u(!0),d.current=t.length)},[t]);const h=()=>{o.current&&(o.current.scrollIntoView({behavior:"smooth"}),u(!1))};return p.useEffect(()=>{if(!e||!t||t.length===0)return;const f=t.filter(m=>m.recipient_id===(s==null?void 0:s.id)&&m.sender_id===e&&!m.read_at);if(console.log("[MessagesList] Checking unread messages:",{userId:e,currentUserId:s==null?void 0:s.id,totalMessages:t.length,unreadCount:f.length,unreadMessageIds:f.map(m=>m.id)}),f.length>0){const m=f.map(x=>x.id);console.log("[MessagesList] Marking messages as read:",m),l({message_ids:m})}},[e,t,s==null?void 0:s.id,l]),r?i.jsx("div",{className:"p-4 space-y-4",children:[1,2,3,4].map(f=>i.jsxs("div",{className:`flex gap-3 ${f%2===0?"flex-row-reverse":"flex-row"}`,children:[i.jsx(dr,{className:"h-8 w-8 rounded-full shrink-0"}),i.jsxs("div",{className:"flex flex-col gap-1 max-w-[70%]",children:[i.jsx(dr,{className:"h-16 w-48 rounded-lg"}),i.jsx(dr,{className:"h-3 w-24"})]})]},f))}):n?i.jsx("div",{className:"flex flex-col items-center justify-center h-full p-8",children:i.jsxs(Yf,{variant:"destructive",children:[i.jsx(Gh,{className:"h-4 w-4"}),i.jsxs(Xf,{className:"flex flex-col gap-2",children:[i.jsx("p",{className:"text-sm font-medium",children:"Error al cargar mensajes"}),i.jsx("p",{className:"text-xs",children:n.message})]})]})}):!t||t.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-8 text-center",children:[i.jsx(Mu,{className:"h-12 w-12 text-muted-foreground mb-4"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"No hay mensajes an. S el primero en enviar un mensaje!"})]}):i.jsxs("div",{className:"relative h-full",children:[i.jsx(KR,{className:"h-full",ref:a,children:i.jsxs("div",{className:"p-4 space-y-4",children:[t.map(f=>i.jsx(qq,{message:f,currentUserId:(s==null?void 0:s.id)||"",showActions:!0},f.id)),i.jsx("div",{ref:o})]})}),c&&i.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2",children:i.jsxs(U,{onClick:h,size:"sm",className:"shadow-lg",children:[i.jsx(R3,{className:"h-4 w-4 mr-2"}),"Nuevos mensajes"]})})]})}const si=p.forwardRef(({className:e,...t},r)=>i.jsx("textarea",{className:te("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));si.displayName="Textarea";const Hq=()=>{const e=Ye(),t=at({mutationFn:async r=>(await Kl.sendMessage(r)).message,onMutate:async r=>{var a;await e.cancelQueries({queryKey:["conversation-messages",r.recipient_id]});const n=["conversation-messages",r.recipient_id],s=e.getQueryData(n);if(s){const o={id:`temp-${Date.now()}`,content:r.content,sender_id:"",recipient_id:r.recipient_id,created_at:new Date().toISOString(),read_at:null,sender:{id:"",name:"Enviando...",email:"",avatar_url:null,headline:null,bio:null,location:null,website:null,linkedin_url:null,twitter_url:null,github_url:null,skills:[],interests:[],completed_pct:0,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),status:"pending_approval",approved_at:null,role:"user"},recipient:((a=s.messages[0])==null?void 0:a.recipient)||{id:r.recipient_id,name:"",email:"",avatar_url:null,headline:null,bio:null,location:null,website:null,linkedin_url:null,twitter_url:null,github_url:null,skills:[],interests:[],completed_pct:0,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),status:"pending_approval",approved_at:null,role:"user"}};e.setQueryData(["conversation-messages",r.recipient_id],{messages:[...s.messages,o]})}return{previousMessages:s}},onError:(r,n,s)=>{s!=null&&s.previousMessages&&e.setQueryData(["conversation-messages",n.recipient_id],s.previousMessages)},onSuccess:(r,n)=>{e.invalidateQueries({queryKey:["conversations"]}),e.invalidateQueries({queryKey:["conversation-messages",n.recipient_id]}),e.invalidateQueries({queryKey:["unread-count"]})}});return{action:t.mutate,isLoading:t.isPending,error:t.error,isSuccess:t.isSuccess,data:t.data}},zj=5e3;function Bj({recipientId:e,onMessageSent:t}){const[r,n]=p.useState(""),{action:s,isLoading:a}=Hq(),o=async d=>{d.preventDefault(),!(!r.trim()||a)&&s({recipient_id:e,content:r.trim()},{onSuccess:()=>{n(""),t==null||t()}})},l=d=>{d.key==="Enter"&&!d.shiftKey&&(d.preventDefault(),o(d))},c=zj-r.length,u=c<0;return i.jsxs("form",{onSubmit:o,className:"space-y-2",children:[i.jsxs("div",{className:"relative",children:[i.jsx(si,{value:r,onChange:d=>n(d.target.value),onKeyDown:l,placeholder:"Escribe un mensaje...",className:"min-h-[100px] resize-none pr-20",disabled:a,maxLength:zj}),i.jsx("div",{className:"absolute bottom-2 right-2",children:i.jsx("span",{className:`text-xs ${u?"text-destructive font-semibold":c<100?"text-warning":"text-muted-foreground"}`,children:c})})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:"Presiona Enter para enviar, Shift+Enter para nueva lnea"}),i.jsx(U,{type:"submit",disabled:!r.trim()||a||u,size:"sm",children:a?i.jsxs(i.Fragment,{children:[i.jsx(St,{className:"h-4 w-4 mr-2 animate-spin"}),"Enviando..."]}):i.jsxs(i.Fragment,{children:[i.jsx(ox,{className:"h-4 w-4 mr-2"}),"Enviar"]})})]})]})}function Kq({children:e}){const[t,r]=p.useState(!1),[n,s]=p.useState(""),a=vt(),{data:o,isLoading:l}=kl({status:"accepted"},{enabled:t}),c=o==null?void 0:o.filter(d=>d.user.name.toLowerCase().includes(n.toLowerCase())),u=d=>{r(!1),s(""),a(`/messages/${d}`)};return i.jsxs(ws,{open:t,onOpenChange:r,children:[i.jsx(DE,{asChild:!0,children:e||i.jsxs(U,{children:[i.jsx(Yi,{className:"h-4 w-4 mr-2"}),"Nuevo mensaje"]})}),i.jsxs(Ln,{className:"sm:max-w-[500px]",children:[i.jsxs($n,{children:[i.jsx(Fn,{children:"Nueva conversacin"}),i.jsx(Un,{children:"Selecciona una persona de tu red para iniciar una conversacin"})]}),i.jsxs("div",{className:"relative",children:[i.jsx(ys,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),i.jsx(be,{placeholder:"Buscar en tu red...",className:"pl-10",value:n,onChange:d=>s(d.target.value)})]}),i.jsx("div",{className:"h-[400px] overflow-y-auto pr-4",children:l?i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsx("p",{className:"text-sm text-muted-foreground",children:"Cargando..."})}):c&&c.length>0?i.jsx("div",{className:"space-y-2",children:c.map(d=>{var h,f;return i.jsxs("div",{onClick:()=>u(d.user.id),className:"w-full flex items-center space-x-3 p-3 rounded-lg hover:bg-accent transition-colors cursor-pointer",role:"button",tabIndex:0,onKeyDown:m=>{(m.key==="Enter"||m.key===" ")&&(m.preventDefault(),u(d.user.id))},children:[i.jsxs(Et,{className:"h-10 w-10",children:[i.jsx(zt,{src:d.user.avatar_url||void 0,alt:d.user.name}),i.jsx(kt,{children:(f=(h=d.user.name)==null?void 0:h.charAt(0))==null?void 0:f.toUpperCase()})]}),i.jsxs("div",{className:"flex-1 text-left",children:[i.jsx("p",{className:"font-medium text-sm",children:d.user.name}),i.jsx("p",{className:"text-xs text-muted-foreground",children:d.user.headline||"Miembro de Espaa Creativa"})]})]},d.user.id)})}):n?i.jsxs("div",{className:"flex flex-col items-center justify-center py-8 space-y-3",children:[i.jsx(ys,{className:"h-12 w-12 text-muted-foreground"}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:['No se encontraron resultados para "',n,'"']})]}):i.jsxs("div",{className:"flex flex-col items-center justify-center py-8 space-y-3",children:[i.jsx(Za,{className:"h-12 w-12 text-muted-foreground"}),i.jsxs("div",{className:"text-center space-y-1",children:[i.jsx("p",{className:"text-sm font-medium",children:"No tienes conexiones an"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Conctate con otros miembros para empezar a chatear"})]}),i.jsx(U,{variant:"outline",size:"sm",onClick:()=>{r(!1),a("/network")},children:"Explorar red"})]})})]})]})}const Gq=(e,t)=>It({queryKey:["conversation-messages",e.user_id,e.limit,e.offset],queryFn:async()=>await Kl.getConversationMessages(e),enabled:(t==null?void 0:t.enabled)!==!1&&!!e.user_id,staleTime:30*1e3,gcTime:300*1e3});function Qq(){const e=Ye(),{user:t}=jt();p.useEffect(()=>{if(!(t!=null&&t.id))return;const r=nr.channel("conversations-realtime").on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`recipient_id=eq.${t.id}`},()=>{e.invalidateQueries({queryKey:["conversations"]})}).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`sender_id=eq.${t.id}`},()=>{e.invalidateQueries({queryKey:["conversations"]})}).subscribe();return()=>{nr.removeChannel(r)}},[t==null?void 0:t.id,e])}function Jq(e){const t=Ye(),{user:r}=jt();p.useEffect(()=>{if(!(r!=null&&r.id)||!e)return;const n=nr.channel(`messages-${e}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`recipient_id=eq.${r.id},sender_id=eq.${e}`},()=>{t.invalidateQueries({queryKey:["conversation-messages",e]}),t.invalidateQueries({queryKey:["unread-count"]})}).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`sender_id=eq.${r.id},recipient_id=eq.${e}`},()=>{t.invalidateQueries({queryKey:["conversation-messages",e]})}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"messages",filter:`recipient_id=eq.${r.id},sender_id=eq.${e}`},()=>{t.invalidateQueries({queryKey:["conversation-messages",e]}),t.invalidateQueries({queryKey:["unread-count"]})}).subscribe();return()=>{nr.removeChannel(n)}},[r==null?void 0:r.id,e,t])}function Vj(){var h,f,m,x,g;const{userId:e}=Cu(),t=vt(),[r,n]=p.useState("");Qq(),Jq(e),WP();const{data:s}=AR(),{data:a}=Gq({user_id:e||""},{enabled:!!e}),{data:o}=kl({status:"accepted"},{enabled:!!e}),l=s==null?void 0:s.conversations.find(w=>w.user.id===e),c=(l==null?void 0:l.user)||(a!=null&&a.messages.length?a.messages[0].sender.id===e?a.messages[0].sender:a.messages[0].recipient:null)||((h=o==null?void 0:o.find(w=>w.user.id===e))==null?void 0:h.user)||null,u=w=>{t(`/messages/${w}`)},d=()=>{t("/messages")};return s==null||s.conversations.filter(w=>w.user.name.toLowerCase().includes(r.toLowerCase())),i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted",children:[i.jsx(Or,{}),i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[i.jsx("div",{className:"mb-8",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary to-emerald-600 rounded-xl flex items-center justify-center",children:i.jsx(cu,{className:"h-6 w-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Mensajes"}),i.jsx("p",{className:"text-muted-foreground",children:"Chatea con otros miembros de la comunidad"})]})]}),i.jsx(Kq,{})]})}),i.jsxs("div",{className:"hidden lg:grid lg:grid-cols-3 gap-6 h-[calc(100vh-200px)]",children:[i.jsxs(ge,{className:"lg:col-span-1 flex flex-col",children:[i.jsxs(mt,{children:[i.jsx(ft,{className:"text-lg",children:"Conversaciones"}),i.jsxs("div",{className:"relative",children:[i.jsx(ys,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),i.jsx(be,{placeholder:"Buscar conversaciones...",className:"pl-10",value:r,onChange:w=>n(w.target.value)})]})]}),i.jsx(pe,{className:"flex-1 overflow-y-auto p-4",children:i.jsx($j,{onSelectConversation:u,selectedUserId:e})})]}),i.jsx(ge,{className:"lg:col-span-2 flex flex-col",children:e?i.jsxs(i.Fragment,{children:[i.jsx(mt,{className:"border-b",children:i.jsx("div",{className:"flex items-center space-x-3",children:c?i.jsxs(i.Fragment,{children:[i.jsxs(Et,{className:"h-10 w-10",children:[i.jsx(zt,{src:c.avatar_url||void 0,alt:c.name}),i.jsx(kt,{children:(m=(f=c.name)==null?void 0:f.charAt(0))==null?void 0:m.toUpperCase()})]}),i.jsxs("div",{children:[i.jsx(ft,{className:"text-lg",children:c.name}),i.jsx(ur,{children:c.headline||"Miembro de Espaa Creativa"})]})]}):i.jsxs("div",{children:[i.jsx(ft,{className:"text-lg",children:"Nueva conversacin"}),i.jsx(ur,{children:"Cargando informacin..."})]})})}),i.jsx(pe,{className:"flex-1 overflow-hidden p-0",children:i.jsx(Uj,{userId:e,messages:(a==null?void 0:a.messages)||[]})}),i.jsx(pe,{className:"border-t p-4",children:i.jsx(Bj,{recipientId:e})})]}):i.jsx(pe,{className:"flex items-center justify-center h-full",children:i.jsxs("div",{className:"text-center",children:[i.jsx(cu,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"Selecciona una conversacin para empezar a chatear"})]})})})]}),i.jsx("div",{className:"lg:hidden",children:e?i.jsx(ge,{className:"min-h-[calc(100vh-200px)] flex flex-col",children:i.jsxs(i.Fragment,{children:[i.jsx(mt,{className:"border-b",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(U,{variant:"ghost",size:"sm",onClick:d,className:"mr-2",children:i.jsx(Dn,{className:"h-4 w-4"})}),c?i.jsxs(i.Fragment,{children:[i.jsxs(Et,{className:"h-10 w-10",children:[i.jsx(zt,{src:c.avatar_url||void 0,alt:c.name}),i.jsx(kt,{children:(g=(x=c.name)==null?void 0:x.charAt(0))==null?void 0:g.toUpperCase()})]}),i.jsxs("div",{children:[i.jsx(ft,{className:"text-lg",children:c.name}),i.jsx(ur,{children:c.headline||"Miembro de Espaa Creativa"})]})]}):i.jsxs("div",{children:[i.jsx(ft,{className:"text-lg",children:"Nueva conversacin"}),i.jsx(ur,{children:"Cargando informacin..."})]})]})}),i.jsx(pe,{className:"flex-1 overflow-hidden p-0",children:i.jsx(Uj,{userId:e,messages:(a==null?void 0:a.messages)||[]})}),i.jsx(pe,{className:"border-t p-4",children:i.jsx(Bj,{recipientId:e})})]})}):i.jsxs(ge,{children:[i.jsxs(mt,{children:[i.jsx(ft,{className:"text-lg",children:"Conversaciones"}),i.jsxs("div",{className:"relative",children:[i.jsx(ys,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),i.jsx(be,{placeholder:"Buscar conversaciones...",className:"pl-10",value:r,onChange:w=>n(w.target.value)})]})]}),i.jsx(pe,{className:"p-4",children:i.jsx($j,{onSelectConversation:u,selectedUserId:e})})]})})]})]})}const mm=aa(["proyecto","colaboracion","empleo","mentoria","evento","otro"]),Jx=aa(["abierta","en_progreso","cerrada","cancelada"]),Yx=G({id:PC([R(),Ae()]).transform(e=>String(e)),title:R(),description:R(),type:mm,status:Jx,skills_required:We(R()),created_by:R().uuid(),location:R().nullish(),remote:hn(),duration:R().nullish(),compensation:R().nullish(),created_at:R(),updated_at:R()}),QR=Yx.extend({creator:G({id:R().uuid(),name:R(),avatar_url:R().nullable().optional(),professional_title:R().nullable().optional()})}),JR=G({title:R().min(5,"El ttulo debe tener al menos 5 caracteres").max(100,"El ttulo no puede superar 100 caracteres"),description:R().min(20,"La descripcin debe tener al menos 20 caracteres").max(2e3,"La descripcin no puede superar 2000 caracteres"),type:mm,skills_required:We(R()).min(1,"Debes especificar al menos una habilidad"),location:R().max(100).nullable().optional(),remote:hn().default(!1),duration:R().max(100).nullable().optional(),compensation:R().max(200).nullable().optional()});G({title:R().min(5).max(100).optional(),description:R().min(20).max(2e3).optional(),type:mm.optional(),status:Jx.optional(),skills_required:We(R()).min(1).optional(),location:R().max(100).nullable().optional(),remote:hn().optional(),duration:R().max(100).nullable().optional(),compensation:R().max(200).nullable().optional()});G({type:mm.optional(),status:Jx.optional(),skills:We(R()).optional(),remote:hn().optional(),search:R().optional()});const Yq=G({opportunity:QR}),qj=G({opportunities:We(QR),total:Ae()}),Xq=G({opportunity:Yx}),Zq=G({opportunity:Yx}),Hu={async getOpportunities(e){var r;const t=await we.get("/opportunities",{params:{type:e==null?void 0:e.type,status:e==null?void 0:e.status,skills:(r=e==null?void 0:e.skills)==null?void 0:r.join(","),remote:e==null?void 0:e.remote,search:e==null?void 0:e.search}});return qj.parse(t.data)},async getOpportunity(e){const t=await we.get(`/opportunities/${e}`);return Yq.parse(t.data)},async getMyOpportunities(){const e=await we.get("/opportunities/my");return qj.parse(e.data)},async createOpportunity(e){const t=await we.post("/opportunities",e);return Xq.parse(t.data)},async updateOpportunity(e,t){const r=await we.put(`/opportunities/${e}`,t);return Zq.parse(r.data)},async deleteOpportunity(e){await we.delete(`/opportunities/${e}`)}},e9=(e,t)=>It({queryKey:["opportunities",e||{}],queryFn:async()=>await Hu.getOpportunities(e),enabled:(t==null?void 0:t.enabled)!==!1,staleTime:120*1e3,gcTime:300*1e3}),t9=e=>It({queryKey:["my-opportunities"],queryFn:async()=>await Hu.getMyOpportunities(),enabled:(e==null?void 0:e.enabled)!==!1,staleTime:120*1e3,gcTime:300*1e3});var Ku=e=>e.type==="checkbox",ki=e=>e instanceof Date,Sr=e=>e==null;const YR=e=>typeof e=="object";var Ot=e=>!Sr(e)&&!Array.isArray(e)&&YR(e)&&!ki(e),XR=e=>Ot(e)&&e.target?Ku(e.target)?e.target.checked:e.target.value:e,r9=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,ZR=(e,t)=>e.has(r9(t)),n9=e=>{const t=e.constructor&&e.constructor.prototype;return Ot(t)&&t.hasOwnProperty("isPrototypeOf")},Xx=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Lt(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(Xx&&(e instanceof Blob||n))&&(r||Ot(e)))if(t=r?[]:Object.create(Object.getPrototypeOf(e)),!r&&!n9(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=Lt(e[s]));else return e;return t}var pm=e=>/^\w*$/.test(e),wt=e=>e===void 0,Zx=e=>Array.isArray(e)?e.filter(Boolean):[],ew=e=>Zx(e.replace(/["|']|\]/g,"").split(/\.|\[/)),re=(e,t,r)=>{if(!t||!Ot(e))return r;const n=(pm(t)?[t]:ew(t)).reduce((s,a)=>Sr(s)?s:s[a],e);return wt(n)||n===e?wt(e[t])?r:e[t]:n},Fr=e=>typeof e=="boolean",Qe=(e,t,r)=>{let n=-1;const s=pm(t)?[t]:ew(t),a=s.length,o=a-1;for(;++n<a;){const l=s[n];let c=r;if(n!==o){const u=e[l];c=Ot(u)||Array.isArray(u)?u:isNaN(+s[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const lf={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Rn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ps={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},tw=z.createContext(null);tw.displayName="HookFormContext";const gm=()=>z.useContext(tw),s9=e=>{const{children:t,...r}=e;return z.createElement(tw.Provider,{value:r},t)};var e2=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(s,a,{get:()=>{const o=a;return t._proxyFormState[o]!==Rn.all&&(t._proxyFormState[o]=!n||Rn.all),r&&(r[o]=!0),e[o]}});return s};const rw=typeof window<"u"?z.useLayoutEffect:z.useEffect;function a9(e){const t=gm(),{control:r=t.control,disabled:n,name:s,exact:a}=e||{},[o,l]=z.useState(r._formState),c=z.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return rw(()=>r._subscribe({name:s,formState:c.current,exact:a,callback:u=>{!n&&l({...r._formState,...u})}}),[s,n,a]),z.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),z.useMemo(()=>e2(o,r,c.current,!1),[o,r])}var Vr=e=>typeof e=="string",t2=(e,t,r,n,s)=>Vr(e)?(n&&t.watch.add(e),re(r,e,s)):Array.isArray(e)?e.map(a=>(n&&t.watch.add(a),re(r,a))):(n&&(t.watchAll=!0),r),kv=e=>Sr(e)||!YR(e);function zs(e,t,r=new WeakSet){if(kv(e)||kv(t))return e===t;if(ki(e)&&ki(t))return e.getTime()===t.getTime();const n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const a of n){const o=e[a];if(!s.includes(a))return!1;if(a!=="ref"){const l=t[a];if(ki(o)&&ki(l)||Ot(o)&&Ot(l)||Array.isArray(o)&&Array.isArray(l)?!zs(o,l,r):o!==l)return!1}}return!0}function i9(e){const t=gm(),{control:r=t.control,name:n,defaultValue:s,disabled:a,exact:o,compute:l}=e||{},c=z.useRef(s),u=z.useRef(l),d=z.useRef(void 0);u.current=l;const h=z.useMemo(()=>r._getWatch(n,c.current),[r,n]),[f,m]=z.useState(u.current?u.current(h):h);return rw(()=>r._subscribe({name:n,formState:{values:!0},exact:o,callback:x=>{if(!a){const g=t2(n,r._names,x.values||r._formValues,!1,c.current);if(u.current){const w=u.current(g);zs(w,d.current)||(m(w),d.current=w)}else m(g)}}}),[r,a,n,o]),z.useEffect(()=>r._removeUnmounted()),f}function o9(e){const t=gm(),{name:r,disabled:n,control:s=t.control,shouldUnregister:a,defaultValue:o}=e,l=ZR(s._names.array,r),c=z.useMemo(()=>re(s._formValues,r,re(s._defaultValues,r,o)),[s,r,o]),u=i9({control:s,name:r,defaultValue:c,exact:!0}),d=a9({control:s,name:r,exact:!0}),h=z.useRef(e),f=z.useRef(void 0),m=z.useRef(s.register(r,{...e.rules,value:u,...Fr(e.disabled)?{disabled:e.disabled}:{}}));h.current=e;const x=z.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!re(d.errors,r)},isDirty:{enumerable:!0,get:()=>!!re(d.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!re(d.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!re(d.validatingFields,r)},error:{enumerable:!0,get:()=>re(d.errors,r)}}),[d,r]),g=z.useCallback(b=>m.current.onChange({target:{value:XR(b),name:r},type:lf.CHANGE}),[r]),w=z.useCallback(()=>m.current.onBlur({target:{value:re(s._formValues,r),name:r},type:lf.BLUR}),[r,s._formValues]),y=z.useCallback(b=>{const j=re(s._fields,r);j&&b&&(j._f.ref={focus:()=>b.focus&&b.focus(),select:()=>b.select&&b.select(),setCustomValidity:_=>b.setCustomValidity(_),reportValidity:()=>b.reportValidity()})},[s._fields,r]),v=z.useMemo(()=>({name:r,value:u,...Fr(n)||d.disabled?{disabled:d.disabled||n}:{},onChange:g,onBlur:w,ref:y}),[r,n,d.disabled,g,w,y,u]);return z.useEffect(()=>{const b=s._options.shouldUnregister||a,j=f.current;j&&j!==r&&!l&&s.unregister(j),s.register(r,{...h.current.rules,...Fr(h.current.disabled)?{disabled:h.current.disabled}:{}});const _=(S,N)=>{const E=re(s._fields,S);E&&E._f&&(E._f.mount=N)};if(_(r,!0),b){const S=Lt(re(s._options.defaultValues,r,h.current.defaultValue));Qe(s._defaultValues,r,S),wt(re(s._formValues,r))&&Qe(s._formValues,r,S)}return!l&&s.register(r),f.current=r,()=>{(l?b&&!s._state.action:b)?s.unregister(r):_(r,!1)}},[r,s,l,a]),z.useEffect(()=>{s._setDisabledField({disabled:n,name:r})},[n,r,s]),z.useMemo(()=>({field:v,formState:d,fieldState:x}),[v,d,x])}const l9=e=>e.render(o9(e));var r2=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},Dc=e=>Array.isArray(e)?e:[e],Wj=()=>{let e=[];return{get observers(){return e},next:s=>{for(const a of e)a.next&&a.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(a=>a!==s)}}),unsubscribe:()=>{e=[]}}};function n2(e,t){const r={};for(const n in e)if(e.hasOwnProperty(n)){const s=e[n],a=t[n];if(s&&Ot(s)&&a){const o=n2(s,a);Ot(o)&&(r[n]=o)}else e[n]&&(r[n]=a)}return r}var jr=e=>Ot(e)&&!Object.keys(e).length,nw=e=>e.type==="file",Tn=e=>typeof e=="function",cf=e=>{if(!Xx)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},s2=e=>e.type==="select-multiple",sw=e=>e.type==="radio",c9=e=>sw(e)||Ku(e),Cp=e=>cf(e)&&e.isConnected;function u9(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=wt(e)?n++:e[t[n++]];return e}function d9(e){for(const t in e)if(e.hasOwnProperty(t)&&!wt(e[t]))return!1;return!0}function Pt(e,t){const r=Array.isArray(t)?t:pm(t)?[t]:ew(t),n=r.length===1?e:u9(e,r),s=r.length-1,a=r[s];return n&&delete n[a],s!==0&&(Ot(n)&&jr(n)||Array.isArray(n)&&d9(n))&&Pt(e,r.slice(0,-1)),e}var h9=e=>{for(const t in e)if(Tn(e[t]))return!0;return!1};function a2(e){return Array.isArray(e)||Ot(e)&&!h9(e)}function Pv(e,t={}){for(const r in e)a2(e[r])?(t[r]=Array.isArray(e[r])?[]:{},Pv(e[r],t[r])):wt(e[r])||(t[r]=!0);return t}function Eo(e,t,r){r||(r=Pv(t));for(const n in e)a2(e[n])?wt(t)||kv(r[n])?r[n]=Pv(e[n],Array.isArray(e[n])?[]:{}):Eo(e[n],Sr(t)?{}:t[n],r[n]):r[n]=!zs(e[n],t[n]);return r}const Hj={value:!1,isValid:!1},Kj={value:!0,isValid:!0};var i2=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!wt(e[0].attributes.value)?wt(e[0].value)||e[0].value===""?Kj:{value:e[0].value,isValid:!0}:Kj:Hj}return Hj},o2=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>wt(e)?e:t?e===""?NaN:e&&+e:r&&Vr(e)?new Date(e):n?n(e):e;const Gj={isValid:!1,value:null};var l2=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,Gj):Gj;function Qj(e){const t=e.ref;return nw(t)?t.files:sw(t)?l2(e.refs).value:s2(t)?[...t.selectedOptions].map(({value:r})=>r):Ku(t)?i2(e.refs).value:o2(wt(t.value)?e.ref.value:t.value,e)}var f9=(e,t,r,n)=>{const s={};for(const a of e){const o=re(t,a);o&&Qe(s,a,o._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},uf=e=>e instanceof RegExp,uc=e=>wt(e)?e:uf(e)?e.source:Ot(e)?uf(e.value)?e.value.source:e.value:e,Jj=e=>({isOnSubmit:!e||e===Rn.onSubmit,isOnBlur:e===Rn.onBlur,isOnChange:e===Rn.onChange,isOnAll:e===Rn.all,isOnTouch:e===Rn.onTouched});const Yj="AsyncFunction";var m9=e=>!!e&&!!e.validate&&!!(Tn(e.validate)&&e.validate.constructor.name===Yj||Ot(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===Yj)),p9=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),Xj=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Lc=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const a=re(e,s);if(a){const{_f:o,...l}=a;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],s)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(Lc(l,t))break}else if(Ot(l)&&Lc(l,t))break}}};function Zj(e,t,r){const n=re(e,r);if(n||pm(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const a=s.join("."),o=re(t,a),l=re(e,a);if(o&&!Array.isArray(o)&&r!==a)return{name:r};if(l&&l.type)return{name:a,error:l};if(l&&l.root&&l.root.type)return{name:`${a}.root`,error:l.root};s.pop()}return{name:r}}var g9=(e,t,r,n)=>{r(e);const{name:s,...a}=e;return jr(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(o=>t[o]===(!n||Rn.all))},v9=(e,t,r)=>!e||!t||e===t||Dc(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),y9=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,x9=(e,t)=>!Zx(re(e,t)).length&&Pt(e,t),w9=(e,t,r)=>{const n=Dc(re(e,r));return Qe(n,"root",t[r]),Qe(e,r,n),e};function e_(e,t,r="validate"){if(Vr(e)||Array.isArray(e)&&e.every(Vr)||Fr(e)&&!e)return{type:r,message:Vr(e)?e:"",ref:t}}var jo=e=>Ot(e)&&!uf(e)?e:{value:e,message:""},t_=async(e,t,r,n,s,a)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:h,max:f,pattern:m,validate:x,name:g,valueAsNumber:w,mount:y}=e._f,v=re(r,g);if(!y||t.has(g))return{};const b=l?l[0]:o,j=D=>{s&&b.reportValidity&&(b.setCustomValidity(Fr(D)?"":D||""),b.reportValidity())},_={},S=sw(o),N=Ku(o),E=S||N,P=(w||nw(o))&&wt(o.value)&&wt(v)||cf(o)&&o.value===""||v===""||Array.isArray(v)&&!v.length,T=r2.bind(null,g,n,_),B=(D,q,F,M=Ps.maxLength,V=Ps.minLength)=>{const Z=D?q:F;_[g]={type:D?M:V,message:Z,ref:o,...T(D?M:V,Z)}};if(a?!Array.isArray(v)||!v.length:c&&(!E&&(P||Sr(v))||Fr(v)&&!v||N&&!i2(l).isValid||S&&!l2(l).isValid)){const{value:D,message:q}=Vr(c)?{value:!!c,message:c}:jo(c);if(D&&(_[g]={type:Ps.required,message:q,ref:b,...T(Ps.required,q)},!n))return j(q),_}if(!P&&(!Sr(h)||!Sr(f))){let D,q;const F=jo(f),M=jo(h);if(!Sr(v)&&!isNaN(v)){const V=o.valueAsNumber||v&&+v;Sr(F.value)||(D=V>F.value),Sr(M.value)||(q=V<M.value)}else{const V=o.valueAsDate||new Date(v),Z=H=>new Date(new Date().toDateString()+" "+H),I=o.type=="time",A=o.type=="week";Vr(F.value)&&v&&(D=I?Z(v)>Z(F.value):A?v>F.value:V>new Date(F.value)),Vr(M.value)&&v&&(q=I?Z(v)<Z(M.value):A?v<M.value:V<new Date(M.value))}if((D||q)&&(B(!!D,F.message,M.message,Ps.max,Ps.min),!n))return j(_[g].message),_}if((u||d)&&!P&&(Vr(v)||a&&Array.isArray(v))){const D=jo(u),q=jo(d),F=!Sr(D.value)&&v.length>+D.value,M=!Sr(q.value)&&v.length<+q.value;if((F||M)&&(B(F,D.message,q.message),!n))return j(_[g].message),_}if(m&&!P&&Vr(v)){const{value:D,message:q}=jo(m);if(uf(D)&&!v.match(D)&&(_[g]={type:Ps.pattern,message:q,ref:o,...T(Ps.pattern,q)},!n))return j(q),_}if(x){if(Tn(x)){const D=await x(v,r),q=e_(D,b);if(q&&(_[g]={...q,...T(Ps.validate,q.message)},!n))return j(q.message),_}else if(Ot(x)){let D={};for(const q in x){if(!jr(D)&&!n)break;const F=e_(await x[q](v,r),b,q);F&&(D={...F,...T(q,F.message)},j(F.message),n&&(_[g]=D))}if(!jr(D)&&(_[g]={ref:b,...D},!n))return _}}return j(!0),_};const b9={mode:Rn.onSubmit,reValidateMode:Rn.onChange,shouldFocusError:!0};function j9(e={}){let t={...b9,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Tn(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},s=Ot(t.defaultValues)||Ot(t.values)?Lt(t.defaultValues||t.values)||{}:{},a=t.shouldUnregister?{}:Lt(s),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...d};const f={array:Wj(),state:Wj()},m=t.criteriaMode===Rn.all,x=k=>O=>{clearTimeout(u),u=setTimeout(k,O)},g=async k=>{if(!t.disabled&&(d.isValid||h.isValid||k)){const O=t.resolver?jr((await N()).errors):await P(n,!0);O!==r.isValid&&f.state.next({isValid:O})}},w=(k,O)=>{!t.disabled&&(d.isValidating||d.validatingFields||h.isValidating||h.validatingFields)&&((k||Array.from(l.mount)).forEach($=>{$&&(O?Qe(r.validatingFields,$,O):Pt(r.validatingFields,$))}),f.state.next({validatingFields:r.validatingFields,isValidating:!jr(r.validatingFields)}))},y=(k,O=[],$,ee,Y=!0,Q=!0)=>{if(ee&&$&&!t.disabled){if(o.action=!0,Q&&Array.isArray(re(n,k))){const oe=$(re(n,k),ee.argA,ee.argB);Y&&Qe(n,k,oe)}if(Q&&Array.isArray(re(r.errors,k))){const oe=$(re(r.errors,k),ee.argA,ee.argB);Y&&Qe(r.errors,k,oe),x9(r.errors,k)}if((d.touchedFields||h.touchedFields)&&Q&&Array.isArray(re(r.touchedFields,k))){const oe=$(re(r.touchedFields,k),ee.argA,ee.argB);Y&&Qe(r.touchedFields,k,oe)}(d.dirtyFields||h.dirtyFields)&&(r.dirtyFields=Eo(s,a)),f.state.next({name:k,isDirty:B(k,O),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Qe(a,k,O)},v=(k,O)=>{Qe(r.errors,k,O),f.state.next({errors:r.errors})},b=k=>{r.errors=k,f.state.next({errors:r.errors,isValid:!1})},j=(k,O,$,ee)=>{const Y=re(n,k);if(Y){const Q=re(a,k,wt($)?re(s,k):$);wt(Q)||ee&&ee.defaultChecked||O?Qe(a,k,O?Q:Qj(Y._f)):F(k,Q),o.mount&&g()}},_=(k,O,$,ee,Y)=>{let Q=!1,oe=!1;const $e={name:k};if(!t.disabled){if(!$||ee){(d.isDirty||h.isDirty)&&(oe=r.isDirty,r.isDirty=$e.isDirty=B(),Q=oe!==$e.isDirty);const Xe=zs(re(s,k),O);oe=!!re(r.dirtyFields,k),Xe?Pt(r.dirtyFields,k):Qe(r.dirtyFields,k,!0),$e.dirtyFields=r.dirtyFields,Q=Q||(d.dirtyFields||h.dirtyFields)&&oe!==!Xe}if($){const Xe=re(r.touchedFields,k);Xe||(Qe(r.touchedFields,k,$),$e.touchedFields=r.touchedFields,Q=Q||(d.touchedFields||h.touchedFields)&&Xe!==$)}Q&&Y&&f.state.next($e)}return Q?$e:{}},S=(k,O,$,ee)=>{const Y=re(r.errors,k),Q=(d.isValid||h.isValid)&&Fr(O)&&r.isValid!==O;if(t.delayError&&$?(c=x(()=>v(k,$)),c(t.delayError)):(clearTimeout(u),c=null,$?Qe(r.errors,k,$):Pt(r.errors,k)),($?!zs(Y,$):Y)||!jr(ee)||Q){const oe={...ee,...Q&&Fr(O)?{isValid:O}:{},errors:r.errors,name:k};r={...r,...oe},f.state.next(oe)}},N=async k=>{w(k,!0);const O=await t.resolver(a,t.context,f9(k||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return w(k),O},E=async k=>{const{errors:O}=await N(k);if(k)for(const $ of k){const ee=re(O,$);ee?Qe(r.errors,$,ee):Pt(r.errors,$)}else r.errors=O;return O},P=async(k,O,$={valid:!0})=>{for(const ee in k){const Y=k[ee];if(Y){const{_f:Q,...oe}=Y;if(Q){const $e=l.array.has(Q.name),Xe=Y._f&&m9(Y._f);Xe&&d.validatingFields&&w([Q.name],!0);const xr=await t_(Y,l.disabled,a,m,t.shouldUseNativeValidation&&!O,$e);if(Xe&&d.validatingFields&&w([Q.name]),xr[Q.name]&&($.valid=!1,O))break;!O&&(re(xr,Q.name)?$e?w9(r.errors,xr,Q.name):Qe(r.errors,Q.name,xr[Q.name]):Pt(r.errors,Q.name))}!jr(oe)&&await P(oe,O,$)}}return $.valid},T=()=>{for(const k of l.unMount){const O=re(n,k);O&&(O._f.refs?O._f.refs.every($=>!Cp($)):!Cp(O._f.ref))&&J(k)}l.unMount=new Set},B=(k,O)=>!t.disabled&&(k&&O&&Qe(a,k,O),!zs(H(),s)),D=(k,O,$)=>t2(k,l,{...o.mount?a:wt(O)?s:Vr(k)?{[k]:O}:O},$,O),q=k=>Zx(re(o.mount?a:s,k,t.shouldUnregister?re(s,k,[]):[])),F=(k,O,$={})=>{const ee=re(n,k);let Y=O;if(ee){const Q=ee._f;Q&&(!Q.disabled&&Qe(a,k,o2(O,Q)),Y=cf(Q.ref)&&Sr(O)?"":O,s2(Q.ref)?[...Q.ref.options].forEach(oe=>oe.selected=Y.includes(oe.value)):Q.refs?Ku(Q.ref)?Q.refs.forEach(oe=>{(!oe.defaultChecked||!oe.disabled)&&(Array.isArray(Y)?oe.checked=!!Y.find($e=>$e===oe.value):oe.checked=Y===oe.value||!!Y)}):Q.refs.forEach(oe=>oe.checked=oe.value===Y):nw(Q.ref)?Q.ref.value="":(Q.ref.value=Y,Q.ref.type||f.state.next({name:k,values:Lt(a)})))}($.shouldDirty||$.shouldTouch)&&_(k,Y,$.shouldTouch,$.shouldDirty,!0),$.shouldValidate&&A(k)},M=(k,O,$)=>{for(const ee in O){if(!O.hasOwnProperty(ee))return;const Y=O[ee],Q=k+"."+ee,oe=re(n,Q);(l.array.has(k)||Ot(Y)||oe&&!oe._f)&&!ki(Y)?M(Q,Y,$):F(Q,Y,$)}},V=(k,O,$={})=>{const ee=re(n,k),Y=l.array.has(k),Q=Lt(O);Qe(a,k,Q),Y?(f.array.next({name:k,values:Lt(a)}),(d.isDirty||d.dirtyFields||h.isDirty||h.dirtyFields)&&$.shouldDirty&&f.state.next({name:k,dirtyFields:Eo(s,a),isDirty:B(k,Q)})):ee&&!ee._f&&!Sr(Q)?M(k,Q,$):F(k,Q,$),Xj(k,l)&&f.state.next({...r,name:k}),f.state.next({name:o.mount?k:void 0,values:Lt(a)})},Z=async k=>{o.mount=!0;const O=k.target;let $=O.name,ee=!0;const Y=re(n,$),Q=Xe=>{ee=Number.isNaN(Xe)||ki(Xe)&&isNaN(Xe.getTime())||zs(Xe,re(a,$,Xe))},oe=Jj(t.mode),$e=Jj(t.reValidateMode);if(Y){let Xe,xr;const Cs=O.type?Qj(Y._f):XR(k),Gn=k.type===lf.BLUR||k.type===lf.FOCUS_OUT,Ju=!p9(Y._f)&&!t.resolver&&!re(r.errors,$)&&!Y._f.deps||y9(Gn,re(r.touchedFields,$),r.isSubmitted,$e,oe),fi=Xj($,l,Gn);Qe(a,$,Cs),Gn?(!O||!O.readOnly)&&(Y._f.onBlur&&Y._f.onBlur(k),c&&c(0)):Y._f.onChange&&Y._f.onChange(k);const Qn=_($,Cs,Gn),Yu=!jr(Qn)||fi;if(!Gn&&f.state.next({name:$,type:k.type,values:Lt(a)}),Ju)return(d.isValid||h.isValid)&&(t.mode==="onBlur"?Gn&&g():Gn||g()),Yu&&f.state.next({name:$,...fi?{}:Qn});if(!Gn&&fi&&f.state.next({...r}),t.resolver){const{errors:Es}=await N([$]);if(Q(Cs),ee){const jm=Zj(r.errors,n,$),Xu=Zj(Es,n,jm.name||$);Xe=Xu.error,$=Xu.name,xr=jr(Es)}}else w([$],!0),Xe=(await t_(Y,l.disabled,a,m,t.shouldUseNativeValidation))[$],w([$]),Q(Cs),ee&&(Xe?xr=!1:(d.isValid||h.isValid)&&(xr=await P(n,!0)));ee&&(Y._f.deps&&(!Array.isArray(Y._f.deps)||Y._f.deps.length>0)&&A(Y._f.deps),S($,xr,Xe,Qn))}},I=(k,O)=>{if(re(r.errors,O)&&k.focus)return k.focus(),1},A=async(k,O={})=>{let $,ee;const Y=Dc(k);if(t.resolver){const Q=await E(wt(k)?k:Y);$=jr(Q),ee=k?!Y.some(oe=>re(Q,oe)):$}else k?(ee=(await Promise.all(Y.map(async Q=>{const oe=re(n,Q);return await P(oe&&oe._f?{[Q]:oe}:oe)}))).every(Boolean),!(!ee&&!r.isValid)&&g()):ee=$=await P(n);return f.state.next({...!Vr(k)||(d.isValid||h.isValid)&&$!==r.isValid?{}:{name:k},...t.resolver||!k?{isValid:$}:{},errors:r.errors}),O.shouldFocus&&!ee&&Lc(n,I,k?Y:l.mount),ee},H=(k,O)=>{let $={...o.mount?a:s};return O&&($=n2(O.dirtyFields?r.dirtyFields:r.touchedFields,$)),wt(k)?$:Vr(k)?re($,k):k.map(ee=>re($,ee))},ie=(k,O)=>({invalid:!!re((O||r).errors,k),isDirty:!!re((O||r).dirtyFields,k),error:re((O||r).errors,k),isValidating:!!re(r.validatingFields,k),isTouched:!!re((O||r).touchedFields,k)}),ne=k=>{k&&Dc(k).forEach(O=>Pt(r.errors,O)),f.state.next({errors:k?r.errors:{}})},ye=(k,O,$)=>{const ee=(re(n,k,{_f:{}})._f||{}).ref,Y=re(r.errors,k)||{},{ref:Q,message:oe,type:$e,...Xe}=Y;Qe(r.errors,k,{...Xe,...O,ref:ee}),f.state.next({name:k,errors:r.errors,isValid:!1}),$&&$.shouldFocus&&ee&&ee.focus&&ee.focus()},ve=(k,O)=>Tn(k)?f.state.subscribe({next:$=>"values"in $&&k(D(void 0,O),$)}):D(k,O,!0),Ve=k=>f.state.subscribe({next:O=>{v9(k.name,O.name,k.exact)&&g9(O,k.formState||d,Ss,k.reRenderRoot)&&k.callback({values:{...a},...r,...O,defaultValues:s})}}).unsubscribe,Ke=k=>(o.mount=!0,h={...h,...k.formState},Ve({...k,formState:h})),J=(k,O={})=>{for(const $ of k?Dc(k):l.mount)l.mount.delete($),l.array.delete($),O.keepValue||(Pt(n,$),Pt(a,$)),!O.keepError&&Pt(r.errors,$),!O.keepDirty&&Pt(r.dirtyFields,$),!O.keepTouched&&Pt(r.touchedFields,$),!O.keepIsValidating&&Pt(r.validatingFields,$),!t.shouldUnregister&&!O.keepDefaultValue&&Pt(s,$);f.state.next({values:Lt(a)}),f.state.next({...r,...O.keepDirty?{isDirty:B()}:{}}),!O.keepIsValid&&g()},Fe=({disabled:k,name:O})=>{(Fr(k)&&o.mount||k||l.disabled.has(O))&&(k?l.disabled.add(O):l.disabled.delete(O))},De=(k,O={})=>{let $=re(n,k);const ee=Fr(O.disabled)||Fr(t.disabled);return Qe(n,k,{...$||{},_f:{...$&&$._f?$._f:{ref:{name:k}},name:k,mount:!0,...O}}),l.mount.add(k),$?Fe({disabled:Fr(O.disabled)?O.disabled:t.disabled,name:k}):j(k,!0,O.value),{...ee?{disabled:O.disabled||t.disabled}:{},...t.progressive?{required:!!O.required,min:uc(O.min),max:uc(O.max),minLength:uc(O.minLength),maxLength:uc(O.maxLength),pattern:uc(O.pattern)}:{},name:k,onChange:Z,onBlur:Z,ref:Y=>{if(Y){De(k,O),$=re(n,k);const Q=wt(Y.value)&&Y.querySelectorAll&&Y.querySelectorAll("input,select,textarea")[0]||Y,oe=c9(Q),$e=$._f.refs||[];if(oe?$e.find(Xe=>Xe===Q):Q===$._f.ref)return;Qe(n,k,{_f:{...$._f,...oe?{refs:[...$e.filter(Cp),Q,...Array.isArray(re(s,k))?[{}]:[]],ref:{type:Q.type,name:k}}:{ref:Q}}}),j(k,!1,void 0,Q)}else $=re(n,k,{}),$._f&&($._f.mount=!1),(t.shouldUnregister||O.shouldUnregister)&&!(ZR(l.array,k)&&o.action)&&l.unMount.add(k)}}},Ie=()=>t.shouldFocusError&&Lc(n,I,l.mount),Le=k=>{Fr(k)&&(f.state.next({disabled:k}),Lc(n,(O,$)=>{const ee=re(n,$);ee&&(O.disabled=ee._f.disabled||k,Array.isArray(ee._f.refs)&&ee._f.refs.forEach(Y=>{Y.disabled=ee._f.disabled||k}))},0,!1))},Ue=(k,O)=>async $=>{let ee;$&&($.preventDefault&&$.preventDefault(),$.persist&&$.persist());let Y=Lt(a);if(f.state.next({isSubmitting:!0}),t.resolver){const{errors:Q,values:oe}=await N();r.errors=Q,Y=Lt(oe)}else await P(n);if(l.disabled.size)for(const Q of l.disabled)Pt(Y,Q);if(Pt(r.errors,"root"),jr(r.errors)){f.state.next({errors:{}});try{await k(Y,$)}catch(Q){ee=Q}}else O&&await O({...r.errors},$),Ie(),setTimeout(Ie);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:jr(r.errors)&&!ee,submitCount:r.submitCount+1,errors:r.errors}),ee)throw ee},Bt=(k,O={})=>{re(n,k)&&(wt(O.defaultValue)?V(k,Lt(re(s,k))):(V(k,O.defaultValue),Qe(s,k,Lt(O.defaultValue))),O.keepTouched||Pt(r.touchedFields,k),O.keepDirty||(Pt(r.dirtyFields,k),r.isDirty=O.defaultValue?B(k,Lt(re(s,k))):B()),O.keepError||(Pt(r.errors,k),d.isValid&&g()),f.state.next({...r}))},ar=(k,O={})=>{const $=k?Lt(k):s,ee=Lt($),Y=jr(k),Q=Y?s:ee;if(O.keepDefaultValues||(s=$),!O.keepValues){if(O.keepDirtyValues){const oe=new Set([...l.mount,...Object.keys(Eo(s,a))]);for(const $e of Array.from(oe))re(r.dirtyFields,$e)?Qe(Q,$e,re(a,$e)):V($e,re(Q,$e))}else{if(Xx&&wt(k))for(const oe of l.mount){const $e=re(n,oe);if($e&&$e._f){const Xe=Array.isArray($e._f.refs)?$e._f.refs[0]:$e._f.ref;if(cf(Xe)){const xr=Xe.closest("form");if(xr){xr.reset();break}}}}if(O.keepFieldsRef)for(const oe of l.mount)V(oe,re(Q,oe));else n={}}a=t.shouldUnregister?O.keepDefaultValues?Lt(s):{}:Lt(Q),f.array.next({values:{...Q}}),f.state.next({values:{...Q}})}l={mount:O.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!O.keepIsValid||!!O.keepDirtyValues,o.watch=!!t.shouldUnregister,f.state.next({submitCount:O.keepSubmitCount?r.submitCount:0,isDirty:Y?!1:O.keepDirty?r.isDirty:!!(O.keepDefaultValues&&!zs(k,s)),isSubmitted:O.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Y?{}:O.keepDirtyValues?O.keepDefaultValues&&a?Eo(s,a):r.dirtyFields:O.keepDefaultValues&&k?Eo(s,k):O.keepDirty?r.dirtyFields:{},touchedFields:O.keepTouched?r.touchedFields:{},errors:O.keepErrors?r.errors:{},isSubmitSuccessful:O.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},Hn=(k,O)=>ar(Tn(k)?k(a):k,O),Kn=(k,O={})=>{const $=re(n,k),ee=$&&$._f;if(ee){const Y=ee.refs?ee.refs[0]:ee.ref;Y.focus&&(Y.focus(),O.shouldSelect&&Tn(Y.select)&&Y.select())}},Ss=k=>{r={...r,...k}},Ns={control:{register:De,unregister:J,getFieldState:ie,handleSubmit:Ue,setError:ye,_subscribe:Ve,_runSchema:N,_focusError:Ie,_getWatch:D,_getDirty:B,_setValid:g,_setFieldArray:y,_setDisabledField:Fe,_setErrors:b,_getFieldArray:q,_reset:ar,_resetDefaultValues:()=>Tn(t.defaultValues)&&t.defaultValues().then(k=>{Hn(k,t.resetOptions),f.state.next({isLoading:!1})}),_removeUnmounted:T,_disableForm:Le,_subjects:f,_proxyFormState:d,get _fields(){return n},get _formValues(){return a},get _state(){return o},set _state(k){o=k},get _defaultValues(){return s},get _names(){return l},set _names(k){l=k},get _formState(){return r},get _options(){return t},set _options(k){t={...t,...k}}},subscribe:Ke,trigger:A,register:De,handleSubmit:Ue,watch:ve,setValue:V,getValues:H,reset:Hn,resetField:Bt,clearErrors:ne,unregister:J,setError:ye,setFocus:Kn,getFieldState:ie};return{...Ns,formControl:Ns}}function aw(e={}){const t=z.useRef(void 0),r=z.useRef(void 0),[n,s]=z.useState({isDirty:!1,isValidating:!1,isLoading:Tn(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Tn(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!Tn(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=j9(e);t.current={...l,formState:n}}const a=t.current.control;return a._options=e,rw(()=>{const o=a._subscribe({formState:a._proxyFormState,callback:()=>s({...a._formState}),reRenderRoot:!0});return s(l=>({...l,isReady:!0})),a._formState.isReady=!0,o},[a]),z.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),z.useEffect(()=>{e.mode&&(a._options.mode=e.mode),e.reValidateMode&&(a._options.reValidateMode=e.reValidateMode)},[a,e.mode,e.reValidateMode]),z.useEffect(()=>{e.errors&&(a._setErrors(e.errors),a._focusError())},[a,e.errors]),z.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,e.shouldUnregister]),z.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==n.isDirty&&a._subjects.state.next({isDirty:o})}},[a,n.isDirty]),z.useEffect(()=>{e.values&&!zs(e.values,r.current)?(a._reset(e.values,{keepFieldsRef:!0,...a._options.resetOptions}),r.current=e.values,s(o=>({...o}))):a._resetDefaultValues()},[a,e.values]),z.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),t.current.formState=e2(n,a),t.current}const r_=(e,t,r)=>{if(e&&"reportValidity"in e){const n=re(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},c2=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?r_(n.ref,r,e):n.refs&&n.refs.forEach(s=>r_(s,r,e))}},_9=(e,t)=>{t.shouldUseNativeValidation&&c2(e,t);const r={};for(const n in e){const s=re(t.fields,n),a=Object.assign(e[n]||{},{ref:s&&s.ref});if(S9(t.names||Object.keys(e),n)){const o=Object.assign({},re(r,n));Qe(o,"root",a),Qe(r,n,o)}else Qe(r,n,a)}return r},S9=(e,t)=>e.some(r=>r.startsWith(t+"."));var N9=function(e,t){for(var r={};e.length;){var n=e[0],s=n.code,a=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:a,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(h){return e.push(h)})}),t){var c=r[o].types,u=c&&c[n.code];r[o]=r2(o,t,r,s,u?[].concat(u,n.message):n.message)}e.shift()}return r},iw=function(e,t,r){return r===void 0&&(r={}),function(n,s,a){try{return Promise.resolve((function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return a.shouldUseNativeValidation&&c2({},a),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c})(0,function(o){if((function(l){return Array.isArray(l==null?void 0:l.errors)})(o))return{values:{},errors:_9(N9(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}}};const C9=s9,u2=p.createContext({}),Rs=({...e})=>i.jsx(u2.Provider,{value:{name:e.name},children:i.jsx(l9,{...e})}),vm=()=>{const e=p.useContext(u2),t=p.useContext(d2),{getFieldState:r,formState:n}=gm(),s=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:a}=t;return{id:a,name:e.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...s}},d2=p.createContext({}),Zn=p.forwardRef(({className:e,...t},r)=>{const n=p.useId();return i.jsx(d2.Provider,{value:{id:n},children:i.jsx("div",{ref:r,className:te("space-y-2",e),...t})})});Zn.displayName="FormItem";const es=p.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:s}=vm();return i.jsx(je,{ref:r,className:te(n&&"text-destructive",e),htmlFor:s,...t})});es.displayName="FormLabel";const ts=p.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:s,formMessageId:a}=vm();return i.jsx(TC,{ref:t,id:n,"aria-describedby":r?`${s} ${a}`:`${s}`,"aria-invalid":!!r,...e})});ts.displayName="FormControl";const As=p.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=vm();return i.jsx("p",{ref:r,id:n,className:te("text-sm text-muted-foreground",e),...t})});As.displayName="FormDescription";const Os=p.forwardRef(({className:e,children:t,...r},n)=>{const{error:s,formMessageId:a}=vm(),o=s?String(s==null?void 0:s.message):t;return o?i.jsx("p",{ref:n,id:a,className:te("text-sm font-medium text-destructive",e),...r,children:o}):null});Os.displayName="FormMessage";const E9=()=>{const e=Ye(),t=at({mutationFn:async r=>(await Hu.createOpportunity(r)).opportunity,onSuccess:()=>{e.invalidateQueries({queryKey:["opportunities"]}),e.invalidateQueries({queryKey:["my-opportunities"]})}});return{action:t.mutate,isLoading:t.isPending,error:t.error,isSuccess:t.isSuccess,data:t.data}},k9=()=>{const e=Ye(),t=at({mutationFn:async({id:r,data:n})=>(await Hu.updateOpportunity(r,n)).opportunity,onSuccess:(r,{id:n})=>{e.invalidateQueries({queryKey:["opportunities"]}),e.invalidateQueries({queryKey:["my-opportunities"]}),e.invalidateQueries({queryKey:["opportunity",n]})}});return{action:t.mutate,isLoading:t.isPending,error:t.error,isSuccess:t.isSuccess,data:t.data}},P9=JR.extend({status:aa(["abierta","en_progreso","cerrada","cancelada"]).optional()}),R9=[{value:"proyecto",label:"Proyecto"},{value:"colaboracion",label:"Colaboracin"},{value:"empleo",label:"Empleo"},{value:"mentoria",label:"Mentora"},{value:"evento",label:"Evento"},{value:"otro",label:"Otro"}],T9=[{value:"abierta",label:"Abierta"},{value:"en_progreso",label:"En Progreso"},{value:"cerrada",label:"Cerrada"},{value:"cancelada",label:"Cancelada"}];function h2({open:e,onOpenChange:t,opportunity:r}){const[n,s]=p.useState(""),{action:a,isLoading:o}=E9(),{action:l,isLoading:c}=k9(),u=!!r,d=o||c,h=aw({resolver:iw(u?P9:JR),defaultValues:{title:"",description:"",type:"proyecto",skills_required:[],location:null,remote:!1,duration:null,compensation:null,status:"abierta"}});p.useEffect(()=>{r?h.reset({title:r.title,description:r.description,type:r.type,skills_required:r.skills_required,location:r.location||null,remote:r.remote,duration:r.duration||null,compensation:r.compensation||null,status:r.status}):h.reset({title:"",description:"",type:"proyecto",skills_required:[],location:null,remote:!1,duration:null,compensation:null,status:"abierta"})},[r,h]);const f=h.watch("skills_required"),m=()=>{const y=n.trim();y&&!f.includes(y)&&(h.setValue("skills_required",[...f,y]),s(""))},x=y=>{h.setValue("skills_required",f.filter(v=>v!==y))},g=y=>{y.key==="Enter"&&(y.preventDefault(),m())},w=y=>{if(u&&r)l({id:r.id,data:y},{onSuccess:()=>{h.reset(),t(!1)},onError:v=>{console.error("Error al actualizar oportunidad:",v)}});else{const{status:v,...b}=y;a(b,{onSuccess:()=>{h.reset(),t(!1)},onError:j=>{console.error("Error al crear oportunidad:",j)}})}};return i.jsx(ws,{open:e,onOpenChange:t,children:i.jsxs(Ln,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[i.jsxs($n,{children:[i.jsxs(Fn,{className:"flex items-center gap-2 text-2xl",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary to-emerald-600 rounded-xl flex items-center justify-center",children:i.jsx(Xs,{className:"h-5 w-5 text-white"})}),u?"Editar oportunidad":"Publicar nueva oportunidad"]}),i.jsx(Un,{children:u?"Actualiza los detalles de tu oportunidad":"Completa los detalles de la oportunidad que quieres compartir con la comunidad"})]}),i.jsx(C9,{...h,children:i.jsxs("form",{onSubmit:h.handleSubmit(w),className:"space-y-6",children:[i.jsx(Rs,{control:h.control,name:"title",render:({field:y})=>i.jsxs(Zn,{children:[i.jsx(es,{children:"Ttulo *"}),i.jsx(ts,{children:i.jsx(be,{placeholder:"Ej: Desarrollador Frontend React para Startup Fintech",...y})}),i.jsx(As,{children:"Un ttulo claro y descriptivo (5-100 caracteres)"}),i.jsx(Os,{})]})}),i.jsx(Rs,{control:h.control,name:"type",render:({field:y})=>i.jsxs(Zn,{children:[i.jsx(es,{children:"Tipo de oportunidad *"}),i.jsxs(ri,{onValueChange:y.onChange,defaultValue:y.value,children:[i.jsx(ts,{children:i.jsx(ta,{children:i.jsx(ni,{placeholder:"Selecciona un tipo"})})}),i.jsx(ra,{children:R9.map(v=>i.jsx(rt,{value:v.value,children:v.label},v.value))})]}),i.jsx(Os,{})]})}),u&&i.jsx(Rs,{control:h.control,name:"status",render:({field:y})=>i.jsxs(Zn,{children:[i.jsx(es,{children:"Estado"}),i.jsxs(ri,{onValueChange:y.onChange,defaultValue:y.value,children:[i.jsx(ts,{children:i.jsx(ta,{children:i.jsx(ni,{placeholder:"Selecciona un estado"})})}),i.jsx(ra,{children:T9.map(v=>i.jsx(rt,{value:v.value,children:v.label},v.value))})]}),i.jsx(As,{children:"Las oportunidades cerradas no aparecern en el listado principal"}),i.jsx(Os,{})]})}),i.jsx(Rs,{control:h.control,name:"description",render:({field:y})=>i.jsxs(Zn,{children:[i.jsx(es,{children:"Descripcin *"}),i.jsx(ts,{children:i.jsx(si,{placeholder:"Describe los detalles de la oportunidad, qu buscas, requisitos, etc.",className:"min-h-[120px] resize-none",...y})}),i.jsx(As,{children:"Mnimo 20 caracteres, mximo 2000"}),i.jsx(Os,{})]})}),i.jsx(Rs,{control:h.control,name:"skills_required",render:()=>i.jsxs(Zn,{children:[i.jsx(es,{children:"Habilidades requeridas *"}),i.jsx(ts,{children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsx(be,{placeholder:"Ej: React, TypeScript, Node.js...",value:n,onChange:y=>s(y.target.value),onKeyDown:g}),i.jsx(U,{type:"button",variant:"outline",onClick:m,children:"Aadir"})]}),f.length>0&&i.jsx("div",{className:"flex flex-wrap gap-2",children:f.map(y=>i.jsxs(_e,{variant:"secondary",className:"text-sm pl-3 pr-1 py-1.5",children:[y,i.jsx("button",{type:"button",onClick:()=>x(y),className:"ml-2 hover:bg-muted rounded-full p-0.5",children:i.jsx(Mr,{className:"h-3 w-3"})})]},y))})]})}),i.jsx(As,{children:"Agrega al menos una habilidad requerida"}),i.jsx(Os,{})]})}),i.jsx(Rs,{control:h.control,name:"location",render:({field:y})=>i.jsxs(Zn,{children:[i.jsxs(es,{children:[i.jsx(qn,{className:"inline h-4 w-4 mr-1"}),"Ubicacin"]}),i.jsx(ts,{children:i.jsx(be,{placeholder:"Ej: Madrid, Barcelona, Remoto...",...y,value:y.value||""})}),i.jsx(As,{children:"Opcional - Dnde se realizar"}),i.jsx(Os,{})]})}),i.jsx(Rs,{control:h.control,name:"remote",render:({field:y})=>i.jsxs(Zn,{className:"flex flex-row items-start space-x-3 space-y-0 rounded-md border p-4",children:[i.jsx(ts,{children:i.jsx(cx,{checked:y.value,onCheckedChange:y.onChange})}),i.jsxs("div",{className:"space-y-1 leading-none",children:[i.jsx(es,{children:"Trabajo remoto"}),i.jsx(As,{children:"Esta oportunidad permite trabajar de forma remota"})]})]})}),i.jsx(Rs,{control:h.control,name:"duration",render:({field:y})=>i.jsxs(Zn,{children:[i.jsxs(es,{children:[i.jsx(cn,{className:"inline h-4 w-4 mr-1"}),"Duracin estimada"]}),i.jsx(ts,{children:i.jsx(be,{placeholder:"Ej: 3 meses, 6 meses, Indefinido...",...y,value:y.value||""})}),i.jsx(As,{children:"Opcional - Cunto durar el proyecto"}),i.jsx(Os,{})]})}),i.jsx(Rs,{control:h.control,name:"compensation",render:({field:y})=>i.jsxs(Zn,{children:[i.jsxs(es,{children:[i.jsx($f,{className:"inline h-4 w-4 mr-1"}),"Compensacin"]}),i.jsx(ts,{children:i.jsx(be,{placeholder:"Ej: 30.000-40.000/ao, Por proyecto, Voluntario...",...y,value:y.value||""})}),i.jsx(As,{children:"Opcional - Tipo de compensacin ofrecida"}),i.jsx(Os,{})]})}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[i.jsx(U,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:d,children:"Cancelar"}),i.jsxs(U,{type:"submit",disabled:d,children:[d&&i.jsx(St,{className:"mr-2 h-4 w-4 animate-spin"}),u?"Guardar cambios":"Publicar oportunidad"]})]})]})})]})})}const A9={proyecto:"Proyecto",colaboracion:"Colaboracin",empleo:"Empleo",mentoria:"Mentora",evento:"Evento",otro:"Otro"};function O9(){const e=vt(),{toast:t}=ql(),{user:r}=jt(),[n,s]=p.useState("all"),[a,o]=p.useState("all"),[l,c]=p.useState("all"),[u,d]=p.useState(""),[h,f]=p.useState(!1),[m,x]=p.useState(null),[g,w]=p.useState(new Set),y={...a!=="all"&&{type:a},...u&&{search:u}},{data:v,isLoading:b,error:j}=e9(y,{enabled:n==="all"}),{data:_,isLoading:S,error:N}=t9({enabled:n==="my"}),E=n==="all"?(v==null?void 0:v.opportunities)||[]:(_==null?void 0:_.opportunities)||[],P=n==="all"?b:S,T=n==="all"?j:N,B=E.filter(M=>{const V=a==="all"||M.type===a,Z=!u||M.title.toLowerCase().includes(u.toLowerCase())||M.description.toLowerCase().includes(u.toLowerCase()),I=l!=="all"?M.status===l:M.status!=="cerrada"&&M.status!=="cancelada";return V&&Z&&I}),D=M=>{e(`/opportunities/${M}`)},q=async(M,V)=>{try{await new Promise(Z=>setTimeout(Z,300)),w(Z=>new Set(Z).add(M)),t({title:"Inters registrado!",description:`Hemos notificado a ${V} sobre tu inters.`})}catch{t({title:"Error",description:"No se pudo registrar tu inters. Intntalo de nuevo.",variant:"destructive"})}},F=M=>{x(M),f(!0)};return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted",children:[i.jsx(Or,{}),i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[i.jsx("div",{className:"mb-8",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary to-emerald-600 rounded-xl flex items-center justify-center",children:i.jsx(Xs,{className:"h-6 w-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Oportunidades"}),i.jsx("p",{className:"text-muted-foreground",children:"Encuentra colaboraciones, proyectos y oportunidades de negocio"})]})]}),i.jsxs(U,{onClick:()=>f(!0),children:[i.jsx(Yi,{className:"h-4 w-4 mr-2"}),"Publicar oportunidad"]})]})}),i.jsx(Uu,{value:n,onValueChange:M=>s(M),className:"mb-6",children:i.jsxs(zl,{className:"grid w-full max-w-md grid-cols-2",children:[i.jsx(Hr,{value:"all",children:"Todas las oportunidades"}),i.jsx(Hr,{value:"my",children:"Mis oportunidades"})]})}),i.jsx(ge,{className:"mb-8",children:i.jsx(pe,{className:"p-6",children:i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsxs("div",{className:"relative",children:[i.jsx(ys,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),i.jsx(be,{placeholder:"Buscar oportunidades...",className:"pl-10",value:u,onChange:M=>d(M.target.value)})]})}),i.jsxs(ri,{value:a,onValueChange:M=>o(M),children:[i.jsx(ta,{className:"w-full md:w-48",children:i.jsx(ni,{placeholder:"Tipo"})}),i.jsxs(ra,{children:[i.jsx(rt,{value:"all",children:"Todas"}),i.jsx(rt,{value:"proyecto",children:"Proyecto"}),i.jsx(rt,{value:"colaboracion",children:"Colaboracin"}),i.jsx(rt,{value:"empleo",children:"Empleo"}),i.jsx(rt,{value:"mentoria",children:"Mentora"}),i.jsx(rt,{value:"evento",children:"Evento"}),i.jsx(rt,{value:"otro",children:"Otro"})]})]}),i.jsxs(ri,{value:l,onValueChange:M=>c(M),children:[i.jsx(ta,{className:"w-full md:w-48",children:i.jsx(ni,{placeholder:"Estado"})}),i.jsxs(ra,{children:[i.jsx(rt,{value:"all",children:"Activas"}),i.jsx(rt,{value:"abierta",children:"Abiertas"}),i.jsx(rt,{value:"en_progreso",children:"En Progreso"}),i.jsx(rt,{value:"cerrada",children:"Cerradas"}),i.jsx(rt,{value:"cancelada",children:"Canceladas"})]})]})]})})}),P&&i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx(St,{className:"h-8 w-8 animate-spin text-primary"})}),T&&i.jsxs(ge,{className:"p-8 text-center",children:[i.jsx("p",{className:"text-destructive",children:"Error al cargar las oportunidades"}),i.jsx("p",{className:"text-muted-foreground text-sm mt-2",children:T.message})]}),!P&&!T&&B.length===0&&i.jsxs(ge,{className:"p-12 text-center",children:[i.jsx(Xs,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:n==="my"?"No has publicado oportunidades":"No hay oportunidades"}),i.jsx("p",{className:"text-muted-foreground mb-4",children:n==="my"?u||a!=="all"?"No se encontraron oportunidades tuyas con los filtros aplicados":"Publica tu primera oportunidad para empezar a colaborar":u||a!=="all"?"No se encontraron oportunidades con los filtros aplicados":"S el primero en publicar una oportunidad"}),i.jsxs(U,{onClick:()=>f(!0),children:[i.jsx(Yi,{className:"h-4 w-4 mr-2"}),"Publicar oportunidad"]})]}),!P&&!T&&B.length>0&&i.jsx("div",{className:"space-y-6",children:B.map(M=>{const V=new Date(M.created_at),Z=um(V,{addSuffix:!0,locale:dm});return i.jsxs(ge,{className:"hover:shadow-lg transition-shadow",children:[i.jsx(mt,{children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"flex items-center gap-2 mb-2",children:i.jsx(ft,{className:"text-xl",children:M.title})}),i.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-muted-foreground",children:[M.location&&i.jsxs("div",{className:"flex items-center",children:[i.jsx(qn,{className:"h-4 w-4 mr-1"}),M.location]}),M.remote&&i.jsx(_e,{variant:"secondary",className:"text-xs",children:"Remoto"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(ia,{className:"h-4 w-4 mr-1"}),Z]})]})]}),i.jsx(_e,{variant:"secondary",children:A9[M.type]})]})}),i.jsxs(pe,{children:[i.jsx("p",{className:"text-muted-foreground mb-4",children:M.description}),M.skills_required&&M.skills_required.length>0&&i.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:M.skills_required.map(I=>i.jsx(_e,{variant:"outline",className:"text-xs",children:I},I))}),i.jsxs("div",{className:"flex flex-wrap gap-4 mb-4 text-sm text-muted-foreground",children:[M.duration&&i.jsxs("div",{className:"flex items-center",children:[i.jsx(cn,{className:"h-4 w-4 mr-1"}),"Duracin: ",M.duration]}),M.compensation&&i.jsxs("div",{className:"flex items-center",children:[i.jsx($f,{className:"h-4 w-4 mr-1"}),M.compensation]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs(Et,{className:"h-6 w-6",children:[M.creator.avatar_url&&i.jsx(zt,{src:M.creator.avatar_url}),i.jsx(kt,{className:"text-xs",children:M.creator.name.split(" ").map(I=>I[0]).join("").toUpperCase()})]}),i.jsxs("span",{className:"text-sm text-muted-foreground",children:["Por ",M.creator.name]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(U,{variant:"outline",size:"sm",onClick:()=>D(M.id),children:"Ver detalles"}),(r==null?void 0:r.id)===M.created_by&&i.jsxs(U,{variant:"outline",size:"sm",onClick:()=>F(M),className:"flex items-center gap-2",children:[i.jsx(sE,{className:"h-4 w-4"}),"Editar"]}),(r==null?void 0:r.id)!==M.created_by&&i.jsx(U,{size:"sm",onClick:()=>q(M.id,M.creator.name),disabled:g.has(M.id),children:g.has(M.id)?"Te interesa!":"Me interesa"})]})]})]})]},M.id)})})]}),i.jsx(h2,{open:h,onOpenChange:M=>{f(M),M||x(null)},opportunity:m})]})}const I9=(e,t)=>It({queryKey:["opportunity",e],queryFn:async()=>{if(!e)throw new Error("Opportunity ID is required");return(await Hu.getOpportunity(e)).opportunity},enabled:!!e,staleTime:300*1e3,gcTime:600*1e3}),M9={proyecto:"Proyecto",colaboracion:"Colaboracin",empleo:"Empleo",mentoria:"Mentora",evento:"Evento",otro:"Otro"},D9={abierta:"Abierta",en_progreso:"En Progreso",cerrada:"Cerrada",cancelada:"Cancelada"},L9={abierta:"default",en_progreso:"secondary",cerrada:"outline",cancelada:"destructive"};function $9(){var b,j;const{opportunityId:e}=Cu(),t=vt(),{user:r}=jt(),{toast:n}=ql(),[s,a]=p.useState(!1),[o,l]=p.useState(!1),[c,u]=p.useState(!1),{data:d,isLoading:h,error:f}=I9(e),m=()=>{t("/opportunities")},x=()=>{d!=null&&d.creator.id&&t(`/messages/${d.creator.id}`)},g=async()=>{if(d){l(!0);try{await new Promise(_=>setTimeout(_,500)),a(!0),n({title:"Inters registrado!",description:`Hemos notificado a ${d.creator.name} sobre tu inters. Pronto te contactar.`})}catch{n({title:"Error",description:"No se pudo registrar tu inters. Intntalo de nuevo.",variant:"destructive"})}finally{l(!1)}}};if(h)return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted",children:[i.jsx(Or,{}),i.jsx("div",{className:"container mx-auto px-4 py-8",children:i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx(St,{className:"h-8 w-8 animate-spin text-primary"})})})]});if(f||!d)return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted",children:[i.jsx(Or,{}),i.jsx("div",{className:"container mx-auto px-4 py-8",children:i.jsxs(ge,{className:"p-8 text-center",children:[i.jsx("p",{className:"text-destructive",children:"No se pudo cargar la oportunidad"}),i.jsx("p",{className:"text-muted-foreground text-sm mt-2",children:(f==null?void 0:f.message)||"Oportunidad no encontrada"}),i.jsxs(U,{onClick:m,className:"mt-4",children:[i.jsx(Dn,{className:"h-4 w-4 mr-2"}),"Volver a oportunidades"]})]})})]});const w=new Date(d.created_at),y=um(w,{addSuffix:!0,locale:dm}),v=(r==null?void 0:r.id)===d.created_by;return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted",children:[i.jsx(Or,{}),i.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[i.jsxs(U,{variant:"ghost",onClick:m,className:"mb-6",children:[i.jsx(Dn,{className:"h-4 w-4 mr-2"}),"Volver a oportunidades"]}),i.jsxs(ge,{className:"shadow-lg",children:[i.jsx(mt,{children:i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(_e,{variant:L9[d.status],children:D9[d.status]}),i.jsxs(_e,{variant:"outline",children:[i.jsx(Xs,{className:"h-3 w-3 mr-1"}),M9[d.type]]})]}),i.jsx(ft,{className:"text-3xl",children:d.title}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs(Et,{className:"h-12 w-12",children:[i.jsx(zt,{src:d.creator.avatar_url||void 0,alt:d.creator.name}),i.jsx(kt,{children:(j=(b=d.creator.name)==null?void 0:b.charAt(0))==null?void 0:j.toUpperCase()})]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:d.creator.name}),d.creator.professional_title&&i.jsx("p",{className:"text-sm text-muted-foreground",children:d.creator.professional_title})]})]}),i.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[i.jsx(ia,{className:"h-4 w-4 mr-1"}),y]})]})]})}),i.jsxs(pe,{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold mb-2",children:"Descripcin"}),i.jsx("p",{className:"text-muted-foreground whitespace-pre-wrap",children:d.description})]}),i.jsx(Qa,{}),d.skills_required.length>0&&i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold mb-3",children:"Habilidades requeridas"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:d.skills_required.map(_=>i.jsx(_e,{variant:"secondary",children:_},_))})]}),i.jsx(Qa,{}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.location&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(qn,{className:"h-5 w-5 text-muted-foreground"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:"Ubicacin"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:d.location})]})]}),d.duration&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(cn,{className:"h-5 w-5 text-muted-foreground"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:"Duracin"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:d.duration})]})]}),d.remote&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Xs,{className:"h-5 w-5 text-muted-foreground"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:"Modalidad"}),i.jsx(_e,{variant:"secondary",children:"Remoto"})]})]}),d.compensation&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx($f,{className:"h-5 w-5 text-muted-foreground"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:"Compensacin"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:d.compensation})]})]})]}),i.jsx(Qa,{}),!v&&i.jsxs("div",{className:"flex gap-3 pt-4",children:[i.jsxs(U,{onClick:g,disabled:o||s,className:"flex-1",size:"lg",children:[i.jsx($3,{className:`h-5 w-5 mr-2 ${s?"fill-current":""}`}),o?"Enviando...":s?"Te interesa!":"Me interesa"]}),i.jsxs(U,{variant:"outline",onClick:x,className:"flex-1",size:"lg",children:[i.jsx(Mu,{className:"h-5 w-5 mr-2"}),"Contactar"]})]}),v&&i.jsx("div",{className:"flex gap-3 pt-4",children:i.jsxs(U,{onClick:()=>u(!0),className:"flex-1",size:"lg",children:[i.jsx(sE,{className:"h-5 w-5 mr-2"}),"Editar oportunidad"]})})]})]})]}),i.jsx(h2,{open:c,onOpenChange:u,opportunity:d})]})}const ym=aa(["aceleracion","workshop","bootcamp","mentoria","curso","otro"]),ow=aa(["upcoming","active","completed","cancelled"]),lw=G({id:PC([R(),Ae()]).transform(e=>String(e)),title:R(),description:R(),type:ym,start_date:R(),end_date:R(),duration:R(),location:R().nullish(),participants:Ae(),max_participants:Ae().nullish(),instructor:R(),status:ow,featured:hn(),skills:We(R()),price:R().nullish(),image_url:R().nullish(),created_by:R().uuid(),created_at:R(),updated_at:R()}),f2=lw.extend({creator:G({id:R().uuid(),name:R(),avatar_url:R().nullable().optional(),professional_title:R().nullable().optional()}),user_enrollment:G({id:R().uuid(),status:R()}).nullable().optional()}),F9=G({title:R().min(5,"El ttulo debe tener al menos 5 caracteres").max(255,"El ttulo no puede superar 255 caracteres"),description:R().min(20,"La descripcin debe tener al menos 20 caracteres"),type:ym,start_date:R(),end_date:R(),duration:R().min(1,"La duracin es requerida"),instructor:R().min(1,"El instructor es requerido"),skills:We(R()).min(1,"Debes especificar al menos una habilidad"),location:R().max(255).nullable().optional(),max_participants:Ae().positive().nullable().optional(),price:R().max(100).nullable().optional(),image_url:R().url().nullable().optional(),featured:hn().optional()});G({title:R().min(5).max(255).optional(),description:R().min(20).optional(),type:ym.optional(),start_date:R().optional(),end_date:R().optional(),duration:R().optional(),location:R().max(255).nullable().optional(),max_participants:Ae().positive().nullable().optional(),instructor:R().optional(),status:ow.optional(),featured:hn().optional(),skills:We(R()).min(1).optional(),price:R().max(100).nullable().optional(),image_url:R().url().nullable().optional()});G({type:ym.optional(),status:ow.optional(),skills:We(R()).optional(),featured:hn().optional(),search:R().optional()});const U9=G({program:f2}),n_=G({programs:We(f2),total:Ae()}),z9=G({program:lw}),B9=G({program:lw}),Gu={async getPrograms(e){var r;const t=await we.get("/programs",{params:{type:e==null?void 0:e.type,status:e==null?void 0:e.status,skills:(r=e==null?void 0:e.skills)==null?void 0:r.join(","),featured:e==null?void 0:e.featured,search:e==null?void 0:e.search}});return n_.parse(t.data)},async getProgram(e){const t=await we.get(`/programs/${e}`);return U9.parse(t.data)},async getMyPrograms(){const e=await we.get("/programs/my");return n_.parse(e.data)},async createProgram(e){const t=await we.post("/programs",e);return z9.parse(t.data)},async updateProgram(e,t){const r=await we.put(`/programs/${e}`,t);return B9.parse(r.data)},async deleteProgram(e){await we.delete(`/programs/${e}`)},async enrollInProgram(e){await we.post(`/programs/${e}/enroll`)},async getMyEnrollments(){return(await we.get("/programs/my/enrollments")).data},async cancelEnrollment(e){await we.delete(`/programs/enrollments/${e}`)}};function V9(e){return It({queryKey:["programs",e],queryFn:()=>Gu.getPrograms(e),staleTime:1e3*60*5})}function m2(){const e=Ye(),t=at({mutationFn:r=>Gu.enrollInProgram(r),onSuccess:()=>{e.invalidateQueries({queryKey:["programs"]}),e.invalidateQueries({queryKey:["my-programs"]}),e.invalidateQueries({queryKey:["enrollments"]})}});return{enroll:t.mutate,enrollAsync:t.mutateAsync,isLoading:t.isPending,isError:t.isError,error:t.error,isSuccess:t.isSuccess,reset:t.reset}}function p2(){const e=Ye(),t=at({mutationFn:r=>Gu.cancelEnrollment(r),onSuccess:()=>{e.invalidateQueries({queryKey:["programs"]}),e.invalidateQueries({queryKey:["my-programs"]}),e.invalidateQueries({queryKey:["enrollments"]})}});return{cancel:t.mutate,cancelAsync:t.mutateAsync,isLoading:t.isPending,isError:t.isError,error:t.error,isSuccess:t.isSuccess,reset:t.reset}}const cw=e=>It({queryKey:["my-programs"],queryFn:async()=>await Gu.getMyEnrollments(),enabled:(e==null?void 0:e.enabled)!==!1,staleTime:120*1e3,gcTime:300*1e3}),q9={aceleracion:"Aceleracin",workshop:"Workshop",bootcamp:"Bootcamp",mentoria:"Mentora",curso:"Curso",otro:"Otro"},W9={upcoming:"Prximo",active:"En curso",completed:"Completado",cancelled:"Cancelado"},H9={upcoming:"default",active:"default",completed:"secondary",cancelled:"destructive"},K9={upcoming:"bg-blue-500",active:"bg-green-500",completed:"bg-gray-500",cancelled:"bg-red-500"};function G9({program:e,onViewDetails:t}){const{user:r}=jt(),{enroll:n,isLoading:s}=m2(),{cancel:a,isLoading:o}=p2(),{data:l}=cw({enabled:!!r}),c=p.useMemo(()=>l!=null&&l.enrollments?l.enrollments.find(y=>y.program.id===e.id):null,[l,e.id]),u=!!c,d=c==null?void 0:c.id,h=()=>{n(e.id)},f=()=>{d&&a(d)},m=()=>{t&&t(e)},x=e.max_participants&&e.participants>=e.max_participants,g=e.status==="upcoming"&&!x&&!u,w=u&&e.status==="upcoming";return i.jsxs(ge,{className:`hover:shadow-lg transition-shadow ${e.featured?"ring-2 ring-primary/20":""}`,children:[i.jsx(mt,{children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(_e,{variant:"outline",className:"text-xs",children:q9[e.type]}),i.jsx(_e,{variant:H9[e.status],className:K9[e.status],children:W9[e.status]}),e.featured&&i.jsx(_e,{variant:"default",className:"bg-yellow-500 text-white text-xs",children:"Destacado"})]}),i.jsx("h3",{className:"text-xl font-semibold mb-2",children:e.title})]}),i.jsx("div",{className:"text-right",children:i.jsx("div",{className:"text-lg font-bold text-primary",children:e.price||"Gratuito"})})]})}),i.jsxs(pe,{className:"space-y-4",children:[i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-3",children:e.description}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{className:"flex items-center text-muted-foreground",children:[i.jsx(ia,{className:"h-4 w-4 mr-2"}),e.duration]}),i.jsxs("div",{className:"flex items-center text-muted-foreground",children:[i.jsx(qn,{className:"h-4 w-4 mr-2"}),e.location||"Online"]}),i.jsxs("div",{className:"flex items-center text-muted-foreground",children:[i.jsx(Ir,{className:"h-4 w-4 mr-2"}),e.participants,"/",e.max_participants||""," plazas"]}),i.jsxs("div",{className:"flex items-center text-muted-foreground",children:[i.jsx(cn,{className:"h-4 w-4 mr-2"}),new Date(e.start_date).toLocaleDateString("es-ES")]})]}),e.skills.length>0&&i.jsx("div",{className:"flex flex-wrap gap-2",children:e.skills.map(y=>i.jsx(_e,{variant:"secondary",className:"text-xs",children:y},y))}),i.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Et,{className:"h-6 w-6",children:i.jsx(kt,{className:"text-xs",children:e.instructor.split(" ").map(y=>y[0]).join("")})}),i.jsx("span",{className:"text-sm text-muted-foreground",children:e.instructor})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(U,{variant:"outline",size:"sm",onClick:m,children:"Ver detalles"}),g&&r&&i.jsx(U,{size:"sm",onClick:h,disabled:s,children:s?"Inscribiendo...":"Inscribirse"}),w&&i.jsx(U,{size:"sm",variant:"destructive",onClick:f,disabled:o,children:o?"Cancelando...":"Cancelar"}),u&&!w&&i.jsx(_e,{variant:"default",className:"bg-green-500",children:"Inscrito "}),x&&e.status==="upcoming"&&!u&&i.jsx(_e,{variant:"secondary",children:"Completo"})]})]})]})]})}function Q9(){const e=Ye(),t=at({mutationFn:r=>Gu.createProgram(r),onSuccess:()=>{e.invalidateQueries({queryKey:["programs"]})}});return{action:t.mutate,actionAsync:t.mutateAsync,isLoading:t.isPending,isError:t.isError,error:t.error}}function J9(){const[e,t]=p.useState(!1),{action:r,isLoading:n}=Q9(),{register:s,handleSubmit:a,formState:{errors:o},reset:l,setValue:c,watch:u}=aw({resolver:iw(F9),defaultValues:{type:"workshop",skills:[],featured:!1}}),[d,h]=p.useState(""),f=u("skills")||[],m=()=>{d.trim()&&!f.includes(d.trim())&&(c("skills",[...f,d.trim()]),h(""))},x=w=>{c("skills",f.filter(y=>y!==w))},g=async w=>{try{await r(w),l(),t(!1)}catch(y){console.error("Error creating program:",y)}};return i.jsxs(ws,{open:e,onOpenChange:t,children:[i.jsx(DE,{asChild:!0,children:i.jsxs(U,{className:"gap-2",children:[i.jsx(Yi,{className:"h-4 w-4"}),"Crear Programa"]})}),i.jsxs(Ln,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[i.jsxs($n,{children:[i.jsx(Fn,{children:"Crear Nuevo Programa"}),i.jsx(Un,{children:"Crea un nuevo programa educativo para la comunidad"})]}),i.jsxs("form",{onSubmit:a(g),className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"title",children:"Ttulo *"}),i.jsx(be,{id:"title",...s("title"),placeholder:"Ej: Workshop de Design Thinking"}),o.title&&i.jsx("p",{className:"text-sm text-destructive",children:o.title.message})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"description",children:"Descripcin *"}),i.jsx(si,{id:"description",...s("description"),placeholder:"Describe el programa, qu aprendern los participantes...",rows:4}),o.description&&i.jsx("p",{className:"text-sm text-destructive",children:o.description.message})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"type",children:"Tipo *"}),i.jsxs(ri,{onValueChange:w=>c("type",w),defaultValue:"workshop",children:[i.jsx(ta,{children:i.jsx(ni,{placeholder:"Selecciona tipo"})}),i.jsxs(ra,{children:[i.jsx(rt,{value:"aceleracion",children:"Aceleracin"}),i.jsx(rt,{value:"workshop",children:"Workshop"}),i.jsx(rt,{value:"bootcamp",children:"Bootcamp"}),i.jsx(rt,{value:"mentoria",children:"Mentora"}),i.jsx(rt,{value:"curso",children:"Curso"}),i.jsx(rt,{value:"otro",children:"Otro"})]})]}),o.type&&i.jsx("p",{className:"text-sm text-destructive",children:o.type.message})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"instructor",children:"Instructor *"}),i.jsx(be,{id:"instructor",...s("instructor"),placeholder:"Nombre del instructor"}),o.instructor&&i.jsx("p",{className:"text-sm text-destructive",children:o.instructor.message})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"start_date",children:"Fecha inicio *"}),i.jsx(be,{id:"start_date",type:"date",...s("start_date")}),o.start_date&&i.jsx("p",{className:"text-sm text-destructive",children:o.start_date.message})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"end_date",children:"Fecha fin *"}),i.jsx(be,{id:"end_date",type:"date",...s("end_date")}),o.end_date&&i.jsx("p",{className:"text-sm text-destructive",children:o.end_date.message})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"duration",children:"Duracin *"}),i.jsx(be,{id:"duration",...s("duration"),placeholder:"Ej: 2 semanas"}),o.duration&&i.jsx("p",{className:"text-sm text-destructive",children:o.duration.message})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"location",children:"Ubicacin"}),i.jsx(be,{id:"location",...s("location"),placeholder:"Madrid, Online..."})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"price",children:"Precio"}),i.jsx(be,{id:"price",...s("price"),placeholder:"150, Gratuito..."})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"max_participants",children:"Plazas mximas"}),i.jsx(be,{id:"max_participants",type:"number",...s("max_participants",{valueAsNumber:!0}),placeholder:"30"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{children:"Habilidades *"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(be,{value:d,onChange:w=>h(w.target.value),onKeyPress:w=>{w.key==="Enter"&&(w.preventDefault(),m())},placeholder:"Aade una habilidad y presiona Enter"}),i.jsx(U,{type:"button",onClick:m,variant:"outline",children:"Aadir"})]}),i.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:f.map(w=>i.jsxs("div",{className:"bg-primary/10 text-primary px-3 py-1 rounded-full text-sm flex items-center gap-2",children:[w,i.jsx("button",{type:"button",onClick:()=>x(w),className:"hover:text-destructive",children:""})]},w))}),o.skills&&i.jsx("p",{className:"text-sm text-destructive",children:o.skills.message})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"image_url",children:"URL de imagen"}),i.jsx(be,{id:"image_url",...s("image_url"),placeholder:"https://example.com/image.jpg"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",id:"featured",...s("featured"),className:"rounded"}),i.jsx(je,{htmlFor:"featured",className:"cursor-pointer",children:"Destacar este programa"})]}),i.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[i.jsx(U,{type:"button",variant:"outline",onClick:()=>{l(),t(!1)},children:"Cancelar"}),i.jsx(U,{type:"submit",disabled:n,children:n?"Creando...":"Crear Programa"})]})]})]})]})}const Y9={aceleracion:"Aceleracin",workshop:"Workshop",bootcamp:"Bootcamp",mentoria:"Mentora",curso:"Curso",otro:"Otro"},X9={upcoming:"Prximo",active:"En curso",completed:"Completado",cancelled:"Cancelado"},Z9={upcoming:"bg-blue-500",active:"bg-green-500",completed:"bg-gray-500",cancelled:"bg-red-500"};function g2({program:e,open:t,onOpenChange:r}){var v;const{user:n}=jt(),{enroll:s,isLoading:a}=m2(),{cancel:o,isLoading:l}=p2(),{data:c}=cw({enabled:!!n}),u=p.useMemo(()=>!(c!=null&&c.enrollments)||!e?null:c.enrollments.find(b=>b.program.id===e.id),[c,e]);if(!e)return null;const d=!!u,h=u==null?void 0:u.id,f=()=>{if(!n){alert("Debes iniciar sesin para inscribirte");return}s(e.id)},m=()=>{h&&o(h)},x=e.max_participants&&e.participants>=e.max_participants,g=e.status==="upcoming"&&!x&&!d,w=d&&e.status==="upcoming",y=b=>new Date(b).toLocaleDateString("es-ES",{day:"numeric",month:"long",year:"numeric"});return i.jsx(ws,{open:t,onOpenChange:r,children:i.jsxs(Ln,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[i.jsxs($n,{children:[i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(_e,{variant:"outline",className:"text-xs",children:Y9[e.type]}),i.jsx(_e,{variant:"default",className:Z9[e.status],children:X9[e.status]}),e.featured&&i.jsx(_e,{variant:"default",className:"bg-yellow-500 text-white text-xs",children:" Destacado"})]}),i.jsx(Fn,{className:"text-2xl mb-2",children:e.title})]}),i.jsx("div",{className:"text-right",children:i.jsxs("div",{className:"flex items-center text-2xl font-bold text-primary",children:[i.jsx($f,{className:"h-5 w-5"}),e.price||"Gratuito"]})})]}),i.jsx(Un,{className:"text-base",children:e.description})]}),i.jsxs("div",{className:"space-y-6 mt-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-muted rounded-lg",children:[i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(cn,{className:"h-5 w-5 text-primary mt-1"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",children:"Fecha de inicio"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:y(e.start_date)})]})]}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(cn,{className:"h-5 w-5 text-primary mt-1"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",children:"Fecha de fin"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:y(e.end_date)})]})]}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(ia,{className:"h-5 w-5 text-primary mt-1"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",children:"Duracin"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:e.duration})]})]}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(qn,{className:"h-5 w-5 text-primary mt-1"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",children:"Ubicacin"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:e.location||"Online"})]})]}),i.jsxs("div",{className:"flex items-start gap-3 col-span-2",children:[i.jsx(Ir,{className:"h-5 w-5 text-primary mt-1"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",children:"Plazas disponibles"}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.participants," / ",e.max_participants||""," inscritos",x&&i.jsx("span",{className:"text-destructive ml-2",children:"(Completo)"})]})]})]})]}),e.skills.length>0&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(T3,{className:"h-5 w-5 text-primary"}),i.jsx("h3",{className:"font-semibold",children:"Habilidades que desarrollars"})]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:e.skills.map(b=>i.jsx(_e,{variant:"secondary",children:b},b))})]}),i.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[i.jsx("h3",{className:"font-semibold mb-3",children:"Instructor"}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Et,{className:"h-12 w-12",children:i.jsx(kt,{className:"text-lg font-semibold",children:e.instructor.split(" ").map(b=>b[0]).join("")})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:e.instructor}),((v=e.creator)==null?void 0:v.professional_title)&&i.jsx("p",{className:"text-sm text-muted-foreground",children:e.creator.professional_title})]})]})]}),i.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:d&&!w?i.jsx("span",{className:"text-green-600 font-medium",children:" Ya ests inscrito en este programa"}):g?n?"Inscrbete ahora para reservar tu plaza":"Inicia sesin para inscribirte":w?"Puedes cancelar tu inscripcin si ya no deseas participar":x?"Este programa est completo":e.status==="active"?"Este programa ya est en curso":e.status==="completed"?"Este programa ha finalizado":null}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(U,{variant:"outline",onClick:()=>r(!1),children:"Cerrar"}),g&&n&&i.jsx(U,{onClick:f,disabled:a,children:a?"Inscribiendo...":"Inscribirse ahora"}),w&&i.jsx(U,{variant:"destructive",onClick:m,disabled:l,children:l?"Cancelando...":"Cancelar inscripcin"}),d&&!w&&i.jsx(_e,{variant:"default",className:"bg-green-500 text-white px-4 py-2",children:"Inscrito "})]})]})]})]})})}function s_(){const[e,t]=p.useState("upcoming"),[r,n]=p.useState(null),[s,a]=p.useState(!1),o=e==="all"?{}:{status:e},{data:l,isLoading:c,isError:u}=V9(o),d=(l==null?void 0:l.programs)||[],h=(l==null?void 0:l.total)||0,f=x=>{n(x),a(!0)},m={active:d.filter(x=>x.status==="active").length,participants:d.reduce((x,g)=>x+g.participants,0),completionRate:85,averageRating:4.8};return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted",children:[i.jsx(Or,{}),i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary to-emerald-600 rounded-xl flex items-center justify-center",children:i.jsx(cn,{className:"h-6 w-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Programas"}),i.jsx("p",{className:"text-muted-foreground",children:"Descubre cursos, talleres y programas de aceleracin"})]})]}),i.jsx(J9,{})]}),i.jsxs("div",{className:"flex space-x-1 bg-muted p-1 rounded-lg w-fit",children:[i.jsx(U,{variant:e==="upcoming"?"default":"ghost",size:"sm",onClick:()=>t("upcoming"),children:"Prximos"}),i.jsx(U,{variant:e==="active"?"default":"ghost",size:"sm",onClick:()=>t("active"),children:"En curso"}),i.jsx(U,{variant:e==="completed"?"default":"ghost",size:"sm",onClick:()=>t("completed"),children:"Completados"}),i.jsx(U,{variant:e==="all"?"default":"ghost",size:"sm",onClick:()=>t("all"),children:"Todos"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[i.jsx(ge,{children:i.jsxs(pe,{className:"p-6 text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-primary mb-2",children:m.active}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Programas activos"})]})}),i.jsx(ge,{children:i.jsxs(pe,{className:"p-6 text-center",children:[i.jsxs("div",{className:"text-2xl font-bold text-primary mb-2",children:[m.participants,"+"]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Participantes"})]})}),i.jsx(ge,{children:i.jsxs(pe,{className:"p-6 text-center",children:[i.jsxs("div",{className:"text-2xl font-bold text-primary mb-2",children:[m.completionRate,"%"]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Tasa de finalizacin"})]})}),i.jsx(ge,{children:i.jsxs(pe,{className:"p-6 text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-primary mb-2",children:m.averageRating}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Puntuacin media"})]})})]}),c&&i.jsx("div",{className:"text-center py-12",children:i.jsx("p",{className:"text-muted-foreground",children:"Cargando programas..."})}),u&&i.jsx(ge,{className:"text-center py-12",children:i.jsx(pe,{children:i.jsx("p",{className:"text-destructive",children:"Error al cargar los programas. Por favor, intenta de nuevo."})})}),!c&&!u&&i.jsxs(i.Fragment,{children:[d.length>0?i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:d.map(x=>i.jsx(G9,{program:x,onViewDetails:f},x.id))}):i.jsx(ge,{className:"text-center py-12",children:i.jsxs(pe,{children:[i.jsx(cn,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"No hay programas disponibles en esta categora"}),e!=="all"&&i.jsx(U,{variant:"link",onClick:()=>t("all"),className:"mt-2",children:"Ver todos los programas"})]})}),d.length>0&&i.jsxs("div",{className:"text-center mt-8 text-sm text-muted-foreground",children:["Mostrando ",d.length," de ",h," programas"]})]})]}),i.jsx(g2,{program:r,open:s,onOpenChange:a})]})}const eW={enrolled:"Inscrito",completed:"Completado",dropped:"Abandonado",rejected:"Rechazado"},tW={enrolled:"bg-green-500",completed:"bg-blue-500",dropped:"bg-gray-500",rejected:"bg-red-500"},rW={aceleracion:"Aceleracin",workshop:"Workshop",bootcamp:"Bootcamp",mentoria:"Mentora",curso:"Curso",otro:"Otro"};function nW(){const[e,t]=p.useState("enrolled"),[r,n]=p.useState(null),[s,a]=p.useState(!1),{data:o,isLoading:l,isError:c}=cw(),u=(o==null?void 0:o.enrollments)||[],d=e==="all"?u:u.filter(x=>x.status===e),h=x=>{n(x),a(!0)},f=x=>new Date(x).toLocaleDateString("es-ES",{day:"numeric",month:"short",year:"numeric"}),m={enrolled:u.filter(x=>x.status==="enrolled").length,completed:u.filter(x=>x.status==="completed").length,total:u.length};return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted",children:[i.jsx(Or,{}),i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary to-emerald-600 rounded-xl flex items-center justify-center",children:i.jsx(fv,{className:"h-6 w-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Mis Programas"}),i.jsx("p",{className:"text-muted-foreground",children:"Gestiona tus inscripciones y revisa tu progreso"})]})]}),i.jsxs("div",{className:"flex space-x-1 bg-muted p-1 rounded-lg w-fit",children:[i.jsx(U,{variant:e==="enrolled"?"default":"ghost",size:"sm",onClick:()=>t("enrolled"),children:"Activos"}),i.jsx(U,{variant:e==="completed"?"default":"ghost",size:"sm",onClick:()=>t("completed"),children:"Completados"}),i.jsx(U,{variant:e==="dropped"?"default":"ghost",size:"sm",onClick:()=>t("dropped"),children:"Abandonados"}),i.jsx(U,{variant:e==="all"?"default":"ghost",size:"sm",onClick:()=>t("all"),children:"Todos"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[i.jsx(ge,{children:i.jsxs(pe,{className:"p-6 text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-primary mb-2",children:m.enrolled}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Programas activos"})]})}),i.jsx(ge,{children:i.jsxs(pe,{className:"p-6 text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-primary mb-2",children:m.completed}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Programas completados"})]})}),i.jsx(ge,{children:i.jsxs(pe,{className:"p-6 text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-primary mb-2",children:m.total}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Total de inscripciones"})]})})]}),l&&i.jsx("div",{className:"text-center py-12",children:i.jsx("p",{className:"text-muted-foreground",children:"Cargando programas..."})}),c&&i.jsx(ge,{className:"text-center py-12",children:i.jsx(pe,{children:i.jsx("p",{className:"text-destructive",children:"Error al cargar los programas. Por favor, intenta de nuevo."})})}),!l&&!c&&i.jsxs(i.Fragment,{children:[d.length>0?i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:d.map(x=>{const g=x.program;return i.jsx(ge,{className:"hover:shadow-md transition-shadow",children:i.jsxs(pe,{className:"p-6",children:[i.jsx("div",{className:"flex items-start justify-between mb-4",children:i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(_e,{variant:"outline",className:"text-xs",children:rW[g.type]}),i.jsx(_e,{variant:"default",className:tW[x.status],children:eW[x.status]})]}),i.jsx("h3",{className:"font-semibold text-lg mb-1",children:g.title}),i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:g.description})]})}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(cn,{className:"h-4 w-4 text-primary"}),i.jsx("span",{children:f(g.start_date)})]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(ia,{className:"h-4 w-4 text-primary"}),i.jsx("span",{children:g.duration})]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground col-span-2",children:[i.jsx(qn,{className:"h-4 w-4 text-primary"}),i.jsx("span",{children:g.location||"Online"})]})]}),i.jsxs("div",{className:"bg-muted p-3 rounded-lg mb-4",children:[i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"Inscrito el:"}),i.jsx("span",{className:"font-medium",children:f(x.enrolled_at)})]}),x.completed_at&&i.jsxs("div",{className:"flex items-center justify-between text-sm mt-1",children:[i.jsx("span",{className:"text-muted-foreground",children:"Completado el:"}),i.jsx("span",{className:"font-medium",children:f(x.completed_at)})]}),x.rating&&i.jsxs("div",{className:"flex items-center justify-between text-sm mt-1",children:[i.jsx("span",{className:"text-muted-foreground",children:"Tu valoracin:"}),i.jsx("span",{className:"font-medium",children:"".repeat(x.rating)})]})]}),i.jsx("div",{className:"flex gap-2",children:i.jsxs(U,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>h(g),children:[i.jsx(A3,{className:"h-4 w-4 mr-2"}),"Ver detalles"]})})]})},x.id)})}):i.jsx(ge,{className:"text-center py-12",children:i.jsxs(pe,{children:[i.jsx(fv,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground mb-4",children:"No tienes programas en esta categora"}),i.jsx(U,{variant:"default",onClick:()=>window.location.href="/programs",children:"Explorar programas"})]})}),d.length>0&&i.jsxs("div",{className:"text-center mt-8 text-sm text-muted-foreground",children:["Mostrando ",d.length," de ",u.length," inscripciones"]})]})]}),i.jsx(g2,{program:r,open:s,onOpenChange:a})]})}const sW=G({name:R().min(1,"El nombre es requerido").max(100,"El nombre es demasiado largo"),bio:R().max(500,"La biografa es demasiado larga").optional().nullable(),location:R().max(100,"La ubicacin es demasiado larga").optional().nullable(),linkedin_url:R().url("URL invlida").or(Oc("")).optional().nullable(),website_url:R().url("URL invlida").or(Oc("")).optional().nullable()});function aW({user:e}){var P,T,B,D,q,F;const{toast:t}=ql(),r=Ye(),[n,s]=p.useState(e.skills||[]),[a,o]=p.useState(""),[l,c]=p.useState(e.interests||[]),[u,d]=p.useState(""),[h,f]=p.useState(!1),[m,x]=p.useState(!1),{register:g,handleSubmit:w,formState:{errors:y,isDirty:v}}=aw({resolver:iw(sW),defaultValues:{name:e.name||"",bio:e.bio||"",location:e.location||"",linkedin_url:e.linkedin_url||"",website_url:e.website_url||""}}),b=()=>{a.trim()&&!n.includes(a.trim())&&(s([...n,a.trim()]),o(""))},j=M=>{s(n.filter(V=>V!==M))},_=()=>{u.trim()&&!l.includes(u.trim())&&(c([...l,u.trim()]),d(""))},S=M=>{c(l.filter(V=>V!==M))},N=async M=>{f(!0);try{await we.put(`/users/${e.id}`,{name:M.name,bio:M.bio||null,location:M.location||null,linkedin_url:M.linkedin_url||null,website_url:M.website_url||null,skills:n,interests:l}),await r.invalidateQueries({queryKey:["auth","currentUser"]}),t({title:"Perfil actualizado",description:"Tu perfil se ha actualizado correctamente"})}catch(V){console.error("Error updating profile:",V),t({title:"Error",description:"No se pudo actualizar el perfil. Por favor, intntalo de nuevo.",variant:"destructive"})}finally{f(!1)}},E=async()=>{await r.invalidateQueries({queryKey:["auth","currentUser"]}),t({title:"Foto actualizada",description:"Tu foto de perfil se ha actualizado correctamente"})};return i.jsxs("form",{onSubmit:w(N),className:"space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"name",children:"Nombre *"}),i.jsx(be,{id:"name",...g("name"),placeholder:"Tu nombre completo"}),y.name&&i.jsx("p",{className:"text-sm text-destructive",children:y.name.message})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"email",children:"Correo electrnico"}),i.jsx(be,{id:"email",value:e.email||"",disabled:!0,className:"bg-muted cursor-not-allowed"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Para modificar tu correo, contacta al administrador"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{children:"Foto de perfil"}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs(Et,{className:"w-20 h-20",children:[i.jsx(zt,{src:e.avatar_url||"",alt:e.name||"Usuario"}),i.jsx(kt,{className:"text-xl bg-gradient-to-br from-primary to-primary/80 text-white",children:((T=(P=e.name)==null?void 0:P.charAt(0))==null?void 0:T.toUpperCase())||((D=(B=e.email)==null?void 0:B.charAt(0))==null?void 0:D.toUpperCase())||"U"})]}),i.jsxs("div",{className:"flex-1",children:[i.jsxs(U,{type:"button",variant:"outline",onClick:()=>x(!0),className:"w-full sm:w-auto",children:[i.jsx(JC,{className:"h-4 w-4 mr-2"}),e.avatar_url?"Cambiar foto":"Subir foto"]}),i.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"JPG, PNG o GIF. Mximo 5MB."})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"bio",children:"Biografa"}),i.jsx(si,{id:"bio",...g("bio"),placeholder:"Cuntanos sobre ti...",rows:4}),y.bio&&i.jsx("p",{className:"text-sm text-destructive",children:y.bio.message})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"location",children:"Ubicacin"}),i.jsx(be,{id:"location",...g("location"),placeholder:"Ciudad, Pas"}),y.location&&i.jsx("p",{className:"text-sm text-destructive",children:y.location.message})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"linkedin_url",children:"LinkedIn"}),i.jsx(be,{id:"linkedin_url",...g("linkedin_url"),placeholder:"https://linkedin.com/in/tu-perfil",type:"url"}),y.linkedin_url&&i.jsx("p",{className:"text-sm text-destructive",children:y.linkedin_url.message})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"website_url",children:"Sitio web"}),i.jsx(be,{id:"website_url",...g("website_url"),placeholder:"https://tu-sitio.com",type:"url"}),y.website_url&&i.jsx("p",{className:"text-sm text-destructive",children:y.website_url.message})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{children:"Habilidades"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(be,{value:a,onChange:M=>o(M.target.value),placeholder:"Aade una habilidad",onKeyDown:M=>{M.key==="Enter"&&(M.preventDefault(),b())}}),i.jsx(U,{type:"button",variant:"outline",size:"icon",onClick:b,children:i.jsx(Yi,{className:"h-4 w-4"})})]}),i.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:n.map(M=>i.jsxs(_e,{variant:"secondary",className:"gap-1",children:[M,i.jsx("button",{type:"button",onClick:()=>j(M),className:"ml-1 hover:text-destructive",children:i.jsx(Mr,{className:"h-3 w-3"})})]},M))})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{children:"Intereses"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(be,{value:u,onChange:M=>d(M.target.value),placeholder:"Aade un inters",onKeyDown:M=>{M.key==="Enter"&&(M.preventDefault(),_())}}),i.jsx(U,{type:"button",variant:"outline",size:"icon",onClick:_,children:i.jsx(Yi,{className:"h-4 w-4"})})]}),i.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:l.map(M=>i.jsxs(_e,{variant:"secondary",className:"gap-1",children:[M,i.jsx("button",{type:"button",onClick:()=>S(M),className:"ml-1 hover:text-destructive",children:i.jsx(Mr,{className:"h-3 w-3"})})]},M))})]}),i.jsx("div",{className:"flex justify-end",children:i.jsx(U,{type:"submit",disabled:h||!v&&n.length===(((q=e.skills)==null?void 0:q.length)||0)&&l.length===(((F=e.interests)==null?void 0:F.length)||0),children:h?i.jsxs(i.Fragment,{children:[i.jsx(St,{className:"mr-2 h-4 w-4 animate-spin"}),"Guardando..."]}):"Guardar cambios"})}),i.jsx(_k,{open:m,onOpenChange:x,onPhotoUpdated:E})]})}function iW(){const e=at({mutationFn:t=>lo.changePassword(t)});return{action:e.mutate,isLoading:e.isPending,error:e.error,isSuccess:e.isSuccess,data:e.data}}function oW({open:e,onOpenChange:t}){const{action:r,isLoading:n,error:s,isSuccess:a}=iW(),[o,l]=p.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[c,u]=p.useState({}),[d,h]=p.useState(!1),[f,m]=p.useState(!1),[x,g]=p.useState(!1);p.useEffect(()=>{e||(l({currentPassword:"",newPassword:"",confirmPassword:""}),u({}),h(!1),m(!1),g(!1))},[e]),p.useEffect(()=>{a&&setTimeout(()=>{t(!1)},1500)},[a,t]);const w=v=>b=>{l(j=>({...j,[v]:b.target.value})),c[v]&&u(j=>{const _={...j};return delete _[v],_})},y=v=>{v.preventDefault(),u({});try{const b=hF.parse(o);r(b)}catch(b){if(b instanceof ln){const j={};b.errors.forEach(_=>{_.path[0]&&(j[_.path[0]]=_.message)}),u(j)}}};return i.jsx(ws,{open:e,onOpenChange:t,children:i.jsxs(Ln,{className:"sm:max-w-md",children:[i.jsxs($n,{children:[i.jsxs(Fn,{className:"flex items-center gap-2",children:[i.jsx(Nl,{className:"h-5 w-5 text-primary"}),"Cambiar Contrasea"]}),i.jsx(Un,{children:"Introduce tu contrasea actual y elige una nueva contrasea segura"})]}),i.jsxs("form",{onSubmit:y,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"currentPassword",children:"Contrasea actual"}),i.jsxs("div",{className:"relative",children:[i.jsx(be,{id:"currentPassword",type:d?"text":"password",value:o.currentPassword,onChange:w("currentPassword"),disabled:n||a,className:c.currentPassword?"border-red-500":""}),i.jsx("button",{type:"button",onClick:()=>h(!d),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:d?i.jsx(Ic,{className:"h-4 w-4"}):i.jsx(ms,{className:"h-4 w-4"})})]}),c.currentPassword&&i.jsx("p",{className:"text-sm text-red-600",children:c.currentPassword})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"newPassword",children:"Nueva contrasea"}),i.jsxs("div",{className:"relative",children:[i.jsx(be,{id:"newPassword",type:f?"text":"password",value:o.newPassword,onChange:w("newPassword"),disabled:n||a,className:c.newPassword?"border-red-500":""}),i.jsx("button",{type:"button",onClick:()=>m(!f),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:f?i.jsx(Ic,{className:"h-4 w-4"}):i.jsx(ms,{className:"h-4 w-4"})})]}),c.newPassword&&i.jsx("p",{className:"text-sm text-red-600",children:c.newPassword}),i.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[i.jsx("p",{className:"font-medium",children:"La contrasea debe contener:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-0.5 ml-2",children:[i.jsx("li",{children:"Mnimo 8 caracteres"}),i.jsx("li",{children:"Al menos una letra mayscula"}),i.jsx("li",{children:"Al menos una letra minscula"}),i.jsx("li",{children:"Al menos un nmero"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"confirmPassword",children:"Confirmar nueva contrasea"}),i.jsxs("div",{className:"relative",children:[i.jsx(be,{id:"confirmPassword",type:x?"text":"password",value:o.confirmPassword,onChange:w("confirmPassword"),disabled:n||a,className:c.confirmPassword?"border-red-500":""}),i.jsx("button",{type:"button",onClick:()=>g(!x),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:x?i.jsx(Ic,{className:"h-4 w-4"}):i.jsx(ms,{className:"h-4 w-4"})})]}),c.confirmPassword&&i.jsx("p",{className:"text-sm text-red-600",children:c.confirmPassword})]}),s&&i.jsx("div",{className:"text-sm text-red-600 bg-red-50 border border-red-200 rounded-xl p-4",children:s instanceof Error?s.message:"Error al cambiar la contrasea"}),a&&i.jsx("div",{className:"text-sm text-green-600 bg-green-50 border border-green-200 rounded-xl p-4",children:"Contrasea cambiada exitosamente!"}),i.jsxs("div",{className:"flex gap-3 pt-4",children:[i.jsx(U,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:n,className:"flex-1",children:"Cancelar"}),i.jsx(U,{type:"submit",disabled:n||a,className:"flex-1",children:n?"Cambiando...":"Cambiar Contrasea"})]})]})]})})}function lW(){var n,s;const{user:e}=jt(),[t,r]=p.useState(!1);return e?i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted",children:[i.jsx(Or,{}),i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[i.jsx("div",{className:"mb-8",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary to-emerald-600 rounded-xl flex items-center justify-center",children:i.jsx(du,{className:"h-6 w-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Mi Perfil"}),i.jsx("p",{className:"text-muted-foreground",children:"Completa tu informacin para conectar mejor con otros miembros"})]})]})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[i.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[i.jsxs(ge,{children:[i.jsxs(mt,{children:[i.jsxs(ft,{className:"flex items-center",children:[i.jsx(uu,{className:"h-5 w-5 mr-2"}),"Completado del perfil"]}),i.jsx(ur,{children:"Mejora tu visibilidad completando toda tu informacin"})]}),i.jsx(pe,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"text-3xl font-bold text-primary mb-2",children:[e.completed_pct||30,"%"]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Completado"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{children:"Informacin bsica"}),i.jsx("span",{className:e.name?"text-green-600":"text-yellow-600",children:e.name?"":""})]}),i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{children:"Foto de perfil"}),i.jsx("span",{className:e.avatar_url?"text-green-600":"text-yellow-600",children:e.avatar_url?"":""})]}),i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{children:"Biografa"}),i.jsx("span",{className:e.bio?"text-green-600":"text-yellow-600",children:e.bio?"":""})]}),i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{children:"Habilidades"}),i.jsx("span",{className:(n=e.skills)!=null&&n.length?"text-green-600":"text-yellow-600",children:(s=e.skills)!=null&&s.length?"":""})]}),i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{children:"Enlaces sociales"}),i.jsx("span",{className:e.linkedin_url||e.website_url?"text-green-600":"text-yellow-600",children:e.linkedin_url||e.website_url?"":""})]})]})]})})]}),i.jsxs(ge,{children:[i.jsxs(mt,{children:[i.jsxs(ft,{className:"flex items-center",children:[i.jsx(Nl,{className:"h-5 w-5 mr-2"}),"Seguridad"]}),i.jsx(ur,{children:"Gestiona la seguridad de tu cuenta"})]}),i.jsx(pe,{children:i.jsxs(U,{onClick:()=>r(!0),variant:"outline",className:"w-full",children:[i.jsx(Nl,{className:"h-4 w-4 mr-2"}),"Cambiar Contrasea"]})})]})]}),i.jsx("div",{className:"lg:col-span-2",children:i.jsxs(ge,{children:[i.jsxs(mt,{children:[i.jsx(ft,{children:"Informacin del perfil"}),i.jsx(ur,{children:"Actualiza tu informacin personal y profesional"})]}),i.jsx(pe,{children:i.jsx(aW,{user:e})})]})})]})]}),i.jsx(oW,{open:t,onOpenChange:r})]}):i.jsx("div",{children:"Cargando..."})}function cW(){var v,b,j,_,S,N,E;const{userId:e}=Cu(),t=vt(),{user:r}=jt(),{data:n,isLoading:s}=It({queryKey:["user-profile",e],queryFn:async()=>(await we.get(`/users/${e}`)).data.user,enabled:!!e}),{data:a}=Ex(e||""),{action:o,isLoading:l}=Cx(),{action:c,isLoading:u}=Bu(),d=(r==null?void 0:r.id)===e,h=a==null?void 0:a.status,f=(v=a==null?void 0:a.connection)==null?void 0:v.id,m=((b=a==null?void 0:a.connection)==null?void 0:b.requester_id)===(r==null?void 0:r.id),x=((j=a==null?void 0:a.connection)==null?void 0:j.addressee_id)===(r==null?void 0:r.id),g=()=>{e&&o({addressee_id:e})},w=()=>{f&&c({connection_id:f,status:"accepted"})},y=()=>{t(`/messages?userId=${e}`)};return s?i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted",children:[i.jsx(Or,{}),i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[i.jsx(dr,{className:"h-8 w-48 mb-8"}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[i.jsx("div",{className:"lg:col-span-1",children:i.jsx(dr,{className:"h-96"})}),i.jsx("div",{className:"lg:col-span-2",children:i.jsx(dr,{className:"h-64"})})]})]})]}):n?i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted",children:[i.jsx(Or,{}),i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[i.jsxs(U,{variant:"ghost",onClick:()=>t(-1),className:"mb-6",children:[i.jsx(Dn,{className:"h-4 w-4 mr-2"}),"Volver"]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[i.jsx("div",{className:"lg:col-span-1",children:i.jsx(ge,{children:i.jsx(pe,{className:"p-6",children:i.jsxs("div",{className:"flex flex-col items-center text-center",children:[i.jsxs(Et,{className:"h-32 w-32 mb-4",children:[i.jsx(zt,{src:n.avatar_url||void 0,alt:n.name}),i.jsx(kt,{className:"bg-gradient-to-br from-primary to-primary/80 text-white text-3xl",children:((S=(_=n.name)==null?void 0:_.charAt(0))==null?void 0:S.toUpperCase())||((E=(N=n.email)==null?void 0:N.charAt(0))==null?void 0:E.toUpperCase())})]}),i.jsx("h1",{className:"text-2xl font-bold mb-1",children:n.name}),i.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:n.email}),!d&&i.jsxs("div",{className:"w-full space-y-2 mb-6",children:[h===null&&i.jsx(U,{className:"w-full",onClick:g,disabled:l,children:l?i.jsxs(i.Fragment,{children:[i.jsx(St,{className:"h-4 w-4 mr-2 animate-spin"}),"Enviando..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Za,{className:"h-4 w-4 mr-2"}),"Conectar"]})}),h==="pending"&&x&&i.jsx(U,{className:"w-full",onClick:w,disabled:u,children:u?i.jsxs(i.Fragment,{children:[i.jsx(St,{className:"h-4 w-4 mr-2 animate-spin"}),"Aceptando..."]}):i.jsxs(i.Fragment,{children:[i.jsx(xs,{className:"h-4 w-4 mr-2"}),"Aceptar solicitud"]})}),h==="pending"&&m&&i.jsxs(_e,{variant:"secondary",className:"w-full py-2 justify-center",children:[i.jsx(Za,{className:"h-4 w-4 mr-2"}),"Solicitud enviada"]}),h==="accepted"&&i.jsxs(_e,{variant:"default",className:"w-full py-2 justify-center",children:[i.jsx(xs,{className:"h-4 w-4 mr-2"}),"Conectado"]}),i.jsxs(U,{variant:"outline",className:"w-full",onClick:y,children:[i.jsx(Mu,{className:"h-4 w-4 mr-2"}),"Enviar mensaje"]})]}),n.location&&i.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-4",children:[i.jsx(qn,{className:"h-4 w-4"}),i.jsx("span",{className:"text-sm",children:n.location})]}),i.jsxs("div",{className:"w-full space-y-2",children:[n.linkedin_url&&i.jsxs("a",{href:n.linkedin_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm text-primary hover:underline",children:[i.jsx(rE,{className:"h-4 w-4"}),"LinkedIn"]}),n.website_url&&i.jsxs("a",{href:n.website_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm text-primary hover:underline",children:[i.jsx(B3,{className:"h-4 w-4"}),"Sitio web"]})]})]})})})}),i.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.bio&&i.jsx(ge,{children:i.jsxs(pe,{className:"p-6",children:[i.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Acerca de"}),i.jsx("p",{className:"text-muted-foreground whitespace-pre-wrap",children:n.bio})]})}),n.skills&&n.skills.length>0&&i.jsx(ge,{children:i.jsxs(pe,{className:"p-6",children:[i.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Habilidades"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:n.skills.map(P=>i.jsx(_e,{variant:"secondary",children:P},P))})]})}),n.interests&&n.interests.length>0&&i.jsx(ge,{children:i.jsxs(pe,{className:"p-6",children:[i.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Intereses"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:n.interests.map(P=>i.jsx(_e,{variant:"outline",children:P},P))})]})})]})]})]})]}):i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted",children:[i.jsx(Or,{}),i.jsx("div",{className:"container mx-auto px-4 py-8",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Usuario no encontrado"}),i.jsx(U,{onClick:()=>t("/network"),children:"Volver a Mi Red"})]})})]})}function uW(){const{isAdmin:e,isLoading:t}=zu(),r=vt();return p.useEffect(()=>{!t&&!e&&r("/")},[e,t,r]),t?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):e?i.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[i.jsxs(U,{variant:"ghost",onClick:()=>r("/dashboard"),className:"mb-6 hover:bg-gray-100",children:[i.jsx(Dn,{className:"h-4 w-4 mr-2"}),"Volver al Dashboard"]}),i.jsxs("div",{className:"mb-8",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx(lx,{className:"h-8 w-8 text-primary"}),i.jsx("h1",{className:"text-3xl font-bold",children:"Panel de Gestin"})]}),i.jsx("p",{className:"text-muted-foreground",children:"Herramientas de administracin y gestin del sistema"})]}),i.jsxs("div",{className:"bg-primary/10 border border-primary/20 rounded-xl p-4 mb-8 flex items-start gap-3",children:[i.jsx(Gh,{className:"h-5 w-5 text-primary mt-0.5 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-primary",children:"Acceso de Administrador"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Ests visualizando esta pgina con permisos de administrador. Ten cuidado con las acciones que realices."})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:i.jsx(Ir,{className:"h-6 w-6 text-blue-600"})}),i.jsx("h2",{className:"text-xl font-semibold",children:"Usuarios"})]}),i.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"Administra usuarios, roles y permisos del sistema"}),i.jsx("button",{onClick:()=>r("/gestion/usuarios"),className:"text-primary hover:underline text-sm font-medium",children:"Ver usuarios "})]}),i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:i.jsx(aj,{className:"h-6 w-6 text-green-600"})}),i.jsx("h2",{className:"text-xl font-semibold",children:"Aprobaciones"})]}),i.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"Gestiona solicitudes de registro pendientes"}),i.jsx("button",{onClick:()=>r("/signup-approval"),className:"text-primary hover:underline text-sm font-medium",children:"Ver solicitudes "})]}),i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:i.jsx(YC,{className:"h-6 w-6 text-purple-600"})}),i.jsx("h2",{className:"text-xl font-semibold",children:"Estadsticas"})]}),i.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"Mtricas y anlisis de uso de la plataforma"}),i.jsx("button",{onClick:()=>r("/gestion/estadisticas"),className:"text-primary hover:underline text-sm font-medium",children:"Ver estadsticas "})]}),i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:i.jsx(uu,{className:"h-6 w-6 text-orange-600"})}),i.jsx("h2",{className:"text-xl font-semibold",children:"Configuracin"})]}),i.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"Ajustes generales del sistema y plataforma"}),i.jsx("button",{onClick:()=>r("/gestion/configuracion"),className:"text-primary hover:underline text-sm font-medium",children:"Configurar "})]}),i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"p-3 bg-indigo-100 rounded-lg",children:i.jsx(aj,{className:"h-6 w-6 text-indigo-600"})}),i.jsx("h2",{className:"text-xl font-semibold",children:"Contenido"})]}),i.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"Gestiona oportunidades, proyectos y recursos"}),i.jsx("button",{className:"text-primary hover:underline text-sm font-medium",children:"Gestionar contenido "})]}),i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"p-3 bg-red-100 rounded-lg",children:i.jsx(Gh,{className:"h-6 w-6 text-red-600"})}),i.jsx("h2",{className:"text-xl font-semibold",children:"Reportes"})]}),i.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"Revisa reportes y contenido denunciado"}),i.jsx("button",{className:"text-primary hover:underline text-sm font-medium",children:"Ver reportes "})]})]}),i.jsxs("div",{className:"mt-8 bg-gray-50 rounded-xl border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Informacin del Sistema"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Versin"}),i.jsx("p",{className:"font-medium",children:"1.0.0"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Entorno"}),i.jsx("p",{className:"font-medium",children:"production"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Base de Datos"}),i.jsx("p",{className:"font-medium",children:"Supabase PostgreSQL"})]})]})]})]}):null}const dW=G({id:R().uuid(),email:R().email(),name:R(),avatar_url:R().nullable().optional(),bio:R().nullable().optional(),location:R().nullable().optional(),linkedin_url:R().nullable().optional(),website_url:R().nullable().optional(),skills:We(R()).default([]),interests:We(R()).default([]),roles:We(R()).default([]),completed_pct:Ae().min(0).max(100),created_at:R(),updated_at:R()}),hW=G({users:We(dW),count:Ae()}),fW={async getAllUsers(){const e=await we.get("/admin/users");return hW.parse(e.data)}},mW=["admin","users"];function v2(){return It({queryKey:mW,queryFn:()=>fW.getAllUsers(),staleTime:1e3*60*5,retry:1})}function pW(){const{data:e,isLoading:t,error:r}=v2(),[n,s]=p.useState("");if(t)return i.jsx("div",{className:"flex items-center justify-center p-12",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Cargando usuarios..."})]})});if(r)return i.jsx("div",{className:"p-6 bg-red-50 border border-red-200 rounded-xl",children:i.jsxs("p",{className:"text-red-800",children:["Error al cargar usuarios: ",r.message]})});const o=((e==null?void 0:e.users)||[]).filter(c=>{const u=n.toLowerCase();return c.name.toLowerCase().includes(u)||c.email.toLowerCase().includes(u)||c.roles.some(d=>d.toLowerCase().includes(u))||c.location&&c.location.toLowerCase().includes(u)}),l=c=>{switch(c.toLowerCase()){case"admin":return"bg-red-100 text-red-800 hover:bg-red-100";case"mentor":return"bg-blue-100 text-blue-800 hover:bg-blue-100";case"emprendedor":return"bg-green-100 text-green-800 hover:bg-green-100";default:return"bg-gray-100 text-gray-800 hover:bg-gray-100"}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Gestin de Usuarios"}),i.jsxs("p",{className:"text-gray-600 mt-1",children:["Total: ",o.length," usuarios"]})]}),i.jsxs("div",{className:"relative w-full max-w-md",children:[i.jsx(ys,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),i.jsx(be,{type:"text",placeholder:"Buscar por nombre, email, rol o ubicacin...",value:n,onChange:c=>s(c.target.value),className:"pl-10"})]})]}),o.length===0?i.jsx("div",{className:"text-center p-12 bg-gray-50 rounded-xl",children:i.jsx("p",{className:"text-gray-600",children:n?"No se encontraron usuarios que coincidan con la bsqueda.":"No hay usuarios registrados."})}):i.jsx("div",{className:"border rounded-xl bg-white overflow-hidden",children:i.jsxs(Gf,{children:[i.jsx(Qf,{children:i.jsxs(Ga,{children:[i.jsx(tr,{children:"Nombre"}),i.jsx(tr,{children:"Email"}),i.jsx(tr,{children:"Roles"}),i.jsx(tr,{children:"Ubicacin"}),i.jsx(tr,{children:"Perfil"}),i.jsx(tr,{children:"Fecha de Registro"})]})}),i.jsx(Jf,{children:o.map(c=>i.jsxs(Ga,{children:[i.jsx(Gt,{className:"font-medium",children:c.name}),i.jsx(Gt,{className:"text-gray-600",children:c.email}),i.jsx(Gt,{children:i.jsx("div",{className:"flex gap-1 flex-wrap",children:c.roles.length>0?c.roles.map(u=>i.jsx(_e,{variant:"secondary",className:l(u),children:u},u)):i.jsx("span",{className:"text-gray-400 text-sm",children:"Sin roles"})})}),i.jsx(Gt,{className:"text-gray-600",children:c.location||i.jsx("span",{className:"text-gray-400",children:"-"})}),i.jsx(Gt,{children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 max-w-[80px]",children:i.jsx("div",{className:"bg-primary h-2 rounded-full transition-all",style:{width:`${c.completed_pct}%`}})}),i.jsxs("span",{className:"text-sm text-gray-600 min-w-[40px]",children:[c.completed_pct,"%"]})]})}),i.jsx(Gt,{className:"text-gray-600",children:new Date(c.created_at).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric"})})]},c.id))})]})})]})}function gW(){const{isAdmin:e,isLoading:t}=zu(),r=vt();return p.useEffect(()=>{!t&&!e&&r("/")},[e,t,r]),t?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):e?i.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[i.jsxs(U,{variant:"ghost",onClick:()=>r("/gestion"),className:"mb-6 hover:bg-gray-100",children:[i.jsx(Dn,{className:"h-4 w-4 mr-2"}),"Volver a Gestin"]}),i.jsxs("div",{className:"mb-8",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx(Ir,{className:"h-8 w-8 text-primary"}),i.jsx("h1",{className:"text-3xl font-bold",children:"Gestin de Usuarios"})]}),i.jsx("p",{className:"text-muted-foreground",children:"Visualiza y administra los usuarios del sistema"})]}),i.jsx(pW,{})]}):null}const vW=G({totalUsers:Ae().int().min(0),usersByRole:lF(R(),Ae().int().min(0)),totalOpportunities:Ae().int().min(0),activeConnections:Ae().int().min(0),pendingSignups:Ae().int().min(0)}),yW=G({statistics:vW}),xW={async getStatistics(){const e=await we.get("/admin/statistics");return yW.parse(e.data)}},wW=["admin","statistics"];function bW(){return It({queryKey:wW,queryFn:()=>xW.getStatistics(),staleTime:1e3*60*2,retry:1})}function jW(){const{data:e,isLoading:t,error:r}=bW();if(t)return i.jsx("div",{className:"flex items-center justify-center p-12",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Cargando estadsticas..."})]})});if(r)return i.jsx("div",{className:"p-6 bg-red-50 border border-red-200 rounded-xl",children:i.jsxs("p",{className:"text-red-800",children:["Error al cargar estadsticas: ",r.message]})});const n=e==null?void 0:e.statistics;if(!n)return null;const s=Object.entries(n.usersByRole),a=o=>{switch(o.toLowerCase()){case"admin":return"bg-red-100 text-red-800";case"mentor":return"bg-blue-100 text-blue-800";case"emprendedor":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:i.jsx(Ir,{className:"h-6 w-6 text-blue-600"})}),i.jsx("span",{className:"text-3xl font-bold text-gray-900",children:n.totalUsers})]}),i.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Total Usuarios"})]}),i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:i.jsx(Xs,{className:"h-6 w-6 text-purple-600"})}),i.jsx("span",{className:"text-3xl font-bold text-gray-900",children:n.totalOpportunities})]}),i.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Oportunidades"})]}),i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:i.jsx(z3,{className:"h-6 w-6 text-green-600"})}),i.jsx("span",{className:"text-3xl font-bold text-gray-900",children:n.activeConnections})]}),i.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Conexiones Activas"})]}),i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:i.jsx(ia,{className:"h-6 w-6 text-yellow-600"})}),i.jsx("span",{className:"text-3xl font-bold text-gray-900",children:n.pendingSignups})]}),i.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Solicitudes Pendientes"})]})]}),i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx(xs,{className:"h-6 w-6 text-primary"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Usuarios por Rol"})]}),s.length===0?i.jsx("p",{className:"text-gray-500 text-center py-4",children:"No hay roles asignados"}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:s.map(([o,l])=>i.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-gray-200",children:[i.jsx("div",{children:i.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${a(o)}`,children:o})}),i.jsx("span",{className:"text-2xl font-bold text-gray-900",children:l})]},o))})]})]})}function _W(){const{isAdmin:e,isLoading:t}=zu(),r=vt();return p.useEffect(()=>{!t&&!e&&r("/")},[e,t,r]),t?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):e?i.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[i.jsxs(U,{variant:"ghost",onClick:()=>r("/gestion"),className:"mb-6 hover:bg-gray-100",children:[i.jsx(Dn,{className:"h-4 w-4 mr-2"}),"Volver a Gestin"]}),i.jsxs("div",{className:"mb-8",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx(YC,{className:"h-8 w-8 text-primary"}),i.jsx("h1",{className:"text-3xl font-bold",children:"Estadsticas de la Plataforma"})]}),i.jsx("p",{className:"text-muted-foreground",children:"Mtricas y anlisis de uso del sistema"})]}),i.jsx(jW,{})]}):null}var y2="AlertDialog",[SW]=gr(y2,[vE]),oa=vE(),x2=e=>{const{__scopeAlertDialog:t,...r}=e,n=oa(t);return i.jsx(OE,{...n,...r,modal:!0})};x2.displayName=y2;var NW="AlertDialogTrigger",CW=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=oa(r);return i.jsx(IE,{...s,...n,ref:t})});CW.displayName=NW;var EW="AlertDialogPortal",w2=e=>{const{__scopeAlertDialog:t,...r}=e,n=oa(t);return i.jsx(ME,{...n,...r})};w2.displayName=EW;var kW="AlertDialogOverlay",b2=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=oa(r);return i.jsx(px,{...s,...n,ref:t})});b2.displayName=kW;var Yo="AlertDialogContent",[PW,RW]=SW(Yo),TW=RF("AlertDialogContent"),j2=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...s}=e,a=oa(r),o=p.useRef(null),l=Re(t,o),c=p.useRef(null);return i.jsx(aU,{contentName:Yo,titleName:_2,docsSlug:"alert-dialog",children:i.jsx(PW,{scope:r,cancelRef:c,children:i.jsxs(gx,{role:"alertdialog",...a,...s,ref:l,onOpenAutoFocus:X(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[i.jsx(TW,{children:n}),i.jsx(OW,{contentRef:o})]})})})});j2.displayName=Yo;var _2="AlertDialogTitle",S2=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=oa(r);return i.jsx(vx,{...s,...n,ref:t})});S2.displayName=_2;var N2="AlertDialogDescription",C2=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=oa(r);return i.jsx(yx,{...s,...n,ref:t})});C2.displayName=N2;var AW="AlertDialogAction",E2=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=oa(r);return i.jsx(xx,{...s,...n,ref:t})});E2.displayName=AW;var k2="AlertDialogCancel",P2=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:s}=RW(k2,r),a=oa(r),o=Re(t,s);return i.jsx(xx,{...a,...n,ref:o})});P2.displayName=k2;var OW=({contentRef:e})=>{const t=`\`${Yo}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Yo}\` by passing a \`${N2}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Yo}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return p.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},IW=x2,MW=w2,R2=b2,T2=j2,A2=E2,O2=P2,I2=S2,M2=C2;const D2=IW,DW=MW,L2=p.forwardRef(({className:e,...t},r)=>i.jsx(R2,{className:te("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));L2.displayName=R2.displayName;const uw=p.forwardRef(({className:e,...t},r)=>i.jsxs(DW,{children:[i.jsx(L2,{}),i.jsx(T2,{ref:r,className:te("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));uw.displayName=T2.displayName;const dw=({className:e,...t})=>i.jsx("div",{className:te("flex flex-col space-y-2 text-center sm:text-left",e),...t});dw.displayName="AlertDialogHeader";const hw=({className:e,...t})=>i.jsx("div",{className:te("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});hw.displayName="AlertDialogFooter";const fw=p.forwardRef(({className:e,...t},r)=>i.jsx(I2,{ref:r,className:te("text-lg font-semibold",e),...t}));fw.displayName=I2.displayName;const mw=p.forwardRef(({className:e,...t},r)=>i.jsx(M2,{ref:r,className:te("text-sm text-muted-foreground",e),...t}));mw.displayName=M2.displayName;const pw=p.forwardRef(({className:e,...t},r)=>i.jsx(A2,{ref:r,className:te(tx(),e),...t}));pw.displayName=A2.displayName;const gw=p.forwardRef(({className:e,...t},r)=>i.jsx(O2,{ref:r,className:te(tx({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));gw.displayName=O2.displayName;const $2=G({id:Ae(),name:R().min(1),description:R().nullable(),created_at:R()});G({name:R().min(1,"El nombre es requerido"),description:R().optional()});G({name:R().min(1,"El nombre es requerido"),description:R().optional()});const F2=G({key:R(),value:Mf(),description:R().nullable(),data_type:aa(["boolean","number","string","text","json"]),updated_at:R()});G({key:R().min(1,"La clave es requerida"),value:Mf(),description:R().optional(),data_type:aa(["boolean","number","string","text","json"])});G({value:Mf()});const LW=G({user_id:R().uuid(),role_id:Ae(),created_at:R()}),$W=G({roles:We($2)}),a_=G({role:$2}),FW=G({settings:We(F2)}),Ep=G({setting:F2}),UW=G({userRole:LW}),xm={async getAll(){const e=await we.get("/admin/config/roles");return $W.parse(e.data).roles},async create(e){const t=await we.post("/admin/config/roles",e);return a_.parse(t.data).role},async update(e,t){const r=await we.put(`/admin/config/roles/${e}`,t);return a_.parse(r.data).role},async delete(e){await we.delete(`/admin/config/roles/${e}`)}},U2={async getAll(){const e=await we.get("/admin/config/settings");return FW.parse(e.data).settings},async getByKey(e){const t=await we.get(`/admin/config/settings/${e}`);return Ep.parse(t.data).setting},async update(e,t){const r=await we.put(`/admin/config/settings/${e}`,t);return Ep.parse(r.data).setting},async create(e){const t=await we.post("/admin/config/settings",e);return Ep.parse(t.data).setting}},z2={async assign(e,t){const r=await we.post(`/admin/config/users/${e}/roles/${t}`);return UW.parse(r.data).userRole},async remove(e,t){await we.delete(`/admin/config/users/${e}/roles/${t}`)}},B2=()=>It({queryKey:["admin","config","roles"],queryFn:()=>xm.getAll(),staleTime:1e3*60*5});var zW=e=>{switch(e){case"success":return qW;case"info":return HW;case"warning":return WW;case"error":return KW;default:return null}},BW=Array(12).fill(0),VW=({visible:e,className:t})=>z.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},z.createElement("div",{className:"sonner-spinner"},BW.map((r,n)=>z.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),qW=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),WW=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),HW=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),KW=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),GW=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},z.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),z.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),QW=()=>{let[e,t]=z.useState(document.hidden);return z.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},Rv=1,JW=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Rv++,a=this.toasts.find(l=>l.id===s),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),a?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0,a,o=n.then(async c=>{if(a=["resolve",c],z.isValidElement(c))s=!1,this.create({id:r,type:"default",message:c});else if(XW(c)&&!c.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:d})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:d})}}).catch(async c=>{if(a=["reject",c],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:d})}}).finally(()=>{var c;s&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>o.then(()=>a[0]==="reject"?u(a[1]):c(a[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||Rv++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},_r=new JW,YW=(e,t)=>{let r=(t==null?void 0:t.id)||Rv++;return _r.addToast({title:e,...t,id:r}),r},XW=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",ZW=YW,eH=()=>_r.toasts,tH=()=>_r.getActiveToasts(),un=Object.assign(ZW,{success:_r.success,info:_r.info,warning:_r.warning,error:_r.error,custom:_r.custom,message:_r.message,promise:_r.promise,dismiss:_r.dismiss,loading:_r.loading},{getHistory:eH,getToasts:tH});function rH(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}rH(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Dd(e){return e.label!==void 0}var nH=3,sH="32px",aH="16px",i_=4e3,iH=356,oH=14,lH=20,cH=200;function xn(...e){return e.filter(Boolean).join(" ")}function uH(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var dH=e=>{var t,r,n,s,a,o,l,c,u,d,h;let{invert:f,toast:m,unstyled:x,interacting:g,setHeights:w,visibleToasts:y,heights:v,index:b,toasts:j,expanded:_,removeToast:S,defaultRichColors:N,closeButton:E,style:P,cancelButtonStyle:T,actionButtonStyle:B,className:D="",descriptionClassName:q="",duration:F,position:M,gap:V,loadingIcon:Z,expandByDefault:I,classNames:A,icons:H,closeButtonAriaLabel:ie="Close toast",pauseWhenPageIsHidden:ne}=e,[ye,ve]=z.useState(null),[Ve,Ke]=z.useState(null),[J,Fe]=z.useState(!1),[De,Ie]=z.useState(!1),[Le,Ue]=z.useState(!1),[Bt,ar]=z.useState(!1),[Hn,Kn]=z.useState(!1),[Ss,ho]=z.useState(0),[Ns,k]=z.useState(0),O=z.useRef(m.duration||F||i_),$=z.useRef(null),ee=z.useRef(null),Y=b===0,Q=b+1<=y,oe=m.type,$e=m.dismissible!==!1,Xe=m.className||"",xr=m.descriptionClassName||"",Cs=z.useMemo(()=>v.findIndex(Ee=>Ee.toastId===m.id)||0,[v,m.id]),Gn=z.useMemo(()=>{var Ee;return(Ee=m.closeButton)!=null?Ee:E},[m.closeButton,E]),Ju=z.useMemo(()=>m.duration||F||i_,[m.duration,F]),fi=z.useRef(0),Qn=z.useRef(0),Yu=z.useRef(0),Es=z.useRef(null),[jm,Xu]=M.split("-"),ww=z.useMemo(()=>v.reduce((Ee,Ze,ct)=>ct>=Cs?Ee:Ee+Ze.height,0),[v,Cs]),bw=QW(),wT=m.invert||f,_m=oe==="loading";Qn.current=z.useMemo(()=>Cs*V+ww,[Cs,ww]),z.useEffect(()=>{O.current=Ju},[Ju]),z.useEffect(()=>{Fe(!0)},[]),z.useEffect(()=>{let Ee=ee.current;if(Ee){let Ze=Ee.getBoundingClientRect().height;return k(Ze),w(ct=>[{toastId:m.id,height:Ze,position:m.position},...ct]),()=>w(ct=>ct.filter(mn=>mn.toastId!==m.id))}},[w,m.id]),z.useLayoutEffect(()=>{if(!J)return;let Ee=ee.current,Ze=Ee.style.height;Ee.style.height="auto";let ct=Ee.getBoundingClientRect().height;Ee.style.height=Ze,k(ct),w(mn=>mn.find(pn=>pn.toastId===m.id)?mn.map(pn=>pn.toastId===m.id?{...pn,height:ct}:pn):[{toastId:m.id,height:ct,position:m.position},...mn])},[J,m.title,m.description,w,m.id]);let la=z.useCallback(()=>{Ie(!0),ho(Qn.current),w(Ee=>Ee.filter(Ze=>Ze.toastId!==m.id)),setTimeout(()=>{S(m)},cH)},[m,S,w,Qn]);z.useEffect(()=>{if(m.promise&&oe==="loading"||m.duration===1/0||m.type==="loading")return;let Ee;return _||g||ne&&bw?(()=>{if(Yu.current<fi.current){let Ze=new Date().getTime()-fi.current;O.current=O.current-Ze}Yu.current=new Date().getTime()})():O.current!==1/0&&(fi.current=new Date().getTime(),Ee=setTimeout(()=>{var Ze;(Ze=m.onAutoClose)==null||Ze.call(m,m),la()},O.current)),()=>clearTimeout(Ee)},[_,g,m,oe,ne,bw,la]),z.useEffect(()=>{m.delete&&la()},[la,m.delete]);function bT(){var Ee,Ze,ct;return H!=null&&H.loading?z.createElement("div",{className:xn(A==null?void 0:A.loader,(Ee=m==null?void 0:m.classNames)==null?void 0:Ee.loader,"sonner-loader"),"data-visible":oe==="loading"},H.loading):Z?z.createElement("div",{className:xn(A==null?void 0:A.loader,(Ze=m==null?void 0:m.classNames)==null?void 0:Ze.loader,"sonner-loader"),"data-visible":oe==="loading"},Z):z.createElement(VW,{className:xn(A==null?void 0:A.loader,(ct=m==null?void 0:m.classNames)==null?void 0:ct.loader),visible:oe==="loading"})}return z.createElement("li",{tabIndex:0,ref:ee,className:xn(D,Xe,A==null?void 0:A.toast,(t=m==null?void 0:m.classNames)==null?void 0:t.toast,A==null?void 0:A.default,A==null?void 0:A[oe],(r=m==null?void 0:m.classNames)==null?void 0:r[oe]),"data-sonner-toast":"","data-rich-colors":(n=m.richColors)!=null?n:N,"data-styled":!(m.jsx||m.unstyled||x),"data-mounted":J,"data-promise":!!m.promise,"data-swiped":Hn,"data-removed":De,"data-visible":Q,"data-y-position":jm,"data-x-position":Xu,"data-index":b,"data-front":Y,"data-swiping":Le,"data-dismissible":$e,"data-type":oe,"data-invert":wT,"data-swipe-out":Bt,"data-swipe-direction":Ve,"data-expanded":!!(_||I&&J),style:{"--index":b,"--toasts-before":b,"--z-index":j.length-b,"--offset":`${De?Ss:Qn.current}px`,"--initial-height":I?"auto":`${Ns}px`,...P,...m.style},onDragEnd:()=>{Ue(!1),ve(null),Es.current=null},onPointerDown:Ee=>{_m||!$e||($.current=new Date,ho(Qn.current),Ee.target.setPointerCapture(Ee.pointerId),Ee.target.tagName!=="BUTTON"&&(Ue(!0),Es.current={x:Ee.clientX,y:Ee.clientY}))},onPointerUp:()=>{var Ee,Ze,ct,mn;if(Bt||!$e)return;Es.current=null;let pn=Number(((Ee=ee.current)==null?void 0:Ee.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ca=Number(((Ze=ee.current)==null?void 0:Ze.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),mi=new Date().getTime()-((ct=$.current)==null?void 0:ct.getTime()),gn=ye==="x"?pn:ca,ua=Math.abs(gn)/mi;if(Math.abs(gn)>=lH||ua>.11){ho(Qn.current),(mn=m.onDismiss)==null||mn.call(m,m),Ke(ye==="x"?pn>0?"right":"left":ca>0?"down":"up"),la(),ar(!0),Kn(!1);return}Ue(!1),ve(null)},onPointerMove:Ee=>{var Ze,ct,mn,pn;if(!Es.current||!$e||((Ze=window.getSelection())==null?void 0:Ze.toString().length)>0)return;let ca=Ee.clientY-Es.current.y,mi=Ee.clientX-Es.current.x,gn=(ct=e.swipeDirections)!=null?ct:uH(M);!ye&&(Math.abs(mi)>1||Math.abs(ca)>1)&&ve(Math.abs(mi)>Math.abs(ca)?"x":"y");let ua={x:0,y:0};ye==="y"?(gn.includes("top")||gn.includes("bottom"))&&(gn.includes("top")&&ca<0||gn.includes("bottom")&&ca>0)&&(ua.y=ca):ye==="x"&&(gn.includes("left")||gn.includes("right"))&&(gn.includes("left")&&mi<0||gn.includes("right")&&mi>0)&&(ua.x=mi),(Math.abs(ua.x)>0||Math.abs(ua.y)>0)&&Kn(!0),(mn=ee.current)==null||mn.style.setProperty("--swipe-amount-x",`${ua.x}px`),(pn=ee.current)==null||pn.style.setProperty("--swipe-amount-y",`${ua.y}px`)}},Gn&&!m.jsx?z.createElement("button",{"aria-label":ie,"data-disabled":_m,"data-close-button":!0,onClick:_m||!$e?()=>{}:()=>{var Ee;la(),(Ee=m.onDismiss)==null||Ee.call(m,m)},className:xn(A==null?void 0:A.closeButton,(s=m==null?void 0:m.classNames)==null?void 0:s.closeButton)},(a=H==null?void 0:H.close)!=null?a:GW):null,m.jsx||p.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:z.createElement(z.Fragment,null,oe||m.icon||m.promise?z.createElement("div",{"data-icon":"",className:xn(A==null?void 0:A.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||bT():null,m.type!=="loading"?m.icon||(H==null?void 0:H[oe])||zW(oe):null):null,z.createElement("div",{"data-content":"",className:xn(A==null?void 0:A.content,(l=m==null?void 0:m.classNames)==null?void 0:l.content)},z.createElement("div",{"data-title":"",className:xn(A==null?void 0:A.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?z.createElement("div",{"data-description":"",className:xn(q,xr,A==null?void 0:A.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),p.isValidElement(m.cancel)?m.cancel:m.cancel&&Dd(m.cancel)?z.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||T,onClick:Ee=>{var Ze,ct;Dd(m.cancel)&&$e&&((ct=(Ze=m.cancel).onClick)==null||ct.call(Ze,Ee),la())},className:xn(A==null?void 0:A.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,p.isValidElement(m.action)?m.action:m.action&&Dd(m.action)?z.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||B,onClick:Ee=>{var Ze,ct;Dd(m.action)&&((ct=(Ze=m.action).onClick)==null||ct.call(Ze,Ee),!Ee.defaultPrevented&&la())},className:xn(A==null?void 0:A.actionButton,(h=m==null?void 0:m.classNames)==null?void 0:h.actionButton)},m.action.label):null))};function o_(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function hH(e,t){let r={};return[e,t].forEach((n,s)=>{let a=s===1,o=a?"--mobile-offset":"--offset",l=a?aH:sH;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=l:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}p.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:a,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:h,duration:f,style:m,visibleToasts:x=nH,toastOptions:g,dir:w=o_(),gap:y=oH,loadingIcon:v,icons:b,containerAriaLabel:j="Notifications",pauseWhenPageIsHidden:_}=e,[S,N]=z.useState([]),E=z.useMemo(()=>Array.from(new Set([n].concat(S.filter(ne=>ne.position).map(ne=>ne.position)))),[S,n]),[P,T]=z.useState([]),[B,D]=z.useState(!1),[q,F]=z.useState(!1),[M,V]=z.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Z=z.useRef(null),I=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),A=z.useRef(null),H=z.useRef(!1),ie=z.useCallback(ne=>{N(ye=>{var ve;return(ve=ye.find(Ve=>Ve.id===ne.id))!=null&&ve.delete||_r.dismiss(ne.id),ye.filter(({id:Ve})=>Ve!==ne.id)})},[]);return z.useEffect(()=>_r.subscribe(ne=>{if(ne.dismiss){N(ye=>ye.map(ve=>ve.id===ne.id?{...ve,delete:!0}:ve));return}setTimeout(()=>{IN.flushSync(()=>{N(ye=>{let ve=ye.findIndex(Ve=>Ve.id===ne.id);return ve!==-1?[...ye.slice(0,ve),{...ye[ve],...ne},...ye.slice(ve+1)]:[ne,...ye]})})})}),[]),z.useEffect(()=>{if(d!=="system"){V(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?V("dark"):V("light")),typeof window>"u")return;let ne=window.matchMedia("(prefers-color-scheme: dark)");try{ne.addEventListener("change",({matches:ye})=>{V(ye?"dark":"light")})}catch{ne.addListener(({matches:ve})=>{try{V(ve?"dark":"light")}catch(Ve){console.error(Ve)}})}},[d]),z.useEffect(()=>{S.length<=1&&D(!1)},[S]),z.useEffect(()=>{let ne=ye=>{var ve,Ve;s.every(Ke=>ye[Ke]||ye.code===Ke)&&(D(!0),(ve=Z.current)==null||ve.focus()),ye.code==="Escape"&&(document.activeElement===Z.current||(Ve=Z.current)!=null&&Ve.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",ne),()=>document.removeEventListener("keydown",ne)},[s]),z.useEffect(()=>{if(Z.current)return()=>{A.current&&(A.current.focus({preventScroll:!0}),A.current=null,H.current=!1)}},[Z.current]),z.createElement("section",{ref:t,"aria-label":`${j} ${I}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},E.map((ne,ye)=>{var ve;let[Ve,Ke]=ne.split("-");return S.length?z.createElement("ol",{key:ne,dir:w==="auto"?o_():w,tabIndex:-1,ref:Z,className:l,"data-sonner-toaster":!0,"data-theme":M,"data-y-position":Ve,"data-lifted":B&&S.length>1&&!a,"data-x-position":Ke,style:{"--front-toast-height":`${((ve=P[0])==null?void 0:ve.height)||0}px`,"--width":`${iH}px`,"--gap":`${y}px`,...m,...hH(c,u)},onBlur:J=>{H.current&&!J.currentTarget.contains(J.relatedTarget)&&(H.current=!1,A.current&&(A.current.focus({preventScroll:!0}),A.current=null))},onFocus:J=>{J.target instanceof HTMLElement&&J.target.dataset.dismissible==="false"||H.current||(H.current=!0,A.current=J.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{q||D(!1)},onDragEnd:()=>D(!1),onPointerDown:J=>{J.target instanceof HTMLElement&&J.target.dataset.dismissible==="false"||F(!0)},onPointerUp:()=>F(!1)},S.filter(J=>!J.position&&ye===0||J.position===ne).map((J,Fe)=>{var De,Ie;return z.createElement(dH,{key:J.id,icons:b,index:Fe,toast:J,defaultRichColors:h,duration:(De=g==null?void 0:g.duration)!=null?De:f,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:r,visibleToasts:x,closeButton:(Ie=g==null?void 0:g.closeButton)!=null?Ie:o,interacting:q,position:ne,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:ie,toasts:S.filter(Le=>Le.position==J.position),heights:P.filter(Le=>Le.position==J.position),setHeights:T,expandByDefault:a,gap:y,loadingIcon:v,expanded:B,pauseWhenPageIsHidden:_,swipeDirections:e.swipeDirections})})):null}))});const fH=()=>{const e=Ye();return at({mutationFn:t=>xm.create(t),onSuccess:()=>{e.invalidateQueries({queryKey:["admin","config","roles"]}),un.success("Rol creado exitosamente")},onError:t=>{var r,n;console.error("Error creating role:",t),un.error(((n=(r=t.response)==null?void 0:r.data)==null?void 0:n.error)||"Error al crear rol")}})},mH=()=>{const e=Ye();return at({mutationFn:({id:t,data:r})=>xm.update(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:["admin","config","roles"]}),un.success("Rol actualizado exitosamente")},onError:t=>{var r,n;console.error("Error updating role:",t),un.error(((n=(r=t.response)==null?void 0:r.data)==null?void 0:n.error)||"Error al actualizar rol")}})},pH=()=>{const e=Ye();return at({mutationFn:t=>xm.delete(t),onSuccess:()=>{e.invalidateQueries({queryKey:["admin","config","roles"]}),un.success("Rol eliminado exitosamente")},onError:t=>{var n,s;console.error("Error deleting role:",t);const r=((s=(n=t.response)==null?void 0:n.data)==null?void 0:s.error)||"Error al eliminar rol";un.error(r)}})},gH=()=>{const{data:e,isLoading:t}=B2(),r=fH(),n=mH(),s=pH(),[a,o]=p.useState(!1),[l,c]=p.useState(!1),[u,d]=p.useState(!1),[h,f]=p.useState(null),[m,x]=p.useState({name:"",description:""}),g=()=>{x({name:"",description:""}),o(!0)},w=_=>{f(_),x({name:_.name,description:_.description||""}),c(!0)},y=_=>{f(_),d(!0)},v=async()=>{await r.mutateAsync(m),o(!1),x({name:"",description:""})},b=async()=>{h&&(await n.mutateAsync({id:h.id,data:m}),c(!1),f(null),x({name:"",description:""}))},j=async()=>{h&&(await s.mutateAsync(h.id),d(!1),f(null))};return t?i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsx("div",{className:"text-muted-foreground",children:"Cargando roles..."})}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Gestin de Roles"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Crea, edita o elimina roles del sistema"})]}),i.jsxs(U,{onClick:g,children:[i.jsx(Yi,{className:"mr-2 h-4 w-4"}),"Crear Rol"]})]}),i.jsx("div",{className:"border rounded-xl overflow-hidden",children:i.jsxs(Gf,{children:[i.jsx(Qf,{children:i.jsxs(Ga,{children:[i.jsx(tr,{children:"Nombre"}),i.jsx(tr,{children:"Descripcin"}),i.jsx(tr,{children:"Fecha de Creacin"}),i.jsx(tr,{className:"text-right",children:"Acciones"})]})}),i.jsxs(Jf,{children:[e==null?void 0:e.map(_=>i.jsxs(Ga,{children:[i.jsx(Gt,{className:"font-medium",children:_.name}),i.jsx(Gt,{className:"text-muted-foreground",children:_.description||"Sin descripcin"}),i.jsx(Gt,{className:"text-muted-foreground",children:new Date(_.created_at).toLocaleDateString("es-ES")}),i.jsx(Gt,{className:"text-right",children:i.jsxs("div",{className:"flex items-center justify-end gap-2",children:[i.jsx(U,{variant:"ghost",size:"sm",onClick:()=>w(_),children:i.jsx(q3,{className:"h-4 w-4"})}),i.jsx(U,{variant:"ghost",size:"sm",onClick:()=>y(_),disabled:_.name==="admin",children:i.jsx(Uf,{className:"h-4 w-4"})})]})})]},_.id)),(!e||e.length===0)&&i.jsx(Ga,{children:i.jsx(Gt,{colSpan:4,className:"text-center py-8 text-muted-foreground",children:"No hay roles creados"})})]})]})}),i.jsx(ws,{open:a,onOpenChange:o,children:i.jsxs(Ln,{children:[i.jsxs($n,{children:[i.jsx(Fn,{children:"Crear Nuevo Rol"}),i.jsx(Un,{children:"Define un nuevo rol para el sistema"})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"name",children:"Nombre *"}),i.jsx(be,{id:"name",value:m.name,onChange:_=>x({...m,name:_.target.value}),placeholder:"ej: mentor, emprendedor"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"description",children:"Descripcin"}),i.jsx(si,{id:"description",value:m.description,onChange:_=>x({...m,description:_.target.value}),placeholder:"Describe el propsito de este rol",rows:3})]})]}),i.jsxs(Jh,{children:[i.jsx(U,{variant:"outline",onClick:()=>o(!1),children:"Cancelar"}),i.jsx(U,{onClick:v,disabled:!m.name||r.isPending,children:r.isPending?"Creando...":"Crear Rol"})]})]})}),i.jsx(ws,{open:l,onOpenChange:c,children:i.jsxs(Ln,{children:[i.jsxs($n,{children:[i.jsx(Fn,{children:"Editar Rol"}),i.jsx(Un,{children:"Modifica la informacin del rol"})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"edit-name",children:"Nombre *"}),i.jsx(be,{id:"edit-name",value:m.name,onChange:_=>x({...m,name:_.target.value}),placeholder:"ej: mentor, emprendedor"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"edit-description",children:"Descripcin"}),i.jsx(si,{id:"edit-description",value:m.description,onChange:_=>x({...m,description:_.target.value}),placeholder:"Describe el propsito de este rol",rows:3})]})]}),i.jsxs(Jh,{children:[i.jsx(U,{variant:"outline",onClick:()=>c(!1),children:"Cancelar"}),i.jsx(U,{onClick:b,disabled:!m.name||n.isPending,children:n.isPending?"Guardando...":"Guardar Cambios"})]})]})}),i.jsx(D2,{open:u,onOpenChange:d,children:i.jsxs(uw,{children:[i.jsxs(dw,{children:[i.jsx(fw,{children:"Ests seguro?"}),i.jsxs(mw,{children:['Esta accin eliminar el rol "',h==null?void 0:h.name,'". Solo podrs eliminar roles que no estn asignados a ningn usuario.']})]}),i.jsxs(hw,{children:[i.jsx(gw,{children:"Cancelar"}),i.jsx(pw,{onClick:j,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:s.isPending?"Eliminando...":"Eliminar"})]})]})})]})},vH=()=>{const e=Ye();return at({mutationFn:({userId:t,roleId:r})=>z2.assign(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:["admin","users"]}),e.invalidateQueries({queryKey:["admin","config","roles"]}),un.success("Rol asignado exitosamente")},onError:t=>{var r,n;console.error("Error assigning role:",t),un.error(((n=(r=t.response)==null?void 0:r.data)==null?void 0:n.error)||"Error al asignar rol")}})},yH=()=>{const e=Ye();return at({mutationFn:({userId:t,roleId:r})=>z2.remove(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:["admin","users"]}),e.invalidateQueries({queryKey:["admin","config","roles"]}),un.success("Rol removido exitosamente")},onError:t=>{var n,s;console.error("Error removing role:",t);const r=((s=(n=t.response)==null?void 0:n.data)==null?void 0:s.error)||"Error al remover rol";un.error(r)}})},xH=()=>{const{data:e,isLoading:t}=v2(),{data:r,isLoading:n}=B2(),s=vH(),a=yH(),[o,l]=p.useState(!1),[c,u]=p.useState(!1),[d,h]=p.useState(""),[f,m]=p.useState(""),[x,g]=p.useState(""),[w,y]=p.useState(null),v=(e==null?void 0:e.users)||[],b=v.filter(P=>P.name.toLowerCase().includes(d.toLowerCase())||P.email.toLowerCase().includes(d.toLowerCase())),j=()=>{m(""),g(""),l(!0)},_=async()=>{!f||!x||(await s.mutateAsync({userId:f,roleId:x}),l(!1),m(""),g(""))},S=(P,T,B,D)=>{y({userId:P,roleId:T,roleName:B,userName:D}),u(!0)},N=async()=>{w&&(await a.mutateAsync({userId:w.userId,roleId:w.roleId}),u(!1),y(null))},E=P=>{switch(P.toLowerCase()){case"admin":return"bg-red-100 text-red-800 hover:bg-red-100";case"mentor":return"bg-blue-100 text-blue-800 hover:bg-blue-100";case"emprendedor":return"bg-green-100 text-green-800 hover:bg-green-100";default:return"bg-gray-100 text-gray-800 hover:bg-gray-100"}};return t||n?i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsx("div",{className:"text-muted-foreground",children:"Cargando datos..."})}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Asignacin de Roles"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Asigna o remueve roles de los usuarios"})]}),i.jsxs(U,{onClick:j,children:[i.jsx(Za,{className:"mr-2 h-4 w-4"}),"Asignar Rol"]})]}),i.jsxs("div",{className:"relative",children:[i.jsx(ys,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(be,{placeholder:"Buscar usuarios por nombre o email...",value:d,onChange:P=>h(P.target.value),className:"pl-9"})]}),i.jsxs("div",{className:"border rounded-xl divide-y",children:[b.map(P=>i.jsx("div",{className:"p-4 hover:bg-muted/50 transition-colors",children:i.jsx("div",{className:"flex items-start justify-between",children:i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"font-medium truncate",children:P.name}),i.jsx("div",{className:"text-sm text-muted-foreground truncate",children:P.email}),i.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:P.roles&&P.roles.length>0?P.roles.map(T=>{const B=r==null?void 0:r.find(D=>D.name===T);return i.jsxs(_e,{variant:"secondary",className:`${E(T)} flex items-center gap-1`,children:[T,i.jsx("button",{onClick:()=>S(P.id,(B==null?void 0:B.id)||"",T,P.name),className:"ml-1 hover:bg-black/10 rounded-full p-0.5",children:i.jsx(Mr,{className:"h-3 w-3"})})]},T)}):i.jsx("span",{className:"text-sm text-muted-foreground italic",children:"Sin roles asignados"})})]})})},P.id)),b.length===0&&i.jsx("div",{className:"p-8 text-center text-muted-foreground",children:"No se encontraron usuarios"})]}),i.jsx(ws,{open:o,onOpenChange:l,children:i.jsxs(Ln,{children:[i.jsxs($n,{children:[i.jsx(Fn,{children:"Asignar Rol a Usuario"}),i.jsx(Un,{children:"Selecciona un usuario y el rol que deseas asignarle"})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"user-select",children:"Usuario *"}),i.jsxs(ri,{value:f,onValueChange:m,children:[i.jsx(ta,{id:"user-select",children:i.jsx(ni,{placeholder:"Selecciona un usuario"})}),i.jsx(ra,{children:v.map(P=>i.jsxs(rt,{value:P.id,children:[P.name," (",P.email,")"]},P.id))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"role-select",children:"Rol *"}),i.jsxs(ri,{value:x,onValueChange:g,children:[i.jsx(ta,{id:"role-select",children:i.jsx(ni,{placeholder:"Selecciona un rol"})}),i.jsx(ra,{children:r==null?void 0:r.map(P=>i.jsxs(rt,{value:P.id,children:[P.name,P.description&&i.jsxs("span",{className:"text-muted-foreground",children:[" - ",P.description]})]},P.id))})]})]})]}),i.jsxs(Jh,{children:[i.jsx(U,{variant:"outline",onClick:()=>l(!1),children:"Cancelar"}),i.jsx(U,{onClick:_,disabled:!f||!x||s.isPending,children:s.isPending?"Asignando...":"Asignar Rol"})]})]})}),i.jsx(D2,{open:c,onOpenChange:u,children:i.jsxs(uw,{children:[i.jsxs(dw,{children:[i.jsx(fw,{children:"Remover rol de usuario?"}),i.jsxs(mw,{children:['Ests a punto de remover el rol "',w==null?void 0:w.roleName,'" del usuario "',w==null?void 0:w.userName,'". Esta accin puede ser revertida asignando el rol nuevamente.']})]}),i.jsxs(hw,{children:[i.jsx(gw,{children:"Cancelar"}),i.jsx(pw,{onClick:N,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:a.isPending?"Removiendo...":"Remover Rol"})]})]})})]})};var wm="Switch",[wH]=gr(wm),[bH,jH]=wH(wm),V2=p.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...h}=e,[f,m]=p.useState(null),x=Re(t,b=>m(b)),g=p.useRef(!1),w=f?d||!!f.closest("form"):!0,[y,v]=Ys({prop:s,defaultProp:a??!1,onChange:u,caller:wm});return i.jsxs(bH,{scope:r,checked:y,disabled:l,children:[i.jsx(de.button,{type:"button",role:"switch","aria-checked":y,"aria-required":o,"data-state":K2(y),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:x,onClick:X(e.onClick,b=>{v(j=>!j),w&&(g.current=b.isPropagationStopped(),g.current||b.stopPropagation())})}),w&&i.jsx(H2,{control:f,bubbles:!g.current,name:n,value:c,checked:y,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});V2.displayName=wm;var q2="SwitchThumb",W2=p.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=jH(q2,r);return i.jsx(de.span,{"data-state":K2(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});W2.displayName=q2;var _H="SwitchBubbleInput",H2=p.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...s},a)=>{const o=p.useRef(null),l=Re(o,a),c=nx(r),u=sx(t);return p.useEffect(()=>{const d=o.current;if(!d)return;const h=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==r&&m){const x=new Event("click",{bubbles:n});m.call(d,r),d.dispatchEvent(x)}},[c,r,n]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});H2.displayName=_H;function K2(e){return e?"checked":"unchecked"}var G2=V2,SH=W2;const Q2=p.forwardRef(({className:e,...t},r)=>i.jsx(G2,{className:te("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:i.jsx(SH,{className:te("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Q2.displayName=G2.displayName;const NH=()=>It({queryKey:["admin","config","settings"],queryFn:()=>U2.getAll(),staleTime:1e3*60*5}),CH=()=>{const e=Ye();return at({mutationFn:({key:t,data:r})=>U2.update(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:["admin","config","settings"]}),un.success("Configuracin actualizada exitosamente")},onError:t=>{var r,n;console.error("Error updating setting:",t),un.error(((n=(r=t.response)==null?void 0:r.data)==null?void 0:n.error)||"Error al actualizar configuracin")}})},EH=()=>{const{data:e,isLoading:t}=NH(),r=CH(),[n,s]=p.useState({}),a=(c,u)=>{s(d=>({...d,[c]:u}))},o=async c=>{const u=n[c.key];if(u===void 0)return;let d=u;c.data_type==="boolean"?d=u:c.data_type==="number"?d=Number(u):(c.data_type==="string"||c.data_type==="text")&&(d=JSON.stringify(u)),await r.mutateAsync({key:c.key,data:{value:d}}),s(h=>{const f={...h};return delete f[c.key],f})},l=c=>{const u=n[c.key]!==void 0?n[c.key]:kH(c.value,c.data_type),d=n[c.key]!==void 0;switch(c.data_type){case"boolean":return i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(je,{children:Ld(c.key)}),i.jsx("p",{className:"text-sm text-muted-foreground",children:c.description})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Q2,{checked:u,onCheckedChange:h=>a(c.key,h)}),d&&i.jsx(U,{size:"sm",onClick:()=>o(c),disabled:r.isPending,children:i.jsx(Pd,{className:"h-4 w-4"})})]})]});case"number":return i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:c.key,children:Ld(c.key)}),i.jsx("p",{className:"text-sm text-muted-foreground",children:c.description}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(be,{id:c.key,type:"number",value:u,onChange:h=>a(c.key,h.target.value),className:"flex-1"}),d&&i.jsxs(U,{size:"sm",onClick:()=>o(c),disabled:r.isPending,children:[i.jsx(Pd,{className:"h-4 w-4 mr-2"}),"Guardar"]})]})]});case"text":return i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:c.key,children:Ld(c.key)}),i.jsx("p",{className:"text-sm text-muted-foreground",children:c.description}),i.jsx(si,{id:c.key,value:u,onChange:h=>a(c.key,h.target.value),rows:3}),d&&i.jsxs(U,{size:"sm",onClick:()=>o(c),disabled:r.isPending,className:"mt-2",children:[i.jsx(Pd,{className:"h-4 w-4 mr-2"}),"Guardar"]})]});case"string":default:return i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:c.key,children:Ld(c.key)}),i.jsx("p",{className:"text-sm text-muted-foreground",children:c.description}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(be,{id:c.key,type:"text",value:u,onChange:h=>a(c.key,h.target.value),className:"flex-1"}),d&&i.jsxs(U,{size:"sm",onClick:()=>o(c),disabled:r.isPending,children:[i.jsx(Pd,{className:"h-4 w-4 mr-2"}),"Guardar"]})]})]})}};return t?i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsx("div",{className:"text-muted-foreground",children:"Cargando configuraciones..."})}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Configuraciones del Sistema"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Gestiona las configuraciones globales de la plataforma"})]}),i.jsxs("div",{className:"grid gap-4",children:[e==null?void 0:e.map(c=>i.jsx(ge,{children:i.jsx(pe,{className:"pt-6",children:l(c)})},c.key)),(!e||e.length===0)&&i.jsx(ge,{children:i.jsx(pe,{className:"py-8 text-center text-muted-foreground",children:"No hay configuraciones disponibles"})})]}),i.jsxs(ge,{className:"border-blue-200 bg-blue-50/50",children:[i.jsx(mt,{children:i.jsxs(ft,{className:"flex items-center gap-2 text-blue-900",children:[i.jsx(U3,{className:"h-5 w-5"}),"Informacin Importante"]})}),i.jsx(pe,{children:i.jsxs("ul",{className:"space-y-2 text-sm text-blue-800",children:[i.jsx("li",{children:" Los cambios en las configuraciones afectan inmediatamente a toda la plataforma"}),i.jsx("li",{children:" Asegrate de entender el impacto antes de modificar valores crticos"}),i.jsx("li",{children:" Todos los cambios quedan registrados con tu usuario"})]})})]})]})};function kH(e,t){return t==="boolean"?!!e:t==="number"?Number(e):(t==="string"||t==="text")&&typeof e=="string"?e.replace(/^"(.*)"$/,"$1"):e}function Ld(e){return e.split("_").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}const PH=()=>{const[e,t]=p.useState("roles"),r=vt();return i.jsxs("div",{className:"container mx-auto py-8 px-4 max-w-7xl",children:[i.jsxs(U,{variant:"ghost",onClick:()=>r("/gestion"),className:"mb-6 hover:bg-gray-100",children:[i.jsx(Dn,{className:"h-4 w-4 mr-2"}),"Volver a Gestin"]}),i.jsx("div",{className:"mb-8",children:i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:i.jsx(uu,{className:"h-6 w-6 text-primary"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Configuracin del Sistema"}),i.jsx("p",{className:"text-muted-foreground",children:"Gestiona roles, asignaciones y configuraciones generales de la plataforma"})]})]})}),i.jsxs(Uu,{value:e,onValueChange:t,className:"space-y-6",children:[i.jsxs(zl,{className:"grid w-full grid-cols-3 lg:w-auto lg:inline-grid",children:[i.jsxs(Hr,{value:"roles",className:"flex items-center gap-2",children:[i.jsx(lx,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Roles"})]}),i.jsxs(Hr,{value:"assignments",className:"flex items-center gap-2",children:[i.jsx(K3,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Asignaciones"})]}),i.jsxs(Hr,{value:"settings",className:"flex items-center gap-2",children:[i.jsx(uu,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Configuraciones"})]})]}),i.jsx(In,{value:"roles",className:"space-y-6",children:i.jsx(gH,{})}),i.jsx(In,{value:"assignments",className:"space-y-6",children:i.jsx(xH,{})}),i.jsx(In,{value:"settings",className:"space-y-6",children:i.jsx(EH,{})})]})]})};function RH(){const e=new Date().getFullYear();return i.jsx("div",{className:"container max-w-5xl mx-auto py-8 px-4",children:i.jsx(ge,{className:"shadow-lg",children:i.jsx(pe,{className:"p-8",children:i.jsxs("article",{children:[i.jsxs("header",{className:"mb-8",children:[i.jsx("h1",{className:"text-4xl font-bold text-primary mb-4",children:"Aviso Legal, Poltica de Privacidad y Cookies"}),i.jsxs("p",{className:"text-muted-foreground",children:[i.jsx("strong",{children:"ltima actualizacin:"})," ",i.jsx("time",{dateTime:"2025-11-01",children:"1 de noviembre de 2025"})]}),i.jsxs("p",{className:"text-muted-foreground mt-2",children:["Este documento aplica a ",i.jsx("strong",{children:"Red Espaa Creativa"})," (",i.jsx("a",{href:"https://elcaminocreativo.es",className:"text-primary hover:underline",children:"elcaminocreativo.es"}),")."]})]}),i.jsxs("nav",{"aria-label":"ndice de secciones",className:"mb-8",children:[i.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"ndice"}),i.jsxs("ul",{className:"space-y-2 list-none pl-0",children:[i.jsx("li",{children:i.jsx("a",{href:"#privacidad",className:"text-primary hover:underline",children:"1. Poltica de Privacidad"})}),i.jsx("li",{children:i.jsx("a",{href:"#terminos",className:"text-primary hover:underline",children:"2. Trminos de Servicio"})}),i.jsx("li",{children:i.jsx("a",{href:"#cookies",className:"text-primary hover:underline",children:"3. Poltica de Cookies"})})]})]}),i.jsx(Qa,{className:"my-8"}),i.jsxs("section",{id:"privacidad",className:"mb-12",children:[i.jsx("h2",{className:"text-3xl font-bold text-primary mb-6",children:"1. Poltica de Privacidad"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold mb-3",children:"1.1 Responsable del tratamiento"}),i.jsxs("div",{className:"space-y-2 text-muted-foreground",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Titular:"})," Asoc Espaa Creativa Innovacion En Red"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Forma jurdica:"})," Asociacin u otros tipos no definidos"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"CIF/NIF:"})," G87600359"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Domicilio:"})," CIFUENTES. N 5 28021, MADRID, MADRID"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Correo de contacto:"})," ",i.jsx("a",{href:"mailto:privacidad@espanacreativa.com",className:"text-primary hover:underline",children:"privacidad@espanacreativa.com"})]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Actividad:"})," Red privada para emprendedores que permite conectar, colaborar y compartir recursos."]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold mb-3",children:"1.2 Finalidad del tratamiento"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[i.jsx("li",{children:"Gestionar el registro, autenticacin y acceso a la plataforma."}),i.jsx("li",{children:"Facilitar la comunicacin y colaboracin entre usuarios autorizados."}),i.jsx("li",{children:"Enviar notificaciones operativas o relacionadas con el servicio."})]}),i.jsx("p",{className:"mt-3 text-muted-foreground",children:"No se realizarn tratamientos adicionales incompatibles con estas finalidades."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold mb-3",children:"1.3 Base jurdica"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Ejecucin de un contrato"})," (art. 6.1.b RGPD) para crear y mantener la cuenta."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Cumplimiento de obligaciones legales"})," (art. 6.1.c RGPD)."]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold mb-3",children:"1.4 Conservacin"}),i.jsx("p",{className:"text-muted-foreground",children:"Los datos se conservarn mientras dure la relacin contractual y, posteriormente, durante los plazos exigidos por ley o hasta que solicites su supresin."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold mb-3",children:"1.5 Comunicacin y encargados"}),i.jsxs("p",{className:"text-muted-foreground mb-3",children:["Podrn tratar datos proveedores que prestan servicios necesarios para el funcionamiento del SaaS (alojamiento, soporte tcnico, correo electrnico, etc.), con los que mantenemos los correspondientes ",i.jsx("em",{children:"contratos de encargo de tratamiento"})," conforme al art. 28 RGPD."]}),i.jsx("p",{className:"text-muted-foreground",children:"No se realizarn transferencias internacionales fuera del EEE salvo que existan garantas adecuadas (por ejemplo, clusulas contractuales tipo de la Comisin Europea)."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold mb-3",children:"1.6 Derechos"}),i.jsxs("p",{className:"text-muted-foreground mb-3",children:["Puedes ejercer los derechos de acceso, rectificacin, supresin, limitacin, portabilidad y oposicin enviando un correo a"," ",i.jsx("a",{href:"mailto:privacidad@espanacreativa.com",className:"text-primary hover:underline",children:"privacidad@espanacreativa.com"})," ","y acreditando tu identidad."]}),i.jsxs("p",{className:"text-muted-foreground",children:["Si consideras que no se han atendido correctamente tus derechos, puedes reclamar ante la"," ",i.jsx("a",{href:"https://www.aepd.es/",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"Agencia Espaola de Proteccin de Datos"}),"."]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold mb-3",children:"1.7 Seguridad"}),i.jsx("p",{className:"text-muted-foreground",children:"Aplicamos medidas tcnicas y organizativas adecuadas para garantizar la confidencialidad, integridad y disponibilidad de la informacin, incluyendo cifrado, control de accesos y auditoras peridicas."})]})]})]}),i.jsx(Qa,{className:"my-8"}),i.jsxs("section",{id:"terminos",className:"mb-12",children:[i.jsx("h2",{className:"text-3xl font-bold text-primary mb-6",children:"2. Trminos de Servicio"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold mb-3",children:"2.1 Objeto"}),i.jsxs("p",{className:"text-muted-foreground",children:["Estos Trminos regulan el uso de la plataforma SaaS"," ",i.jsx("strong",{children:"Red Espaa Creativa"}),", que permite a emprendedores registrados conectarse y colaborar en un entorno privado moderado."]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold mb-3",children:"2.2 Registro y acceso"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[i.jsx("li",{children:"El acceso requiere solicitud mediante el formulario correspondiente."}),i.jsx("li",{children:"El acceso efectivo requiere aprobacin previa por un administrador."}),i.jsx("li",{children:"El usuario se compromete a proporcionar informacin veraz y mantenerla actualizada."})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold mb-3",children:"2.3 Uso correcto del servicio"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[i.jsx("li",{children:"No utilizar la plataforma para actividades ilcitas ni vulnerar derechos de terceros."}),i.jsx("li",{children:"No publicar contenidos ofensivos, ilegales o confidenciales sin autorizacin."}),i.jsx("li",{children:"No intentar acceder sin permiso a sistemas o datos."})]}),i.jsx("p",{className:"mt-3 text-muted-foreground",children:"Podremos suspender o cancelar cuentas por incumplimiento de estos Trminos o por motivos de seguridad."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold mb-3",children:"2.4 Propiedad intelectual"}),i.jsx("p",{className:"text-muted-foreground",children:"Software, diseos, marcas y contenidos son propiedad de Asoc Espaa Creativa Innovacion En Red o de sus licenciantes, protegidos por la legislacin de propiedad intelectual e industrial."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold mb-3",children:"2.5 Limitacin de responsabilidad"}),i.jsx("p",{className:"text-muted-foreground",children:"No seremos responsables de fallos tcnicos ajenos a nuestro control, de usos indebidos del servicio por parte del usuario ni de contenidos publicados por terceros."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold mb-3",children:"2.6 Modificaciones"}),i.jsx("p",{className:"text-muted-foreground",children:"Podremos modificar estos Trminos para adaptarlos a cambios legales o mejoras del servicio. Las modificaciones relevantes se comunicarn con antelacin razonable."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold mb-3",children:"2.7 Baja del servicio"}),i.jsxs("p",{className:"text-muted-foreground",children:["El usuario puede solicitar la baja escribiendo a"," ",i.jsx("a",{href:"mailto:privacidad@espanacreativa.com",className:"text-primary hover:underline",children:"privacidad@espanacreativa.com"}),". Podemos suspender o eliminar cuentas por incumplimiento o inactividad prolongada."]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold mb-3",children:"2.8 Legislacin aplicable y jurisdiccin"}),i.jsxs("p",{className:"text-muted-foreground",children:["Se aplica la legislacin espaola. Para cualquier controversia, las partes se someten a los Juzgados y Tribunales de"," ",i.jsx("strong",{children:"Madrid"}),", salvo disposicin legal imperativa en contrario."]})]})]})]}),i.jsx(Qa,{className:"my-8"}),i.jsxs("section",{id:"cookies",className:"mb-12",children:[i.jsx("h2",{className:"text-3xl font-bold text-primary mb-6",children:"3. Poltica de Cookies"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold mb-3",children:"3.1 Qu son las cookies?"}),i.jsx("p",{className:"text-muted-foreground",children:"Pequeos archivos que el sitio web guarda en tu dispositivo para recordar informacin y garantizar el correcto funcionamiento del servicio."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold mb-3",children:"3.2 Cookies utilizadas (solo tcnicas)"}),i.jsxs("p",{className:"text-muted-foreground mb-3",children:["En ",i.jsx("strong",{children:"Red Espaa Creativa"})," usamos exclusivamente"," ",i.jsx("strong",{children:"cookies tcnicas"})," necesarias para:"]}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[i.jsx("li",{children:"Mantener la sesin iniciada y la seguridad de la autenticacin."}),i.jsx("li",{children:"Recordar preferencias bsicas (como el idioma)."}),i.jsx("li",{children:"Garantizar el funcionamiento esencial de la plataforma."})]}),i.jsx("p",{className:"mt-3 text-muted-foreground",children:"Estas cookies no requieren consentimiento previo (art. 22.2 LSSI-CE) y no se utilizan con fines analticos ni publicitarios."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold mb-3",children:"3.3 Gestin o desactivacin"}),i.jsx("p",{className:"text-muted-foreground",children:"Puedes configurar tu navegador para bloquear o eliminar cookies. Si desactivas las cookies tcnicas, algunas funciones pueden no estar disponibles."})]})]})]}),i.jsx("footer",{className:"mt-12 pt-8 border-t text-sm text-muted-foreground",children:i.jsxs("p",{children:[" ",e," Asoc Espaa Creativa Innovacion En Red "," ",i.jsx("a",{href:"mailto:privacidad@espanacreativa.com",className:"text-primary hover:underline",children:"privacidad@espanacreativa.com"})]})})]})})})})}var vw="ToastProvider",[yw,TH,AH]=Wf("Toast"),[J2]=gr("Toast",[AH]),[OH,bm]=J2(vw),Y2=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:a=50,children:o}=e,[l,c]=p.useState(null),[u,d]=p.useState(0),h=p.useRef(!1),f=p.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${vw}\`. Expected non-empty \`string\`.`),i.jsx(yw.Provider,{scope:t,children:i.jsx(OH,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:a,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:p.useCallback(()=>d(m=>m+1),[]),onToastRemove:p.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};Y2.displayName=vw;var X2="ToastViewport",IH=["F8"],Tv="toast.viewportPause",Av="toast.viewportResume",Z2=p.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=IH,label:s="Notifications ({hotkey})",...a}=e,o=bm(X2,r),l=TH(r),c=p.useRef(null),u=p.useRef(null),d=p.useRef(null),h=p.useRef(null),f=Re(t,h,o.onViewportChange),m=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;p.useEffect(()=>{const w=y=>{var b;n.length!==0&&n.every(j=>y[j]||y.code===j)&&((b=h.current)==null||b.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[n]),p.useEffect(()=>{const w=c.current,y=h.current;if(x&&w&&y){const v=()=>{if(!o.isClosePausedRef.current){const S=new CustomEvent(Tv);y.dispatchEvent(S),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const S=new CustomEvent(Av);y.dispatchEvent(S),o.isClosePausedRef.current=!1}},j=S=>{!w.contains(S.relatedTarget)&&b()},_=()=>{w.contains(document.activeElement)||b()};return w.addEventListener("focusin",v),w.addEventListener("focusout",j),w.addEventListener("pointermove",v),w.addEventListener("pointerleave",_),window.addEventListener("blur",v),window.addEventListener("focus",b),()=>{w.removeEventListener("focusin",v),w.removeEventListener("focusout",j),w.removeEventListener("pointermove",v),w.removeEventListener("pointerleave",_),window.removeEventListener("blur",v),window.removeEventListener("focus",b)}}},[x,o.isClosePausedRef]);const g=p.useCallback(({tabbingDirection:w})=>{const v=l().map(b=>{const j=b.ref.current,_=[j,...KH(j)];return w==="forwards"?_:_.reverse()});return(w==="forwards"?v.reverse():v).flat()},[l]);return p.useEffect(()=>{const w=h.current;if(w){const y=v=>{var _,S,N;const b=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!b){const E=document.activeElement,P=v.shiftKey;if(v.target===w&&P){(_=u.current)==null||_.focus();return}const D=g({tabbingDirection:P?"backwards":"forwards"}),q=D.findIndex(F=>F===E);kp(D.slice(q+1))?v.preventDefault():P?(S=u.current)==null||S.focus():(N=d.current)==null||N.focus()}};return w.addEventListener("keydown",y),()=>w.removeEventListener("keydown",y)}},[l,g]),i.jsxs(i5,{ref:c,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&i.jsx(Ov,{ref:u,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"forwards"});kp(w)}}),i.jsx(yw.Slot,{scope:r,children:i.jsx(de.ol,{tabIndex:-1,...a,ref:f})}),x&&i.jsx(Ov,{ref:d,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"backwards"});kp(w)}})]})});Z2.displayName=X2;var eT="ToastFocusProxy",Ov=p.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,a=bm(eT,r);return i.jsx(Vx,{tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=a.viewport)!=null&&u.contains(l))&&n()}})});Ov.displayName=eT;var Qu="Toast",MH="toast.swipeStart",DH="toast.swipeMove",LH="toast.swipeCancel",$H="toast.swipeEnd",tT=p.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:a,...o}=e,[l,c]=Ys({prop:n,defaultProp:s??!0,onChange:a,caller:Qu});return i.jsx(vr,{present:r||l,children:i.jsx(zH,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:bt(e.onPause),onResume:bt(e.onResume),onSwipeStart:X(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:X(e.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:X(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:X(e.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});tT.displayName=Qu;var[FH,UH]=J2(Qu,{onClose(){}}),zH=p.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:m,...x}=e,g=bm(Qu,r),[w,y]=p.useState(null),v=Re(t,F=>y(F)),b=p.useRef(null),j=p.useRef(null),_=s||g.duration,S=p.useRef(0),N=p.useRef(_),E=p.useRef(0),{onToastAdd:P,onToastRemove:T}=g,B=bt(()=>{var M;(w==null?void 0:w.contains(document.activeElement))&&((M=g.viewport)==null||M.focus()),o()}),D=p.useCallback(F=>{!F||F===1/0||(window.clearTimeout(E.current),S.current=new Date().getTime(),E.current=window.setTimeout(B,F))},[B]);p.useEffect(()=>{const F=g.viewport;if(F){const M=()=>{D(N.current),u==null||u()},V=()=>{const Z=new Date().getTime()-S.current;N.current=N.current-Z,window.clearTimeout(E.current),c==null||c()};return F.addEventListener(Tv,V),F.addEventListener(Av,M),()=>{F.removeEventListener(Tv,V),F.removeEventListener(Av,M)}}},[g.viewport,_,c,u,D]),p.useEffect(()=>{a&&!g.isClosePausedRef.current&&D(_)},[a,_,g.isClosePausedRef,D]),p.useEffect(()=>(P(),()=>T()),[P,T]);const q=p.useMemo(()=>w?lT(w):null,[w]);return g.viewport?i.jsxs(i.Fragment,{children:[q&&i.jsx(BH,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:q}),i.jsx(FH,{scope:r,onClose:B,children:so.createPortal(i.jsx(yw.ItemSlot,{scope:r,children:i.jsx(a5,{asChild:!0,onEscapeKeyDown:X(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||B(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:i.jsx(de.li,{tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":g.swipeDirection,...x,ref:v,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:X(e.onKeyDown,F=>{F.key==="Escape"&&(l==null||l(F.nativeEvent),F.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,B()))}),onPointerDown:X(e.onPointerDown,F=>{F.button===0&&(b.current={x:F.clientX,y:F.clientY})}),onPointerMove:X(e.onPointerMove,F=>{if(!b.current)return;const M=F.clientX-b.current.x,V=F.clientY-b.current.y,Z=!!j.current,I=["left","right"].includes(g.swipeDirection),A=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,H=I?A(0,M):0,ie=I?0:A(0,V),ne=F.pointerType==="touch"?10:2,ye={x:H,y:ie},ve={originalEvent:F,delta:ye};Z?(j.current=ye,$d(DH,h,ve,{discrete:!1})):l_(ye,g.swipeDirection,ne)?(j.current=ye,$d(MH,d,ve,{discrete:!1}),F.target.setPointerCapture(F.pointerId)):(Math.abs(M)>ne||Math.abs(V)>ne)&&(b.current=null)}),onPointerUp:X(e.onPointerUp,F=>{const M=j.current,V=F.target;if(V.hasPointerCapture(F.pointerId)&&V.releasePointerCapture(F.pointerId),j.current=null,b.current=null,M){const Z=F.currentTarget,I={originalEvent:F,delta:M};l_(M,g.swipeDirection,g.swipeThreshold)?$d($H,m,I,{discrete:!0}):$d(LH,f,I,{discrete:!0}),Z.addEventListener("click",A=>A.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),BH=e=>{const{__scopeToast:t,children:r,...n}=e,s=bm(Qu,t),[a,o]=p.useState(!1),[l,c]=p.useState(!1);return WH(()=>o(!0)),p.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:i.jsx(Lu,{asChild:!0,children:i.jsx(Vx,{...n,children:a&&i.jsxs(i.Fragment,{children:[s.label," ",r]})})})},VH="ToastTitle",rT=p.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return i.jsx(de.div,{...n,ref:t})});rT.displayName=VH;var qH="ToastDescription",nT=p.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return i.jsx(de.div,{...n,ref:t})});nT.displayName=qH;var sT="ToastAction",aT=p.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?i.jsx(oT,{altText:r,asChild:!0,children:i.jsx(xw,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${sT}\`. Expected non-empty \`string\`.`),null)});aT.displayName=sT;var iT="ToastClose",xw=p.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=UH(iT,r);return i.jsx(oT,{asChild:!0,children:i.jsx(de.button,{type:"button",...n,ref:t,onClick:X(e.onClick,s.onClose)})})});xw.displayName=iT;var oT=p.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return i.jsx(de.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function lT(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),HH(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!s)if(a){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...lT(n))}}),t}function $d(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?rx(s,a):s.dispatchEvent(a)}var l_=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),a=n>s;return t==="left"||t==="right"?a&&n>r:!a&&s>r};function WH(e=()=>{}){const t=bt(e);Ct(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function HH(e){return e.nodeType===e.ELEMENT_NODE}function KH(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function kp(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var GH=Y2,cT=Z2,uT=tT,dT=rT,hT=nT,fT=aT,mT=xw;const QH=GH,pT=p.forwardRef(({className:e,...t},r)=>i.jsx(cT,{ref:r,className:te("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));pT.displayName=cT.displayName;const JH=Ou("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),gT=p.forwardRef(({className:e,variant:t,...r},n)=>i.jsx(uT,{ref:n,className:te(JH({variant:t}),e),...r}));gT.displayName=uT.displayName;const YH=p.forwardRef(({className:e,...t},r)=>i.jsx(fT,{ref:r,className:te("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));YH.displayName=fT.displayName;const vT=p.forwardRef(({className:e,...t},r)=>i.jsx(mT,{ref:r,className:te("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:i.jsx(Mr,{className:"h-4 w-4"})}));vT.displayName=mT.displayName;const yT=p.forwardRef(({className:e,...t},r)=>i.jsx(dT,{ref:r,className:te("text-sm font-semibold",e),...t}));yT.displayName=dT.displayName;const xT=p.forwardRef(({className:e,...t},r)=>i.jsx(hT,{ref:r,className:te("text-sm opacity-90",e),...t}));xT.displayName=hT.displayName;function XH(){const{toasts:e}=ql();return i.jsxs(QH,{children:[e.map(function({id:t,title:r,description:n,action:s,...a}){return i.jsxs(gT,{...a,children:[i.jsxs("div",{className:"grid gap-1",children:[r&&i.jsx(yT,{children:r}),n&&i.jsx(xT,{children:n})]}),s,i.jsx(vT,{})]},t)}),i.jsx(pT,{})]})}function ZH(){const{user:e,isLoading:t}=jt();return t?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 border-4 border-primary/30 border-t-primary rounded-full animate-spin mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})]})}):i.jsxs(lh,{children:[i.jsxs(UI,{children:[i.jsx(tt,{path:"/auth",element:e?i.jsx(jg,{to:"/dashboard"}):i.jsx(EU,{})}),i.jsx(tt,{path:"/auth/pending",element:i.jsx(TU,{})}),i.jsx(tt,{path:"/auth/set-password/:token",element:i.jsx(kU,{})}),i.jsx(tt,{path:"/auth/reset-password",element:i.jsx(RU,{})}),i.jsx(tt,{path:"/admin/signup-approval/:action/:token",element:i.jsx(LU,{})}),i.jsx(tt,{path:"/signup-approval",element:i.jsx(Mt,{children:i.jsx(yj,{})})}),i.jsx(tt,{path:"/admin/pending-signups",element:i.jsx(Mt,{children:i.jsx(yj,{})})}),i.jsx(tt,{path:"/dashboard",element:i.jsx(Mt,{children:i.jsx(O6,{})})}),i.jsx(tt,{path:"/network",element:i.jsx(Mt,{children:i.jsx(i8,{})})}),i.jsx(tt,{path:"/network/my-network",element:i.jsx(Mt,{children:i.jsx(o8,{})})}),i.jsx(tt,{path:"/network/followers",element:i.jsx(Mt,{children:i.jsx(l8,{})})}),i.jsx(tt,{path:"/messages",element:i.jsx(Mt,{children:i.jsx(Vj,{})})}),i.jsx(tt,{path:"/messages/:userId",element:i.jsx(Mt,{children:i.jsx(Vj,{})})}),i.jsx(tt,{path:"/opportunities",element:i.jsx(Mt,{children:i.jsx(O9,{})})}),i.jsx(tt,{path:"/opportunities/:opportunityId",element:i.jsx(Mt,{children:i.jsx($9,{})})}),i.jsx(tt,{path:"/programs",element:i.jsx(Mt,{children:i.jsx(s_,{})})}),i.jsx(tt,{path:"/my-programs",element:i.jsx(Mt,{children:i.jsx(nW,{})})}),i.jsx(tt,{path:"/projects",element:i.jsx(Mt,{children:i.jsx(s_,{})})}),i.jsx(tt,{path:"/profile",element:i.jsx(Mt,{children:i.jsx(lW,{})})}),i.jsx(tt,{path:"/users/:userId",element:i.jsx(Mt,{children:i.jsx(cW,{})})}),i.jsx(tt,{path:"/gestion",element:i.jsx(Mt,{children:i.jsx(uW,{})})}),i.jsx(tt,{path:"/gestion/usuarios",element:i.jsx(Mt,{children:i.jsx(gW,{})})}),i.jsx(tt,{path:"/gestion/estadisticas",element:i.jsx(Mt,{children:i.jsx(_W,{})})}),i.jsx(tt,{path:"/gestion/configuracion",element:i.jsx(Mt,{children:i.jsx(PH,{})})}),i.jsx(tt,{path:"/privacidad",element:i.jsx(RH,{})}),i.jsx(tt,{path:"/",element:i.jsx(jg,{to:e?"/dashboard":"/auth"})})]}),i.jsx(XH,{})]})}class e7{constructor(){vn(this,"isDevelopment");vn(this,"logQueue",[]);vn(this,"isFlushingLogs",!1);vn(this,"sessionId");vn(this,"originalConsole",{});this.isDevelopment=!1,this.sessionId=this.generateSessionId(),this.isDevelopment&&(this.interceptConsole(),this.setupPeriodicFlush())}generateSessionId(){return`${Date.now()}-${Math.random().toString(36).substr(2,9)}`}interceptConsole(){this.originalConsole={log:console.log,warn:console.warn,error:console.error,info:console.info,debug:console.debug},console.log=(...t)=>{this.originalConsole.log(...t),this.queueLog("info","CONSOLE",this.formatLogMessage(t))},console.warn=(...t)=>{this.originalConsole.warn(...t),this.queueLog("warn","CONSOLE",this.formatLogMessage(t))},console.error=(...t)=>{this.originalConsole.error(...t),this.queueLog("error","CONSOLE",this.formatLogMessage(t))},console.info=(...t)=>{this.originalConsole.info(...t),this.queueLog("info","CONSOLE",this.formatLogMessage(t))},console.debug=(...t)=>{this.originalConsole.debug(...t),this.queueLog("debug","CONSOLE",this.formatLogMessage(t))}}formatLogMessage(t){return t.map(r=>{if(typeof r=="object"&&r!==null)try{return JSON.stringify(r,null,2)}catch{return String(r)}return String(r)}).join(" ")}shouldSkipLog(t){return["runtime.lastError","Extension context invalidated","chrome-extension://","moz-extension://","The message port closed before a response was received","Non-Error promise rejection captured"].some(n=>t.toLowerCase().includes(n.toLowerCase()))}queueLog(t,r,n,s){if(!this.isDevelopment||this.shouldSkipLog(n))return;const a={level:t,component:r,message:n,data:s,timestamp:new Date().toISOString(),session:this.sessionId,url:window.location.href,userAgent:navigator.userAgent.substring(0,100)};this.logQueue.push(a),this.logQueue.length>=10&&this.flushLogs()}log(t,r,n,s){this.queueLog(t,r,n,s)}async flushLogs(){if(!this.isDevelopment||this.isFlushingLogs||this.logQueue.length===0)return;this.isFlushingLogs=!0;const t=[...this.logQueue];this.logQueue=[];try{const r=await fetch("/api/dev/logs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({logs:t,batchTimestamp:new Date().toISOString(),sessionId:this.sessionId})});r.ok||(this.logQueue.unshift(...t),this.originalConsole.warn("ClientLogger: Failed to send logs to server",r.status))}catch(r){this.logQueue.unshift(...t),this.originalConsole.warn("ClientLogger: Error sending logs to server",r)}finally{this.isFlushingLogs=!1}}setupPeriodicFlush(){setInterval(()=>{this.flushLogs()},5e3),window.addEventListener("beforeunload",()=>{if(this.logQueue.length>0)try{navigator.sendBeacon("/api/dev/logs",JSON.stringify({logs:this.logQueue,batchTimestamp:new Date().toISOString(),sessionId:this.sessionId,unload:!0}))}catch{}}),document.addEventListener("visibilitychange",()=>{document.hidden||this.flushLogs()})}disable(){this.isDevelopment=!1,this.originalConsole.log&&(console.log=this.originalConsole.log,console.warn=this.originalConsole.warn,console.error=this.originalConsole.error,console.info=this.originalConsole.info,console.debug=this.originalConsole.debug)}}const _o=new e7;_o.isDevelopment&&(window.addEventListener("error",e=>{var r,n;const t=((r=e.error)==null?void 0:r.message)||e.message||"";_o.shouldSkipLog(t)||_o.shouldSkipLog(e.filename||"")||_o.log("error","WINDOW",`Uncaught error: ${t}`,{filename:e.filename,lineno:e.lineno,colno:e.colno,stack:(n=e.error)==null?void 0:n.stack})}),window.addEventListener("unhandledrejection",e=>{const t=String(e.reason||"");_o.shouldSkipLog(t)||_o.log("error","PROMISE",`Unhandled promise rejection: ${t}`,{reason:e.reason,promise:e.promise})}));MN(document.getElementById("root")).render(i.jsx(p.StrictMode,{children:i.jsx(MM,{children:i.jsx(jF,{children:i.jsx(GI,{children:i.jsx(ZH,{})})})})}));
